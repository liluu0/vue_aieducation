{"version":3,"file":"element3-ui.esm-bundler.js","sources":["../src/utils/dom.js","../src/transitions/collapse-transition.js","../packages/row/Row.js","../packages/row/index.js","../packages/col/Col.vue","../packages/col/index.js","../src/components/Container/src/Container.vue","../src/components/Container/src/Container.vue?vue&type=template&id=479d6ae8&lang.js","../src/components/Container/index.js","../packages/header/Header.vue","../packages/header/Header.vue?vue&type=template&id=07fc635b&lang.js","../packages/header/index.js","../packages/footer/Footer.vue","../packages/footer/Footer.vue?vue&type=template&id=1d05579b&lang.js","../packages/footer/index.js","../packages/aside/Aside.vue","../packages/aside/Aside.vue?vue&type=template&id=2b3e7f26&lang.js","../packages/aside/index.js","../packages/main/Main.vue","../packages/main/Main.vue?vue&type=template&id=7fe8cd4a&lang.js","../packages/main/index.js","../packages/icon/Icon.vue","../packages/icon/Icon.vue?vue&type=template&id=6743d15b&lang.js","../packages/icon/index.js","../src/components/Button/src/props.ts","../src/use/globalConfig.js","../src/components/Button/src/Button.vue","../src/components/Button/src/Button.vue?vue&type=template&id=573f37da&lang.js","../src/components/Button/index.js","../packages/button-group/ButtonGroup.vue","../packages/button-group/ButtonGroup.vue?vue&type=template&id=1ceb4a26&lang.js","../packages/button-group/index.js","../src/components/Link/src/Link.vue","../src/components/Link/src/Link.vue?vue&type=template&id=8d15524c&lang.js","../src/components/Link/index.js","../src/components/Radio/src/props.js","../src/components/Radio/src/Radio.vue","../src/components/Radio/src/Radio.vue?vue&type=template&id=8b24fa48&lang.js","../src/components/Radio/index.js","../src/components/RadioButton/src/props.js","../src/components/RadioButton/src/RadioButton.vue","../src/components/RadioButton/src/RadioButton.vue?vue&type=template&id=1b434b80&lang.js","../src/components/RadioButton/index.js","../../../node_modules/mitt/dist/mitt.es.js","../src/use/emitter.js","../packages/radio-group/RadioGroup.vue","../packages/radio-group/RadioGroup.vue?vue&type=template&id=24fd12ca&lang.js","../packages/radio-group/index.js","../../../node_modules/@vue/shared/dist/shared.esm-bundler.js","../src/use/prop-utils.js","../packages/checkbox/uses.js","../packages/checkbox/Checkbox.vue","../packages/checkbox/Checkbox.vue?vue&type=template&id=abe174ca&lang.js","../packages/checkbox/index.js","../packages/checkbox-button/CheckboxButton.vue","../packages/checkbox-button/CheckboxButton.vue?vue&type=template&id=3338782c&lang.js","../packages/checkbox-button/index.js","../packages/checkbox-group/CheckboxGroup.vue","../packages/checkbox-group/CheckboxGroup.vue?vue&type=template&id=083e9b06&lang.js","../packages/checkbox-group/index.js","../src/components/Input/src/props.js","../src/components/Input/src/calcTextareaHeight.js","../src/components/Input/src/use.js","../src/components/Input/src/Input.vue","../src/components/Input/src/Input.vue?vue&type=template&id=368134ba&lang.js","../src/components/Input/index.js","../src/use/focus.js","../src/directives/repeatClick.js","../packages/input-number/InputNumber.vue","../packages/input-number/InputNumber.vue?vue&type=template&id=9981aa18&lang.js","../packages/input-number/index.js","../src/mixins/focus.js","../src/locale/lang/zh-CN.js","../src/utils/types.js","../src/utils/util.js","../src/locale/format.js","../src/locale/index.js","../src/mixins/locale.js","../src/utils/merge.js","../src/utils/popup/popup-manager.js","../src/utils/scrollbar-width.js","../src/utils/new-popper.js","../src/use/popper.js","../packages/select/SelectDropdown.vue","../packages/select/SelectDropdown.vue?vue&type=template&id=78a09d2c&lang.js","../packages/option/Option.vue","../packages/option/Option.vue?vue&type=template&id=10dbee5b&lang.js","../src/components/Tag/src/Tag.vue","../src/components/Tag/index.js","../../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../src/utils/resize-event.js","../packages/scrollbar/util.js","../packages/scrollbar/Bar.js","../packages/scrollbar/Scrollbar.js","../packages/scrollbar/index.js","../../../node_modules/throttle-debounce/esm/index.js","../src/directives/clickoutside.js","../src/utils/scroll-into-view.js","../packages/select/navigation-mixin.js","../src/utils/shared.js","../packages/select/Select.vue","../packages/select/Select.vue?vue&type=template&id=d141ef0a&lang.js","../packages/select/index.js","../packages/option/index.js","../packages/option-group/OptionGroup.vue","../packages/option-group/OptionGroup.vue?vue&type=template&id=5d0d6146&lang.js","../packages/option-group/index.js","../src/utils/vue-popper.js","../src/use/migrating.js","../packages/cascader-panel/CascaderNode.vue","../packages/cascader-panel/CascaderNode.vue?vue&type=template&id=60931e06&lang.js","../src/use/locale.js","../packages/cascader-panel/CascaderMenu.vue","../packages/cascader-panel/CascaderMenu.vue?vue&type=template&id=0cb4e23a&lang.js","../packages/cascader-panel/Node.js","../packages/cascader-panel/Store.js","../src/utils/aria-utils.js","../packages/cascader-panel/CascaderPanel.vue","../packages/cascader-panel/CascaderPanel.vue?vue&type=template&id=405059b0&lang.js","../packages/cascader-panel/index.js","../packages/cascader/Cascader.vue","../packages/cascader/Cascader.vue?vue&type=template&id=13e2200a&lang.js","../packages/cascader/index.js","../src/components/Switch/src/SwitchLabel.vue","../src/components/Switch/src/SwitchLabel.vue?vue&type=template&id=1b48f8aa&lang.js","../src/components/Switch/src/Switch.vue","../src/components/Switch/src/Switch.vue?vue&type=template&id=2a35bacc&lang.js","../src/components/Switch/index.js","../packages/popover/vue-popper.js","../packages/tooltip/Tooltip.js","../packages/tooltip/index.js","../packages/slider/src/button.vue","../packages/slider/src/button.vue?vue&type=template&id=e72d2ad2&lang.js","../packages/slider/src/marker.js","../packages/slider/Slider.vue","../packages/slider/Slider.vue?vue&type=template&id=45319cdb&lang.js","../packages/slider/index.js","../src/components/Progress/src/props.js","../src/components/Progress/src/Progress.vue","../src/components/Progress/src/Progress.vue?vue&type=template&id=ff9b0c8c&lang.js","../src/components/Progress/index.js","../packages/upload/src/upload-list.vue","../packages/upload/src/upload-list.vue?vue&type=template&id=173fedf5&lang.js","../packages/upload/src/ajax.js","../packages/upload/src/upload-dragger.vue","../packages/upload/src/upload-dragger.vue?vue&type=template&id=7ebbf219&lang.js","../packages/upload/src/upload.vue","../packages/upload/src/upload.vue?vue&type=template&id=62e8d8c6&lang.js","../src/mixins/migrating.js","../packages/upload/src/index.vue","../packages/upload/src/index.vue?vue&type=template&id=2e4cd81d&lang.js","../packages/upload/index.js","../packages/rate/Rate.vue","../packages/rate/Rate.vue?vue&type=template&id=5185c9bb&lang.js","../packages/rate/index.js","../packages/color-picker/src/color.js","../packages/color-picker/src/draggable.js","../packages/color-picker/src/components/sv-panel.vue","../packages/color-picker/src/components/sv-panel.vue?vue&type=template&id=d8583596&lang.js","../packages/color-picker/src/components/hue-slider.vue","../packages/color-picker/src/components/hue-slider.vue?vue&type=template&id=5cdc43b1&lang.js","../packages/color-picker/src/components/alpha-slider.vue","../packages/color-picker/src/components/alpha-slider.vue?vue&type=template&id=068c66cb&lang.js","../packages/color-picker/src/components/predefine.vue","../packages/color-picker/src/components/predefine.vue?vue&type=template&id=06e03093&lang.js","../packages/color-picker/src/components/picker-dropdown.vue","../packages/color-picker/src/components/picker-dropdown.vue?vue&type=template&id=06601625&lang.js","../packages/color-picker/src/main.vue","../packages/color-picker/src/main.vue?vue&type=template&id=55c8ade7&lang.js","../packages/color-picker/index.js","../packages/transfer/src/OptionContent.vue","../packages/transfer/src/TransferPanel.vue","../packages/transfer/src/TransferPanel.vue?vue&type=template&id=5668de24&lang.js","../packages/transfer/src/Transfer.vue","../packages/transfer/src/Transfer.vue?vue&type=template&id=21eb9ce6&lang.js","../packages/transfer/index.js","../packages/form/Form.vue","../packages/form/Form.vue?vue&type=template&id=0aaad83b&lang.js","../packages/form/index.js","../../../node_modules/async-validator/dist-web/index.js","../packages/form-item/LabelWrap.vue","../packages/form-item/FormItem.vue","../packages/form-item/FormItem.vue?vue&type=template&id=7d2332e4&lang.js","../packages/form-item/index.js","../packages/table/src/util.js","../packages/table/src/store/expand.js","../packages/table/src/store/current.js","../packages/table/src/store/tree.js","../packages/table/src/store/watcher.js","../packages/table/src/store/index.js","../../../node_modules/lodash-es/_freeGlobal.js","../../../node_modules/lodash-es/_root.js","../../../node_modules/lodash-es/_Symbol.js","../../../node_modules/lodash-es/_getRawTag.js","../../../node_modules/lodash-es/_objectToString.js","../../../node_modules/lodash-es/_baseGetTag.js","../../../node_modules/lodash-es/isObjectLike.js","../../../node_modules/lodash-es/isSymbol.js","../../../node_modules/lodash-es/isObject.js","../../../node_modules/lodash-es/toNumber.js","../../../node_modules/lodash-es/now.js","../../../node_modules/lodash-es/debounce.js","../../../node_modules/lodash-es/throttle.js","../packages/table/src/store/helper.js","../../../node_modules/normalize-wheel/src/UserAgent_DEPRECATED.js","../../../node_modules/normalize-wheel/src/ExecutionEnvironment.js","../../../node_modules/normalize-wheel/src/isEventSupported.js","../../../node_modules/normalize-wheel/src/normalizeWheel.js","../../../node_modules/normalize-wheel/index.js","../src/directives/mousewheel.js","../packages/table/src/table-layout.js","../packages/table/src/dropdown.js","../packages/table/src/filter-panel.vue","../packages/table/src/filter-panel.vue?vue&type=template&id=7f2c919f&lang.js","../packages/table/src/layout-observer.js","../packages/table/src/table-header/event-helper.js","../packages/table/src/table-header/style.helper.js","../packages/table/src/table-header/utils-helper.js","../packages/table/src/h-helper.js","../packages/table/src/table-header/index.js","../packages/table/src/table-body/events-helper.js","../packages/table/src/table-body/styles-helper.js","../packages/table/src/table-body/render-helper.js","../packages/table/src/table-body/index.js","../packages/table/src/table-footer/mapState-helper.js","../packages/table/src/table-footer/style-helper.js","../packages/table/src/table-footer/index.js","../packages/table/src/table/utils-helper.js","../packages/table/src/table/style-helper.js","../packages/table/src/table.vue","../packages/table/src/table.vue?vue&type=template&id=493fe34e&lang.js","../packages/table/index.js","../packages/table/src/config.js","../packages/table/src/table-column/watcher-helper.js","../packages/table/src/table-column/render-helper.js","../packages/table/src/table-column/index.js","../packages/table-column/index.js","../packages/tree/entity/TreeNode.js","../packages/tree/libs/util.js","../packages/tree/entity/Action.js","../packages/tree/entity/Tree.js","../packages/tree/NodeContent.vue","../packages/tree/TreeNode.vue","../packages/tree/TreeNode.vue?vue&type=template&id=edbeefc6&lang.js","../packages/tree/Tree.vue","../packages/tree/Tree.vue?vue&type=template&id=3164f07b&lang.js","../packages/tree/index.js","../packages/pagination/components/Pager.vue","../packages/pagination/components/Pager.vue?vue&type=template&id=3cd2852b&lang.js","../packages/pagination/components/Prev.vue","../packages/pagination/components/Prev.vue?vue&type=template&id=768e860a&lang.js","../packages/pagination/components/Next.vue","../packages/pagination/components/Next.vue?vue&type=template&id=659545bb&lang.js","../packages/pagination/components/Jumper.vue","../packages/pagination/components/Jumper.vue?vue&type=template&id=488f6fba&lang.js","../packages/pagination/components/Total.js","../packages/pagination/components/Sizes.vue","../packages/pagination/components/Sizes.vue?vue&type=template&id=25cdb67a&lang.js","../packages/pagination/Pagination.js","../packages/pagination/index.js","../src/components/Badge/src/Badge.vue","../src/components/Badge/src/Badge.vue?vue&type=template&id=51d3f82c&lang.js","../src/components/Badge/index.js","../src/components/Avatar/src/props.js","../src/components/Avatar/src/Avatar.vue","../src/components/Avatar/src/Avatar.vue?vue&type=template&id=438d4d0c&lang.js","../src/components/Avatar/index.js","../packages/alert/Alert.vue","../packages/alert/Alert.vue?vue&type=template&id=d3508c96&lang.js","../packages/alert/index.js","../packages/loading/Loading.vue","../packages/loading/Loading.vue?vue&type=template&id=683f1835&lang.js","../src/use/component.js","../packages/loading/lib.js","../packages/loading/directive.js","../packages/loading/service.js","../packages/loading/index.js","../src/components/Message/src/Message.vue","../src/components/Message/src/Message.vue?vue&type=template&id=6fa5d4b4&lang.js","../src/components/Message/src/Message.js","../src/use/popup.js","../src/utils/aria-dialog.js","../packages/message-box/src/MessageBox.vue","../packages/message-box/src/MessageBox.vue?vue&type=template&id=623e787d&lang.js","../packages/message-box/src/MessageBox.js","../packages/message-box/index.js","../src/components/Notification/src/props.js","../src/components/Notification/src/Notification.vue","../src/components/Notification/src/Notification.vue?vue&type=template&id=384b76fa&lang.js","../src/components/Notification/src/Notification.js","../src/utils/menu/aria-submenu.js","../src/utils/menu/aria-menuitem.js","../src/utils/menu/aria-menubar.js","../packages/menu/src/menu-use.js","../packages/menu/MenuCollapseTransition.vue","../packages/menu/Menu.vue","../packages/menu/index.js","../packages/menu/MenuItem.vue","../packages/menu/MenuItem.vue?vue&type=template&id=3f48b54e&lang.js","../packages/menu-item/index.js","../packages/menu/Submenu.vue","../packages/submenu/index.js","../packages/menu/MenuItemGroup.vue","../packages/menu/MenuItemGroup.vue?vue&type=template&id=2f4db081&lang.js","../packages/menu-item-group/index.js","../packages/tabs/Tabs.vue","../packages/tabs/Tabs.vue?vue&type=template&id=7768470a&lang.js","../packages/tabs/index.js","../packages/tab-pane/TabPane.vue","../packages/tab-pane/TabPane.vue?vue&type=template&id=b939195c&lang.js","../packages/tab-pane/index.js","../packages/breadcrumb/Breadcrumb.vue","../packages/breadcrumb/Breadcrumb.vue?vue&type=template&id=aab1eeca&lang.js","../packages/breadcrumb/index.js","../packages/breadcrumb/BreadcrumbItem.vue","../packages/breadcrumb/BreadcrumbItem.vue?vue&type=template&id=2ecf2664&lang.js","../packages/breadcrumb-item/index.js","../packages/page-header/PageHeader.vue","../packages/page-header/PageHeader.vue?vue&type=template&id=54e4c738&lang.js","../packages/page-header/index.js","../packages/dropdown/src/dropdown.vue","../packages/dropdown/index.js","../packages/dropdown/src/dropdown-item.vue","../packages/dropdown/src/dropdown-item.vue?vue&type=template&id=6359102a&lang.js","../packages/dropdown-item/index.js","../packages/dropdown/src/dropdown-menu.vue","../packages/dropdown/src/dropdown-menu.vue?vue&type=template&id=0da6b714&lang.js","../packages/dropdown-menu/index.js","../packages/steps/src/constants.js","../packages/steps/src/steps.vue","../packages/steps/index.js","../packages/steps/src/step.vue","../packages/steps/src/step.vue?vue&type=template&id=f414a87a&lang.js","../packages/step/index.js","../packages/dialog/Dialog.vue","../packages/dialog/Dialog.vue?vue&type=template&id=e2cbca0a&lang.js","../packages/dialog/index.js","../packages/popover/Popover.vue","../packages/popover/Popover.vue?vue&type=template&id=044d6107&lang.js","../packages/popover/directive.js","../packages/popover/index.js","../packages/popconfirm/Popconfirm.vue","../packages/popconfirm/Popconfirm.vue?vue&type=template&id=9cb8fdca&lang.js","../packages/popconfirm/index.js","../packages/card/Card.vue","../packages/card/Card.vue?vue&type=template&id=201c27bb&lang.js","../packages/card/index.js","../packages/carousel/Carousel.vue","../packages/carousel/Carousel.vue?vue&type=template&id=62f4138a&lang.js","../packages/carousel/index.js","../packages/carousel-item/CarouselItem.vue","../packages/carousel-item/CarouselItem.vue?vue&type=template&id=5d370946&lang.js","../packages/carousel-item/index.js","../packages/collapse/src/collapse.vue","../packages/collapse/index.js","../packages/collapse/src/collapse-item.vue","../packages/collapse/src/collapse-item.vue?vue&type=template&id=2d05faac&lang.js","../packages/collapse-item/index.js","../packages/timeline/Timeline.vue","../packages/timeline/index.js","../packages/timeline-item/TimelineItem.vue","../packages/timeline-item/TimelineItem.vue?vue&type=template&id=448ca170&lang.js","../packages/timeline-item/index.js","../src/components/Divider/src/Divider.vue","../src/components/Divider/src/Divider.vue?vue&type=template&id=41e08450&lang.js","../src/components/Divider/index.js","../src/utils/date.js","../src/utils/date-util.js","../packages/calendar/DateTable.vue","../packages/calendar/Calendar.vue","../packages/calendar/Calendar.vue?vue&type=template&id=4adf4ffb&lang.js","../packages/calendar/index.js","../packages/image/ImageViewer.vue","../packages/image/ImageViewer.vue?vue&type=template&id=63b09465&lang.js","../packages/image/Image.vue","../packages/image/Image.vue?vue&type=template&id=bc61a11a&lang.js","../packages/image/index.js","../packages/backtop/Backtop.vue","../packages/backtop/Backtop.vue?vue&type=template&id=b0ab204e&lang.js","../packages/backtop/index.js","../packages/infinite-scroll/src/main.js","../packages/infinite-scroll/index.js","../packages/drawer/Drawer.vue","../packages/drawer/Drawer.vue?vue&type=template&id=bec52a4a&lang.js","../packages/drawer/index.js","../src/mixins/emitter.js","../packages/autocomplete/src/autocomplete-suggestions.vue","../packages/autocomplete/src/autocomplete-suggestions.vue?vue&type=template&id=cd10dcf0&lang.js","../packages/autocomplete/src/autocomplete.vue","../packages/autocomplete/src/autocomplete.vue?vue&type=template&id=152f2ee6&lang.js","../packages/autocomplete/index.js","../src/index.js"],"sourcesContent":["/* istanbul ignore next */\n\n// const isServer = Vue.prototype.$isServer\nconst isServer = false\n// eslint-disable-next-line no-useless-escape\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\nconst ieVersion = isServer ? 0 : Number(document.documentMode)\n\n/* istanbul ignore next */\nconst trim = function (string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\n}\n/* istanbul ignore next */\nconst camelCase = function (name) {\n  return name\n    .replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\n      return offset ? letter.toUpperCase() : letter\n    })\n    .replace(MOZ_HACK_REGEXP, 'Moz$1')\n}\n\n/* istanbul ignore next */\nexport const on = (function () {\n  if (!isServer && document.addEventListener) {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\n/* istanbul ignore next */\nexport const off = (function () {\n  if (!isServer && document.removeEventListener) {\n    return function (element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function (element, event, handler) {\n      if (element && event) {\n        element.detachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\n/* istanbul ignore next */\nexport const once = function (el, event, fn) {\n  var listener = function () {\n    if (fn) {\n      fn.apply(this, arguments)\n    }\n    off(el, event, listener)\n  }\n  on(el, event, listener)\n}\n\n/* istanbul ignore next */\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false\n  if (cls.indexOf(' ') !== -1)\n    throw new Error('className should not contain space.')\n  if (el.classList) {\n    return el.classList.contains(cls)\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\n  }\n}\n\n/* istanbul ignore next */\nexport function addClass(el, cls) {\n  if (!el) return\n  var curClass = el.className\n  var classes = (cls || '').split(' ')\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.add(clsName)\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName\n    }\n  }\n  if (!el.classList) {\n    el.className = curClass\n  }\n}\n\n/* istanbul ignore next */\nexport function removeClass(el, cls) {\n  if (!el || !cls) return\n  var classes = cls.split(' ')\n  var curClass = ' ' + el.className + ' '\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.remove(clsName)\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\n    }\n  }\n  if (!el.classList) {\n    el.className = trim(curClass)\n  }\n}\n\n/* istanbul ignore next */\nexport const getStyle =\n  ieVersion < 9\n    ? function (element, styleName) {\n        if (isServer) return\n        if (!element || !styleName) return null\n        styleName = camelCase(styleName)\n        if (styleName === 'float') {\n          styleName = 'styleFloat'\n        }\n        try {\n          switch (styleName) {\n            case 'opacity':\n              try {\n                return element.filters.item('alpha').opacity / 100\n              } catch (e) {\n                return 1.0\n              }\n            default:\n              return element.style[styleName] || element.currentStyle\n                ? element.currentStyle[styleName]\n                : null\n          }\n        } catch (e) {\n          return element.style[styleName]\n        }\n      }\n    : function (element, styleName) {\n        if (isServer) return\n        if (!element || !styleName) return null\n        styleName = camelCase(styleName)\n        if (styleName === 'float') {\n          styleName = 'cssFloat'\n        }\n        try {\n          var computed = document.defaultView.getComputedStyle(element, '')\n          return element.style[styleName] || computed\n            ? computed[styleName]\n            : null\n        } catch (e) {\n          return element.style[styleName]\n        }\n      }\n\n/* istanbul ignore next */\nexport function setStyle(element, styleName, value) {\n  if (!element || !styleName) return\n\n  if (typeof styleName === 'object') {\n    for (var prop in styleName) {\n      if (Object.hasOwnProperty.call(styleName, prop)) {\n        setStyle(element, prop, styleName[prop])\n      }\n    }\n  } else {\n    styleName = camelCase(styleName)\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value)\n        ? ''\n        : 'alpha(opacity=' + value * 100 + ')'\n    } else {\n      element.style[styleName] = value\n    }\n  }\n}\n\nexport const isScroll = (el, vertical) => {\n  if (isServer) return\n\n  const determinedDirection = vertical !== null || vertical !== undefined\n  const overflow = determinedDirection\n    ? vertical\n      ? getStyle(el, 'overflow-y')\n      : getStyle(el, 'overflow-x')\n    : getStyle(el, 'overflow')\n\n  return overflow.match(/(scroll|auto)/)\n}\n\nexport const getScrollContainer = (el, vertical) => {\n  if (isServer) return\n\n  let parent = el\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent)) {\n      return window\n    }\n    if (isScroll(parent, vertical)) {\n      return parent\n    }\n    parent = parent.parentNode\n  }\n\n  return parent\n}\n\nexport const isInContainer = (el, container) => {\n  if (isServer || !el || !container) return false\n\n  const elRect = el.getBoundingClientRect()\n  let containerRect\n\n  if (\n    [window, document, document.documentElement, null, undefined].includes(\n      container\n    )\n  ) {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    }\n  } else {\n    containerRect = container.getBoundingClientRect()\n  }\n\n  return (\n    elRect.top < containerRect.bottom &&\n    elRect.bottom > containerRect.top &&\n    elRect.right > containerRect.left &&\n    elRect.left < containerRect.right\n  )\n}\n","import { addClass, removeClass } from '../utils/dom'\nimport { h, Transition } from 'vue'\n\nclass TransitionFn {\n  beforeEnter(el) {\n    addClass(el, 'collapse-transition')\n    !el.dataset && (el.dataset = {})\n\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n    el.style.height = '0'\n    el.style.paddingTop = 0\n    el.style.paddingBottom = 0\n  }\n\n  enter(el) {\n    el.dataset.oldOverflow = el.style.overflow\n    if (el.scrollHeight !== 0) {\n      el.style.height = el.scrollHeight + 'px'\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n    } else {\n      el.style.height = ''\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n    }\n\n    el.style.overflow = 'hidden'\n  }\n\n  afterEnter(el) {\n    // for safari: remove class then reset height is necessary\n    removeClass(el, 'collapse-transition')\n    el.style.height = ''\n    el.style.overflow = el.dataset.oldOverflow\n  }\n\n  beforeLeave(el) {\n    if (!el.dataset) el.dataset = {}\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n    el.dataset.oldOverflow = el.style.overflow\n\n    el.style.height = el.scrollHeight + 'px'\n    el.style.overflow = 'hidden'\n  }\n\n  leave(el) {\n    if (el.scrollHeight !== 0) {\n      // for safari: add class after set height, or it will jump to zero height suddenly, weired\n      addClass(el, 'collapse-transition')\n      el.style.height = 0\n      el.style.paddingTop = 0\n      el.style.paddingBottom = 0\n    }\n  }\n\n  afterLeave(el) {\n    removeClass(el, 'collapse-transition')\n    el.style.height = ''\n    el.style.overflow = el.dataset.oldOverflow\n    el.style.paddingTop = el.dataset.oldPaddingTop\n    el.style.paddingBottom = el.dataset.oldPaddingBottom\n  }\n}\n\nconst ElCollapseTransition = (props, context) => {\n  const transitions = new TransitionFn()\n  const data = {\n    onBeforeEnter: transitions.beforeEnter,\n    onEnter: transitions.enter,\n    onAfterEnter: transitions.afterEnter,\n    onBeforeLeave: transitions.beforeLeave,\n    onLeave: transitions.leave,\n    onAfterLeave: transitions.afterLeave\n  }\n  return h(Transition, data, context.slots)\n}\n\nElCollapseTransition.install = function (app) {\n  app.component('ElCollapseTransition', ElCollapseTransition)\n}\n\nexport default ElCollapseTransition\n","import { h, provide, computed, getCurrentInstance } from 'vue'\nexport default {\n  name: 'ElRow',\n  componentName: 'ElRow',\n  setup(props) {\n    const style = computed(() => {\n      const ret = {}\n      if (props.gutter) {\n        ret.marginLeft = `-${props.gutter / 2}px`\n        ret.marginRight = ret.marginLeft\n      }\n      return ret\n    })\n    provide('el-row', getCurrentInstance())\n    return { style }\n  },\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    gutter: {\n      type: Number,\n      default: 0\n    },\n    type: String,\n    justify: {\n      type: String,\n      default: 'start'\n    },\n    align: {\n      type: String,\n      default: 'top'\n    }\n  },\n\n  render() {\n    return h(\n      this.tag,\n      {\n        class: [\n          'el-row',\n          this.justify !== 'start' ? `is-justify-${this.justify}` : '',\n          this.align !== 'top' ? `is-align-${this.align}` : '',\n          { 'el-row--flex': this.type === 'flex' }\n        ],\n        style: this.style\n      },\n      this.$slots.default && this.$slots.default()\n    )\n  }\n}\n","import ElRow from './Row.js'\n\n/* istanbul ignore next */\nElRow.install = function (app) {\n  app.component(ElRow.name, ElRow)\n}\n\nexport default ElRow\n","<script>\nimport { toRefs, unref, h, computed, getCurrentInstance } from 'vue'\n\nexport default {\n  name: 'ElCol',\n  props: {\n    span: {\n      type: Number,\n      default: 24\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    offset: Number,\n    pull: Number,\n    push: Number,\n    xs: [Number, Object],\n    sm: [Number, Object],\n    md: [Number, Object],\n    lg: [Number, Object],\n    xl: [Number, Object]\n  },\n  setup(props, { slots }) {\n    const { tag } = toRefs(props)\n    const gutter = computed(() => {\n      let { parent } = getCurrentInstance()\n      while (parent && parent.type.componentName !== 'ElRow') {\n        parent = parent.parent\n      }\n      return parent ? parent.props.gutter : 0\n    })\n    return () => {\n      const classList = []\n      const style = {}\n      if (unref(gutter)) {\n        style.paddingLeft = unref(gutter) / 2 + 'px'\n        style.paddingRight = style.paddingLeft\n      }\n\n      ;['span', 'offset', 'pull', 'push'].forEach((prop) => {\n        if (unref(toRefs(props)[prop]) || unref(toRefs(props)[prop]) === 0) {\n          classList.push(\n            prop !== 'span'\n              ? `el-col-${prop}-${unref(toRefs(props)[prop])}`\n              : `el-col-${unref(toRefs(props)[prop])}`\n          )\n        }\n      })\n      ;['xs', 'sm', 'md', 'lg', 'xl'].forEach((size) => {\n        if (typeof unref(toRefs(props)[size]) === 'number') {\n          classList.push(`el-col-${size}-${unref(toRefs(props)[size])}`)\n        } else if (typeof unref(toRefs(props)[size]) === 'object') {\n          const propsData = unref(toRefs(props)[size])\n          Object.keys(propsData).forEach((prop) => {\n            classList.push(\n              prop !== 'span'\n                ? `el-col-${size}-${prop}-${propsData[prop]}`\n                : `el-col-${size}-${propsData[prop]}`\n            )\n          })\n        }\n      })\n      return h(\n        unref(tag),\n        {\n          class: ['el-col', classList],\n          style\n        },\n        slots.default ? slots.default() : ''\n      )\n    }\n  }\n}\n</script>\n","import ElCol from './Col'\n\n/* istanbul ignore next */\nElCol.install = function (app) {\n  app.component(ElCol.name, ElCol)\n}\n\nexport default ElCol\n","<template>\n  <section class=\"el-container\" :class=\"{ 'is-vertical': isVertical }\">\n    <slot></slot>\n  </section>\n</template>\n\n<script>\nimport { computed, toRefs } from 'vue'\nexport default {\n  name: 'ElContainer',\n  props: {\n    direction: {\n      type: String,\n      default: 'horizontal'\n    }\n  },\n  setup(props, { slots }) {\n    const { direction } = toRefs(props)\n\n    const isVertical = computed(() => {\n      if (direction === 'vertical') {\n        return true\n      } else if (direction === 'horizontal') {\n        return false\n      }\n      if (slots && slots.default) {\n        return slots.default().some((vNode) => {\n          const tag = vNode.type && vNode.type.name\n          return tag === 'ElHeader' || tag === 'ElFooter'\n        })\n      } else {\n        return false\n      }\n    })\n    return {\n      isVertical\n    }\n  }\n}\n</script>\n","<template>\n  <section class=\"el-container\" :class=\"{ 'is-vertical': isVertical }\">\n    <slot></slot>\n  </section>\n</template>\n\n<script>\nimport { computed, toRefs } from 'vue'\nexport default {\n  name: 'ElContainer',\n  props: {\n    direction: {\n      type: String,\n      default: 'horizontal'\n    }\n  },\n  setup(props, { slots }) {\n    const { direction } = toRefs(props)\n\n    const isVertical = computed(() => {\n      if (direction === 'vertical') {\n        return true\n      } else if (direction === 'horizontal') {\n        return false\n      }\n      if (slots && slots.default) {\n        return slots.default().some((vNode) => {\n          const tag = vNode.type && vNode.type.name\n          return tag === 'ElHeader' || tag === 'ElFooter'\n        })\n      } else {\n        return false\n      }\n    })\n    return {\n      isVertical\n    }\n  }\n}\n</script>\n","import ElContainer from './src/Container.vue'\n\n/* istanbul ignore next */\nElContainer.install = function (app) {\n  app.component(ElContainer.name, ElContainer)\n}\n\nexport { ElContainer }\n","<template>\n  <header class=\"el-header\" :style=\"{ height }\">\n    <slot></slot>\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'ElHeader',\n\n  props: {\n    height: {\n      type: String,\n      default: '60px'\n    }\n  }\n}\n</script>\n","<template>\n  <header class=\"el-header\" :style=\"{ height }\">\n    <slot></slot>\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'ElHeader',\n\n  props: {\n    height: {\n      type: String,\n      default: '60px'\n    }\n  }\n}\n</script>\n","import ElHeader from './Header'\n\n/* istanbul ignore next */\nElHeader.install = function (app) {\n  app.component(ElHeader.name, ElHeader)\n}\n\nexport { ElHeader }\n\nexport default ElHeader\n","<template>\n  <footer class=\"el-footer\" :style=\"{ height }\">\n    <slot></slot>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: 'ElFooter',\n\n  componentName: 'ElFooter',\n\n  props: {\n    height: {\n      type: String,\n      default: '60px'\n    }\n  }\n}\n</script>\n","<template>\n  <footer class=\"el-footer\" :style=\"{ height }\">\n    <slot></slot>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: 'ElFooter',\n\n  componentName: 'ElFooter',\n\n  props: {\n    height: {\n      type: String,\n      default: '60px'\n    }\n  }\n}\n</script>\n","import ElFooter from './Footer'\n\n/* istanbul ignore next */\nElFooter.install = function (app) {\n  app.component(ElFooter.name, ElFooter)\n}\n\nexport { ElFooter }\n\nexport default ElFooter\n","<template>\n  <aside class=\"el-aside\" :style=\"{ width }\">\n    <slot></slot>\n  </aside>\n</template>\n\n<script>\nexport default {\n  name: 'ElAside',\n\n  componentName: 'ElAside',\n\n  props: {\n    width: {\n      type: String,\n      default: '300px'\n    }\n  }\n}\n</script>\n","<template>\n  <aside class=\"el-aside\" :style=\"{ width }\">\n    <slot></slot>\n  </aside>\n</template>\n\n<script>\nexport default {\n  name: 'ElAside',\n\n  componentName: 'ElAside',\n\n  props: {\n    width: {\n      type: String,\n      default: '300px'\n    }\n  }\n}\n</script>\n","import ElAside from './Aside.vue'\n\n/* istanbul ignore next */\nElAside.install = function (app) {\n  app.component(ElAside.name, ElAside)\n}\n\nexport default ElAside\n","<template>\n  <main class=\"el-main\">\n    <slot></slot>\n  </main>\n</template>\n\n<script>\nexport default {\n  name: 'ElMain',\n  componentName: 'ElMain'\n}\n</script>\n","<template>\n  <main class=\"el-main\">\n    <slot></slot>\n  </main>\n</template>\n\n<script>\nexport default {\n  name: 'ElMain',\n  componentName: 'ElMain'\n}\n</script>\n","import ElMain from './Main'\n\n/* istanbul ignore next */\nElMain.install = function (app) {\n  app.component(ElMain.name, ElMain)\n}\n\nexport { ElMain }\nexport default ElMain\n","<template>\n  <i :class=\"`el-icon-${name}`\"></i>\n</template>\n\n<script>\nexport default {\n  name: 'ElIcon',\n\n  props: {\n    name: String\n  }\n}\n</script>\n","<template>\n  <i :class=\"`el-icon-${name}`\"></i>\n</template>\n\n<script>\nexport default {\n  name: 'ElIcon',\n\n  props: {\n    name: String\n  }\n}\n</script>\n","import ElIcon from './Icon.vue'\n\n/* istanbul ignore next */\nElIcon.install = function (app) {\n  app.component(ElIcon.name, ElIcon)\n}\n\nexport default ElIcon\n","import { ButtonType, ButtonSize, ButtonNativeType } from './types'\nimport { PropType } from 'vue'\n\nexport const props = {\n  size: {\n    type: String as PropType<ButtonSize>,\n    validator(val: string): boolean {\n      return ['medium', 'small', 'mini', ''].includes(val)\n    }\n  },\n  type: {\n    type: String as PropType<ButtonType>,\n    validator(val: string): boolean {\n      return [\n        'primary',\n        'success',\n        'warning',\n        'danger',\n        'info',\n        'text'\n      ].includes(val)\n    }\n  },\n  nativeType: {\n    type: String as PropType<ButtonNativeType>,\n    default: 'button'\n  },\n  plain: Boolean,\n  round: Boolean,\n  circle: Boolean,\n  loading: Boolean,\n  disabled: Boolean,\n  icon: String\n}\n","import { getCurrentInstance } from 'vue'\n\n/**\n * get globalOptions $ELEMENT config object\n */\nexport function useGlobalOptions() {\n  const instance = getCurrentInstance()\n\n  if (!instance) {\n    console.warn('useGlobalOptions must be call in setup function')\n    return\n  }\n\n  return instance.appContext.config.globalProperties.$ELEMENT || {}\n}\n\nexport function setupGlobalOptions(opts = {}) {\n  return (app) => {\n    app.config.globalProperties.$ELEMENT = {\n      size: opts.size || '',\n      zIndex: opts.zIndex || 2000\n    }\n  }\n}\n","<template>\n  <button\n    class=\"el-button\"\n    :class=\"classes\"\n    :type=\"nativeType\"\n    :disabled=\"buttonDisabled || loading\"\n  >\n    <i class=\"el-icon-loading\" v-if=\"loading\"></i>\n    <i :class=\"icon\" v-else-if=\"icon\"></i>\n    <span v-if=\"$slots.default\">\n      <slot></slot>\n    </span>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { props } from './props'\nimport { useGlobalOptions } from '../../../use/globalConfig'\nimport { toRefs, inject, computed, defineComponent, Ref } from 'vue'\nexport default defineComponent({\n  name: 'ElButton',\n  props,\n  setup(props) {\n    const { size, disabled } = toRefs(props)\n    const buttonSize = useButtonSize(size)\n    const buttonDisabled = useButtonDisabled(disabled)\n    const classes = useClasses({\n      props,\n      size: buttonSize,\n      disabled: buttonDisabled\n    })\n    return {\n      buttonDisabled,\n      classes\n    }\n  }\n})\n\nconst useClasses = ({ props, size, disabled }) => {\n  return computed(() => {\n    return [\n      size.value ? `el-button--${size.value}` : '',\n      props.type ? `el-button--${props.type}` : '',\n      {\n        'is-plain': props.plain,\n        'is-round': props.round,\n        'is-circle': props.circle,\n        'is-loading': props.loading,\n        'is-disabled': disabled.value\n      }\n    ]\n  })\n}\n\nconst useButtonDisabled = (disabled: Ref) => {\n  return computed(() => {\n    const elForm = inject('elForm', null)\n\n    return disabled?.value || elForm?.disabled\n  })\n}\n\nconst useButtonSize = (size: Ref) => {\n  const globalConfig = useGlobalOptions()\n  return computed(() => {\n    const elFormItem = inject('elFormItem', null)\n    return size?.value || elFormItem?.elFormItemSize || globalConfig.size\n  })\n}\n</script>\n","<template>\n  <button\n    class=\"el-button\"\n    :class=\"classes\"\n    :type=\"nativeType\"\n    :disabled=\"buttonDisabled || loading\"\n  >\n    <i class=\"el-icon-loading\" v-if=\"loading\"></i>\n    <i :class=\"icon\" v-else-if=\"icon\"></i>\n    <span v-if=\"$slots.default\">\n      <slot></slot>\n    </span>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { props } from './props'\nimport { useGlobalOptions } from '../../../use/globalConfig'\nimport { toRefs, inject, computed, defineComponent, Ref } from 'vue'\nexport default defineComponent({\n  name: 'ElButton',\n  props,\n  setup(props) {\n    const { size, disabled } = toRefs(props)\n    const buttonSize = useButtonSize(size)\n    const buttonDisabled = useButtonDisabled(disabled)\n    const classes = useClasses({\n      props,\n      size: buttonSize,\n      disabled: buttonDisabled\n    })\n    return {\n      buttonDisabled,\n      classes\n    }\n  }\n})\n\nconst useClasses = ({ props, size, disabled }) => {\n  return computed(() => {\n    return [\n      size.value ? `el-button--${size.value}` : '',\n      props.type ? `el-button--${props.type}` : '',\n      {\n        'is-plain': props.plain,\n        'is-round': props.round,\n        'is-circle': props.circle,\n        'is-loading': props.loading,\n        'is-disabled': disabled.value\n      }\n    ]\n  })\n}\n\nconst useButtonDisabled = (disabled: Ref) => {\n  return computed(() => {\n    const elForm = inject('elForm', null)\n\n    return disabled?.value || elForm?.disabled\n  })\n}\n\nconst useButtonSize = (size: Ref) => {\n  const globalConfig = useGlobalOptions()\n  return computed(() => {\n    const elFormItem = inject('elFormItem', null)\n    return size?.value || elFormItem?.elFormItemSize || globalConfig.size\n  })\n}\n</script>\n","import ElButton from './src/Button.vue'\n\nElButton.install = function (app) {\n  app.component(ElButton.name, ElButton)\n}\n\nexport { ElButton }\n","<template>\n  <div class=\"el-button-group\">\n    <slot></slot>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'ElButtonGroup'\n}\n</script>\n","<template>\n  <div class=\"el-button-group\">\n    <slot></slot>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'ElButtonGroup'\n}\n</script>\n","import ElButtonGroup from './ButtonGroup.vue'\n\n/* istanbul ignore next */\nElButtonGroup.install = function (app) {\n  app.component(ElButtonGroup.name, ElButtonGroup)\n}\n\nexport default ElButtonGroup\n","<template>\n  <a\n    :class=\"classes\"\n    :href=\"disabled ? null : href\"\n    v-bind=\"$attrs\"\n    @click=\"handleClick\"\n  >\n    <i v-if=\"icon\" :class=\"icon\"></i>\n    <span v-if=\"$slots.default\" class=\"el-link--inner\">\n      <slot></slot>\n    </span>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: 'ElLink',\n  props: {\n    type: {\n      type: String,\n      default: 'default'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    underline: {\n      type: Boolean,\n      default: true\n    },\n    href: String,\n    icon: String\n  },\n  emits: ['click'],\n  setup(props, { emit }) {\n    const classes = useClasses(props)\n\n    const handleClick = (event) => {\n      if (props.disabled) return\n      if (props.href) return\n\n      emit('click', event)\n    }\n    return {\n      classes,\n      handleClick\n    }\n  }\n}\nconst useClasses = (props) => {\n  return [\n    'el-link',\n    props.type ? `el-link--${props.type}` : '',\n    props.disabled && 'is-disabled',\n    props.underline && !props.disabled && 'is-underline'\n  ]\n}\n</script>\n\n<style></style>\n","<template>\n  <a\n    :class=\"classes\"\n    :href=\"disabled ? null : href\"\n    v-bind=\"$attrs\"\n    @click=\"handleClick\"\n  >\n    <i v-if=\"icon\" :class=\"icon\"></i>\n    <span v-if=\"$slots.default\" class=\"el-link--inner\">\n      <slot></slot>\n    </span>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: 'ElLink',\n  props: {\n    type: {\n      type: String,\n      default: 'default'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    underline: {\n      type: Boolean,\n      default: true\n    },\n    href: String,\n    icon: String\n  },\n  emits: ['click'],\n  setup(props, { emit }) {\n    const classes = useClasses(props)\n\n    const handleClick = (event) => {\n      if (props.disabled) return\n      if (props.href) return\n\n      emit('click', event)\n    }\n    return {\n      classes,\n      handleClick\n    }\n  }\n}\nconst useClasses = (props) => {\n  return [\n    'el-link',\n    props.type ? `el-link--${props.type}` : '',\n    props.disabled && 'is-disabled',\n    props.underline && !props.disabled && 'is-underline'\n  ]\n}\n</script>\n\n<style></style>\n","import ElLink from './src/Link.vue'\n\n/* istanbul ignore next */\nElLink.install = function (app) {\n  app.component(ElLink.name, ElLink)\n}\n\nexport { ElLink }\n","export const props = {\n  modelValue: {\n    type: [String, Number, Symbol, Boolean, Array],\n    default: ''\n  },\n  label: {\n    type: [String, Number, Symbol, Boolean, Array],\n    default: ''\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  name: {\n    type: String,\n    default: ''\n  },\n  border: {\n    type: Boolean,\n    default: false\n  },\n  size: {\n    type: String,\n    default: ''\n  }\n}\n","<template>\n  <label\n    role=\"radio\"\n    class=\"el-radio\"\n    :class=\"labelClass\"\n    :aria-checked=\"radioValue === label\"\n    :aria-disabled=\"isDisabled\"\n    :tabindex=\"tabIndex\"\n  >\n    <span\n      class=\"el-radio__input\"\n      :class=\"{\n        'is-disabled': isDisabled,\n        'is-checked': radioValue === label\n      }\"\n    >\n      <span class=\"el-radio__inner\"></span>\n      <input\n        type=\"radio\"\n        class=\"el-radio__original\"\n        :value=\"label\"\n        v-model=\"radioValue\"\n        :name=\"name\"\n        aria-hidden=\"true\"\n        :disabled=\"isDisabled\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n        tabindex=\"-1\"\n      />\n    </span>\n    <span class=\"el-radio__label\" @keydown.stop>\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n\n<script>\nimport { ref, computed, inject, getCurrentInstance, defineComponent } from 'vue'\nimport { props } from './props'\n\nexport default defineComponent({\n  name: 'ElRadio',\n  componentName: 'ElRadio',\n  props,\n  emits: ['update:modelValue', 'update:value', 'change'],\n  setup(props, context) {\n    const focus = ref(false)\n    const { elForm, elFormItem } = useInject()\n    const { isGroup, radioGroup } = useCheckGroup()\n    const radioValue = computed({\n      get: () => (isGroup ? radioGroup.proxy.modelValue : props.modelValue),\n      set: (value) => {\n        changeHandler(value)\n      }\n    })\n    const { isDisabled, radioSize, tabIndex } = useStyle({\n      props,\n      isGroup,\n      radioGroup,\n      elForm,\n      elFormItem,\n      radioValue\n    })\n\n    const labelClass = useLabelClass({\n      props,\n      radioSize,\n      radioValue,\n      isDisabled,\n      focus\n    })\n    const changeHandler = (value) => {\n      context.emit('update:modelValue', value)\n      isGroup && radioGroup.emit('update:modelValue', value)\n      context.emit('change', value)\n      isGroup && radioGroup.emit('change', value)\n    }\n    return {\n      focus,\n      radioValue,\n      isDisabled,\n      radioSize,\n      tabIndex,\n      labelClass,\n      changeHandler\n    }\n  }\n})\nconst useInject = () => {\n  const elForm = inject('elForm', {})\n  const elFormItem = inject('elFormItem', {})\n  return { elForm, elFormItem }\n}\nconst useCheckGroup = () => {\n  const { parent } = getCurrentInstance()\n  const isGroup = parent.type.name === 'ElRadioGroup'\n  const radioGroup = isGroup ? parent : null\n  return { isGroup, radioGroup }\n}\nconst useStyle = ({\n  props,\n  isGroup,\n  radioGroup,\n  elForm,\n  elFormItem,\n  radioValue\n}) => {\n  const {\n    proxy,\n    parent: {\n      proxy: { radioGroupSize }\n    }\n  } = getCurrentInstance()\n  const elFormDisable = elForm.disabled\n  const isDisabled = computed(() =>\n    isGroup\n      ? radioGroup.props.disabled || props.disabled || elFormDisable\n      : props.disabled || elFormDisable\n  )\n\n  const radioSize = computed(\n    () =>\n      props.size ||\n      radioGroupSize ||\n      (elForm && elFormItem.elFormItemSize) ||\n      (proxy.$ELEMENT || {}).size\n  )\n  const tabIndex = computed(() =>\n    isDisabled.value || (isGroup && radioValue.value !== props.label) ? -1 : 0\n  )\n\n  return { isDisabled, radioSize, tabIndex }\n}\nconst useLabelClass = ({ props, radioSize, radioValue, isDisabled, focus }) =>\n  computed(() => [\n    props.border && radioSize.value ? `el-radio--${radioSize.value}` : '',\n    { 'is-checked': radioValue.value === props.label },\n    { 'is-disabled': isDisabled.value },\n    { 'is-focus': focus.value },\n    { 'is-bordered': props.border }\n  ])\n</script>\n\n<style></style>\n","<template>\n  <label\n    role=\"radio\"\n    class=\"el-radio\"\n    :class=\"labelClass\"\n    :aria-checked=\"radioValue === label\"\n    :aria-disabled=\"isDisabled\"\n    :tabindex=\"tabIndex\"\n  >\n    <span\n      class=\"el-radio__input\"\n      :class=\"{\n        'is-disabled': isDisabled,\n        'is-checked': radioValue === label\n      }\"\n    >\n      <span class=\"el-radio__inner\"></span>\n      <input\n        type=\"radio\"\n        class=\"el-radio__original\"\n        :value=\"label\"\n        v-model=\"radioValue\"\n        :name=\"name\"\n        aria-hidden=\"true\"\n        :disabled=\"isDisabled\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n        tabindex=\"-1\"\n      />\n    </span>\n    <span class=\"el-radio__label\" @keydown.stop>\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n\n<script>\nimport { ref, computed, inject, getCurrentInstance, defineComponent } from 'vue'\nimport { props } from './props'\n\nexport default defineComponent({\n  name: 'ElRadio',\n  componentName: 'ElRadio',\n  props,\n  emits: ['update:modelValue', 'update:value', 'change'],\n  setup(props, context) {\n    const focus = ref(false)\n    const { elForm, elFormItem } = useInject()\n    const { isGroup, radioGroup } = useCheckGroup()\n    const radioValue = computed({\n      get: () => (isGroup ? radioGroup.proxy.modelValue : props.modelValue),\n      set: (value) => {\n        changeHandler(value)\n      }\n    })\n    const { isDisabled, radioSize, tabIndex } = useStyle({\n      props,\n      isGroup,\n      radioGroup,\n      elForm,\n      elFormItem,\n      radioValue\n    })\n\n    const labelClass = useLabelClass({\n      props,\n      radioSize,\n      radioValue,\n      isDisabled,\n      focus\n    })\n    const changeHandler = (value) => {\n      context.emit('update:modelValue', value)\n      isGroup && radioGroup.emit('update:modelValue', value)\n      context.emit('change', value)\n      isGroup && radioGroup.emit('change', value)\n    }\n    return {\n      focus,\n      radioValue,\n      isDisabled,\n      radioSize,\n      tabIndex,\n      labelClass,\n      changeHandler\n    }\n  }\n})\nconst useInject = () => {\n  const elForm = inject('elForm', {})\n  const elFormItem = inject('elFormItem', {})\n  return { elForm, elFormItem }\n}\nconst useCheckGroup = () => {\n  const { parent } = getCurrentInstance()\n  const isGroup = parent.type.name === 'ElRadioGroup'\n  const radioGroup = isGroup ? parent : null\n  return { isGroup, radioGroup }\n}\nconst useStyle = ({\n  props,\n  isGroup,\n  radioGroup,\n  elForm,\n  elFormItem,\n  radioValue\n}) => {\n  const {\n    proxy,\n    parent: {\n      proxy: { radioGroupSize }\n    }\n  } = getCurrentInstance()\n  const elFormDisable = elForm.disabled\n  const isDisabled = computed(() =>\n    isGroup\n      ? radioGroup.props.disabled || props.disabled || elFormDisable\n      : props.disabled || elFormDisable\n  )\n\n  const radioSize = computed(\n    () =>\n      props.size ||\n      radioGroupSize ||\n      (elForm && elFormItem.elFormItemSize) ||\n      (proxy.$ELEMENT || {}).size\n  )\n  const tabIndex = computed(() =>\n    isDisabled.value || (isGroup && radioValue.value !== props.label) ? -1 : 0\n  )\n\n  return { isDisabled, radioSize, tabIndex }\n}\nconst useLabelClass = ({ props, radioSize, radioValue, isDisabled, focus }) =>\n  computed(() => [\n    props.border && radioSize.value ? `el-radio--${radioSize.value}` : '',\n    { 'is-checked': radioValue.value === props.label },\n    { 'is-disabled': isDisabled.value },\n    { 'is-focus': focus.value },\n    { 'is-bordered': props.border }\n  ])\n</script>\n\n<style></style>\n","import ElRadio from './src/Radio.vue'\n\n/* istanbul ignore next */\nElRadio.install = function (app) {\n  app.component(ElRadio.name, ElRadio)\n}\n\nexport { ElRadio }\n","export const props = {\n  label: [String, Number, Symbol, Boolean],\n  disabled: Boolean,\n  name: String\n}\n","<template>\n  <label\n    class=\"el-radio-button\"\n    :class=\"classes\"\n    role=\"radio\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n    :tabindex=\"tabIndex\"\n    @keydown.space.stop.prevent=\"value = isDisabled ? value : label\"\n  >\n    <input\n      class=\"el-radio-button__orig-radio\"\n      type=\"radio\"\n      @change=\"handleChange\"\n      :value=\"label\"\n      :name=\"name\"\n      v-model=\"value\"\n      :disabled=\"isDisabled\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n      tabindex=\"-1\"\n    />\n    <span\n      class=\"el-radio-button__inner\"\n      :style=\"isChecked ? style : null\"\n      @keydown.stop\n    >\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n<script>\nimport { toRefs, ref, inject, computed, watch, getCurrentInstance } from 'vue'\nimport { props } from './props'\nimport { useGlobalOptions } from '../../../use/globalConfig'\n\nexport default {\n  name: 'ElRadioButton',\n\n  componentName: 'ElRadioButton',\n\n  props,\n\n  setup(props) {\n    const { radioGroup } = useCheckGroup()\n    const { label, disabled } = toRefs(props)\n    const focus = ref(false)\n\n    let value = useModel(radioGroup)\n    const handleChange = useChange(radioGroup, value)\n    const { style, size, isDisabled } = useStyle({ disabled, radioGroup })\n    const { classes, isChecked, tabIndex } = useClasses({\n      size,\n      isDisabled,\n      value,\n      label,\n      focus,\n      radioGroup\n    })\n\n    return {\n      value,\n      handleChange,\n      isDisabled,\n      tabIndex,\n      classes,\n      isChecked,\n      style\n    }\n  }\n}\n\nconst useCheckGroup = () => {\n  const { parent } = getCurrentInstance()\n  const isGroup = parent.type.name === 'ElRadioGroup'\n  const radioGroup = isGroup ? parent : null\n  return { isGroup, radioGroup }\n}\n\nconst useModel = (radioGroup) => {\n  const value = ref(radioGroup?.props.modelValue)\n\n  watch(\n    () => radioGroup?.props.modelValue,\n    (val) => {\n      value.value = val\n    }\n  )\n\n  return value\n}\n\nconst useChange = (radioGroup, value) => {\n  const handleChange = () => {\n    radioGroup?.emit('update:modelValue', value.value)\n    radioGroup?.emit('change', value.value)\n  }\n\n  return handleChange\n}\n\nconst useStyle = ({ disabled, radioGroup }) => {\n  const globalConfig = useGlobalOptions()\n\n  const isDisabled = computed(() => {\n    const elForm = inject('elForm', {})\n\n    return disabled?.value || radioGroup?.props.disabled || elForm.disabled\n  })\n\n  const size = computed(() => {\n    const elFormItem = inject('elFormItem', {})\n\n    return (\n      radioGroup?.props.size || elFormItem?.elFormItemSize || globalConfig.size\n    )\n  })\n\n  const style = computed(() => {\n    return {\n      backgroundColor: radioGroup?.props.fill || '',\n      borderColor: radioGroup?.props.fill || '',\n      boxShadow: radioGroup?.props.fill\n        ? `-1px 0 0 0 ${radioGroup?.props.fill}`\n        : '',\n      color: radioGroup?.props.textColor || ''\n    }\n  })\n\n  return {\n    isDisabled,\n    size,\n    style\n  }\n}\n\nconst useClasses = ({ size, isDisabled, focus, value, label, radioGroup }) => {\n  const isChecked = computed(() => {\n    return value.value === label.value\n  })\n\n  const tabIndex = computed(() => {\n    return isDisabled.value || (radioGroup && value.value !== label.value)\n      ? -1\n      : 0\n  })\n\n  const classes = computed(() => {\n    return [\n      size.value ? 'el-radio-button--' + size.value : '',\n      { 'is-active': isChecked.value },\n      { 'is-disabled': isDisabled.value },\n      { 'is-focus': focus.value }\n    ]\n  })\n\n  return {\n    isChecked,\n    classes,\n    tabIndex\n  }\n}\n</script>\n","<template>\n  <label\n    class=\"el-radio-button\"\n    :class=\"classes\"\n    role=\"radio\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n    :tabindex=\"tabIndex\"\n    @keydown.space.stop.prevent=\"value = isDisabled ? value : label\"\n  >\n    <input\n      class=\"el-radio-button__orig-radio\"\n      type=\"radio\"\n      @change=\"handleChange\"\n      :value=\"label\"\n      :name=\"name\"\n      v-model=\"value\"\n      :disabled=\"isDisabled\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n      tabindex=\"-1\"\n    />\n    <span\n      class=\"el-radio-button__inner\"\n      :style=\"isChecked ? style : null\"\n      @keydown.stop\n    >\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n<script>\nimport { toRefs, ref, inject, computed, watch, getCurrentInstance } from 'vue'\nimport { props } from './props'\nimport { useGlobalOptions } from '../../../use/globalConfig'\n\nexport default {\n  name: 'ElRadioButton',\n\n  componentName: 'ElRadioButton',\n\n  props,\n\n  setup(props) {\n    const { radioGroup } = useCheckGroup()\n    const { label, disabled } = toRefs(props)\n    const focus = ref(false)\n\n    let value = useModel(radioGroup)\n    const handleChange = useChange(radioGroup, value)\n    const { style, size, isDisabled } = useStyle({ disabled, radioGroup })\n    const { classes, isChecked, tabIndex } = useClasses({\n      size,\n      isDisabled,\n      value,\n      label,\n      focus,\n      radioGroup\n    })\n\n    return {\n      value,\n      handleChange,\n      isDisabled,\n      tabIndex,\n      classes,\n      isChecked,\n      style\n    }\n  }\n}\n\nconst useCheckGroup = () => {\n  const { parent } = getCurrentInstance()\n  const isGroup = parent.type.name === 'ElRadioGroup'\n  const radioGroup = isGroup ? parent : null\n  return { isGroup, radioGroup }\n}\n\nconst useModel = (radioGroup) => {\n  const value = ref(radioGroup?.props.modelValue)\n\n  watch(\n    () => radioGroup?.props.modelValue,\n    (val) => {\n      value.value = val\n    }\n  )\n\n  return value\n}\n\nconst useChange = (radioGroup, value) => {\n  const handleChange = () => {\n    radioGroup?.emit('update:modelValue', value.value)\n    radioGroup?.emit('change', value.value)\n  }\n\n  return handleChange\n}\n\nconst useStyle = ({ disabled, radioGroup }) => {\n  const globalConfig = useGlobalOptions()\n\n  const isDisabled = computed(() => {\n    const elForm = inject('elForm', {})\n\n    return disabled?.value || radioGroup?.props.disabled || elForm.disabled\n  })\n\n  const size = computed(() => {\n    const elFormItem = inject('elFormItem', {})\n\n    return (\n      radioGroup?.props.size || elFormItem?.elFormItemSize || globalConfig.size\n    )\n  })\n\n  const style = computed(() => {\n    return {\n      backgroundColor: radioGroup?.props.fill || '',\n      borderColor: radioGroup?.props.fill || '',\n      boxShadow: radioGroup?.props.fill\n        ? `-1px 0 0 0 ${radioGroup?.props.fill}`\n        : '',\n      color: radioGroup?.props.textColor || ''\n    }\n  })\n\n  return {\n    isDisabled,\n    size,\n    style\n  }\n}\n\nconst useClasses = ({ size, isDisabled, focus, value, label, radioGroup }) => {\n  const isChecked = computed(() => {\n    return value.value === label.value\n  })\n\n  const tabIndex = computed(() => {\n    return isDisabled.value || (radioGroup && value.value !== label.value)\n      ? -1\n      : 0\n  })\n\n  const classes = computed(() => {\n    return [\n      size.value ? 'el-radio-button--' + size.value : '',\n      { 'is-active': isChecked.value },\n      { 'is-disabled': isDisabled.value },\n      { 'is-focus': focus.value }\n    ]\n  })\n\n  return {\n    isChecked,\n    classes,\n    tabIndex\n  }\n}\n</script>\n","import ElRadioButton from './src/RadioButton.vue'\n\n/* istanbul ignore next */\nElRadioButton.install = function (app) {\n  app.component(ElRadioButton.name, ElRadioButton)\n}\n\nexport { ElRadioButton }\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i&&i.push(e)||n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&i.splice(i.indexOf(e)>>>0,1)},emit:function(t,e){(n.get(t)||[]).slice().map(function(n){n(e)}),(n.get(\"*\")||[]).slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.es.js.map\n","import { getCurrentInstance } from 'vue'\nimport mitt from 'mitt'\n\nconst DISPATCH = 'dispatch'\nconst BROADCAST = 'broadcast'\n\nconst wrapper = Symbol('wrapper')\n\nconst emitter = mitt()\n\nexport function useEmitter() {\n  const currentComponentInstance = getCurrentInstance()\n\n  function on(type, handler) {\n    const handleWrapper = (e) => {\n      const { value, type, emitComponentInstance } = e\n      if (type === BROADCAST) {\n        if (isChildComponent(currentComponentInstance, emitComponentInstance)) {\n          handler && handler(...value)\n        }\n      } else if (type === DISPATCH) {\n        if (isChildComponent(emitComponentInstance, currentComponentInstance)) {\n          handler && handler(...value)\n        }\n      } else {\n        handler && handler(...value)\n      }\n    }\n\n    // Save the real handler because the need to call off\n    handler[wrapper] = handleWrapper\n    emitter.on(type, handleWrapper)\n  }\n\n  function broadcast(type, ...args) {\n    emitter.emit(type, {\n      type: BROADCAST,\n      emitComponentInstance: currentComponentInstance,\n      value: args\n    })\n  }\n\n  function dispatch(type, ...args) {\n    emitter.emit(type, {\n      type: DISPATCH,\n      emitComponentInstance: currentComponentInstance,\n      value: args\n    })\n  }\n\n  function off(type, handler) {\n    emitter.off(type, handler[wrapper])\n  }\n\n  function once(type, handler) {\n    const handleOn = (...args) => {\n      handler && handler(...args)\n      off(type, handleOn)\n    }\n    on(type, handleOn)\n  }\n\n  return {\n    on,\n    broadcast,\n    dispatch,\n    off,\n    once\n  }\n}\n\n/**\n * check componentChild is componentParent child components\n * @param {*} componentChild\n * @param {*} componentParent\n */\nfunction isChildComponent(componentChild, componentParent) {\n  const parentUId = componentParent.uid\n\n  while (componentChild && componentChild?.parent?.uid !== parentUId) {\n    componentChild = componentChild.parent\n  }\n\n  return Boolean(componentChild)\n}\n","<template @change=\"test\">\n  <component\n    :is=\"elTag\"\n    class=\"el-radio-group\"\n    role=\"radiogroup\"\n    @keydown=\"handleKeydown\"\n  >\n    <slot></slot>\n  </component>\n</template>\n<script>\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  getCurrentInstance,\n  onMounted,\n  watch,\n  toRefs,\n  computed,\n  inject\n} from 'vue'\nconst keyCode = Object.freeze({\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n})\n\nexport default {\n  name: 'ElRadioGroup',\n\n  componentName: 'ElRadioGroup',\n\n  props: {\n    modelValue: [String, Number, Symbol, Boolean],\n    size: String,\n    fill: String,\n    textColor: String,\n    disabled: Boolean\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props) {\n    const { modelValue = {}, size = {} } = toRefs(props)\n    const { dispatch } = useEmitter()\n    const { elFormItem } = useInject()\n\n    watch(modelValue, (v) => {\n      dispatch('el.form.change', v)\n    })\n\n    const { handleKeydown } = useKeyDown()\n\n    const { elTag, radioGroupSize } = useStyle({ elFormItem, size })\n\n    return {\n      elTag,\n      radioGroupSize,\n      handleKeydown\n    }\n  }\n}\n\nfunction useInject() {\n  const elFormItem = inject('elFormItem', {})\n  return {\n    elFormItem\n  }\n}\n\nfunction useKeyDown() {\n  const { proxy } = getCurrentInstance()\n  onMounted(() => {\n    const radios = proxy.$el.querySelectorAll('[type=radio]')\n    const firstLabel = proxy.$el.querySelectorAll('[role=radio]')[0]\n    if (![].some.call(radios, (radio) => radio.checked) && firstLabel) {\n      firstLabel.tabIndex = 0\n    }\n  })\n\n  function handleKeydown(e) {\n    const target = e.target\n    const className =\n      target.nodeName === 'INPUT' ? '[type=radio]' : '[role=radio]'\n    const radios = proxy.$el.querySelectorAll(className)\n    const length = radios.length\n    const index = [].indexOf.call(radios, target)\n    const roleRadios = proxy.$el.querySelectorAll('[role=radio]')\n    switch (e.keyCode) {\n      case keyCode.LEFT:\n      case keyCode.UP:\n        e.stopPropagation()\n        e.preventDefault()\n        if (index === 0) {\n          roleRadios[length - 1].click()\n          roleRadios[length - 1].focus()\n        } else {\n          roleRadios[index - 1].click()\n          roleRadios[index - 1].focus()\n        }\n        break\n      case keyCode.RIGHT:\n      case keyCode.DOWN:\n        if (index === length - 1) {\n          e.stopPropagation()\n          e.preventDefault()\n          roleRadios[0].click()\n          roleRadios[0].focus()\n        } else {\n          roleRadios[index + 1].click()\n          roleRadios[index + 1].focus()\n        }\n        break\n      default:\n        break\n    }\n  }\n\n  return { handleKeydown }\n}\n\nfunction useStyle({ elFormItem, size }) {\n  const { proxy, vnode } = getCurrentInstance()\n\n  const radioGroupSize = computed(() => {\n    return (\n      size.value || elFormItem.elFormItemSize || (proxy.$ELEMENT || {}).size\n    )\n  })\n\n  const elTag = computed(() => {\n    return (vnode.data || {}).tag || 'div'\n  })\n\n  return { radioGroupSize, elTag }\n}\n</script>\n","<template @change=\"test\">\n  <component\n    :is=\"elTag\"\n    class=\"el-radio-group\"\n    role=\"radiogroup\"\n    @keydown=\"handleKeydown\"\n  >\n    <slot></slot>\n  </component>\n</template>\n<script>\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  getCurrentInstance,\n  onMounted,\n  watch,\n  toRefs,\n  computed,\n  inject\n} from 'vue'\nconst keyCode = Object.freeze({\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n})\n\nexport default {\n  name: 'ElRadioGroup',\n\n  componentName: 'ElRadioGroup',\n\n  props: {\n    modelValue: [String, Number, Symbol, Boolean],\n    size: String,\n    fill: String,\n    textColor: String,\n    disabled: Boolean\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props) {\n    const { modelValue = {}, size = {} } = toRefs(props)\n    const { dispatch } = useEmitter()\n    const { elFormItem } = useInject()\n\n    watch(modelValue, (v) => {\n      dispatch('el.form.change', v)\n    })\n\n    const { handleKeydown } = useKeyDown()\n\n    const { elTag, radioGroupSize } = useStyle({ elFormItem, size })\n\n    return {\n      elTag,\n      radioGroupSize,\n      handleKeydown\n    }\n  }\n}\n\nfunction useInject() {\n  const elFormItem = inject('elFormItem', {})\n  return {\n    elFormItem\n  }\n}\n\nfunction useKeyDown() {\n  const { proxy } = getCurrentInstance()\n  onMounted(() => {\n    const radios = proxy.$el.querySelectorAll('[type=radio]')\n    const firstLabel = proxy.$el.querySelectorAll('[role=radio]')[0]\n    if (![].some.call(radios, (radio) => radio.checked) && firstLabel) {\n      firstLabel.tabIndex = 0\n    }\n  })\n\n  function handleKeydown(e) {\n    const target = e.target\n    const className =\n      target.nodeName === 'INPUT' ? '[type=radio]' : '[role=radio]'\n    const radios = proxy.$el.querySelectorAll(className)\n    const length = radios.length\n    const index = [].indexOf.call(radios, target)\n    const roleRadios = proxy.$el.querySelectorAll('[role=radio]')\n    switch (e.keyCode) {\n      case keyCode.LEFT:\n      case keyCode.UP:\n        e.stopPropagation()\n        e.preventDefault()\n        if (index === 0) {\n          roleRadios[length - 1].click()\n          roleRadios[length - 1].focus()\n        } else {\n          roleRadios[index - 1].click()\n          roleRadios[index - 1].focus()\n        }\n        break\n      case keyCode.RIGHT:\n      case keyCode.DOWN:\n        if (index === length - 1) {\n          e.stopPropagation()\n          e.preventDefault()\n          roleRadios[0].click()\n          roleRadios[0].focus()\n        } else {\n          roleRadios[index + 1].click()\n          roleRadios[index + 1].focus()\n        }\n        break\n      default:\n        break\n    }\n  }\n\n  return { handleKeydown }\n}\n\nfunction useStyle({ elFormItem, size }) {\n  const { proxy, vnode } = getCurrentInstance()\n\n  const radioGroupSize = computed(() => {\n    return (\n      size.value || elFormItem.elFormItemSize || (proxy.$ELEMENT || {}).size\n    )\n  })\n\n  const elTag = computed(() => {\n    return (vnode.data || {}).tag || 'div'\n  })\n\n  return { radioGroupSize, elTag }\n}\n</script>\n","import RadioGroup from './RadioGroup.vue'\n\n/* istanbul ignore next */\nRadioGroup.install = function (app) {\n  app.component(RadioGroup.name, RadioGroup)\n}\n\nexport default RadioGroup\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* TEXT */]: `TEXT`,\r\n    [2 /* CLASS */]: `CLASS`,\r\n    [4 /* STYLE */]: `STYLE`,\r\n    [8 /* PROPS */]: `PROPS`,\r\n    [16 /* FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* HOISTED */]: `HOISTED`,\r\n    [-2 /* BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* STABLE */]: 'STABLE',\r\n    [2 /* DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    const lines = source.split(/\\r?\\n/);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count += lines[i].length + 1;\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - lineLength) + 1;\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + 1;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            res += normalizeClass(value[i]) + ' ';\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.substring(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isObject(val)\r\n            ? JSON.stringify(val, replacer, 2)\r\n            : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\n/**\r\n * List of @babel/parser plugins that are used for template expression\r\n * transforms and SFC script transforms. By default we enable proposals slated\r\n * for ES2020. This will need to be updated as the spec moves forward.\r\n * Full list at https://babeljs.io/docs/en/next/babel-parser#plugins\r\n */\r\nconst babelParserDefaultPlugins = [\r\n    'bigInt',\r\n    'optionalChaining',\r\n    'nullishCoalescingOperator'\r\n];\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => val instanceof Date;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, babelParserDefaultPlugins, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, invokeArrayFns, isArray, isBooleanAttr, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","import { getCurrentInstance } from 'vue'\n\nexport function usePropUtils() {\n  return {\n    isAfferentProp: isAfferentProp()\n  }\n}\n\nfunction isAfferentProp() {\n  // Used only for setuping or mounting\n  const { vnode } = getCurrentInstance()\n  return (propKey) => {\n    return typeof vnode.props[propKey] !== 'undefined'\n  }\n}\n","import { isArray } from '@vue/shared'\nimport {\n  computed,\n  ref,\n  onMounted,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  reactive,\n  watchEffect\n} from 'vue'\nimport { useEmitter } from '../../src/use/emitter'\nimport { usePropUtils } from '../../src/use/prop-utils'\n\nexport function useModel() {\n  // core\n  const { emit, props } = getCurrentInstance()\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {} })\n  const { dispatch } = useEmitter()\n  const state = reactive({\n    modelValue: null\n    // If the parent element is ChceckboxGroup use its modelValue\n  })\n\n  watchEffect(() => {\n    state.modelValue = elCheckboxGroup.props.modelValue || props.modelValue\n  })\n\n  const model = computed({\n    get() {\n      return state.modelValue\n      // BUG: if the Checkbox list and modelValue are an object, this causes the object element to be deleted.\n      // Resolve: `isArray(modelValue) ? [...modelValue] : modelValue`, but doing so will invalidate the `checked` prop.\n    },\n    set({ label, checked }) {\n      if (label && isArray(model.value)) {\n        // when modelValue or elCheckboxGroup.modeValue is array\n        const modelValue = model.value\n        const labelIndex = modelValue.indexOf(label)\n        labelIndex === -1 && checked === true && modelValue.push(label)\n        labelIndex !== -1 &&\n          checked === false &&\n          modelValue.splice(labelIndex, 1)\n        state.modelValue = modelValue\n        emit('update:modelValue', modelValue)\n        dispatch('update:modelValue', modelValue)\n      } else {\n        const modelValue = checked ? props.trueLabel : props.falseLabel\n        state.modelValue = modelValue\n        emit('update:modelValue', modelValue)\n      }\n    }\n  })\n\n  async function handleChange() {\n    await nextTick()\n    emit('change', model.value)\n    dispatch('change', model.value)\n  }\n\n  return { model, handleChange }\n}\n\nexport function useAria() {\n  const { props, vnode } = getCurrentInstance()\n  onMounted(() => {\n    if (props.indeterminate) {\n      vnode.el.setAttribute('aria-controls', props.controls)\n    }\n  })\n}\n\nexport function useCheckSelected({ model }) {\n  const { props } = getCurrentInstance()\n  const { isAfferentProp } = usePropUtils()\n  const checkbox = ref(null)\n\n  onMounted(() => {\n    isAfferentProp('checked') &&\n      (model.value = { label: props.label, checked: props.checked })\n  })\n\n  const isChecked = computed(() => {\n    const _isChecked = isArray(model.value)\n      ? model.value.indexOf(props.label) !== -1\n      : model.value === props.trueLabel\n    checkbox.value && (checkbox.value.checked = _isChecked)\n    return _isChecked\n  })\n  return { isChecked, checkbox }\n}\n\nexport function useSize() {\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {}, proxy: {} })\n  const { props, proxy } = getCurrentInstance()\n  const checkboxSize = computed(() => {\n    return (\n      props.size ||\n      elCheckboxGroup.proxy.checkboxGroupSize ||\n      (proxy.$ELEMENT || {}).size\n    )\n  })\n  return checkboxSize\n}\n\nexport function useLimit({ model }) {\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {}, proxy: {} })\n  const { props } = getCurrentInstance()\n  const isLimit = computed(() => {\n    if (elCheckboxGroup.props.modelValue) {\n      // if elCheckboxGroup exist\n      const modelValueLength = elCheckboxGroup.props.modelValue.length\n      const min = elCheckboxGroup.props.min\n      const max = elCheckboxGroup.props.max\n      return (\n        (modelValueLength <= min && model.value.indexOf(props.label) !== -1) ||\n        (modelValueLength >= max && model.value.indexOf(props.label) === -1)\n      )\n    } else {\n      return false\n    }\n  })\n  return isLimit\n}\n\nexport function useDisabled({ isLimit }) {\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {}, proxy: {} })\n  const { props } = getCurrentInstance()\n  const isDisabled = computed(() => {\n    return (\n      props.disabled ||\n      elCheckboxGroup.proxy.checkboxGroupDisabled ||\n      isLimit.value\n    )\n  })\n  return isDisabled\n}\n\nexport function useBorder() {\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {}, proxy: {} })\n  const { props } = getCurrentInstance()\n  const isBorder = computed(() => {\n    return props.border || elCheckboxGroup.props.border\n  })\n  return isBorder\n}\n\nexport function useActiveStyle() {\n  const elCheckboxGroup = inject('elCheckboxGroup', { props: {}, proxy: {} })\n\n  return {\n    backgroundColor: elCheckboxGroup.props.fill || '',\n    borderColor: elCheckboxGroup.props.fill || '',\n    color: elCheckboxGroup.props.textColor || '',\n    'box-shadow': '-1px 0 0 0 ' + elCheckboxGroup.props.fill\n  }\n}\n","<template>\n  <label\n    class=\"el-checkbox\"\n    role=\"checkbox\"\n    :class=\"[\n      isBorder && checkboxSize ? 'el-checkbox--' + checkboxSize : '',\n      { 'is-disabled': isDisabled },\n      { 'is-bordered': isBorder },\n      { 'is-checked': isChecked }\n    ]\"\n    :id=\"id\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n  >\n    <span\n      class=\"el-checkbox__input\"\n      :class=\"{\n        'is-disabled': isDisabled,\n        'is-checked': isChecked,\n        'is-indeterminate': indeterminate,\n        'is-focus': focus\n      }\"\n      :tabindex=\"indeterminate ? 0 : false\"\n      :role=\"indeterminate ? 'checkbox' : false\"\n      :aria-checked=\"indeterminate ? 'mixed' : false\"\n    >\n      <span class=\"el-checkbox__inner\"></span>\n      <input\n        class=\"el-checkbox__original\"\n        type=\"checkbox\"\n        ref=\"checkbox\"\n        :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n        :name=\"name\"\n        :disabled=\"isDisabled\"\n        :true-value=\"trueLabel\"\n        :false-value=\"falseLabel\"\n        :value=\"label\"\n        @change=\"handleChange\"\n        @input=\"model = { label, checked: $event.target.checked }\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n      />\n    </span>\n    <span class=\"el-checkbox__label\" v-if=\"$slots.default || label\">\n      <slot></slot>\n      <template v-if=\"!$slots.default\">{{ label }}</template>\n    </span>\n  </label>\n</template>\n<script>\nimport { reactive, toRefs } from 'vue'\nimport {\n  useModel,\n  useAria,\n  useCheckSelected,\n  useSize,\n  useLimit,\n  useDisabled,\n  useBorder\n} from './uses.js'\nexport default {\n  name: 'ElCheckbox',\n\n  props: {\n    modelValue: [String, Number, Boolean, Symbol, Array],\n    label: [String, Number, Boolean, Symbol],\n    indeterminate: Boolean,\n    disabled: Boolean,\n    checked: Boolean,\n    name: String,\n    trueLabel: { type: [String, Number, Boolean], default: true },\n    falseLabel: { type: [String, Number, Boolean], default: false },\n    id: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    controls: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    border: Boolean,\n    size: String\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup() {\n    const state = reactive({\n      focus: false\n    })\n\n    useAria()\n\n    const { model, handleChange } = useModel()\n\n    const isLimit = useLimit({ model })\n\n    const { isChecked, checkbox } = useCheckSelected({ model })\n\n    const checkboxSize = useSize()\n\n    const isDisabled = useDisabled({ isLimit })\n\n    const isBorder = useBorder()\n\n    return {\n      ...toRefs(state),\n      checkbox,\n      model,\n      isDisabled,\n      checkboxSize,\n      isChecked,\n      handleChange,\n      isBorder\n    }\n  }\n}\n</script>\n","<template>\n  <label\n    class=\"el-checkbox\"\n    role=\"checkbox\"\n    :class=\"[\n      isBorder && checkboxSize ? 'el-checkbox--' + checkboxSize : '',\n      { 'is-disabled': isDisabled },\n      { 'is-bordered': isBorder },\n      { 'is-checked': isChecked }\n    ]\"\n    :id=\"id\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n  >\n    <span\n      class=\"el-checkbox__input\"\n      :class=\"{\n        'is-disabled': isDisabled,\n        'is-checked': isChecked,\n        'is-indeterminate': indeterminate,\n        'is-focus': focus\n      }\"\n      :tabindex=\"indeterminate ? 0 : false\"\n      :role=\"indeterminate ? 'checkbox' : false\"\n      :aria-checked=\"indeterminate ? 'mixed' : false\"\n    >\n      <span class=\"el-checkbox__inner\"></span>\n      <input\n        class=\"el-checkbox__original\"\n        type=\"checkbox\"\n        ref=\"checkbox\"\n        :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n        :name=\"name\"\n        :disabled=\"isDisabled\"\n        :true-value=\"trueLabel\"\n        :false-value=\"falseLabel\"\n        :value=\"label\"\n        @change=\"handleChange\"\n        @input=\"model = { label, checked: $event.target.checked }\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n      />\n    </span>\n    <span class=\"el-checkbox__label\" v-if=\"$slots.default || label\">\n      <slot></slot>\n      <template v-if=\"!$slots.default\">{{ label }}</template>\n    </span>\n  </label>\n</template>\n<script>\nimport { reactive, toRefs } from 'vue'\nimport {\n  useModel,\n  useAria,\n  useCheckSelected,\n  useSize,\n  useLimit,\n  useDisabled,\n  useBorder\n} from './uses.js'\nexport default {\n  name: 'ElCheckbox',\n\n  props: {\n    modelValue: [String, Number, Boolean, Symbol, Array],\n    label: [String, Number, Boolean, Symbol],\n    indeterminate: Boolean,\n    disabled: Boolean,\n    checked: Boolean,\n    name: String,\n    trueLabel: { type: [String, Number, Boolean], default: true },\n    falseLabel: { type: [String, Number, Boolean], default: false },\n    id: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    controls: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    border: Boolean,\n    size: String\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup() {\n    const state = reactive({\n      focus: false\n    })\n\n    useAria()\n\n    const { model, handleChange } = useModel()\n\n    const isLimit = useLimit({ model })\n\n    const { isChecked, checkbox } = useCheckSelected({ model })\n\n    const checkboxSize = useSize()\n\n    const isDisabled = useDisabled({ isLimit })\n\n    const isBorder = useBorder()\n\n    return {\n      ...toRefs(state),\n      checkbox,\n      model,\n      isDisabled,\n      checkboxSize,\n      isChecked,\n      handleChange,\n      isBorder\n    }\n  }\n}\n</script>\n","import ElCheckbox from './Checkbox'\n\n/* istanbul ignore next */\nElCheckbox.install = function (app) {\n  app.component(ElCheckbox.name, ElCheckbox)\n}\n\nexport default ElCheckbox\n","<template>\n  <label\n    class=\"el-checkbox-button\"\n    role=\"checkbox\"\n    :class=\"[\n      checkboxSize ? 'el-checkbox-button--' + checkboxSize : '',\n      { 'is-disabled': isDisabled },\n      { 'is-checked': isChecked },\n      { 'is-focus': focus }\n    ]\"\n    :id=\"id\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n  >\n    <input\n      class=\"el-checkbox-button__original\"\n      type=\"checkbox\"\n      ref=\"checkbox\"\n      :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n      :name=\"name\"\n      :disabled=\"isDisabled\"\n      :true-value=\"trueLabel\"\n      :false-value=\"falseLabel\"\n      :modelValue=\"model\"\n      :value=\"label\"\n      @change=\"handleChange\"\n      @input=\"model = { label, checked: $event.target.checked }\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n    />\n\n    <span\n      class=\"el-checkbox-button__inner\"\n      v-if=\"$slots.default || label\"\n      :style=\"isChecked ? activeStyle : null\"\n    >\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n<script>\nimport { reactive, toRefs } from 'vue'\nimport {\n  useModel,\n  useAria,\n  useCheckSelected,\n  useSize,\n  useLimit,\n  useDisabled,\n  useActiveStyle\n} from '../checkbox/uses'\nexport default {\n  name: 'ElCheckboxButton',\n\n  props: {\n    modelValue: [String, Number, Boolean, Symbol, Array],\n    label: [String, Number, Boolean, Symbol],\n    indeterminate: Boolean,\n    disabled: Boolean,\n    checked: Boolean,\n    name: String,\n    trueLabel: { type: [String, Number, Boolean], default: true },\n    falseLabel: { type: [String, Number, Boolean], default: false },\n    id: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    controls: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    border: Boolean,\n    size: String\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup() {\n    const state = reactive({\n      focus: false\n    })\n\n    useAria()\n\n    const { model, handleChange } = useModel()\n\n    const isLimit = useLimit({ model })\n\n    const { isChecked, checkbox } = useCheckSelected({ model })\n\n    const checkboxSize = useSize()\n\n    const isDisabled = useDisabled({ isLimit })\n\n    const activeStyle = useActiveStyle()\n\n    return {\n      ...toRefs(state),\n      checkbox,\n      model,\n      isDisabled,\n      checkboxSize,\n      isChecked,\n      handleChange,\n      activeStyle\n    }\n  }\n}\n</script>\n","<template>\n  <label\n    class=\"el-checkbox-button\"\n    role=\"checkbox\"\n    :class=\"[\n      checkboxSize ? 'el-checkbox-button--' + checkboxSize : '',\n      { 'is-disabled': isDisabled },\n      { 'is-checked': isChecked },\n      { 'is-focus': focus }\n    ]\"\n    :id=\"id\"\n    :aria-checked=\"isChecked\"\n    :aria-disabled=\"isDisabled\"\n  >\n    <input\n      class=\"el-checkbox-button__original\"\n      type=\"checkbox\"\n      ref=\"checkbox\"\n      :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n      :name=\"name\"\n      :disabled=\"isDisabled\"\n      :true-value=\"trueLabel\"\n      :false-value=\"falseLabel\"\n      :modelValue=\"model\"\n      :value=\"label\"\n      @change=\"handleChange\"\n      @input=\"model = { label, checked: $event.target.checked }\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n    />\n\n    <span\n      class=\"el-checkbox-button__inner\"\n      v-if=\"$slots.default || label\"\n      :style=\"isChecked ? activeStyle : null\"\n    >\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n<script>\nimport { reactive, toRefs } from 'vue'\nimport {\n  useModel,\n  useAria,\n  useCheckSelected,\n  useSize,\n  useLimit,\n  useDisabled,\n  useActiveStyle\n} from '../checkbox/uses'\nexport default {\n  name: 'ElCheckboxButton',\n\n  props: {\n    modelValue: [String, Number, Boolean, Symbol, Array],\n    label: [String, Number, Boolean, Symbol],\n    indeterminate: Boolean,\n    disabled: Boolean,\n    checked: Boolean,\n    name: String,\n    trueLabel: { type: [String, Number, Boolean], default: true },\n    falseLabel: { type: [String, Number, Boolean], default: false },\n    id: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    controls: String /* 当indeterminate为真时，为controls提供相关连的checkbox的id，表明元素间的控制关系 */,\n    border: Boolean,\n    size: String\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup() {\n    const state = reactive({\n      focus: false\n    })\n\n    useAria()\n\n    const { model, handleChange } = useModel()\n\n    const isLimit = useLimit({ model })\n\n    const { isChecked, checkbox } = useCheckSelected({ model })\n\n    const checkboxSize = useSize()\n\n    const isDisabled = useDisabled({ isLimit })\n\n    const activeStyle = useActiveStyle()\n\n    return {\n      ...toRefs(state),\n      checkbox,\n      model,\n      isDisabled,\n      checkboxSize,\n      isChecked,\n      handleChange,\n      activeStyle\n    }\n  }\n}\n</script>\n","import ElCheckboxButton from './CheckboxButton'\n\n/* istanbul ignore next */\nElCheckboxButton.install = function (app) {\n  app.component(ElCheckboxButton.name, ElCheckboxButton)\n}\n\nexport default ElCheckboxButton\n","<template>\n  <div class=\"el-checkbox-group\" role=\"group\" aria-label=\"checkbox-group\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { useEmitter } from '../../src/use/emitter'\nimport { provide, getCurrentInstance, computed, inject } from 'vue'\nexport default {\n  name: 'ElCheckboxGroup',\n\n  props: {\n    modelValue: Array,\n    disabled: Boolean,\n    min: Number,\n    max: Number,\n    size: String,\n    fill: String,\n    textColor: String,\n    border: Boolean\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props, { emit }) {\n    const elForm = inject('elForm', { props: {}, ctx: {} })\n    const elFormItem = inject('elFormItem', {})\n    provide('elCheckboxGroup', getCurrentInstance())\n\n    const { dispatch, on } = useEmitter()\n\n    const checkboxGroupSize = computed(() => {\n      return props.size || elFormItem.elFormItemSize\n    })\n\n    const checkboxGroupDisabled = computed(() => {\n      return props.disabled || elForm.disabled\n    })\n\n    on('update:modelValue', (v) => {\n      emit('update:modelValue', v)\n      dispatch('el.form.change', v)\n    })\n\n    on('change', (v) => {\n      emit('change', v)\n    })\n\n    return {\n      checkboxGroupSize,\n      checkboxGroupDisabled\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-checkbox-group\" role=\"group\" aria-label=\"checkbox-group\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { useEmitter } from '../../src/use/emitter'\nimport { provide, getCurrentInstance, computed, inject } from 'vue'\nexport default {\n  name: 'ElCheckboxGroup',\n\n  props: {\n    modelValue: Array,\n    disabled: Boolean,\n    min: Number,\n    max: Number,\n    size: String,\n    fill: String,\n    textColor: String,\n    border: Boolean\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props, { emit }) {\n    const elForm = inject('elForm', { props: {}, ctx: {} })\n    const elFormItem = inject('elFormItem', {})\n    provide('elCheckboxGroup', getCurrentInstance())\n\n    const { dispatch, on } = useEmitter()\n\n    const checkboxGroupSize = computed(() => {\n      return props.size || elFormItem.elFormItemSize\n    })\n\n    const checkboxGroupDisabled = computed(() => {\n      return props.disabled || elForm.disabled\n    })\n\n    on('update:modelValue', (v) => {\n      emit('update:modelValue', v)\n      dispatch('el.form.change', v)\n    })\n\n    on('change', (v) => {\n      emit('change', v)\n    })\n\n    return {\n      checkboxGroupSize,\n      checkboxGroupDisabled\n    }\n  }\n}\n</script>\n","import ElCheckboxGroup from './CheckboxGroup'\n\n/* istanbul ignore next */\nElCheckboxGroup.install = function (app) {\n  app.component(ElCheckboxGroup.name, ElCheckboxGroup)\n}\n\nexport default ElCheckboxGroup\n","export const props = {\n  showWordLimit: {\n    type: Boolean,\n    default: false\n  },\n  modelValue: {\n    type: [String, Number],\n    default: ''\n  },\n  clearable: {\n    type: Boolean,\n    default: false\n  },\n  showPassword: {\n    type: Boolean,\n    default: false\n  },\n  prefixIcon: {\n    type: String\n  },\n  suffixIcon: {\n    type: String\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  type: {\n    type: String,\n    default: 'text'\n  },\n  size: {\n    type: String,\n    validator: function (value) {\n      return ['medium', 'small', 'mini', ''].includes(value)\n    }\n  },\n  autosize: {\n    type: [Boolean, Object],\n    default: false\n  },\n  resize: {\n    type: String\n  }\n}\n","let hiddenTextarea\n\nconst HIDDEN_STYLE = `\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`\n\nconst CONTEXT_STYLE = [\n  'letter-spacing',\n  'line-height',\n  'padding-top',\n  'padding-bottom',\n  'font-family',\n  'font-weight',\n  'font-size',\n  'text-rendering',\n  'text-transform',\n  'width',\n  'text-indent',\n  'padding-left',\n  'padding-right',\n  'border-width',\n  'box-sizing'\n]\n\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement)\n\n  const boxSizing = style.getPropertyValue('box-sizing')\n\n  const paddingSize =\n    parseFloat(style.getPropertyValue('padding-bottom')) +\n    parseFloat(style.getPropertyValue('padding-top'))\n\n  const borderSize =\n    parseFloat(style.getPropertyValue('border-bottom-width')) +\n    parseFloat(style.getPropertyValue('border-top-width'))\n\n  const contextStyle = CONTEXT_STYLE.map(\n    (name) => `${name}:${style.getPropertyValue(name)}`\n  ).join(';')\n\n  return { contextStyle, paddingSize, borderSize, boxSizing }\n}\n\nexport default function calcTextareaHeight(\n  targetElement,\n  minRows = 1,\n  maxRows = null\n) {\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea')\n    document.body.appendChild(hiddenTextarea)\n  }\n\n  const {\n    paddingSize,\n    borderSize,\n    boxSizing,\n    contextStyle\n  } = calculateNodeStyling(targetElement)\n\n  hiddenTextarea.setAttribute('style', `${contextStyle};${HIDDEN_STYLE}`)\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || ''\n\n  let height = hiddenTextarea.scrollHeight\n  const result = {}\n\n  if (boxSizing === 'border-box') {\n    height = height + borderSize\n  } else if (boxSizing === 'content-box') {\n    height = height - paddingSize\n  }\n\n  hiddenTextarea.value = ''\n  const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize\n\n  if (minRows !== null) {\n    let minHeight = singleRowHeight * minRows\n    if (boxSizing === 'border-box') {\n      minHeight = minHeight + paddingSize + borderSize\n    }\n    height = Math.max(minHeight, height)\n    result.minHeight = `${minHeight}px`\n  }\n  if (maxRows !== null) {\n    let maxHeight = singleRowHeight * maxRows\n    if (boxSizing === 'border-box') {\n      maxHeight = maxHeight + paddingSize + borderSize\n    }\n    height = Math.min(maxHeight, height)\n  }\n  result.height = `${height}px`\n  hiddenTextarea.parentNode &&\n    hiddenTextarea.parentNode.removeChild(hiddenTextarea)\n  hiddenTextarea = null\n  return result\n}\n","import { ref, computed, watch, reactive, toRefs, inject, onMounted } from 'vue'\nimport calcTextareaHeight from './calcTextareaHeight'\n\nexport const useClass = (inputSize, inputExceed, props, attrs, slots) => {\n  return computed(() => {\n    const classes = [\n      inputSize.value ? 'el-input--' + inputSize.value : '',\n      props.type === 'textarea' ? 'el-textarea' : 'el-input'\n    ]\n\n    if (attrs.disabled) {\n      classes.push('is-disabled')\n    }\n\n    if (inputExceed.value) {\n      classes.push('is-exceed')\n    }\n\n    if (slots.prepend || slots.append) {\n      classes.push('el-input-group')\n    }\n\n    if (slots.append) {\n      classes.push('el-input-group--append')\n    }\n\n    if (slots.prepend) {\n      classes.push('el-input-group--prepend')\n    }\n    if (slots.prefix || props.prefixIcon) {\n      classes.push('el-input--prefix')\n    }\n\n    if (\n      slots.suffix ||\n      props.suffixIcon ||\n      slots.suffixIcon ||\n      attrs.clearable ||\n      attrs.showPassword\n    ) {\n      classes.push('el-input--suffix')\n    }\n\n    return classes\n  })\n}\n\nexport const useInput = (props, cxt, textarea) => {\n  const input = ref(null)\n\n  const elFormItem = inject('elFormItem', {})\n\n  const elFormChange = inject('elForm.change', () => {})\n\n  const {\n    modelValue,\n    size,\n    suffixIcon,\n    clearable,\n    showPassword,\n    showWordLimit\n  } = toRefs(props)\n\n  const nativeInputValue = computed(() => {\n    return modelValue.value === null || modelValue.value === undefined\n      ? ''\n      : String(modelValue.value)\n  })\n\n  const textLength = computed(() => {\n    if (typeof modelValue.value === 'number') {\n      return String(modelValue.value).length >= Number(cxt.attrs.maxlength)\n        ? Number(cxt.attrs.maxlength)\n        : String(modelValue.value).length\n    }\n\n    return modelValue.value.length >= Number(cxt.attrs.maxlength)\n      ? Number(cxt.attrs.maxlength)\n      : modelValue.value.length\n  })\n\n  const elFormItemSize = computed(() => {\n    return elFormItem.elFormItemSize || ''\n  })\n\n  const inputSize = computed(() => {\n    return size?.value || elFormItemSize.value\n  })\n\n  const inputExceed = computed(() => {\n    return props.modelValue?.length >= Number(cxt.attrs.maxlength)\n      ? true\n      : false\n  })\n\n  const getInput = () =>\n    computed({\n      get: () => (input.value ? input.value : textarea.value),\n      set: (value) => {\n        if (input?.value) {\n          input.value.value = value\n        }\n\n        if (textarea?.value) {\n          textarea.value.value = value\n        }\n      }\n    })\n\n  const clearValue = () => {\n    cxt.emit('update:modelValue', '')\n  }\n\n  const setNativeInputValue = () => {\n    const input = getInput()\n    if (!input) return\n    input.value = nativeInputValue.value\n  }\n\n  const getSuffixVisible = computed(() => {\n    return (\n      cxt.slots.suffix ||\n      suffixIcon?.value ||\n      clearable?.value ||\n      showPassword?.value ||\n      showWordLimit?.value\n    )\n  })\n\n  onMounted(() => {\n    setNativeInputValue(nativeInputValue.value)\n  })\n\n  watch(\n    () => props.modelValue,\n    () => {\n      setNativeInputValue()\n      if (props.validateEvent) {\n        elFormChange()\n      }\n    }\n  )\n\n  return {\n    input,\n    getInput,\n    nativeInputValue,\n    textLength,\n    clearValue,\n    inputSize,\n    getSuffixVisible,\n    inputExceed\n  }\n}\n\nexport const useInputEvent = (emit) => {\n  const handleInput = (event) => {\n    emit('update:modelValue', event.target.value)\n    emit('input', event.target.value)\n  }\n\n  const handleFocus = (event) => {\n    emit('focus', event)\n  }\n\n  const handleBlur = (event) => emit('blur', event)\n\n  const handleClear = () => {\n    emit('update:modelValue', '')\n    emit('clear')\n  }\n\n  const onChange = (event) => {\n    emit('change', event.target.value)\n  }\n\n  return {\n    handleInput,\n    handleFocus,\n    handleBlur,\n    handleClear,\n    onChange\n  }\n}\n\nexport const useInputMethod = (element) => {\n  const focus = () => {\n    element.value.focus()\n  }\n\n  const blur = () => {\n    element.value.blur()\n  }\n\n  const select = () => {\n    element.value.select()\n  }\n\n  return {\n    focus,\n    blur,\n    select\n  }\n}\n\nexport const useTextarea = (props) => {\n  const textarea = ref(null)\n\n  const { autosize, type, resize } = toRefs(props)\n\n  const state = reactive({\n    textareaCalcStyle: {}\n  })\n\n  const textareaStyle = computed(() => {\n    return Object.assign({}, state.textareaCalcStyle, { resize: resize?.value })\n  })\n\n  watch(\n    () => props.modelValue,\n    () => resizeTextarea()\n  )\n\n  const resizeTextarea = () => {\n    if (type.value !== 'textarea') return\n    if (!autosize.value) {\n      state.textareaCalcStyle = {\n        minHeight: calcTextareaHeight(textarea.value).minHeight\n      }\n\n      return\n    }\n    const minRows = autosize.value.minRows\n    const maxRows = autosize.value.maxRows\n    state.textareaCalcStyle = calcTextareaHeight(\n      textarea.value,\n      minRows,\n      maxRows\n    )\n  }\n\n  return { textarea, textareaStyle, resizeTextarea }\n}\n","<template>\n  <div :style=\"$attrs.style\" :class=\"classes\">\n    <template v-if=\"type !== 'textarea'\">\n      <div class=\"el-input-group__prepend\" v-if=\"$slots.prepend\">\n        <slot name=\"prepend\"></slot>\n      </div>\n      <input\n        class=\"el-input__inner\"\n        ref=\"input\"\n        v-bind=\"$attrs\"\n        @blur=\"handleBlur\"\n        @focus=\"handleFocus\"\n        @change=\"onChange\"\n        :type=\"showPassword ? (isVisiablePassword ? 'text' : 'password') : type\"\n        @input=\"handleInput\"\n      />\n      <span class=\"el-input__prefix\" v-if=\"$slots.prefix || prefixIcon\">\n        <slot name=\"prefix\"></slot>\n        <i class=\"el-input__icon\" v-if=\"prefixIcon\" :class=\"prefixIcon\"></i>\n      </span>\n      <span class=\"el-input__suffix\" v-if=\"getSuffixVisible\">\n        <span class=\"el-input__suffix-inner\">\n          <template v-if=\"!clearable || !showPassword || !showWordLimit\">\n            <slot name=\"suffix\"></slot>\n            <i class=\"el-input__icon\" v-if=\"suffixIcon\" :class=\"suffixIcon\"></i>\n          </template>\n          <i\n            v-if=\"clearable\"\n            class=\"el-input__icon el-icon-circle-close el-input__clear\"\n            @mousedown.prevent\n            @click.prevent=\"handleClear\"\n          ></i>\n\n          <i\n            v-if=\"showPassword\"\n            class=\"el-input__icon el-icon-view el-input__clear\"\n            @mousedown.prevent\n            @click.prevent=\"togglePassword\"\n          ></i>\n\n          <span v-if=\"showWordLimit\" class=\"el-input__count\">\n            <span class=\"el-input__count-inner\"\n              >{{ textLength }}/{{ $attrs.maxlength }}</span\n            >\n          </span>\n        </span>\n      </span>\n      <!-- 后置元素 -->\n      <div class=\"el-input-group__append\" v-if=\"$slots.append\">\n        <slot name=\"append\"></slot>\n      </div>\n    </template>\n    <template v-else>\n      <textarea\n        class=\"el-textarea__inner\"\n        ref=\"textarea\"\n        :style=\"textareaStyle\"\n        v-bind=\"$attrs\"\n        @input=\"handleInput\"\n        @blur=\"handleBlur\"\n        @focus=\"handleFocus\"\n        @change=\"onChange\"\n      >\n      </textarea>\n      <span v-if=\"showWordLimit\" class=\"el-input__count\"\n        >{{ modelValue.length }}/{{ $attrs.maxlength }}</span\n      >\n    </template>\n  </div>\n</template>\n<script>\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { props } from './props'\n\nimport {\n  useInput,\n  useTextarea,\n  useInputMethod,\n  useInputEvent,\n  useClass\n} from './use'\n\nexport default defineComponent({\n  name: 'ElInput',\n  inheritAttrs: false,\n  props: props,\n  emits: ['blur', 'focus', 'change', 'input', 'clear', 'update:modelValue'],\n\n  setup(props, cxt) {\n    const state = reactive({\n      isVisiablePassword: false\n    })\n\n    const { inputSize } = useInput(props, cxt)\n\n    const { attrs, emit } = cxt\n\n    const { textarea, textareaStyle } = useTextarea(props)\n\n    const {\n      input,\n      textLength,\n      getSuffixVisible,\n      inputExceed,\n      getInput\n    } = useInput(props, cxt, textarea)\n\n    const classes = useClass(\n      inputSize,\n      inputExceed,\n      props,\n      cxt.attrs,\n      cxt.slots\n    )\n    const {\n      handleInput,\n      handleFocus,\n      handleBlur,\n      handleClear,\n      onChange\n    } = useInputEvent(emit)\n\n    const { focus, select, blur } = useInputMethod(getInput())\n\n    const togglePassword = () =>\n      (state.isVisiablePassword = !state.isVisiablePassword)\n\n    return {\n      isVisiablePassword: toRef(state, 'isVisiablePassword'),\n      focus,\n      select,\n      blur,\n      handleBlur,\n      handleInput,\n      handleFocus,\n      togglePassword,\n      onChange,\n      getSuffixVisible,\n      attrs,\n      input,\n      textarea,\n      handleClear,\n      textLength,\n      textareaStyle,\n      classes\n    }\n  }\n})\n</script>\n","<template>\n  <div :style=\"$attrs.style\" :class=\"classes\">\n    <template v-if=\"type !== 'textarea'\">\n      <div class=\"el-input-group__prepend\" v-if=\"$slots.prepend\">\n        <slot name=\"prepend\"></slot>\n      </div>\n      <input\n        class=\"el-input__inner\"\n        ref=\"input\"\n        v-bind=\"$attrs\"\n        @blur=\"handleBlur\"\n        @focus=\"handleFocus\"\n        @change=\"onChange\"\n        :type=\"showPassword ? (isVisiablePassword ? 'text' : 'password') : type\"\n        @input=\"handleInput\"\n      />\n      <span class=\"el-input__prefix\" v-if=\"$slots.prefix || prefixIcon\">\n        <slot name=\"prefix\"></slot>\n        <i class=\"el-input__icon\" v-if=\"prefixIcon\" :class=\"prefixIcon\"></i>\n      </span>\n      <span class=\"el-input__suffix\" v-if=\"getSuffixVisible\">\n        <span class=\"el-input__suffix-inner\">\n          <template v-if=\"!clearable || !showPassword || !showWordLimit\">\n            <slot name=\"suffix\"></slot>\n            <i class=\"el-input__icon\" v-if=\"suffixIcon\" :class=\"suffixIcon\"></i>\n          </template>\n          <i\n            v-if=\"clearable\"\n            class=\"el-input__icon el-icon-circle-close el-input__clear\"\n            @mousedown.prevent\n            @click.prevent=\"handleClear\"\n          ></i>\n\n          <i\n            v-if=\"showPassword\"\n            class=\"el-input__icon el-icon-view el-input__clear\"\n            @mousedown.prevent\n            @click.prevent=\"togglePassword\"\n          ></i>\n\n          <span v-if=\"showWordLimit\" class=\"el-input__count\">\n            <span class=\"el-input__count-inner\"\n              >{{ textLength }}/{{ $attrs.maxlength }}</span\n            >\n          </span>\n        </span>\n      </span>\n      <!-- 后置元素 -->\n      <div class=\"el-input-group__append\" v-if=\"$slots.append\">\n        <slot name=\"append\"></slot>\n      </div>\n    </template>\n    <template v-else>\n      <textarea\n        class=\"el-textarea__inner\"\n        ref=\"textarea\"\n        :style=\"textareaStyle\"\n        v-bind=\"$attrs\"\n        @input=\"handleInput\"\n        @blur=\"handleBlur\"\n        @focus=\"handleFocus\"\n        @change=\"onChange\"\n      >\n      </textarea>\n      <span v-if=\"showWordLimit\" class=\"el-input__count\"\n        >{{ modelValue.length }}/{{ $attrs.maxlength }}</span\n      >\n    </template>\n  </div>\n</template>\n<script>\nimport { defineComponent, toRef, reactive } from 'vue'\nimport { props } from './props'\n\nimport {\n  useInput,\n  useTextarea,\n  useInputMethod,\n  useInputEvent,\n  useClass\n} from './use'\n\nexport default defineComponent({\n  name: 'ElInput',\n  inheritAttrs: false,\n  props: props,\n  emits: ['blur', 'focus', 'change', 'input', 'clear', 'update:modelValue'],\n\n  setup(props, cxt) {\n    const state = reactive({\n      isVisiablePassword: false\n    })\n\n    const { inputSize } = useInput(props, cxt)\n\n    const { attrs, emit } = cxt\n\n    const { textarea, textareaStyle } = useTextarea(props)\n\n    const {\n      input,\n      textLength,\n      getSuffixVisible,\n      inputExceed,\n      getInput\n    } = useInput(props, cxt, textarea)\n\n    const classes = useClass(\n      inputSize,\n      inputExceed,\n      props,\n      cxt.attrs,\n      cxt.slots\n    )\n    const {\n      handleInput,\n      handleFocus,\n      handleBlur,\n      handleClear,\n      onChange\n    } = useInputEvent(emit)\n\n    const { focus, select, blur } = useInputMethod(getInput())\n\n    const togglePassword = () =>\n      (state.isVisiablePassword = !state.isVisiablePassword)\n\n    return {\n      isVisiablePassword: toRef(state, 'isVisiablePassword'),\n      focus,\n      select,\n      blur,\n      handleBlur,\n      handleInput,\n      handleFocus,\n      togglePassword,\n      onChange,\n      getSuffixVisible,\n      attrs,\n      input,\n      textarea,\n      handleClear,\n      textLength,\n      textareaStyle,\n      classes\n    }\n  }\n})\n</script>\n","import ElInput from './src/Input.vue'\n\n/* istanbul ignore next */\nElInput.install = function (app) {\n  app.component(ElInput.name, ElInput)\n}\n\nexport { ElInput }\n","import { getCurrentInstance, isRef } from 'vue'\n\nfunction useFocus(ref) {\n  return function focus() {\n    if (isRef(ref)) {\n      ref.value.focus()\n    } else {\n      const { proxy } = getCurrentInstance()\n      proxy.$refs[ref].focus()\n    }\n  }\n}\n\nexport default useFocus\n","import { once, on } from '../utils/dom'\n\nconst INTERVAL_TIME = 100\nexport default {\n  beforeMount(el, binding) {\n    let startTime\n    let intervalId\n\n    const callHandler = () => binding.value && binding.value()\n\n    const clearIntervalHandler = () => {\n      if (intervalId) {\n        clearInterval(intervalId)\n        intervalId = null\n      }\n    }\n\n    const isMainKey = (e) => {\n      // 0：主按键，通常指鼠标左键或默认值\n      return e.button === 0\n    }\n\n    const handleMouseup = () => {\n      if (Date.now() - startTime < INTERVAL_TIME) {\n        callHandler()\n      }\n      clearIntervalHandler()\n    }\n\n    const handleMousedown = (e) => {\n      if (!isMainKey(e)) return\n      startTime = Date.now()\n      once(document, 'mouseup', handleMouseup)\n      clearIntervalHandler()\n      intervalId = setInterval(callHandler, INTERVAL_TIME)\n    }\n\n    on(el, 'mousedown', handleMousedown)\n  }\n}\n","<template>\n  <div\n    :class=\"[\n      'el-input-number',\n      inputNumberSize ? 'el-input-number--' + inputNumberSize : '',\n      { 'is-disabled': inputNumberDisabled },\n      { 'is-without-controls': !controls },\n      { 'is-controls-right': controlsAtRight }\n    ]\"\n    @dragstart.prevent\n  >\n    <span\n      :class=\"{ 'is-disabled': minDisabled }\"\n      @keydown.enter=\"decrease\"\n      class=\"el-input-number__decrease\"\n      role=\"button\"\n      v-if=\"controls\"\n      v-repeat-click=\"decrease\"\n    >\n      <i :class=\"`el-icon-${controlsAtRight ? 'arrow-down' : 'minus'}`\"></i>\n    </span>\n    <span\n      :class=\"{ 'is-disabled': maxDisabled }\"\n      @keydown.enter=\"increase\"\n      class=\"el-input-number__increase\"\n      role=\"button\"\n      v-if=\"controls\"\n      v-repeat-click=\"increase\"\n    >\n      <i :class=\"`el-icon-${controlsAtRight ? 'arrow-up' : 'plus'}`\"></i>\n    </span>\n    <el-input\n      :disabled=\"inputNumberDisabled\"\n      :label=\"label\"\n      :max=\"max\"\n      :min=\"min\"\n      :name=\"name\"\n      :placeholder=\"placeholder\"\n      :size=\"inputNumberSize\"\n      @blur=\"handleBlur\"\n      @change=\"handleInputChange\"\n      @focus=\"handleFocus\"\n      @input=\"handleInput\"\n      @keydown.down.prevent=\"decrease\"\n      @keydown.up.prevent=\"increase\"\n      ref=\"input\"\n      v-model=\"displayValue\"\n    ></el-input>\n  </div>\n</template>\n<script>\nimport { ElInput } from '../../src/components/Input'\nimport useFocus from '../../src/use/focus.js'\nimport RepeatClick from '../../src/directives/repeatClick'\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  onMounted,\n  onUpdated,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\n\nexport default {\n  name: 'ElInputNumber',\n  directives: {\n    repeatClick: RepeatClick\n  },\n  components: {\n    ElInput\n  },\n  props: {\n    step: {\n      type: Number,\n      default: 1\n    },\n    stepStrictly: {\n      type: Boolean,\n      default: false\n    },\n    max: {\n      type: Number,\n      default: Infinity\n    },\n    min: {\n      type: Number,\n      default: -Infinity\n    },\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    disabled: Boolean,\n    size: {\n      default: '',\n      type: String\n    },\n    controls: {\n      type: Boolean,\n      default: true\n    },\n    controlsPosition: {\n      type: String,\n      default: ''\n    },\n    name: String,\n    label: String,\n    placeholder: String,\n    precision: {\n      type: Number,\n      validator(val) {\n        return val >= 0 && val === parseInt(val, 10)\n      },\n      default: undefined\n    }\n  },\n  emits: ['change', 'update:modelValue', 'blur', 'focus'],\n  setup(props, { emit }) {\n    const { proxy } = getCurrentInstance()\n    const {\n      step,\n      stepStrictly,\n      max,\n      min,\n      modelValue,\n      disabled,\n      size,\n      controls,\n      controlsPosition,\n      precision\n    } = toRefs(props)\n\n    const state = reactive({\n      currentValue: 0,\n      userInput: null\n    })\n    const focus = useFocus('input')\n\n    const getPrecision = (value) => {\n      if (value === undefined) return 0\n      const valueString = value.toString()\n      const dotPosition = valueString.indexOf('.')\n      let precision = 0\n      if (dotPosition !== -1) {\n        precision = valueString.length - dotPosition - 1\n      }\n      return precision\n    }\n\n    const setCurrentValue = (newVal) => {\n      const oldVal = state.currentValue\n      if (typeof newVal === 'number' && precision.value !== undefined) {\n        newVal = toPrecision(newVal, precision.value)\n      }\n      if (newVal >= max.value) newVal = max.value\n      if (newVal <= min.value) newVal = min.value\n      if (oldVal === newVal) return\n      state.userInput = null\n      emit('update:modelValue', newVal)\n      emit('change', newVal, oldVal)\n      state.currentValue = newVal\n    }\n\n    const toPrecision = (num, precision) => {\n      if (precision === undefined) precision = numPrecision.value\n      return parseFloat(\n        Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision)\n      )\n    }\n\n    const _decrease = (val, step) => {\n      if (typeof val !== 'number' && val !== undefined) {\n        return state.currentValue\n      }\n\n      const precisionFactor = Math.pow(10, numPrecision.value)\n\n      return toPrecision(\n        (precisionFactor * val - precisionFactor * step) / precisionFactor\n      )\n    }\n\n    const _increase = (val, step) => {\n      if (typeof val !== 'number' && val !== undefined) {\n        return state.currentValue\n      }\n\n      const precisionFactor = Math.pow(10, numPrecision.value)\n      // Solve the accuracy problem of JS decimal calculation by converting the value to integer.\n      return toPrecision(\n        (precisionFactor * val + precisionFactor * step) / precisionFactor\n      )\n    }\n\n    const minDisabled = computed(() => {\n      return _decrease(modelValue.value, step.value) < min.value\n    })\n\n    const maxDisabled = computed(() => {\n      return _increase(modelValue.value, step.value) > max.value\n    })\n\n    const numPrecision = computed(() => {\n      const stepPrecision = getPrecision(step.value)\n      if (precision.value !== undefined) {\n        if (stepPrecision > precision.value) {\n          console.warn(\n            '[Element Warn][InputNumber]precision should not be less than the decimal places of step'\n          )\n        }\n        return precision.value\n      } else {\n        return Math.max(getPrecision(modelValue.value), stepPrecision)\n      }\n    })\n\n    const controlsAtRight = computed(\n      () => controls.value && controlsPosition.value === 'right'\n    )\n\n    const _elFormItemSize = computed(() => {\n      const elFormItem = inject('elFormItem', {})\n      return (elFormItem || {}).elFormItemSize\n    })\n\n    const inputNumberSize = computed(() => {\n      return size.value || _elFormItemSize.value || (proxy.$ELEMENT || {}).size\n    })\n\n    const inputNumberDisabled = computed(() => {\n      const elForm = inject('elForm', {})\n      return disabled.value || !!(elForm || {}).disabled\n    })\n\n    const displayValue = computed({\n      get: () => {\n        if (state.userInput !== null) {\n          return state.userInput\n        }\n        let currentValue = state.currentValue\n        if (typeof currentValue === 'number') {\n          if (stepStrictly.value) {\n            const stepPrecision = getPrecision(step.value)\n            const precisionFactor = Math.pow(10, stepPrecision)\n            currentValue =\n              (Math.round(currentValue / step.value) *\n                precisionFactor *\n                step.value) /\n              precisionFactor\n          }\n          if (precision.value !== undefined) {\n            currentValue = currentValue.toFixed(precision.value)\n          }\n        }\n        return currentValue\n      },\n      set: () => {\n        return state.currentValue\n      }\n    })\n    const increase = () => {\n      if (inputNumberDisabled.value || maxDisabled.value) return\n\n      const value = modelValue.value || 0\n      const newVal = _increase(value, step.value)\n      setCurrentValue(newVal)\n    }\n\n    const decrease = () => {\n      if (inputNumberDisabled.value || minDisabled.value) return\n      const value = modelValue.value || 0\n      const newVal = _decrease(value, step.value)\n      setCurrentValue(newVal)\n    }\n\n    const handleInput = (value) => {\n      state.userInput = value\n    }\n\n    const handleInputChange = (value) => {\n      const newVal = value === '' ? undefined : Number(value)\n      if (!isNaN(newVal) || value === '') {\n        setCurrentValue(newVal)\n      }\n      state.userInput = null\n    }\n\n    onMounted(() => {\n      const { refs } = getCurrentInstance()\n      const innerInput = refs.input.$el && refs.input.$refs.input\n\n      innerInput.setAttribute('role', 'spinbutton')\n      innerInput.setAttribute('aria-valuemax', max.value)\n      innerInput.setAttribute('aria-valuemin', min.value)\n      innerInput.setAttribute('aria-valuenow', state.currentValue)\n      innerInput.setAttribute('aria-disabled', inputNumberDisabled.value)\n    })\n\n    onUpdated(() => {\n      const { refs } = getCurrentInstance()\n      if (!refs || !refs.input.$el) return\n      const innerInput = refs.input.$el && refs.input.$refs.input\n      innerInput.setAttribute('aria-valuenow', state.currentValue)\n    })\n\n    watch(\n      modelValue,\n      (value) => {\n        let newVal = value === undefined ? value : Number(value)\n        if (newVal !== undefined) {\n          if (isNaN(newVal)) {\n            return\n          }\n          if (stepStrictly.value) {\n            const stepPrecision = getPrecision(step.value)\n            const precisionFactor = Math.pow(10, stepPrecision)\n            newVal =\n              (Math.round(newVal / step.value) * precisionFactor * step.value) /\n              precisionFactor\n          }\n\n          if (precision.value !== undefined) {\n            newVal = toPrecision(newVal, precision.value)\n          }\n        }\n        if (newVal >= max.value) newVal = max.value\n        if (newVal <= min.value) newVal = min.value\n        state.currentValue = newVal\n        state.userInput = null\n        emit('update:modelValue', newVal)\n      },\n      {\n        immediate: true\n      }\n    )\n\n    const handleBlur = (event) => {\n      emit('blur', event)\n    }\n    const handleFocus = (event) => {\n      emit('focus', event)\n    }\n    const select = () => {}\n    return {\n      controlsAtRight,\n      inputNumberSize,\n      displayValue,\n      minDisabled,\n      maxDisabled,\n      inputNumberDisabled,\n      increase,\n      decrease,\n      handleInputChange,\n      handleInput,\n      focus,\n      setCurrentValue,\n      handleBlur,\n      handleFocus,\n      select\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"[\n      'el-input-number',\n      inputNumberSize ? 'el-input-number--' + inputNumberSize : '',\n      { 'is-disabled': inputNumberDisabled },\n      { 'is-without-controls': !controls },\n      { 'is-controls-right': controlsAtRight }\n    ]\"\n    @dragstart.prevent\n  >\n    <span\n      :class=\"{ 'is-disabled': minDisabled }\"\n      @keydown.enter=\"decrease\"\n      class=\"el-input-number__decrease\"\n      role=\"button\"\n      v-if=\"controls\"\n      v-repeat-click=\"decrease\"\n    >\n      <i :class=\"`el-icon-${controlsAtRight ? 'arrow-down' : 'minus'}`\"></i>\n    </span>\n    <span\n      :class=\"{ 'is-disabled': maxDisabled }\"\n      @keydown.enter=\"increase\"\n      class=\"el-input-number__increase\"\n      role=\"button\"\n      v-if=\"controls\"\n      v-repeat-click=\"increase\"\n    >\n      <i :class=\"`el-icon-${controlsAtRight ? 'arrow-up' : 'plus'}`\"></i>\n    </span>\n    <el-input\n      :disabled=\"inputNumberDisabled\"\n      :label=\"label\"\n      :max=\"max\"\n      :min=\"min\"\n      :name=\"name\"\n      :placeholder=\"placeholder\"\n      :size=\"inputNumberSize\"\n      @blur=\"handleBlur\"\n      @change=\"handleInputChange\"\n      @focus=\"handleFocus\"\n      @input=\"handleInput\"\n      @keydown.down.prevent=\"decrease\"\n      @keydown.up.prevent=\"increase\"\n      ref=\"input\"\n      v-model=\"displayValue\"\n    ></el-input>\n  </div>\n</template>\n<script>\nimport { ElInput } from '../../src/components/Input'\nimport useFocus from '../../src/use/focus.js'\nimport RepeatClick from '../../src/directives/repeatClick'\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  onMounted,\n  onUpdated,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\n\nexport default {\n  name: 'ElInputNumber',\n  directives: {\n    repeatClick: RepeatClick\n  },\n  components: {\n    ElInput\n  },\n  props: {\n    step: {\n      type: Number,\n      default: 1\n    },\n    stepStrictly: {\n      type: Boolean,\n      default: false\n    },\n    max: {\n      type: Number,\n      default: Infinity\n    },\n    min: {\n      type: Number,\n      default: -Infinity\n    },\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    disabled: Boolean,\n    size: {\n      default: '',\n      type: String\n    },\n    controls: {\n      type: Boolean,\n      default: true\n    },\n    controlsPosition: {\n      type: String,\n      default: ''\n    },\n    name: String,\n    label: String,\n    placeholder: String,\n    precision: {\n      type: Number,\n      validator(val) {\n        return val >= 0 && val === parseInt(val, 10)\n      },\n      default: undefined\n    }\n  },\n  emits: ['change', 'update:modelValue', 'blur', 'focus'],\n  setup(props, { emit }) {\n    const { proxy } = getCurrentInstance()\n    const {\n      step,\n      stepStrictly,\n      max,\n      min,\n      modelValue,\n      disabled,\n      size,\n      controls,\n      controlsPosition,\n      precision\n    } = toRefs(props)\n\n    const state = reactive({\n      currentValue: 0,\n      userInput: null\n    })\n    const focus = useFocus('input')\n\n    const getPrecision = (value) => {\n      if (value === undefined) return 0\n      const valueString = value.toString()\n      const dotPosition = valueString.indexOf('.')\n      let precision = 0\n      if (dotPosition !== -1) {\n        precision = valueString.length - dotPosition - 1\n      }\n      return precision\n    }\n\n    const setCurrentValue = (newVal) => {\n      const oldVal = state.currentValue\n      if (typeof newVal === 'number' && precision.value !== undefined) {\n        newVal = toPrecision(newVal, precision.value)\n      }\n      if (newVal >= max.value) newVal = max.value\n      if (newVal <= min.value) newVal = min.value\n      if (oldVal === newVal) return\n      state.userInput = null\n      emit('update:modelValue', newVal)\n      emit('change', newVal, oldVal)\n      state.currentValue = newVal\n    }\n\n    const toPrecision = (num, precision) => {\n      if (precision === undefined) precision = numPrecision.value\n      return parseFloat(\n        Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision)\n      )\n    }\n\n    const _decrease = (val, step) => {\n      if (typeof val !== 'number' && val !== undefined) {\n        return state.currentValue\n      }\n\n      const precisionFactor = Math.pow(10, numPrecision.value)\n\n      return toPrecision(\n        (precisionFactor * val - precisionFactor * step) / precisionFactor\n      )\n    }\n\n    const _increase = (val, step) => {\n      if (typeof val !== 'number' && val !== undefined) {\n        return state.currentValue\n      }\n\n      const precisionFactor = Math.pow(10, numPrecision.value)\n      // Solve the accuracy problem of JS decimal calculation by converting the value to integer.\n      return toPrecision(\n        (precisionFactor * val + precisionFactor * step) / precisionFactor\n      )\n    }\n\n    const minDisabled = computed(() => {\n      return _decrease(modelValue.value, step.value) < min.value\n    })\n\n    const maxDisabled = computed(() => {\n      return _increase(modelValue.value, step.value) > max.value\n    })\n\n    const numPrecision = computed(() => {\n      const stepPrecision = getPrecision(step.value)\n      if (precision.value !== undefined) {\n        if (stepPrecision > precision.value) {\n          console.warn(\n            '[Element Warn][InputNumber]precision should not be less than the decimal places of step'\n          )\n        }\n        return precision.value\n      } else {\n        return Math.max(getPrecision(modelValue.value), stepPrecision)\n      }\n    })\n\n    const controlsAtRight = computed(\n      () => controls.value && controlsPosition.value === 'right'\n    )\n\n    const _elFormItemSize = computed(() => {\n      const elFormItem = inject('elFormItem', {})\n      return (elFormItem || {}).elFormItemSize\n    })\n\n    const inputNumberSize = computed(() => {\n      return size.value || _elFormItemSize.value || (proxy.$ELEMENT || {}).size\n    })\n\n    const inputNumberDisabled = computed(() => {\n      const elForm = inject('elForm', {})\n      return disabled.value || !!(elForm || {}).disabled\n    })\n\n    const displayValue = computed({\n      get: () => {\n        if (state.userInput !== null) {\n          return state.userInput\n        }\n        let currentValue = state.currentValue\n        if (typeof currentValue === 'number') {\n          if (stepStrictly.value) {\n            const stepPrecision = getPrecision(step.value)\n            const precisionFactor = Math.pow(10, stepPrecision)\n            currentValue =\n              (Math.round(currentValue / step.value) *\n                precisionFactor *\n                step.value) /\n              precisionFactor\n          }\n          if (precision.value !== undefined) {\n            currentValue = currentValue.toFixed(precision.value)\n          }\n        }\n        return currentValue\n      },\n      set: () => {\n        return state.currentValue\n      }\n    })\n    const increase = () => {\n      if (inputNumberDisabled.value || maxDisabled.value) return\n\n      const value = modelValue.value || 0\n      const newVal = _increase(value, step.value)\n      setCurrentValue(newVal)\n    }\n\n    const decrease = () => {\n      if (inputNumberDisabled.value || minDisabled.value) return\n      const value = modelValue.value || 0\n      const newVal = _decrease(value, step.value)\n      setCurrentValue(newVal)\n    }\n\n    const handleInput = (value) => {\n      state.userInput = value\n    }\n\n    const handleInputChange = (value) => {\n      const newVal = value === '' ? undefined : Number(value)\n      if (!isNaN(newVal) || value === '') {\n        setCurrentValue(newVal)\n      }\n      state.userInput = null\n    }\n\n    onMounted(() => {\n      const { refs } = getCurrentInstance()\n      const innerInput = refs.input.$el && refs.input.$refs.input\n\n      innerInput.setAttribute('role', 'spinbutton')\n      innerInput.setAttribute('aria-valuemax', max.value)\n      innerInput.setAttribute('aria-valuemin', min.value)\n      innerInput.setAttribute('aria-valuenow', state.currentValue)\n      innerInput.setAttribute('aria-disabled', inputNumberDisabled.value)\n    })\n\n    onUpdated(() => {\n      const { refs } = getCurrentInstance()\n      if (!refs || !refs.input.$el) return\n      const innerInput = refs.input.$el && refs.input.$refs.input\n      innerInput.setAttribute('aria-valuenow', state.currentValue)\n    })\n\n    watch(\n      modelValue,\n      (value) => {\n        let newVal = value === undefined ? value : Number(value)\n        if (newVal !== undefined) {\n          if (isNaN(newVal)) {\n            return\n          }\n          if (stepStrictly.value) {\n            const stepPrecision = getPrecision(step.value)\n            const precisionFactor = Math.pow(10, stepPrecision)\n            newVal =\n              (Math.round(newVal / step.value) * precisionFactor * step.value) /\n              precisionFactor\n          }\n\n          if (precision.value !== undefined) {\n            newVal = toPrecision(newVal, precision.value)\n          }\n        }\n        if (newVal >= max.value) newVal = max.value\n        if (newVal <= min.value) newVal = min.value\n        state.currentValue = newVal\n        state.userInput = null\n        emit('update:modelValue', newVal)\n      },\n      {\n        immediate: true\n      }\n    )\n\n    const handleBlur = (event) => {\n      emit('blur', event)\n    }\n    const handleFocus = (event) => {\n      emit('focus', event)\n    }\n    const select = () => {}\n    return {\n      controlsAtRight,\n      inputNumberSize,\n      displayValue,\n      minDisabled,\n      maxDisabled,\n      inputNumberDisabled,\n      increase,\n      decrease,\n      handleInputChange,\n      handleInput,\n      focus,\n      setCurrentValue,\n      handleBlur,\n      handleFocus,\n      select\n    }\n  }\n}\n</script>\n","import ElInputNumber from './InputNumber'\n\n/* istanbul ignore next */\nElInputNumber.install = function (app) {\n  app.component(ElInputNumber.name, ElInputNumber)\n}\n\nexport default ElInputNumber\n","export default function (ref) {\n  return {\n    methods: {\n      focus() {\n        this.$refs[ref].focus()\n      }\n    }\n  }\n}\n","export default {\n  el: {\n    colorpicker: {\n      confirm: '确定',\n      clear: '清空'\n    },\n    datepicker: {\n      now: '此刻',\n      today: '今天',\n      cancel: '取消',\n      clear: '清空',\n      confirm: '确定',\n      selectDate: '选择日期',\n      selectTime: '选择时间',\n      startDate: '开始日期',\n      startTime: '开始时间',\n      endDate: '结束日期',\n      endTime: '结束时间',\n      prevYear: '前一年',\n      nextYear: '后一年',\n      prevMonth: '上个月',\n      nextMonth: '下个月',\n      year: '年',\n      month1: '1 月',\n      month2: '2 月',\n      month3: '3 月',\n      month4: '4 月',\n      month5: '5 月',\n      month6: '6 月',\n      month7: '7 月',\n      month8: '8 月',\n      month9: '9 月',\n      month10: '10 月',\n      month11: '11 月',\n      month12: '12 月',\n      // week: '周次',\n      weeks: {\n        sun: '日',\n        mon: '一',\n        tue: '二',\n        wed: '三',\n        thu: '四',\n        fri: '五',\n        sat: '六'\n      },\n      months: {\n        jan: '一月',\n        feb: '二月',\n        mar: '三月',\n        apr: '四月',\n        may: '五月',\n        jun: '六月',\n        jul: '七月',\n        aug: '八月',\n        sep: '九月',\n        oct: '十月',\n        nov: '十一月',\n        dec: '十二月'\n      }\n    },\n    select: {\n      loading: '加载中',\n      noMatch: '无匹配数据',\n      noData: '无数据',\n      placeholder: '请选择'\n    },\n    cascader: {\n      noMatch: '无匹配数据',\n      loading: '加载中',\n      placeholder: '请选择',\n      noData: '暂无数据'\n    },\n    pagination: {\n      goto: '前往',\n      pagesize: '条/页',\n      total: '共 {total} 条',\n      pageClassifier: '页'\n    },\n    messagebox: {\n      title: '提示',\n      confirm: '确定',\n      cancel: '取消',\n      error: '输入的数据不合法!'\n    },\n    upload: {\n      deleteTip: '按 delete 键可删除',\n      delete: '删除',\n      preview: '查看图片',\n      continue: '继续上传'\n    },\n    table: {\n      emptyText: '暂无数据',\n      confirmFilter: '筛选',\n      resetFilter: '重置',\n      clearFilter: '全部',\n      sumText: '合计'\n    },\n    tree: {\n      emptyText: '暂无数据'\n    },\n    transfer: {\n      noMatch: '无匹配数据',\n      noData: '无数据',\n      titles: ['列表 1', '列表 2'],\n      filterPlaceholder: '请输入搜索内容',\n      noCheckedFormat: '共 {total} 项',\n      hasCheckedFormat: '已选 {checked}/{total} 项'\n    },\n    image: {\n      error: '加载失败'\n    },\n    pageHeader: {\n      title: '返回'\n    },\n    popconfirm: {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消'\n    }\n  }\n}\n","export function isString(obj) {\n  return Object.prototype.toString.call(obj) === '[object String]'\n}\n\nexport function isNumber(obj) {\n  return Object.prototype.toString.call(obj) === '[object Number]'\n}\n\nexport function isObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\n\nexport function isArray(value) {\n  return value instanceof Array\n}\nexport function isHtmlElement(node) {\n  return node && node.nodeType === Node.ELEMENT_NODE\n}\n\nexport const isFunction = (functionToCheck) => {\n  var getType = {}\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  )\n}\n\nexport const isUndefined = (val) => {\n  // eslint-disable-next-line no-void\n  return val === void 0\n}\n\nexport const isDefined = (val) => {\n  return val !== undefined && val !== null\n}\n","import { isString, isObject } from '../../src/utils/types'\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nexport function noop() {}\n\nexport function hasOwn(obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\nfunction extend(to, _from) {\n  for (const key in _from) {\n    to[key] = _from[key]\n  }\n  return to\n}\n\nexport function toObject(arr) {\n  var res = {}\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i])\n    }\n  }\n  return res\n}\n\nexport const getValueByPath = function (object, prop) {\n  prop = prop || ''\n  const paths = prop.split('.')\n  let current = object\n  let result = null\n  for (let i = 0, j = paths.length; i < j; i++) {\n    const path = paths[i]\n    if (!current) break\n\n    if (i === j - 1) {\n      result = current[path]\n      break\n    }\n    current = current[path]\n  }\n  return result\n}\n\nexport function getPropByPath(obj, path, strict) {\n  let tempObj = obj\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1')\n  path = path.replace(/^\\./, '')\n\n  const keyArr = path.split('.')\n  let i = 0\n  for (let len = keyArr.length; i < len - 1; ++i) {\n    if (!tempObj && !strict) break\n    const key = keyArr[i]\n    if (key in tempObj) {\n      tempObj = tempObj[key]\n    } else {\n      if (strict) {\n        throw new Error('please transfer a valid prop path to form item!')\n      }\n      break\n    }\n  }\n  return {\n    o: tempObj,\n    k: keyArr[i],\n    v: tempObj ? tempObj[keyArr[i]] : null\n  }\n}\n\nexport const generateId = function () {\n  return Math.floor(Math.random() * 10000)\n}\n\nexport const valueEquals = (a, b) => {\n  // see: https://stackoverflow.com/questions/3115982/how-to-check-if-two-arrays-are-equal-with-javascript\n  if (a === b) return true\n  if (!(a instanceof Array)) return false\n  if (!(b instanceof Array)) return false\n  if (a.length !== b.length) return false\n  for (let i = 0; i !== a.length; ++i) {\n    if (a[i] !== b[i]) return false\n  }\n  return true\n}\n\nexport const escapeRegexpString = (value = '') =>\n  String(value).replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\n// TODO: use native Array.find, Array.findIndex when IE support is dropped\nexport const arrayFindIndex = function (arr, pred) {\n  for (let i = 0; i !== arr.length; ++i) {\n    if (pred(arr[i])) {\n      return i\n    }\n  }\n  return -1\n}\n\nexport const arrayFind = function (arr, pred) {\n  const idx = arrayFindIndex(arr, pred)\n  return idx !== -1 ? arr[idx] : undefined\n}\n\n// coerce truthy value to array\nexport const coerceTruthyValueToArray = function (val) {\n  if (Array.isArray(val)) {\n    return val\n  } else if (val) {\n    return [val]\n  } else {\n    return []\n  }\n}\n\nexport const isIE = function () {\n  return !isNaN(Number(document.documentMode))\n  // return !Vue.prototype.$isServer && !isNaN(Number(document.documentMode))\n}\n\nexport const isEdge = function () {\n  return navigator.userAgent.indexOf('Edge') > -1\n  // return !Vue.prototype.$isServer && navigator.userAgent.indexOf('Edge') > -1\n}\n\nexport const isFirefox = function () {\n  return !!window.navigator.userAgent.match(/firefox/i)\n  // return !Vue.prototype.$isServer && !!window.navigator.userAgent.match(/firefox/i)\n}\n\nexport const autoprefixer = function (style) {\n  if (typeof style !== 'object') return style\n  const rules = ['transform', 'transition', 'animation']\n  const prefixes = ['ms-', 'webkit-']\n  rules.forEach((rule) => {\n    const value = style[rule]\n    if (rule && value) {\n      prefixes.forEach((prefix) => {\n        style[prefix + rule] = value\n      })\n    }\n  })\n  return style\n}\n\nexport const kebabCase = function (str) {\n  const hyphenateRE = /([^-])([A-Z])/g\n  return str\n    .replace(hyphenateRE, '$1-$2')\n    .replace(hyphenateRE, '$1-$2')\n    .toLowerCase()\n}\n\nexport const capitalize = function (str) {\n  if (!isString(str)) return str\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nexport const looseEqual = function (a, b) {\n  const isObjectA = isObject(a)\n  const isObjectB = isObject(b)\n  if (isObjectA && isObjectB) {\n    return JSON.stringify(a) === JSON.stringify(b)\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\nexport const arrayEquals = function (arrayA, arrayB) {\n  arrayA = arrayA || []\n  arrayB = arrayB || []\n\n  if (arrayA.length !== arrayB.length) {\n    return false\n  }\n\n  for (let i = 0; i < arrayA.length; i++) {\n    if (!looseEqual(arrayA[i], arrayB[i])) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport const isEqual = function (value1, value2) {\n  if (Array.isArray(value1) && Array.isArray(value2)) {\n    return arrayEquals(value1, value2)\n  }\n  return looseEqual(value1, value2)\n}\n\nexport const isEmpty = function (val) {\n  // null or undefined\n  if (val == null) return true\n\n  if (typeof val === 'boolean') return false\n\n  if (typeof val === 'number') return !val\n\n  if (val instanceof Error) return val.message === ''\n\n  switch (Object.prototype.toString.call(val)) {\n    // String or Array\n    case '[object String]':\n    case '[object Array]':\n      return !val.length\n\n    // Map or Set or File\n    case '[object File]':\n    case '[object Map]':\n    case '[object Set]': {\n      return !val.size\n    }\n    // Plain Object\n    case '[object Object]': {\n      return !Object.keys(val).length\n    }\n  }\n\n  return false\n}\n\nexport function rafThrottle(fn) {\n  let locked = false\n  return function (...args) {\n    if (locked) return\n    locked = true\n    window.requestAnimationFrame(() => {\n      fn.apply(this, args)\n      locked = false\n    })\n  }\n}\n\nexport function objToArray(obj) {\n  if (Array.isArray(obj)) {\n    return obj\n  }\n  return isEmpty(obj) ? [] : [obj]\n}\n","import { hasOwn } from '../../src/utils/util'\n\nconst RE_NARGS = /(%|)\\{([0-9a-zA-Z_]+)\\}/g\n/**\n *  String format template\n *  - Inspired:\n *    https://github.com/Matt-Esch/string-template/index.js\n */\nexport default function () {\n  /**\n   * template\n   *\n   * @param {String} string\n   * @param {Array} ...args\n   * @return {String}\n   */\n\n  function template(string, ...args) {\n    if (args.length === 1 && typeof args[0] === 'object') {\n      args = args[0]\n    }\n\n    if (!args || !args.hasOwnProperty) {\n      args = {}\n    }\n\n    return string.replace(RE_NARGS, (match, prefix, i, index) => {\n      let result\n\n      if (string[index - 1] === '{' && string[index + match.length] === '}') {\n        return i\n      } else {\n        result = hasOwn(args, i) ? args[i] : null\n        if (result === null || result === undefined) {\n          return ''\n        }\n\n        return result\n      }\n    })\n  }\n\n  return template\n}\n","import defaultLang from '../../src/locale/lang/zh-CN'\n// import deepmerge from 'deepmerge'\nimport Format from './format'\n\nconst format = Format()\nlet lang = defaultLang\n// let merged = false\nlet i18nHandler = function () {\n  // #todo\n  // const vuei18n = Object.getPrototypeOf(this || Vue).$t\n  // if (typeof vuei18n === 'function' && !!Vue.locale) {\n  //   if (!merged) {\n  //     merged = true\n  //     Vue.locale(\n  //       Vue.config.lang,\n  //       deepmerge(lang, Vue.locale(Vue.config.lang) || {}, { clone: true })\n  //     )\n  //   }\n  //   return vuei18n.apply(this, arguments)\n  // }\n}\n\nexport const t = function (path, options) {\n  let value = i18nHandler.apply(this, arguments)\n  if (value !== null && value !== undefined) return value\n\n  const array = path.split('.')\n  let current = lang\n\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i]\n    value = current[property]\n    if (i === j - 1) return format(value, options)\n    if (!value) return ''\n    current = value\n  }\n  return ''\n}\n\nexport const use = function (l) {\n  lang = l || lang\n}\n\nexport const i18n = function (fn) {\n  i18nHandler = fn || i18nHandler\n}\n\nexport default { use, t, i18n }\n","import { t } from '../locale'\n\nexport default {\n  methods: {\n    t(...args) {\n      return t.apply(this, args)\n    }\n  }\n}\n","export default function (target) {\n  for (let i = 1, j = arguments.length; i < j; i++) {\n    const source = arguments[i] || {}\n    for (const prop in source) {\n      if (Object.hasOwnProperty.call(source, prop)) {\n        const value = source[prop]\n        if (value !== undefined) {\n          target[prop] = value\n        }\n      }\n    }\n  }\n\n  return target\n}\n","import { addClass, removeClass } from '../../utils/dom'\n\nlet hasModal = false\nlet hasInitZIndex = false\nlet zIndex\n\nconst getModal = function () {\n  // if (Vue.prototype.$isServer) return\n  let modalDom = PopupManager.modalDom\n  if (modalDom) {\n    hasModal = true\n  } else {\n    hasModal = false\n    modalDom = document.createElement('div')\n    PopupManager.modalDom = modalDom\n\n    modalDom.addEventListener(\n      'touchmove',\n      function (event) {\n        event.preventDefault()\n        event.stopPropagation()\n      },\n      { passive: true }\n    )\n\n    modalDom.addEventListener('click', function () {\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick()\n    })\n  }\n\n  return modalDom\n}\n\nconst instances = {}\n\nconst PopupManager = {\n  modalFade: true,\n\n  getInstance: function (id) {\n    return instances[id]\n  },\n\n  register: function (id, instance) {\n    if (id && instance) {\n      instances[id] = instance\n    }\n  },\n\n  deregister: function (id) {\n    if (id) {\n      instances[id] = null\n      delete instances[id]\n    }\n  },\n\n  nextZIndex: function () {\n    return PopupManager.zIndex++\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function () {\n    const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1]\n    if (!topItem) return\n\n    const instance = PopupManager.getInstance(topItem.id)\n    if (instance && instance.closeOnClickModal) {\n      instance.close()\n    }\n  },\n\n  openModal: function (id, zIndex, dom, modalClass, modalFade) {\n    // if (Vue.prototype.$isServer) return\n    if (!id || zIndex === undefined) return\n    this.modalFade = modalFade\n    const modalStack = this.modalStack\n    for (let i = 0, j = modalStack.length; i < j; i++) {\n      const item = modalStack[i]\n      if (item.id === id) {\n        return\n      }\n    }\n\n    const modalDom = getModal()\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex\n    }\n    addClass(modalDom, 'v-modal')\n    if (this.modalFade && !hasModal) {\n      addClass(modalDom, 'v-modal-enter')\n    }\n    if (modalClass) {\n      const classArr = modalClass.trim().split(/\\s+/)\n      classArr.forEach((item) => addClass(modalDom, item))\n    }\n    setTimeout(() => {\n      removeClass(modalDom, 'v-modal-enter')\n    }, 200)\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom)\n    } else {\n      document.body.appendChild(modalDom)\n    }\n\n    modalDom.tabIndex = 0\n    modalDom.style.display = ''\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass })\n  },\n\n  closeModal: function (id) {\n    const modalStack = this.modalStack\n    const modalDom = getModal()\n\n    if (modalStack.length > 0) {\n      const topItem = modalStack[modalStack.length - 1]\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          const classArr = topItem.modalClass.trim().split(/\\s+/)\n          classArr.forEach((item) => removeClass(modalDom, item))\n        }\n        modalStack.pop()\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex\n        }\n      } else {\n        for (let i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1)\n            break\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      if (this.modalFade) {\n        addClass(modalDom, 'v-modal-leave')\n      }\n      setTimeout(() => {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom)\n          modalDom.style.display = 'none'\n          PopupManager.modalDom = undefined\n        }\n        removeClass(modalDom, 'v-modal-leave')\n      }, 200)\n    }\n  }\n}\n\nObject.defineProperty(PopupManager, 'zIndex', {\n  configurable: true,\n  get() {\n    if (!hasInitZIndex) {\n      // zIndex = zIndex || (Vue.prototype.$ELEMENT || {}).zIndex || 2000\n      zIndex = zIndex || 2000\n      hasInitZIndex = true\n    }\n    return zIndex\n  },\n  set(value) {\n    zIndex = value\n  }\n})\n\nconst getTopPopup = function () {\n  // if (Vue.prototype.$isServer) return\n  if (PopupManager.modalStack.length > 0) {\n    const topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1]\n    if (!topPopup) return\n    const instance = PopupManager.getInstance(topPopup.id)\n\n    return instance\n  }\n}\n\n// if (!Vue.prototype.$isServer) {\n// handle `esc` key when the popup is shown\nwindow.addEventListener('keydown', function (event) {\n  if (event.keyCode === 27) {\n    const topPopup = getTopPopup()\n\n    if (topPopup && topPopup.closeOnPressEscape) {\n      topPopup.handleClose\n        ? topPopup.handleClose()\n        : topPopup.handleAction\n        ? topPopup.handleAction('cancel')\n        : topPopup.close()\n    }\n  }\n})\n\nexport default PopupManager\n","let scrollBarWidth\n\nexport default function () {\n  // if (Vue.prototype.$isServer) return 0\n  if (scrollBarWidth !== undefined) return scrollBarWidth\n\n  const outer = document.createElement('div')\n  outer.className = 'el-scrollbar__wrap'\n  outer.style.visibility = 'hidden'\n  outer.style.width = '100px'\n  outer.style.position = 'absolute'\n  outer.style.top = '-9999px'\n  document.body.appendChild(outer)\n\n  const widthNoScroll = outer.offsetWidth\n  outer.style.overflow = 'scroll'\n\n  const inner = document.createElement('div')\n  inner.style.width = '100%'\n  outer.appendChild(inner)\n\n  const widthWithScroll = inner.offsetWidth\n  outer.parentNode.removeChild(outer)\n  scrollBarWidth = widthNoScroll - widthWithScroll\n\n  return scrollBarWidth\n}\n","/* eslint-disable no-unused-vars */\n'use strict'\n\nvar root = window\n\n// default options\nvar DEFAULTS = {\n  // placement of the popper\n  placement: 'bottom',\n\n  gpuAcceleration: true,\n\n  // shift popper from its origin by the given amount of pixels (can be negative)\n  offset: 0,\n\n  // the element which will act as boundary of the popper\n  boundariesElement: 'viewport',\n\n  // amount of pixel used to define a minimum distance between the boundaries and the popper\n  boundariesPadding: 5,\n\n  // popper will try to prevent overflow following this order,\n  // by default, then, it could overflow on the left and on top of the boundariesElement\n  preventOverflowOrder: ['left', 'right', 'top', 'bottom'],\n\n  // the behavior used by flip to change the placement of the popper\n  flipBehavior: 'flip',\n\n  arrowElement: '[x-arrow]',\n\n  arrowOffset: 0,\n\n  // list of functions used to modify the offsets before they are applied to the popper\n  modifiers: [\n    'shift',\n    'offset',\n    'preventOverflow',\n    'keepTogether',\n    'arrow',\n    'flip',\n    'applyStyle'\n  ],\n\n  modifiersIgnored: [],\n\n  forceAbsolute: false\n}\n\n/**\n * Create a new Popper.js instance\n * @constructor Popper\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement|Object} popper\n *      The HTML element used as popper, or a configuration used to generate the popper.\n * @param {String} [popper.tagName='div'] The tag name of the generated popper.\n * @param {Array} [popper.classNames=['popper']] Array of classes to apply to the generated popper.\n * @param {Array} [popper.attributes] Array of attributes to apply, specify `attr:value` to assign a value to it.\n * @param {HTMLElement|String} [popper.parent=window.document.body] The parent element, given as HTMLElement or as query string.\n * @param {String} [popper.content=''] The content of the popper, it can be text, html, or node; if it is not text, set `contentType` to `html` or `node`.\n * @param {String} [popper.contentType='text'] If `html`, the `content` will be parsed as HTML. If `node`, it will be appended as-is.\n * @param {String} [popper.arrowTagName='div'] Same as `popper.tagName` but for the arrow element.\n * @param {Array} [popper.arrowClassNames='popper__arrow'] Same as `popper.classNames` but for the arrow element.\n * @param {String} [popper.arrowAttributes=['x-arrow']] Same as `popper.attributes` but for the arrow element.\n * @param {Object} options\n * @param {String} [options.placement=bottom]\n *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -right),\n *      left(-start, -end)`\n *\n * @param {HTMLElement|String} [options.arrowElement='[x-arrow]']\n *      The DOM Node used as arrow for the popper, or a CSS selector used to get the DOM node. It must be child of\n *      its parent Popper. Popper.js will apply to the given element the style required to align the arrow with its\n *      reference element.\n *      By default, it will look for a child node of the popper with the `x-arrow` attribute.\n *\n * @param {Boolean} [options.gpuAcceleration=true]\n *      When this property is set to true, the popper position will be applied using CSS3 translate3d, allowing the\n *      browser to use the GPU to accelerate the rendering.\n *      If set to false, the popper will be placed using `top` and `left` properties, not using the GPU.\n *\n * @param {Number} [options.offset=0]\n *      Amount of pixels the popper will be shifted (can be negative).\n *\n * @param {String|Element} [options.boundariesElement='viewport']\n *      The element which will define the boundaries of the popper position, the popper will never be placed outside\n *      of the defined boundaries (except if `keepTogether` is enabled)\n *\n * @param {Number} [options.boundariesPadding=5]\n *      Additional padding for the boundaries\n *\n * @param {Array} [options.preventOverflowOrder=['left', 'right', 'top', 'bottom']]\n *      Order used when Popper.js tries to avoid overflows from the boundaries, they will be checked in order,\n *      this means that the last ones will never overflow\n *\n * @param {String|Array} [options.flipBehavior='flip']\n *      The behavior used by the `flip` modifier to change the placement of the popper when the latter is trying to\n *      overlap its reference element. Defining `flip` as value, the placement will be flipped on\n *      its axis (`right - left`, `top - bottom`).\n *      You can even pass an array of placements (eg: `['right', 'left', 'top']` ) to manually specify\n *      how alter the placement when a flip is needed. (eg. in the above example, it would first flip from right to left,\n *      then, if even in its new placement, the popper is overlapping its reference element, it will be moved to top)\n *\n * @param {Array} [options.modifiers=[ 'shift', 'offset', 'preventOverflow', 'keepTogether', 'arrow', 'flip', 'applyStyle']]\n *      List of functions used to modify the data before they are applied to the popper, add your custom functions\n *      to this array to edit the offsets and placement.\n *      The function should reflect the @params and @returns of preventOverflow\n *\n * @param {Array} [options.modifiersIgnored=[]]\n *      Put here any built-in modifier name you want to exclude from the modifiers list\n *      The function should reflect the @params and @returns of preventOverflow\n *\n * @param {Boolean} [options.removeOnDestroy=false]\n *      Set to true if you want to automatically remove the popper when you call the `destroy` method.\n */\nexport function Popper(reference, popper, options) {\n  this._reference = reference.jquery ? reference[0] : reference\n  this.state = {}\n\n  // if the popper variable is a configuration object, parse it to generate an HTMLElement\n  // generate a default popper if is not defined\n  var isNotDefined = typeof popper === 'undefined' || popper === null\n  var isConfig =\n    popper && Object.prototype.toString.call(popper) === '[object Object]'\n  if (isNotDefined || isConfig) {\n    this._popper = this.parse(isConfig ? popper : {})\n  }\n  // otherwise, use the given HTMLElement as popper\n  else {\n    this._popper = popper.jquery ? popper[0] : popper\n  }\n\n  // with {} we create a new object with the options inside it\n  this._options = Object.assign({}, DEFAULTS, options)\n\n  // refactoring modifiers' list\n  this._options.modifiers = this._options.modifiers.map(\n    function (modifier) {\n      // remove ignored modifiers\n      if (this._options.modifiersIgnored.indexOf(modifier) !== -1) return\n\n      // set the x-placement attribute before everything else because it could be used to add margins to the popper\n      // margins needs to be calculated to get the correct popper offsets\n      if (modifier === 'applyStyle') {\n        this._popper.setAttribute('x-placement', this._options.placement)\n      }\n\n      // return predefined modifier identified by string or keep the custom one\n      return this.modifiers[modifier] || modifier\n    }.bind(this)\n  )\n\n  // make sure to apply the popper position before any computation\n  this.state.position = this._getPosition(this._popper, this._reference)\n  setStyle(this._popper, { position: this.state.position, top: 0 })\n\n  // fire the first update to position the popper in the right place\n  this.update()\n\n  // setup event listeners, they will take care of update the position in specific situations\n  this._setupEventListeners()\n  return this\n}\n\n//\n// Methods\n//\n/**\n * Destroy the popper\n * @method\n * @memberof Popper\n */\nPopper.prototype.destroy = function () {\n  this._popper.removeAttribute('x-placement')\n  this._popper.style.left = ''\n  this._popper.style.position = ''\n  this._popper.style.top = ''\n  this._popper.style[getSupportedPropertyName('transform')] = ''\n  this._removeEventListeners()\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  if (this._options.removeOnDestroy) {\n    this._popper.remove()\n  }\n  return this\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying the new style\n * @method\n * @memberof Popper\n */\nPopper.prototype.update = function () {\n  var data = { instance: this, styles: {} }\n\n  // store placement inside the data object, modifiers will be able to edit `placement` if needed\n  // and refer to _originalPlacement to know the original value\n  data.placement = this._options.placement\n  data._originalPlacement = this._options.placement\n\n  // compute the popper and reference offsets and put them inside data.offsets\n  data.offsets = this._getOffsets(this._popper, this._reference, data.placement)\n\n  // get boundaries\n  data.boundaries = this._getBoundaries(\n    data,\n    this._options.boundariesPadding,\n    this._options.boundariesElement\n  )\n\n  data = this.runModifiers(data, this._options.modifiers)\n\n  if (typeof this.state.updateCallback === 'function') {\n    this.state.updateCallback(data)\n  }\n}\n\n/**\n * If a function is passed, it will be executed after the initialization of popper with as first argument the Popper instance.\n * @method\n * @memberof Popper\n * @param {Function} callback\n */\nPopper.prototype.onCreate = function (callback) {\n  // the createCallbacks return as first argument the popper instance\n  callback(this)\n  return this\n}\n\n/**\n * If a function is passed, it will be executed after each update of popper with as first argument the set of coordinates and informations\n * used to style popper and its arrow.\n * NOTE: it doesn't get fired on the first call of the `Popper.update()` method inside the `Popper` constructor!\n * @method\n * @memberof Popper\n * @param {Function} callback\n */\nPopper.prototype.onUpdate = function (callback) {\n  this.state.updateCallback = callback\n  return this\n}\n\n/**\n * Helper used to generate poppers from a configuration file\n * @method\n * @memberof Popper\n * @param config {Object} configuration\n * @returns {HTMLElement} popper\n */\nPopper.prototype.parse = function (config) {\n  var defaultConfig = {\n    tagName: 'div',\n    classNames: ['popper'],\n    attributes: [],\n    parent: root.document.body,\n    content: '',\n    contentType: 'text',\n    arrowTagName: 'div',\n    arrowClassNames: ['popper__arrow'],\n    arrowAttributes: ['x-arrow']\n  }\n  config = Object.assign({}, defaultConfig, config)\n\n  var d = root.document\n\n  var popper = d.createElement(config.tagName)\n  addClassNames(popper, config.classNames)\n  addAttributes(popper, config.attributes)\n  if (config.contentType === 'node') {\n    popper.appendChild(\n      config.content.jquery ? config.content[0] : config.content\n    )\n  } else if (config.contentType === 'html') {\n    popper.innerHTML = config.content\n  } else {\n    popper.textContent = config.content\n  }\n\n  if (config.arrowTagName) {\n    var arrow = d.createElement(config.arrowTagName)\n    addClassNames(arrow, config.arrowClassNames)\n    addAttributes(arrow, config.arrowAttributes)\n    popper.appendChild(arrow)\n  }\n\n  var parent = config.parent.jquery ? config.parent[0] : config.parent\n\n  // if the given parent is a string, use it to match an element\n  // if more than one element is matched, the first one will be used as parent\n  // if no elements are matched, the script will throw an error\n  if (typeof parent === 'string') {\n    parent = d.querySelectorAll(config.parent)\n    if (parent.length > 1) {\n      console.warn(\n        'WARNING: the given `parent` query(' +\n          config.parent +\n          ') matched more than one element, the first one will be used'\n      )\n    }\n    if (parent.length === 0) {\n      throw \"ERROR: the given `parent` doesn't exists!\"\n    }\n    parent = parent[0]\n  }\n  // if the given parent is a DOM nodes list or an array of nodes with more than one element,\n  // the first one will be used as parent\n  if (parent.length > 1 && parent instanceof Element === false) {\n    console.warn(\n      'WARNING: you have passed as parent a list of elements, the first one will be used'\n    )\n    parent = parent[0]\n  }\n\n  // append the generated popper to its parent\n  parent.appendChild(popper)\n\n  return popper\n\n  /**\n   * Adds class names to the given element\n   * @function\n   * @ignore\n   * @param {HTMLElement} target\n   * @param {Array} classes\n   */\n  function addClassNames(element, classNames) {\n    classNames.forEach(function (className) {\n      element.classList.add(className)\n    })\n  }\n\n  /**\n   * Adds attributes to the given element\n   * @function\n   * @ignore\n   * @param {HTMLElement} target\n   * @param {Array} attributes\n   * @example\n   * addAttributes(element, [ 'data-info:foobar' ]);\n   */\n  function addAttributes(element, attributes) {\n    attributes.forEach(function (attribute) {\n      element.setAttribute(\n        attribute.split(':')[0],\n        attribute.split(':')[1] || ''\n      )\n    })\n  }\n}\n\n/**\n * Helper used to get the position which will be applied to the popper\n * @method\n * @memberof Popper\n * @param config {HTMLElement} popper element\n * @param reference {HTMLElement} reference element\n * @returns {String} position\n */\nPopper.prototype._getPosition = function (popper, reference) {\n  var container = getOffsetParent(reference)\n\n  if (this._options.forceAbsolute) {\n    return 'absolute'\n  }\n\n  // Decide if the popper will be fixed\n  // If the reference element is inside a fixed context, the popper will be fixed as well to allow them to scroll together\n  var isParentFixed = isFixed(reference, container)\n  return isParentFixed ? 'fixed' : 'absolute'\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper\n * @access private\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nPopper.prototype._getOffsets = function (popper, reference, placement) {\n  placement = placement.split('-')[0]\n  var popperOffsets = {}\n\n  popperOffsets.position = this.state.position\n  var isParentFixed = popperOffsets.position === 'fixed'\n\n  //\n  // Get reference element position\n  //\n  var referenceOffsets = getOffsetRectRelativeToCustomParent(\n    reference,\n    getOffsetParent(popper),\n    isParentFixed\n  )\n\n  //\n  // Get popper sizes\n  //\n  var popperRect = getOuterSizes(popper)\n\n  //\n  // Compute offsets of popper\n  //\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  if (['right', 'left'].indexOf(placement) !== -1) {\n    popperOffsets.top =\n      referenceOffsets.top + referenceOffsets.height / 2 - popperRect.height / 2\n    if (placement === 'left') {\n      popperOffsets.left = referenceOffsets.left - popperRect.width\n    } else {\n      popperOffsets.left = referenceOffsets.right\n    }\n  } else {\n    popperOffsets.left =\n      referenceOffsets.left + referenceOffsets.width / 2 - popperRect.width / 2\n    if (placement === 'top') {\n      popperOffsets.top = referenceOffsets.top - popperRect.height\n    } else {\n      popperOffsets.top = referenceOffsets.bottom\n    }\n  }\n\n  // Add width and height to our offsets object\n  popperOffsets.width = popperRect.width\n  popperOffsets.height = popperRect.height\n\n  return {\n    popper: popperOffsets,\n    reference: referenceOffsets\n  }\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper\n * @access private\n */\nPopper.prototype._setupEventListeners = function () {\n  // NOTE: 1 DOM access here\n  this.state.updateBound = this.update.bind(this)\n  root.addEventListener('resize', this.state.updateBound)\n  // if the boundariesElement is window we don't need to listen for the scroll event\n  if (this._options.boundariesElement !== 'window') {\n    var target = getScrollParent(this._reference)\n    // here it could be both `body` or `documentElement` thanks to Firefox, we then check both\n    if (\n      target === root.document.body ||\n      target === root.document.documentElement\n    ) {\n      target = root\n    }\n    target.addEventListener('scroll', this.state.updateBound)\n    this.state.scrollTarget = target\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper\n * @access private\n */\nPopper.prototype._removeEventListeners = function () {\n  // NOTE: 1 DOM access here\n  root.removeEventListener('resize', this.state.updateBound)\n  if (this._options.boundariesElement !== 'window' && this.state.scrollTarget) {\n    this.state.scrollTarget.removeEventListener(\n      'scroll',\n      this.state.updateBound\n    )\n    this.state.scrollTarget = null\n  }\n  this.state.updateBound = null\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper\n * @access private\n * @param {Object} data - Object containing the property \"offsets\" generated by `_getOffsets`\n * @param {Number} padding - Boundaries padding\n * @param {Element} boundariesElement - Element used to define the boundaries\n * @returns {Object} Coordinates of the boundaries\n */\nPopper.prototype._getBoundaries = function (data, padding, boundariesElement) {\n  // NOTE: 1 DOM access here\n  var boundaries = {}\n  var width, height\n  if (boundariesElement === 'window') {\n    var body = root.document.body,\n      html = root.document.documentElement\n\n    height = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    )\n    width = Math.max(\n      body.scrollWidth,\n      body.offsetWidth,\n      html.clientWidth,\n      html.scrollWidth,\n      html.offsetWidth\n    )\n\n    boundaries = {\n      top: 0,\n      right: width,\n      bottom: height,\n      left: 0\n    }\n  } else if (boundariesElement === 'viewport') {\n    var offsetParent = getOffsetParent(this._popper)\n    var scrollParent = getScrollParent(this._popper)\n    var offsetParentRect = getOffsetRect(offsetParent)\n\n    // Thanks the fucking native API, `document.body.scrollTop` & `document.documentElement.scrollTop`\n    var getScrollTopValue = function (element) {\n      return element == document.body\n        ? Math.max(document.documentElement.scrollTop, document.body.scrollTop)\n        : element.scrollTop\n    }\n    var getScrollLeftValue = function (element) {\n      return element == document.body\n        ? Math.max(\n            document.documentElement.scrollLeft,\n            document.body.scrollLeft\n          )\n        : element.scrollLeft\n    }\n\n    // if the popper is fixed we don't have to substract scrolling from the boundaries\n    var scrollTop =\n      data.offsets.popper.position === 'fixed'\n        ? 0\n        : getScrollTopValue(scrollParent)\n    var scrollLeft =\n      data.offsets.popper.position === 'fixed'\n        ? 0\n        : getScrollLeftValue(scrollParent)\n\n    boundaries = {\n      top: 0 - (offsetParentRect.top - scrollTop),\n      right:\n        root.document.documentElement.clientWidth -\n        (offsetParentRect.left - scrollLeft),\n      bottom:\n        root.document.documentElement.clientHeight -\n        (offsetParentRect.top - scrollTop),\n      left: 0 - (offsetParentRect.left - scrollLeft)\n    }\n  } else {\n    if (getOffsetParent(this._popper) === boundariesElement) {\n      boundaries = {\n        top: 0,\n        left: 0,\n        right: boundariesElement.clientWidth,\n        bottom: boundariesElement.clientHeight\n      }\n    } else {\n      boundaries = getOffsetRect(boundariesElement)\n    }\n  }\n  boundaries.left += padding\n  boundaries.right -= padding\n  boundaries.top = boundaries.top + padding\n  boundaries.bottom = boundaries.bottom - padding\n  return boundaries\n}\n\n/**\n * Loop trough the list of modifiers and run them in order, each of them will then edit the data object\n * @method\n * @memberof Popper\n * @access public\n * @param {Object} data\n * @param {Array} modifiers\n * @param {Function} ends\n */\nPopper.prototype.runModifiers = function (data, modifiers, ends) {\n  var modifiersToRun = modifiers.slice()\n  if (ends !== undefined) {\n    modifiersToRun = this._options.modifiers.slice(\n      0,\n      getArrayKeyIndex(this._options.modifiers, ends)\n    )\n  }\n\n  modifiersToRun.forEach(\n    function (modifier) {\n      if (isFunction(modifier)) {\n        data = modifier.call(this, data)\n      }\n    }.bind(this)\n  )\n\n  return data\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.\n * @method\n * @memberof Popper\n * @param {String} requesting - name of requesting modifier\n * @param {String} requested - name of requested modifier\n * @returns {Boolean}\n */\nPopper.prototype.isModifierRequired = function (requesting, requested) {\n  var index = getArrayKeyIndex(this._options.modifiers, requesting)\n  return !!this._options.modifiers.slice(0, index).filter(function (modifier) {\n    return modifier === requested\n  }).length\n}\n\n//\n// Modifiers\n//\n\n/**\n * Modifiers list\n * @namespace Popper.modifiers\n * @memberof Popper\n * @type {Object}\n */\nPopper.prototype.modifiers = {}\n\n/**\n * Apply the computed styles to the popper element\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @returns {Object} The same data object\n */\nPopper.prototype.modifiers.applyStyle = function (data) {\n  // apply the final offsets to the popper\n  // NOTE: 1 DOM access here\n  var styles = {\n    position: data.offsets.popper.position\n  }\n\n  // round top and left to avoid blurry text\n  var left = Math.round(data.offsets.popper.left)\n  var top = Math.round(data.offsets.popper.top)\n\n  // if gpuAcceleration is set to true and transform is supported, we use `translate3d` to apply the position to the popper\n  // we automatically use the supported prefixed version if needed\n  var prefixedProperty\n  if (\n    this._options.gpuAcceleration &&\n    (prefixedProperty = getSupportedPropertyName('transform'))\n  ) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)'\n    styles.top = 0\n    styles.left = 0\n  }\n  // othwerise, we use the standard `left` and `top` properties\n  else {\n    styles.left = left\n    styles.top = top\n  }\n\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  Object.assign(styles, data.styles)\n\n  setStyle(this._popper, styles)\n\n  // set an attribute which will be useful to style the tooltip (use it to properly position its arrow)\n  // NOTE: 1 DOM access here\n  this._popper.setAttribute('x-placement', data.placement)\n\n  // if the arrow modifier is required and the arrow style has been computed, apply the arrow style\n  if (\n    this.isModifierRequired(this.modifiers.applyStyle, this.modifiers.arrow) &&\n    data.offsets.arrow\n  ) {\n    setStyle(data.arrowElement, data.offsets.arrow)\n  }\n\n  return data\n}\n\n/**\n * Modifier used to shift the popper on the start or end of its reference element side\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.shift = function (data) {\n  var placement = data.placement\n  var basePlacement = placement.split('-')[0]\n  var shiftVariation = placement.split('-')[1]\n\n  // if shift shiftVariation is specified, run the modifier\n  if (shiftVariation) {\n    var reference = data.offsets.reference\n    var popper = getPopperClientRect(data.offsets.popper)\n\n    var shiftOffsets = {\n      y: {\n        start: { top: reference.top },\n        end: { top: reference.top + reference.height - popper.height }\n      },\n      x: {\n        start: { left: reference.left },\n        end: { left: reference.left + reference.width - popper.width }\n      }\n    }\n\n    var axis = ['bottom', 'top'].indexOf(basePlacement) !== -1 ? 'x' : 'y'\n\n    data.offsets.popper = Object.assign(\n      popper,\n      shiftOffsets[axis][shiftVariation]\n    )\n  }\n\n  return data\n}\n\n/**\n * Modifier used to make sure the popper does not overflows from it's boundaries\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.preventOverflow = function (data) {\n  var order = this._options.preventOverflowOrder\n  var popper = getPopperClientRect(data.offsets.popper)\n\n  var check = {\n    left: function () {\n      var left = popper.left\n      if (popper.left < data.boundaries.left) {\n        left = Math.max(popper.left, data.boundaries.left)\n      }\n      return { left: left }\n    },\n    right: function () {\n      var left = popper.left\n      if (popper.right > data.boundaries.right) {\n        left = Math.min(popper.left, data.boundaries.right - popper.width)\n      }\n      return { left: left }\n    },\n    top: function () {\n      var top = popper.top\n      if (popper.top < data.boundaries.top) {\n        top = Math.max(popper.top, data.boundaries.top)\n      }\n      return { top: top }\n    },\n    bottom: function () {\n      var top = popper.top\n      if (popper.bottom > data.boundaries.bottom) {\n        top = Math.min(popper.top, data.boundaries.bottom - popper.height)\n      }\n      return { top: top }\n    }\n  }\n\n  order.forEach(function (direction) {\n    data.offsets.popper = Object.assign(popper, check[direction]())\n  })\n\n  return data\n}\n\n/**\n * Modifier used to make sure the popper is always near its reference\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by _update method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.keepTogether = function (data) {\n  var popper = getPopperClientRect(data.offsets.popper)\n  var reference = data.offsets.reference\n  var f = Math.floor\n\n  if (popper.right < f(reference.left)) {\n    data.offsets.popper.left = f(reference.left) - popper.width\n  }\n  if (popper.left > f(reference.right)) {\n    data.offsets.popper.left = f(reference.right)\n  }\n  if (popper.bottom < f(reference.top)) {\n    data.offsets.popper.top = f(reference.top) - popper.height\n  }\n  if (popper.top > f(reference.bottom)) {\n    data.offsets.popper.top = f(reference.bottom)\n  }\n\n  return data\n}\n\n/**\n * Modifier used to flip the placement of the popper when the latter is starting overlapping its reference element.\n * Requires the `preventOverflow` modifier before it in order to work.\n * **NOTE:** This modifier will run all its previous modifiers everytime it tries to flip the popper!\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by _update method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.flip = function (data) {\n  // check if preventOverflow is in the list of modifiers before the flip modifier.\n  // otherwise flip would not work as expected.\n  if (\n    !this.isModifierRequired(\n      this.modifiers.flip,\n      this.modifiers.preventOverflow\n    )\n  ) {\n    console.warn(\n      'WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!'\n    )\n    return data\n  }\n\n  if (data.flipped && data.placement === data._originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data\n  }\n\n  var placement = data.placement.split('-')[0]\n  var placementOpposite = getOppositePlacement(placement)\n  var variation = data.placement.split('-')[1] || ''\n\n  var flipOrder = []\n  if (this._options.flipBehavior === 'flip') {\n    flipOrder = [placement, placementOpposite]\n  } else {\n    flipOrder = this._options.flipBehavior\n  }\n\n  flipOrder.forEach(\n    function (step, index) {\n      if (placement !== step || flipOrder.length === index + 1) {\n        return\n      }\n\n      placement = data.placement.split('-')[0]\n      placementOpposite = getOppositePlacement(placement)\n\n      var popperOffsets = getPopperClientRect(data.offsets.popper)\n\n      // this boolean is used to distinguish right and bottom from top and left\n      // they need different computations to get flipped\n      var a = ['right', 'bottom'].indexOf(placement) !== -1\n\n      // using Math.floor because the reference offsets may contain decimals we are not going to consider here\n      if (\n        (a &&\n          Math.floor(data.offsets.reference[placement]) >\n            Math.floor(popperOffsets[placementOpposite])) ||\n        (!a &&\n          Math.floor(data.offsets.reference[placement]) <\n            Math.floor(popperOffsets[placementOpposite]))\n      ) {\n        // we'll use this boolean to detect any flip loop\n        data.flipped = true\n        data.placement = flipOrder[index + 1]\n        if (variation) {\n          data.placement += '-' + variation\n        }\n        data.offsets.popper = this._getOffsets(\n          this._popper,\n          this._reference,\n          data.placement\n        ).popper\n\n        data = this.runModifiers(data, this._options.modifiers, this._flip)\n      }\n    }.bind(this)\n  )\n  return data\n}\n\n/**\n * Modifier used to add an offset to the popper, useful if you more granularity positioning your popper.\n * The offsets will shift the popper on the side of its reference element.\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by _update method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.offset = function (data) {\n  var offset = this._options.offset\n  var popper = data.offsets.popper\n\n  if (data.placement.indexOf('left') !== -1) {\n    popper.top -= offset\n  } else if (data.placement.indexOf('right') !== -1) {\n    popper.top += offset\n  } else if (data.placement.indexOf('top') !== -1) {\n    popper.left -= offset\n  } else if (data.placement.indexOf('bottom') !== -1) {\n    popper.left += offset\n  }\n  return data\n}\n\n/**\n * Modifier used to move the arrows on the edge of the popper to make sure them are always between the popper and the reference element\n * It will use the CSS outer size of the arrow element to know how many pixels of conjuction are needed\n * @method\n * @memberof Popper.modifiers\n * @argument {Object} data - The data object generated by _update method\n * @returns {Object} The data object, properly modified\n */\nPopper.prototype.modifiers.arrow = function (data) {\n  var arrow = this._options.arrowElement\n  var arrowOffset = this._options.arrowOffset\n\n  // if the arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrow === 'string') {\n    arrow = this._popper.querySelector(arrow)\n  }\n\n  // if arrow element is not found, don't run the modifier\n  if (!arrow) {\n    return data\n  }\n\n  // the arrow element must be child of its popper\n  if (!this._popper.contains(arrow)) {\n    console.warn('WARNING: `arrowElement` must be child of its popper element!')\n    return data\n  }\n\n  // arrow depends on keepTogether in order to work\n  if (\n    !this.isModifierRequired(this.modifiers.arrow, this.modifiers.keepTogether)\n  ) {\n    console.warn(\n      'WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!'\n    )\n    return data\n  }\n\n  var arrowStyle = {}\n  var placement = data.placement.split('-')[0]\n  var popper = getPopperClientRect(data.offsets.popper)\n  var reference = data.offsets.reference\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1\n\n  var len = isVertical ? 'height' : 'width'\n  var side = isVertical ? 'top' : 'left'\n  var translate = isVertical ? 'translateY' : 'translateX'\n  var altSide = isVertical ? 'left' : 'top'\n  var opSide = isVertical ? 'bottom' : 'right'\n  var arrowSize = getOuterSizes(arrow)[len]\n\n  //\n  // extends keepTogether behavior making sure the popper and its reference have enough pixels in conjuction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowSize)\n  }\n  // bottom/right side\n  if (reference[side] + arrowSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowSize - popper[opSide]\n  }\n\n  // compute center of the popper\n  var center =\n    reference[side] + (arrowOffset || reference[len] / 2 - arrowSize / 2)\n\n  var sideValue = center - popper[side]\n\n  // prevent arrow from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowSize - 8, sideValue), 8)\n  arrowStyle[side] = sideValue\n  arrowStyle[altSide] = '' // make sure to remove any old style from the arrow\n\n  data.offsets.arrow = arrowStyle\n  data.arrowElement = arrow\n\n  return data\n}\n\n//\n// Helpers\n//\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @function\n * @ignore\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  // NOTE: 1 DOM access here\n  var _display = element.style.display,\n    _visibility = element.style.visibility\n  element.style.display = 'block'\n  element.style.visibility = 'hidden'\n  var calcWidthToForceRepaint = element.offsetWidth\n\n  // original method\n  var styles = root.getComputedStyle(element)\n  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom)\n  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight)\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  }\n\n  // reset element styles\n  element.style.display = _display\n  element.style.visibility = _visibility\n  return result\n}\n\n/**\n * Get the opposite placement of the given one/\n * @function\n * @ignore\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' }\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched]\n  })\n}\n\n/**\n * Given the popper offsets, generate an output similar to getBoundingClientRect\n * @function\n * @ignore\n * @argument {Object} popperOffsets\n * @returns {Object} ClientRect like output\n */\nfunction getPopperClientRect(popperOffsets) {\n  var offsets = Object.assign({}, popperOffsets)\n  offsets.right = offsets.left + offsets.width\n  offsets.bottom = offsets.top + offsets.height\n  return offsets\n}\n\n/**\n * Given an array and the key to find, returns its index\n * @function\n * @ignore\n * @argument {Array} arr\n * @argument keyToFind\n * @returns index or null\n */\nfunction getArrayKeyIndex(arr, keyToFind) {\n  var i = 0,\n    key\n  for (key in arr) {\n    if (arr[key] === keyToFind) {\n      return i\n    }\n    i++\n  }\n  return null\n}\n\n/**\n * Get CSS computed property of the given element\n * @function\n * @ignore\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  // NOTE: 1 DOM access here\n  var css = root.getComputedStyle(element, null)\n  return css[property]\n}\n\n/**\n * Returns the offset parent of the given element\n * @function\n * @ignore\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent\n  return offsetParent === root.document.body || !offsetParent\n    ? root.document.documentElement\n    : offsetParent\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @function\n * @ignore\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getScrollParent(element) {\n  var parent = element.parentNode\n\n  if (!parent) {\n    return element\n  }\n\n  if (parent === root.document) {\n    // Firefox puts the scrollTOp value on `documentElement` instead of `body`, we then check which of them is\n    // greater than 0 and return the proper element\n    if (root.document.body.scrollTop || root.document.body.scrollLeft) {\n      return root.document.body\n    } else {\n      return root.document.documentElement\n    }\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  if (\n    ['scroll', 'auto'].indexOf(getStyleComputedProperty(parent, 'overflow')) !==\n      -1 ||\n    ['scroll', 'auto'].indexOf(\n      getStyleComputedProperty(parent, 'overflow-x')\n    ) !== -1 ||\n    ['scroll', 'auto'].indexOf(\n      getStyleComputedProperty(parent, 'overflow-y')\n    ) !== -1\n  ) {\n    // If the detected scrollParent is body, we perform an additional check on its parentNode\n    // in this way we'll get body if the browser is Chrome-ish, or documentElement otherwise\n    // fixes issue #65\n    return parent\n  }\n  return getScrollParent(element.parentNode)\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @function\n * @ignore\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  if (element === root.document.body) {\n    return false\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true\n  }\n  return element.parentNode ? isFixed(element.parentNode) : element\n}\n\n/**\n * Set the style to the given popper\n * @function\n * @ignore\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles - Object with a list of properties and values which will be applied to the element\n */\nfunction setStyle(element, styles) {\n  function is_numeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n)\n  }\n  Object.keys(styles).forEach(function (prop) {\n    var unit = ''\n    // add unit if the value is numeric and is one of the following\n    if (\n      ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !==\n        -1 &&\n      is_numeric(styles[prop])\n    ) {\n      unit = 'px'\n    }\n    element.style[prop] = styles[prop] + unit\n  })\n}\n\n/**\n * Check if the given variable is a function\n * @function\n * @ignore\n * @argument {*} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {}\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  )\n}\n\n/**\n * Get the position of the given element, relative to its offset parent\n * @function\n * @ignore\n * @param {Element} element\n * @return {Object} position - Coordinates of the element and its `scrollTop`\n */\nfunction getOffsetRect(element) {\n  var elementRect = {\n    width: element.offsetWidth,\n    height: element.offsetHeight,\n    left: element.offsetLeft,\n    top: element.offsetTop\n  }\n\n  elementRect.right = elementRect.left + elementRect.width\n  elementRect.bottom = elementRect.top + elementRect.height\n\n  // position\n  return elementRect\n}\n\n/**\n * Get bounding client rect of given element\n * @function\n * @ignore\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect()\n\n  // whether the IE version is lower than 11\n  var isIE = navigator.userAgent.indexOf('MSIE') != -1\n\n  // fix ie document bounding top always 0 bug\n  var rectTop =\n    isIE && element.tagName === 'HTML' ? -element.scrollTop : rect.top\n\n  return {\n    left: rect.left,\n    top: rectTop,\n    right: rect.right,\n    bottom: rect.bottom,\n    width: rect.right - rect.left,\n    height: rect.bottom - rectTop\n  }\n}\n\n/**\n * Given an element and one of its parents, return the offset\n * @function\n * @ignore\n * @param {HTMLElement} element\n * @param {HTMLElement} parent\n * @return {Object} rect\n */\nfunction getOffsetRectRelativeToCustomParent(element, parent, fixed) {\n  var elementRect = getBoundingClientRect(element)\n  var parentRect = getBoundingClientRect(parent)\n\n  if (fixed) {\n    var scrollParent = getScrollParent(parent)\n    parentRect.top += scrollParent.scrollTop\n    parentRect.bottom += scrollParent.scrollTop\n    parentRect.left += scrollParent.scrollLeft\n    parentRect.right += scrollParent.scrollLeft\n  }\n\n  var rect = {\n    top: elementRect.top - parentRect.top,\n    left: elementRect.left - parentRect.left,\n    bottom: elementRect.top - parentRect.top + elementRect.height,\n    right: elementRect.left - parentRect.left + elementRect.width,\n    width: elementRect.width,\n    height: elementRect.height\n  }\n  return rect\n}\n\n/**\n * Get the prefixed supported property name\n * @function\n * @ignore\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = ['', 'ms', 'webkit', 'moz', 'o']\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var toCheck = prefixes[i]\n      ? prefixes[i] + property.charAt(0).toUpperCase() + property.slice(1)\n      : property\n    if (typeof root.document.body.style[toCheck] !== 'undefined') {\n      return toCheck\n    }\n  }\n  return null\n}\n\n/**\n * The Object.assign() method is used to copy the values of all enumerable own properties from one or more source\n * objects to a target object. It will return the target object.\n * This polyfill doesn't support symbol properties, since ES5 doesn't have symbols anyway\n * Source: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @function\n * @ignore\n */\nif (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object')\n      }\n\n      var to = Object(target)\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i]\n        if (nextSource === undefined || nextSource === null) {\n          continue\n        }\n        nextSource = Object(nextSource)\n\n        var keysArray = Object.keys(nextSource)\n        for (\n          var nextIndex = 0, len = keysArray.length;\n          nextIndex < len;\n          nextIndex++\n        ) {\n          var nextKey = keysArray[nextIndex]\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey)\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey]\n          }\n        }\n      }\n      return to\n    }\n  })\n}\n","import {\n  nextTick,\n  ref,\n  getCurrentInstance,\n  onBeforeUnmount,\n  watch,\n  toRefs\n} from 'vue'\nimport { PopupManager } from '../../src/utils/popup'\n// const PopperJS = require('element-ui/src/utils/popper')\nimport { Popper } from '../../src/utils/new-popper'\nconst stop = (e) => e.stopPropagation()\n\nconst popperProps = {\n  transformOrigin: {\n    type: [Boolean, String],\n    default: true\n  },\n  placement: {\n    type: String,\n    default: 'bottom'\n  },\n  boundariesPadding: {\n    type: Number,\n    default: 5\n  },\n  reference: {},\n  popper: {},\n  offset: {\n    default: 0\n  },\n  modelValue: Boolean,\n  visibleArrow: Boolean,\n  arrowOffset: {\n    type: Number,\n    default: 35\n  },\n  appendToBody: {\n    type: Boolean,\n    default: true\n  },\n  popperOptions: {\n    type: Object,\n    default() {\n      return {\n        gpuAcceleration: false\n      }\n    }\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  }\n}\n\nfunction usePopper(props, { emit, slots }, { referenceElm, popperElm }) {\n  const {\n    transformOrigin,\n    placement,\n    reference,\n    popper,\n    offset,\n    modelValue,\n    visibleArrow,\n    arrowOffset,\n    appendToBody,\n    popperOptions,\n    disabled\n  } = toRefs(props)\n\n  const showPopper = ref(false)\n  const currentPlacement = ref('')\n  const popperJS = ref(null)\n  const instance = getCurrentInstance()\n\n  function createPopper() {\n    if (instance.proxy.$isServer) return\n    currentPlacement.value = currentPlacement.value || placement.value\n    if (\n      !/^(top|bottom|left|right)(-start|-end)?$/g.test(currentPlacement.value)\n    ) {\n      return\n    }\n    const options = popperOptions.value\n    const popperRef = (popperElm.value =\n      popperElm.value ||\n      (popper && popper.value) ||\n      instance.proxy.$refs.popper)\n\n    let referenceRef = (referenceElm.value =\n      referenceElm.value ||\n      (reference && reference.value) ||\n      instance.proxy.$refs.reference)\n\n    if (\n      !referenceRef &&\n      slots.reference &&\n      slots.reference() &&\n      slots.reference()[0]\n    ) {\n      referenceRef = referenceElm.value = slots.reference()[0].el\n    }\n\n    if (!popperRef || !referenceRef) return\n    if (visibleArrow.value) appendArrow(popperRef)\n    if (appendToBody.value) document.body.appendChild(popperElm.value)\n    if (popperJS.value && popperJS.value.destroy) {\n      popperJS.value.destroy()\n    }\n\n    options.placement = currentPlacement.value\n    options.offset = offset.value\n    options.arrowOffset = arrowOffset.value\n    popperJS.value = new Popper(referenceRef, popperRef, options)\n    popperJS.value.onCreate(() => {\n      emit('created', instance.proxy)\n      resetTransformOrigin()\n      nextTick(() => updatePopper())\n    })\n    if (typeof options.onUpdate === 'function') {\n      popperJS.value.onUpdate(options.onUpdate)\n    }\n    popperJS.value._popper.style.zIndex = PopupManager.nextZIndex()\n    popperElm.value.addEventListener('click', stop)\n  }\n\n  function updatePopper() {\n    const popperJSRef = popperJS.value\n    if (popperJSRef) {\n      popperJSRef.update()\n      if (popperJSRef._popper) {\n        popperJSRef._popper.style.zIndex = PopupManager.nextZIndex()\n      }\n    } else {\n      createPopper()\n    }\n  }\n\n  function doDestroy(forceDestroy) {\n    /* istanbul ignore if */\n    if (!popperJS.value || (showPopper.value && !forceDestroy)) return\n    popperJS.value.destroy()\n    popperJS.value = null\n  }\n\n  function destroyPopper() {\n    if (popperJS.value) {\n      resetTransformOrigin()\n    }\n  }\n\n  function resetTransformOrigin() {\n    if (!transformOrigin.value) return\n    const placementMap = {\n      top: 'bottom',\n      bottom: 'top',\n      left: 'right',\n      right: 'left'\n    }\n    const placement = popperJS.value._popper\n      .getAttribute('x-placement')\n      .split('-')[0]\n    const origin = placementMap[placement]\n    popperJS.value._popper.style.transformOrigin =\n      typeof transformOrigin.value === 'string'\n        ? transformOrigin.value\n        : ['top', 'bottom'].indexOf(placement) > -1\n        ? `center ${origin}`\n        : `${origin} center`\n  }\n\n  const appended = ref(false)\n  function appendArrow(element) {\n    let hash\n\n    if (appended.value) {\n      return\n    }\n\n    appended.value = true\n\n    for (const item in element.attributes) {\n      if (/^_v-/.test(element.attributes[item].name)) {\n        hash = element.attributes[item].name\n        break\n      }\n    }\n\n    const arrow = document.createElement('div')\n\n    if (hash) {\n      arrow.setAttribute(hash, '')\n    }\n    arrow.setAttribute('x-arrow', '')\n    arrow.className = 'popper__arrow'\n    element.appendChild(arrow)\n  }\n\n  watch(\n    modelValue,\n    (val) => {\n      showPopper.value = val\n      emit('update:modelValue', val)\n    },\n    {\n      immediate: true\n    }\n  )\n\n  watch(showPopper, (val) => {\n    if (disabled.value) return\n    val ? updatePopper() : destroyPopper()\n    emit('update:modelValue', val)\n  })\n\n  onBeforeUnmount(() => {\n    doDestroy(true)\n    if (popperElm.value && popperElm.value.parentNode === document.body) {\n      popperElm.value.removeEventListener('click', stop)\n      document.body.removeChild(popperElm.value)\n    }\n  })\n\n  return {\n    showPopper,\n    currentPlacement,\n    referenceElm,\n    popperElm,\n    popperJS,\n    createPopper,\n    updatePopper,\n    doDestroy,\n    destroyPopper,\n    resetTransformOrigin,\n    appendArrow\n  }\n}\n\nexport { popperProps, usePopper }\n","<template>\n  <div\n    class=\"el-select-dropdown el-popper\"\n    :class=\"[{ 'is-multiple': elSelect.multiple }, popperClass]\"\n    :style=\"{ minWidth: minWidth }\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport { popperProps, usePopper } from '../../src/use/popper'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  onMounted,\n  inject,\n  ref,\n  toRefs,\n  getCurrentInstance,\n  computed,\n  watch,\n  reactive\n} from 'vue'\n\nexport default {\n  name: 'ElSelectDropdown',\n\n  componentName: 'ElSelectDropdown',\n\n  props: {\n    ...popperProps,\n    placement: {\n      default: 'bottom-start'\n    },\n\n    boundariesPadding: {\n      default: 0\n    },\n\n    popperOptions: {\n      default() {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    },\n\n    visibleArrow: {\n      default: true\n    },\n\n    appendToBody: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['update:blur', 'update:modelValue', 'created'],\n\n  setup(props, ctx) {\n    const elSelect = inject('select')\n    const elms = usePopperElm(elSelect)\n    const popper = usePopper(props, ctx, elms)\n\n    usePopperUpdate(() => {\n      if (elSelect.visible) {\n        popper.updatePopper()\n      }\n    }, popper.destroyPopper)\n\n    const popperClass = computed(() => {\n      return elSelect.popperClass\n    })\n\n    const minWidth = useMinWidth(elSelect)\n\n    return {\n      elSelect,\n      minWidth,\n      popperClass,\n      ...popper\n    }\n  }\n}\n\nfunction usePopperElm(elSelect) {\n  const { proxy } = getCurrentInstance()\n  const elms = reactive({\n    referenceElm: null,\n    popperElm: null\n  })\n  onMounted(() => {\n    elms.referenceElm = elSelect.$refs.reference.$el\n    elSelect.popperElm = elms.popperElm = proxy.$el\n  })\n  return { ...toRefs(elms) }\n}\n\nfunction usePopperUpdate(updateFn, destroyFn) {\n  const { on } = useEmitter()\n\n  onMounted(() => {\n    on('updatePopper', updateFn)\n    on('destroyPopper', destroyFn)\n  })\n}\n\nfunction useMinWidth(elSelect) {\n  const minWidth = ref('')\n\n  watch(\n    () => elSelect.inputWidth,\n    () => {\n      minWidth.value = elSelect.$el.getBoundingClientRect().width + 'px'\n    }\n  )\n  return minWidth\n}\n</script>\n","<template>\n  <div\n    class=\"el-select-dropdown el-popper\"\n    :class=\"[{ 'is-multiple': elSelect.multiple }, popperClass]\"\n    :style=\"{ minWidth: minWidth }\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport { popperProps, usePopper } from '../../src/use/popper'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  onMounted,\n  inject,\n  ref,\n  toRefs,\n  getCurrentInstance,\n  computed,\n  watch,\n  reactive\n} from 'vue'\n\nexport default {\n  name: 'ElSelectDropdown',\n\n  componentName: 'ElSelectDropdown',\n\n  props: {\n    ...popperProps,\n    placement: {\n      default: 'bottom-start'\n    },\n\n    boundariesPadding: {\n      default: 0\n    },\n\n    popperOptions: {\n      default() {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    },\n\n    visibleArrow: {\n      default: true\n    },\n\n    appendToBody: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['update:blur', 'update:modelValue', 'created'],\n\n  setup(props, ctx) {\n    const elSelect = inject('select')\n    const elms = usePopperElm(elSelect)\n    const popper = usePopper(props, ctx, elms)\n\n    usePopperUpdate(() => {\n      if (elSelect.visible) {\n        popper.updatePopper()\n      }\n    }, popper.destroyPopper)\n\n    const popperClass = computed(() => {\n      return elSelect.popperClass\n    })\n\n    const minWidth = useMinWidth(elSelect)\n\n    return {\n      elSelect,\n      minWidth,\n      popperClass,\n      ...popper\n    }\n  }\n}\n\nfunction usePopperElm(elSelect) {\n  const { proxy } = getCurrentInstance()\n  const elms = reactive({\n    referenceElm: null,\n    popperElm: null\n  })\n  onMounted(() => {\n    elms.referenceElm = elSelect.$refs.reference.$el\n    elSelect.popperElm = elms.popperElm = proxy.$el\n  })\n  return { ...toRefs(elms) }\n}\n\nfunction usePopperUpdate(updateFn, destroyFn) {\n  const { on } = useEmitter()\n\n  onMounted(() => {\n    on('updatePopper', updateFn)\n    on('destroyPopper', destroyFn)\n  })\n}\n\nfunction useMinWidth(elSelect) {\n  const minWidth = ref('')\n\n  watch(\n    () => elSelect.inputWidth,\n    () => {\n      minWidth.value = elSelect.$el.getBoundingClientRect().width + 'px'\n    }\n  )\n  return minWidth\n}\n</script>\n","<template>\n  <li\n    @mouseenter=\"hoverItem\"\n    @click.stop=\"selectOptionClick\"\n    class=\"el-select-dropdown__item\"\n    v-show=\"visible\"\n    :class=\"{\n      selected: itemSelected,\n      'is-disabled': disabled || groupDisabled || limitReached,\n      hover: hover\n    }\"\n  >\n    <slot>\n      <span>{{ currentLabel }}</span>\n    </slot>\n  </li>\n</template>\n\n<script type=\"text/babel\">\nimport { getValueByPath, escapeRegexpString } from '../../src/utils/util'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  inject,\n  getCurrentInstance,\n  reactive,\n  computed,\n  watch,\n  toRefs,\n  unref,\n  onBeforeMount,\n  onBeforeUnmount,\n  onMounted\n} from 'vue'\n\nexport default {\n  name: 'ElOption',\n\n  componentName: 'ElOption',\n\n  props: {\n    value: {\n      required: true\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    const { on, dispatch } = useEmitter()\n    const select = inject('select')\n    const { proxy } = getCurrentInstance()\n    const { value, label, disabled, created } = toRefs(props)\n    const data = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    })\n\n    onMounted(() => {\n      console.log('???')\n    })\n\n    const isObject = computed(() => {\n      const v = unref(value)\n      return (\n        Object.prototype.toString.call(v).toLowerCase() === '[object object]'\n      )\n    })\n\n    const currentLabel = computed(() => {\n      return unref(label) || (unref(isObject) ? '' : unref(value))\n    })\n\n    const currentValue = computed(() => {\n      return unref(value) || label.value || ''\n    })\n\n    const itemSelected = computed(() => {\n      if (!select.multiple) {\n        return isEqual(unref(value), select.modelValue)\n      } else {\n        return contains(select.modelValue, unref(value))\n      }\n    })\n\n    const limitReached = computed(() => {\n      if (select.multiple) {\n        return (\n          !unref(itemSelected) &&\n          (select.modelValue || []).length >= select.multipleLimit &&\n          select.multipleLimit > 0\n        )\n      } else {\n        return false\n      }\n    })\n\n    function isEqual(a, b) {\n      if (!unref(isObject)) {\n        return a === b\n      } else {\n        const valueKey = select.valueKey\n        return getValueByPath(a, valueKey) === getValueByPath(b, valueKey)\n      }\n    }\n\n    function contains(arr = [], target) {\n      if (!unref(isObject)) {\n        return arr && arr.indexOf(target) > -1\n      } else {\n        const valueKey = select.valueKey\n        return (\n          arr &&\n          arr.some((item) => {\n            return (\n              getValueByPath(item, valueKey) ===\n              getValueByPath(target, valueKey)\n            )\n          })\n        )\n      }\n    }\n\n    function handleGroupDisabled(val) {\n      data.groupDisabled = val\n    }\n\n    function hoverItem() {\n      console.debug('Option.vue hoverItem()')\n      if (!disabled.value && !data.groupDisabled) {\n        select.hoverIndex = select.options.indexOf(proxy)\n      }\n    }\n\n    function selectOptionClick() {\n      if (disabled.value !== true && data.groupDisabled !== true) {\n        dispatch('handleOptionClick', { option: props, byClick: true })\n      }\n    }\n\n    function queryChange(query) {\n      data.visible =\n        new RegExp(escapeRegexpString(query), 'i').test(unref(currentLabel)) ||\n        created.value\n      if (!data.visible) {\n        select.filteredOptionsCount--\n      }\n    }\n\n    watch(currentLabel, () => {\n      if (!created.value && !select.remote) dispatch('setSelected')\n    })\n    watch(value, (val, oldVal) => {\n      const { remote, valueKey } = select\n      if (!created.value && !remote) {\n        if (\n          valueKey &&\n          typeof val === 'object' &&\n          typeof oldVal === 'object' &&\n          val[valueKey] === oldVal[valueKey]\n        ) {\n          return\n        }\n        dispatch('setSelected')\n      }\n    })\n    onBeforeMount(() => {\n      console.log('before-mount', proxy)\n      select.options.push(proxy)\n      select.cachedOptions.push(proxy)\n      select.optionsCount++\n      select.filteredOptionsCount++\n\n      on('queryChange', queryChange)\n      on('handleGroupDisabled', handleGroupDisabled)\n    })\n    onBeforeUnmount(() => {\n      const { selected, multiple } = select\n      const selectedOptions = multiple ? selected : [selected]\n      const index = select.cachedOptions.indexOf(proxy)\n      const selectedIndex = selectedOptions.indexOf(proxy)\n\n      // if option is not selected, remove it from cache\n      if (index > -1 && selectedIndex < 0) {\n        select.cachedOptions.splice(index, 1)\n      }\n      select.onOptionDestroy(select.options.indexOf(proxy))\n    })\n\n    return {\n      ...toRefs(data),\n      selectOptionClick,\n      itemSelected,\n      limitReached,\n      currentLabel,\n      currentValue,\n      hoverItem\n    }\n  }\n}\n</script>\n","<template>\n  <li\n    @mouseenter=\"hoverItem\"\n    @click.stop=\"selectOptionClick\"\n    class=\"el-select-dropdown__item\"\n    v-show=\"visible\"\n    :class=\"{\n      selected: itemSelected,\n      'is-disabled': disabled || groupDisabled || limitReached,\n      hover: hover\n    }\"\n  >\n    <slot>\n      <span>{{ currentLabel }}</span>\n    </slot>\n  </li>\n</template>\n\n<script type=\"text/babel\">\nimport { getValueByPath, escapeRegexpString } from '../../src/utils/util'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  inject,\n  getCurrentInstance,\n  reactive,\n  computed,\n  watch,\n  toRefs,\n  unref,\n  onBeforeMount,\n  onBeforeUnmount,\n  onMounted\n} from 'vue'\n\nexport default {\n  name: 'ElOption',\n\n  componentName: 'ElOption',\n\n  props: {\n    value: {\n      required: true\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    const { on, dispatch } = useEmitter()\n    const select = inject('select')\n    const { proxy } = getCurrentInstance()\n    const { value, label, disabled, created } = toRefs(props)\n    const data = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    })\n\n    onMounted(() => {\n      console.log('???')\n    })\n\n    const isObject = computed(() => {\n      const v = unref(value)\n      return (\n        Object.prototype.toString.call(v).toLowerCase() === '[object object]'\n      )\n    })\n\n    const currentLabel = computed(() => {\n      return unref(label) || (unref(isObject) ? '' : unref(value))\n    })\n\n    const currentValue = computed(() => {\n      return unref(value) || label.value || ''\n    })\n\n    const itemSelected = computed(() => {\n      if (!select.multiple) {\n        return isEqual(unref(value), select.modelValue)\n      } else {\n        return contains(select.modelValue, unref(value))\n      }\n    })\n\n    const limitReached = computed(() => {\n      if (select.multiple) {\n        return (\n          !unref(itemSelected) &&\n          (select.modelValue || []).length >= select.multipleLimit &&\n          select.multipleLimit > 0\n        )\n      } else {\n        return false\n      }\n    })\n\n    function isEqual(a, b) {\n      if (!unref(isObject)) {\n        return a === b\n      } else {\n        const valueKey = select.valueKey\n        return getValueByPath(a, valueKey) === getValueByPath(b, valueKey)\n      }\n    }\n\n    function contains(arr = [], target) {\n      if (!unref(isObject)) {\n        return arr && arr.indexOf(target) > -1\n      } else {\n        const valueKey = select.valueKey\n        return (\n          arr &&\n          arr.some((item) => {\n            return (\n              getValueByPath(item, valueKey) ===\n              getValueByPath(target, valueKey)\n            )\n          })\n        )\n      }\n    }\n\n    function handleGroupDisabled(val) {\n      data.groupDisabled = val\n    }\n\n    function hoverItem() {\n      console.debug('Option.vue hoverItem()')\n      if (!disabled.value && !data.groupDisabled) {\n        select.hoverIndex = select.options.indexOf(proxy)\n      }\n    }\n\n    function selectOptionClick() {\n      if (disabled.value !== true && data.groupDisabled !== true) {\n        dispatch('handleOptionClick', { option: props, byClick: true })\n      }\n    }\n\n    function queryChange(query) {\n      data.visible =\n        new RegExp(escapeRegexpString(query), 'i').test(unref(currentLabel)) ||\n        created.value\n      if (!data.visible) {\n        select.filteredOptionsCount--\n      }\n    }\n\n    watch(currentLabel, () => {\n      if (!created.value && !select.remote) dispatch('setSelected')\n    })\n    watch(value, (val, oldVal) => {\n      const { remote, valueKey } = select\n      if (!created.value && !remote) {\n        if (\n          valueKey &&\n          typeof val === 'object' &&\n          typeof oldVal === 'object' &&\n          val[valueKey] === oldVal[valueKey]\n        ) {\n          return\n        }\n        dispatch('setSelected')\n      }\n    })\n    onBeforeMount(() => {\n      console.log('before-mount', proxy)\n      select.options.push(proxy)\n      select.cachedOptions.push(proxy)\n      select.optionsCount++\n      select.filteredOptionsCount++\n\n      on('queryChange', queryChange)\n      on('handleGroupDisabled', handleGroupDisabled)\n    })\n    onBeforeUnmount(() => {\n      const { selected, multiple } = select\n      const selectedOptions = multiple ? selected : [selected]\n      const index = select.cachedOptions.indexOf(proxy)\n      const selectedIndex = selectedOptions.indexOf(proxy)\n\n      // if option is not selected, remove it from cache\n      if (index > -1 && selectedIndex < 0) {\n        select.cachedOptions.splice(index, 1)\n      }\n      select.onOptionDestroy(select.options.indexOf(proxy))\n    })\n\n    return {\n      ...toRefs(data),\n      selectOptionClick,\n      itemSelected,\n      limitReached,\n      currentLabel,\n      currentValue,\n      hoverItem\n    }\n  }\n}\n</script>\n","<script lang=\"jsx\">\nimport { useGlobalOptions } from '../../../use/globalConfig.js'\nimport { ref, computed, toRefs, Transition } from 'vue'\n\nconst useShow = (emit) => {\n  const show = ref(true)\n\n  const handleClose = (e) => {\n    e.stopPropagation()\n    show.value = false\n    emit('close', e)\n  }\n\n  return {\n    show,\n    handleClose\n  }\n}\nexport default {\n  name: 'ElTag',\n  props: {\n    type: {\n      type: String,\n      default: '',\n      validator(v) {\n        return ['success', 'info', 'warning', 'danger', ''].includes(v)\n      }\n    },\n    closable: Boolean,\n    disableTransitions: Boolean,\n    hit: Boolean,\n    color: String,\n    size: {\n      type: String,\n      validator(v) {\n        return ['medium', 'small', 'mini', ''].includes(v)\n      }\n    },\n    effect: {\n      type: String,\n      default: 'light',\n      validator(v) {\n        return ['dark', 'light', 'plain'].includes(v)\n      }\n    }\n  },\n  emits: ['close', 'click'],\n  setup(props, { emit }) {\n    const $ELEMENT = useGlobalOptions()\n\n    const { type, hit, size, effect } = toRefs(props)\n\n    const tagSize = computed(() => {\n      return size?.value || $ELEMENT.size\n    })\n    const classes = computed(() => [\n      'el-tag',\n      type.value ? `el-tag--${type.value}` : '',\n      tagSize.value ? `el-tag--${tagSize.value}` : '',\n      `el-tag--${effect.value}`,\n      hit.value && 'is-hit'\n    ])\n\n    const { show, handleClose } = useShow(emit)\n\n    return {\n      show,\n      classes,\n      handleClose\n    }\n  },\n  render() {\n    const tagEl = this.show ? (\n      <span\n        class={this.classes}\n        style={{ backgroundColor: this.color }}\n        onClick={(e) => {\n          this.$emit('click', e)\n        }}\n      >\n        {this.$slots.default?.()}\n        {this.closable && (\n          <i class=\"el-tag__close el-icon-close\" onClick={this.handleClose} />\n        )}\n      </span>\n    ) : (\n      ''\n    )\n    return this.disableTransitions ? (\n      tagEl\n    ) : (\n      <Transition appear name=\"el-zoom-in-center\">\n        {tagEl}\n      </Transition>\n    )\n  }\n}\n</script>\n","import ElTag from './src/Tag.vue'\n\n/* istanbul ignore next */\nElTag.install = function (app) {\n  app.component(ElTag.name, ElTag)\n}\n\nexport { ElTag }\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import { onMounted, getCurrentInstance } from 'vue'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nconst isServer = typeof window === 'undefined'\n\n/* istanbul ignore next */\nconst resizeHandler = function (entries) {\n  for (const entry of entries) {\n    const listeners = entry.target.__resizeListeners__ || []\n    if (listeners.length) {\n      listeners.forEach((fn) => {\n        fn()\n      })\n    }\n  }\n}\n\nexport const useResizeEvent = () => {\n  let element = null\n\n  const addResizeListener = (fn) => {\n    element.__resizeListeners__.push(fn)\n  }\n\n  const removeResizeListener = (fn) => {\n    if (!element || !element.__resizeListeners__) return\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    )\n    if (!element.__resizeListeners__.length) {\n      element.__ro__.disconnect()\n    }\n  }\n  onMounted(() => {\n    element = getCurrentInstance().vnode.el\n    if (isServer) return\n    if (!element.__resizeListeners__) {\n      element.__resizeListeners__ = []\n      element.__ro__ = new ResizeObserver(resizeHandler)\n      element.__ro__.observe(element)\n    }\n  })\n\n  return {\n    addResizeListener,\n    removeResizeListener\n  }\n}\n\n/* istanbul ignore next */\nexport const addResizeListener = function (element, fn) {\n  if (isServer) return\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = []\n    element.__ro__ = new ResizeObserver(resizeHandler)\n    element.__ro__.observe(element)\n  }\n  element.__resizeListeners__.push(fn)\n}\n\n/* istanbul ignore next */\nexport const removeResizeListener = function (element, fn) {\n  if (!element || !element.__resizeListeners__) return\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1)\n  if (!element.__resizeListeners__.length) {\n    element.__ro__.disconnect()\n  }\n}\n","export const BAR_MAP = {\n  vertical: {\n    offset: 'offsetHeight',\n    scroll: 'scrollTop',\n    scrollSize: 'scrollHeight',\n    size: 'height',\n    key: 'vertical',\n    axis: 'Y',\n    client: 'clientY',\n    direction: 'top'\n  },\n  horizontal: {\n    offset: 'offsetWidth',\n    scroll: 'scrollLeft',\n    scrollSize: 'scrollWidth',\n    size: 'width',\n    key: 'horizontal',\n    axis: 'X',\n    client: 'clientX',\n    direction: 'left'\n  }\n}\n\nexport function renderThumbStyle({ move, size, bar }) {\n  const style = {}\n  const translate = `translate${bar.value.axis}(${move.value}%)`\n\n  style[bar.value.size] = size.value\n  style.transform = translate\n  style.msTransform = translate\n  style.webkitTransform = translate\n\n  return style\n}\n","import { on, off } from '../../src/utils/dom'\nimport { renderThumbStyle, BAR_MAP } from './util'\nimport {\n  ref,\n  reactive,\n  computed,\n  toRefs,\n  getCurrentInstance,\n  onUnmounted\n} from 'vue'\n\nconst useDrag = ({ bar, state, thumb, cursorDown }) => {\n  const instance = getCurrentInstance()\n  const { proxy } = instance\n  const wrap = computed(() => instance.parent.proxy.wrap)\n  const startDrag = (e) => {\n    e.stopImmediatePropagation()\n    cursorDown.value = true\n\n    on(document, 'mousemove', mouseMoveDocumentHandler)\n    on(document, 'mouseup', mouseUpDocumentHandler)\n    document.onselectstart = () => false\n  }\n\n  const mouseMoveDocumentHandler = (e) => {\n    if (cursorDown.value === false) return\n    const prevPage = state[bar.value.axis]\n\n    if (!prevPage) return\n\n    const offset =\n      (proxy.$el.getBoundingClientRect()[bar.value.direction] -\n        e[bar.value.client]) *\n      -1\n    const thumbClickPosition = thumb.value[bar.value.offset] - prevPage\n    const thumbPositionPercentage =\n      ((offset - thumbClickPosition) * 100) / proxy.$el[bar.value.offset]\n\n    wrap.value[bar.value.scroll] =\n      (thumbPositionPercentage * wrap.value[bar.value.scrollSize]) / 100\n  }\n\n  const mouseUpDocumentHandler = () => {\n    cursorDown.value = false\n    state[bar.value.axis] = 0\n    off(document, 'mousemove', mouseMoveDocumentHandler)\n    document.onselectstart = null\n  }\n\n  const clickThumbHandler = (e) => {\n    // prevent click event of right button\n    if (e.ctrlKey || e.button === 2) {\n      return\n    }\n    startDrag(e)\n    state[bar.value.axis] =\n      e.currentTarget[bar.value.offset] -\n      (e[bar.value.client] -\n        e.currentTarget.getBoundingClientRect()[bar.value.direction])\n  }\n\n  const clickTrackHandler = (e) => {\n    const offset = Math.abs(\n      e.target.getBoundingClientRect()[bar.value.direction] -\n        e[bar.value.client]\n    )\n    const thumbHalf = thumb.value[bar.value.offset] / 2\n    const thumbPositionPercentage =\n      ((offset - thumbHalf) * 100) / proxy.$el[bar.value.offset]\n\n    wrap.value[bar.value.scroll] =\n      (thumbPositionPercentage * wrap.value[bar.value.scrollSize]) / 100\n  }\n\n  onUnmounted(() => {\n    off(document, 'mouseup', mouseUpDocumentHandler)\n  })\n\n  return {\n    clickThumbHandler,\n    clickTrackHandler\n  }\n}\n\n/* istanbul ignore next */\nexport default {\n  name: 'Bar',\n\n  props: {\n    vertical: Boolean,\n    size: String,\n    move: Number\n  },\n\n  setup(props) {\n    const { size, move, vertical } = toRefs(props)\n    const bar = computed(\n      () => BAR_MAP[vertical.value ? 'vertical' : 'horizontal']\n    )\n    const state = reactive({})\n    const cursorDown = ref(false)\n    const thumb = ref(null)\n    const { clickThumbHandler, clickTrackHandler } = useDrag({\n      bar,\n      state,\n      thumb,\n      cursorDown\n    })\n    return () => (\n      <div\n        class={['el-scrollbar__bar', 'is-' + bar.value.key]}\n        onMouseDown={clickTrackHandler}\n      >\n        <div\n          ref={thumb}\n          className=\"el-scrollbar__thumb\"\n          onMouseDown={clickThumbHandler}\n          style={renderThumbStyle({ size, move, bar })}\n        ></div>\n      </div>\n    )\n  }\n}\n","// reference https://github.com/noeldelgado/gemini-scrollbar/blob/master/index.js\nimport { nextTick, reactive, ref, toRefs, onMounted, onUnmounted } from 'vue'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../src/utils/resize-event'\nimport scrollbarWidth from '../../src/utils/scrollbar-width'\nimport { toObject } from '../../src/utils/util'\nimport Bar from './Bar'\n\nconst useScroll = (wrap, native, resize, noresize) => {\n  const data = reactive({\n    sizeWidth: '0',\n    sizeHeight: '0',\n    moveX: 0,\n    moveY: 0\n  })\n\n  const handleScroll = () => {\n    data.moveY = (wrap.value.scrollTop * 100) / wrap.value.clientHeight\n    data.moveX = (wrap.value.scrollLeft * 100) / wrap.value.clientWidth\n  }\n\n  const update = () => {\n    if (!wrap?.value) return\n\n    const heightPercentage =\n      (wrap.value.clientHeight * 100) / wrap.value.scrollHeight\n    const widthPercentage =\n      (wrap.value.clientWidth * 100) / wrap.value.scrollWidth\n\n    data.sizeHeight = heightPercentage < 100 ? heightPercentage + '%' : ''\n    data.sizeWidth = widthPercentage < 100 ? widthPercentage + '%' : ''\n  }\n\n  onMounted(() => {\n    if (native.value) return\n    nextTick(update)\n    !noresize.value && addResizeListener(resize.value, update)\n  })\n  onUnmounted(() => {\n    if (native.value) return\n    !noresize.value && removeResizeListener(resize.value, update)\n  })\n\n  return {\n    data,\n    update,\n    handleScroll\n  }\n}\n\n/* istanbul ignore next */\nexport default {\n  name: 'ElScrollbar',\n\n  components: { Bar },\n\n  props: {\n    native: Boolean,\n    wrapStyle: {},\n    wrapClass: {},\n    viewClass: {},\n    viewStyle: {},\n    noresize: Boolean, // 如果 container 尺寸不会发生变化，最好设置它可以优化性能\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n\n  setup(props) {\n    const wrap = ref(null)\n    const resize = ref(null)\n    const { wrapStyle, tag, native, noresize } = toRefs(props)\n    const gutter = scrollbarWidth()\n    let style = wrapStyle?.value\n    const ComponentName = tag.value\n    if (gutter) {\n      const gutterWith = `-${gutter}px`\n      const gutterStyle = `margin-bottom: ${gutterWith}; margin-right: ${gutterWith};`\n\n      if (Array.isArray(wrapStyle?.value)) {\n        style = toObject(wrapStyle?.value)\n        style.marginRight = style.marginBottom = gutterWith\n      } else if (typeof wrapStyle === 'string') {\n        style += gutterStyle\n      } else {\n        style = gutterStyle\n      }\n    }\n\n    const { data, handleScroll, update } = useScroll(\n      wrap,\n      native,\n      resize,\n      noresize\n    )\n    return {\n      // state\n      data,\n      style,\n      native,\n      gutter,\n      wrap,\n      resize,\n      ComponentName,\n      // methods\n      handleScroll,\n      update\n    }\n  },\n  render() {\n    const ComponentName = this.ComponentName\n    return (\n      <div class=\"el-scrollbar\">\n        <div\n          ref=\"wrap\"\n          class={[\n            this.wrapClass,\n            'el-scrollbar__wrap',\n            {\n              'el-scrollbar__wrap--hidden-default': !this.native && !this.gutter\n            }\n          ]}\n          onScroll={() => {\n            !this.native && this.handleScroll()\n          }}\n          style={this.style}\n        >\n          <ComponentName\n            ref=\"resize\"\n            class={['el-scrollbar__view', this.viewClass]}\n            style={this.viewStyle}\n          >\n            {this.$slots.default()}\n          </ComponentName>\n        </div>\n        {!this.native.value && [\n          <Bar move={this.data.moveX} size={this.data.sizeWidth} />,\n          <Bar vertical move={this.data.moveY} size={this.data.sizeHeight} />\n        ]}\n      </div>\n    )\n  }\n}\n","import ElScrollbar from './Scrollbar'\n\n/* istanbul ignore next */\nElScrollbar.install = function (app) {\n  app.component(ElScrollbar.name, ElScrollbar)\n}\n\nexport default ElScrollbar\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { debounce, throttle };\n//# sourceMappingURL=index.js.map\n","import { on } from '../utils/dom'\n\nconst nodeList = []\nconst ctx = '@@clickoutsideContext'\n\nlet startClick\nlet seed = 0\n\n// !Vue.prototype.$isServer && on(document, 'mousedown', e => (startClick = e))\non(document, 'mousedown', (e) => (startClick = e))\n\non(document, 'mouseup', (e) => {\n  // !Vue.prototype.$isServer && on(document, 'mouseup', e => {\n  nodeList.forEach((node) => node[ctx].documentHandler(e, startClick))\n})\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function (mouseup = {}, mousedown = {}) {\n    if (\n      !vnode ||\n      !binding.instance ||\n      !mouseup.target ||\n      !mousedown.target ||\n      el.contains(mouseup.target) ||\n      el.contains(mousedown.target) ||\n      el === mouseup.target ||\n      (binding.instance.popperElm &&\n        (binding.instance.popperElm.contains(mouseup.target) ||\n          binding.instance.popperElm.contains(mousedown.target)))\n    )\n      return\n\n    if (\n      binding.expression &&\n      el[ctx].methodName &&\n      binding.instance[el[ctx].methodName]\n    ) {\n      binding.instance[el[ctx].methodName]()\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn()\n    }\n  }\n}\n\n/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nexport default {\n  beforeMount(el, binding, vnode) {\n    nodeList.push(el)\n    const id = seed++\n    el[ctx] = {\n      id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    }\n  },\n\n  updated(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode)\n    el[ctx].methodName = binding.expression\n    el[ctx].bindingFn = binding.value\n  },\n\n  unmounted(el) {\n    const len = nodeList.length\n\n    for (let i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1)\n        break\n      }\n    }\n    delete el[ctx]\n  }\n}\n","export default function scrollIntoView(container, selected) {\n  // if (Vue.prototype.$isServer) return\n\n  if (!selected) {\n    container.scrollTop = 0\n    return\n  }\n\n  const offsetParents = []\n  let pointer = selected.offsetParent\n  while (pointer && container !== pointer && container.contains(pointer)) {\n    offsetParents.push(pointer)\n    pointer = pointer.offsetParent\n  }\n  const top =\n    selected.offsetTop +\n    offsetParents.reduce((prev, curr) => prev + curr.offsetTop, 0)\n  const bottom = top + selected.offsetHeight\n  const viewRectTop = container.scrollTop\n  const viewRectBottom = viewRectTop + container.clientHeight\n\n  if (top < viewRectTop) {\n    container.scrollTop = top\n  } else if (bottom > viewRectBottom) {\n    container.scrollTop = bottom - container.clientHeight\n  }\n}\n","export default {\n  data() {\n    return {\n      hoverOption: -1\n    }\n  },\n\n  computed: {\n    optionsAllDisabled() {\n      return this.options\n        .filter((option) => option.visible)\n        .every((option) => option.disabled)\n    }\n  },\n\n  watch: {\n    hoverIndex(val) {\n      if (typeof val === 'number' && val > -1) {\n        this.hoverOption = this.options[val] || {}\n      }\n      this.options.forEach((option) => {\n        option.hover = this.hoverOption === option\n      })\n    }\n  },\n\n  methods: {\n    navigateOptions(direction) {\n      if (!this.visible) {\n        this.visible = true\n        return\n      }\n      if (this.options.length === 0 || this.filteredOptionsCount === 0) return\n      if (!this.optionsAllDisabled) {\n        if (direction === 'next') {\n          this.hoverIndex++\n          if (this.hoverIndex === this.options.length) {\n            this.hoverIndex = 0\n          }\n        } else if (direction === 'prev') {\n          this.hoverIndex--\n          if (this.hoverIndex < 0) {\n            this.hoverIndex = this.options.length - 1\n          }\n        }\n        const option = this.options[this.hoverIndex]\n        if (\n          option.disabled === true ||\n          option.groupDisabled === true ||\n          !option.visible\n        ) {\n          this.navigateOptions(direction)\n        }\n        this.$nextTick(() => this.scrollToOption(this.hoverOption))\n      }\n    }\n  }\n}\n","export function isDef(val) {\n  return val !== undefined && val !== null\n}\nexport function isKorean(text) {\n  const reg = /([(\\uAC00-\\uD7AF)|(\\u3130-\\u318F)])+/gi\n  return reg.test(text)\n}\n","<template>\n  <div\n    class=\"el-select\"\n    :class=\"[selectSize ? 'el-select--' + selectSize : '']\"\n    @click.stop=\"toggleMenu\"\n    v-clickoutside=\"handleClose\"\n    @mouseenter=\"inputHovering = true\"\n    @mouseleave=\"inputHovering = false\"\n  >\n    <div\n      class=\"el-select__tags\"\n      v-if=\"multiple\"\n      ref=\"tags\"\n      :style=\"{ 'max-width': inputWidth - 32 + 'px', width: '100%' }\"\n    >\n      <span v-if=\"collapseTags && selected.length\">\n        <el-tag\n          :closable=\"!selectDisabled\"\n          :size=\"collapseTagSize\"\n          :hit=\"selected[0].hitState\"\n          type=\"info\"\n          @close=\"deleteTag($event, selected[0])\"\n          disable-transitions\n        >\n          <span class=\"el-select__tags-text\">{{\n            selected[0].currentLabel\n          }}</span>\n        </el-tag>\n        <el-tag\n          v-if=\"selected.length > 1\"\n          :closable=\"false\"\n          :size=\"collapseTagSize\"\n          type=\"info\"\n          disable-transitions\n        >\n          <span class=\"el-select__tags-text\">+ {{ selected.length - 1 }}</span>\n        </el-tag>\n      </span>\n      <transition-group @after-leave=\"resetInputHeight\" v-if=\"!collapseTags\">\n        <span>\n          <el-tag\n            v-for=\"item in selected\"\n            :key=\"getValueKey(item)\"\n            :closable=\"!selectDisabled\"\n            :size=\"collapseTagSize\"\n            :hit=\"item.hitState\"\n            type=\"info\"\n            @close=\"deleteTag($event, item)\"\n            disable-transitions\n          >\n            <span class=\"el-select__tags-text\">{{ item.currentLabel }}</span>\n          </el-tag>\n        </span>\n      </transition-group>\n\n      <input\n        type=\"text\"\n        class=\"el-select__input\"\n        :class=\"[selectSize ? `is-${selectSize}` : '']\"\n        :disabled=\"selectDisabled\"\n        :autocomplete=\"autoComplete || autocomplete\"\n        @focus=\"handleFocus\"\n        @blur=\"softFocus = false\"\n        @keyup=\"managePlaceholder\"\n        @keydown=\"resetInputState\"\n        @keydown.down.prevent=\"navigateOptions('next')\"\n        @keydown.up.prevent=\"navigateOptions('prev')\"\n        @keydown.enter.prevent=\"selectOption\"\n        @keydown.esc.stop.prevent=\"visible = false\"\n        @keydown.delete=\"deletePrevTag\"\n        @keydown.tab=\"visible = false\"\n        @compositionstart=\"handleComposition\"\n        @compositionupdate=\"handleComposition\"\n        @compositionend=\"handleComposition\"\n        v-model=\"query\"\n        @input=\"debouncedQueryChange\"\n        v-if=\"filterable\"\n        :style=\"{\n          'flex-grow': '1',\n          width: inputLength / (inputWidth - 32) + '%',\n          'max-width': inputWidth - 42 + 'px'\n        }\"\n        ref=\"input\"\n      />\n    </div>\n    <el-input\n      ref=\"reference\"\n      v-model=\"selectedLabel\"\n      type=\"text\"\n      :placeholder=\"currentPlaceholder\"\n      :name=\"name\"\n      :id=\"id\"\n      :autocomplete=\"autoComplete || autocomplete\"\n      :size=\"selectSize\"\n      :disabled=\"selectDisabled\"\n      :readonly=\"readonly\"\n      :validate-event=\"false\"\n      :class=\"{ 'is-focus': visible }\"\n      :tabindex=\"multiple && filterable ? '-1' : null\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @keyup=\"debouncedOnInputChange\"\n      @keydown.down.stop.prevent=\"navigateOptions('next')\"\n      @keydown.up.stop.prevent=\"navigateOptions('prev')\"\n      @keydown.enter.prevent=\"selectOption\"\n      @keydown.esc.stop.prevent=\"visible = false\"\n      @keydown.tab=\"visible = false\"\n      @paste=\"debouncedOnInputChange\"\n    >\n      <template v-slot:prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\"></slot>\n      </template>\n      <template v-slot:suffix>\n        <i\n          v-show=\"!showClose\"\n          :class=\"[\n            'el-select__caret',\n            'el-input__icon',\n            'el-icon-' + iconClass\n          ]\"\n        ></i>\n        <i\n          v-if=\"showClose\"\n          class=\"el-select__caret el-input__icon el-icon-circle-close\"\n          @click=\"handleClearClick\"\n        ></i>\n      </template>\n    </el-input>\n    <transition\n      name=\"el-zoom-in-top\"\n      @before-enter=\"handleMenuEnter\"\n      @after-leave=\"doDestroy\"\n    >\n      <el-select-menu\n        ref=\"popper\"\n        :append-to-body=\"popperAppendToBody\"\n        v-show=\"visible && emptyText !== false\"\n      >\n        <el-scrollbar\n          tag=\"ul\"\n          wrap-class=\"el-select-dropdown__wrap\"\n          view-class=\"el-select-dropdown__list\"\n          ref=\"scrollbar\"\n          :class=\"{\n            'is-empty': !allowCreate && query && filteredOptionsCount === 0\n          }\"\n          v-show=\"options && options.length > 0 && !loading\"\n        >\n          <el-option :value=\"query\" created v-if=\"showNewOption\"> </el-option>\n          <slot></slot>\n        </el-scrollbar>\n        <template\n          v-if=\"\n            emptyText &&\n            (!allowCreate || loading || (allowCreate && options.length === 0))\n          \"\n        >\n          <slot name=\"empty\" v-if=\"$slots.empty\"></slot>\n          <p class=\"el-select-dropdown__empty\" v-else>\n            {{ emptyText }}\n          </p>\n        </template>\n      </el-select-menu>\n    </transition>\n    <div>{{ options }}</div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport Focus from '../../src/mixins/focus'\nimport Locale from '../../src/mixins/locale'\nimport { ElInput } from '../../src/components/Input'\nimport ElSelectMenu from './SelectDropdown'\nimport ElOption from '../option/Option'\nimport { ElTag } from '../../src/components/Tag'\nimport ElScrollbar from '../scrollbar'\nimport { debounce } from 'throttle-debounce'\nimport Clickoutside from '../../src/directives/clickoutside'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../src/utils/resize-event'\nimport { t } from '../../src/locale'\nimport scrollIntoView from '../../src/utils/scroll-into-view'\nimport { getValueByPath, valueEquals, isIE, isEdge } from '../../src/utils/util'\nimport NavigationMixin from './navigation-mixin'\nimport { isKorean } from '../../src/utils/shared'\nimport { useEmitter } from '../../src/use/emitter'\n\nexport default {\n  mixins: [Locale, Focus('reference'), NavigationMixin],\n\n  name: 'ElSelect',\n\n  componentName: 'ElSelect',\n\n  inject: {\n    elForm: {\n      default: ''\n    },\n\n    elFormItem: {\n      default: ''\n    }\n  },\n\n  provide() {\n    return {\n      select: this\n    }\n  },\n  computed: {\n    _elFormItemSize() {\n      return (this.elFormItem || {}).elFormItemSize\n    },\n\n    readonly() {\n      return (\n        !this.filterable ||\n        this.multiple ||\n        (!isIE() && !isEdge() && !this.visible)\n      )\n    },\n\n    showClose() {\n      const hasValue = this.multiple\n        ? Array.isArray(this.modelValue) && this.modelValue.length > 0\n        : this.modelValue !== undefined &&\n          this.modelValue !== null &&\n          this.modelValue !== ''\n      const criteria =\n        this.clearable && !this.selectDisabled && this.inputHovering && hasValue\n      return criteria\n    },\n\n    iconClass() {\n      return this.remote && this.filterable\n        ? ''\n        : this.visible\n        ? 'arrow-up is-reverse'\n        : 'arrow-up'\n    },\n\n    debounce() {\n      return this.remote ? 300 : 0\n    },\n\n    emptyText() {\n      if (this.loading) {\n        return this.loadingText || this.t('el.select.loading')\n      } else {\n        if (this.remote && this.query === '' && this.options.length === 0)\n          return false\n        if (\n          this.filterable &&\n          this.query &&\n          this.options.length > 0 &&\n          this.filteredOptionsCount === 0\n        ) {\n          return this.noMatchText || this.t('el.select.noMatch')\n        }\n        if (this.options.length === 0) {\n          return this.noDataText || this.t('el.select.noData')\n        }\n      }\n      return null\n    },\n\n    showNewOption() {\n      console.debug('showNewOption this.options:', this.options)\n      const hasExistingOption = this.options\n        .filter((option) => !option.created)\n        .some((option) => option.currentLabel === this.query)\n      return (\n        this.filterable &&\n        this.allowCreate &&\n        this.query !== '' &&\n        !hasExistingOption\n      )\n    },\n\n    selectSize() {\n      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size\n    },\n\n    selectDisabled() {\n      return this.disabled || (this.elForm || {}).disabled\n    },\n\n    collapseTagSize() {\n      return ['small', 'mini'].indexOf(this.selectSize) > -1 ? 'mini' : 'small'\n    }\n  },\n\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption,\n    ElTag,\n    ElScrollbar\n  },\n\n  directives: { Clickoutside },\n\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      required: true\n    },\n    autocomplete: {\n      type: String,\n      default: 'off'\n    },\n    /** @Deprecated in next major version */\n    autoComplete: {\n      type: String,\n      validator() {\n        process.env.NODE_ENV !== 'production' &&\n          console.warn(\n            \"[Element Warn][Select]'auto-complete' property will be deprecated in next major version. please use 'autocomplete' instead.\"\n          )\n        return true\n      }\n    },\n    automaticDropdown: Boolean,\n    size: String,\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: String,\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return t('el.select.placeholder')\n      }\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: Boolean,\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    collapseTags: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\n    'update:modelValue',\n    'input',\n    'change',\n    'blur',\n    'focus',\n    'clear',\n    'visible-change',\n    'remove-tag',\n    'setSelected'\n  ],\n\n  setup() {\n    const { dispatch, broadcast, on } = useEmitter()\n    console.debug('debug')\n    return { dispatch, broadcast, on }\n  },\n\n  data() {\n    return {\n      options: [],\n      cachedOptions: [],\n      createdLabel: null,\n      createdSelected: false,\n      selected: this.multiple ? [] : {},\n      inputLength: 20,\n      inputWidth: 0,\n      initialInputHeight: 0,\n      cachedPlaceHolder: '',\n      optionsCount: 0,\n      filteredOptionsCount: 0,\n      visible: false,\n      softFocus: false,\n      selectedLabel: '',\n      hoverIndex: -1,\n      query: '',\n      previousQuery: null,\n      inputHovering: false,\n      currentPlaceholder: '',\n      menuVisibleOnFocus: false,\n      isOnComposition: false,\n      isSilentBlur: false\n    }\n  },\n\n  watch: {\n    selectDisabled() {\n      this.$nextTick(() => {\n        this.resetInputHeight()\n      })\n    },\n\n    placeholder(val) {\n      this.cachedPlaceHolder = this.currentPlaceholder = val\n    },\n\n    modelValue(val, oldVal) {\n      if (this.multiple) {\n        this.resetInputHeight()\n        if (\n          (val && val.length > 0) ||\n          (this.$refs.input && this.query !== '')\n        ) {\n          this.currentPlaceholder = ''\n        } else {\n          this.currentPlaceholder = this.cachedPlaceHolder\n        }\n        if (this.filterable && !this.reserveKeyword) {\n          this.query = ''\n          this.handleQueryChange(this.query)\n        }\n      }\n      this.setSelected()\n      if (this.filterable && !this.multiple) {\n        this.inputLength = 20\n      }\n      if (!valueEquals(val, oldVal)) {\n        this.dispatch('el.form.change', val)\n      }\n    },\n\n    visible(val) {\n      console.debug('Select watch visible:', this.allowCreate)\n      if (!val) {\n        this.broadcast('destroyPopper')\n        if (this.$refs.input) {\n          this.$refs.input.blur()\n        }\n        this.query = ''\n        this.previousQuery = null\n        this.selectedLabel = ''\n        this.inputLength = 20\n        this.menuVisibleOnFocus = false\n        this.resetHoverIndex()\n        this.$nextTick(() => {\n          if (\n            this.$refs.input &&\n            this.$refs.input.value === '' &&\n            this.selected.length === 0\n          ) {\n            this.currentPlaceholder = this.cachedPlaceHolder\n          }\n        })\n        if (!this.multiple) {\n          if (this.selected) {\n            if (\n              this.filterable &&\n              this.allowCreate &&\n              this.createdSelected &&\n              this.createdLabel\n            ) {\n              this.selectedLabel = this.createdLabel\n            } else {\n              this.selectedLabel = this.selected.currentLabel\n            }\n            if (this.filterable) this.query = this.selectedLabel\n          }\n\n          if (this.filterable) {\n            this.currentPlaceholder = this.cachedPlaceHolder\n          }\n        }\n      } else {\n        this.broadcast('updatePopper')\n        if (this.filterable) {\n          this.query = this.remote ? '' : this.selectedLabel\n          this.handleQueryChange(this.query)\n          if (this.multiple) {\n            this.$refs.input.focus()\n          } else {\n            if (!this.remote) {\n              this.broadcast('queryChange', '')\n              this.broadcast('optionGroup.queryChange')\n            }\n\n            if (this.selectedLabel) {\n              this.currentPlaceholder = this.selectedLabel\n              this.selectedLabel = ''\n            }\n          }\n        }\n      }\n      this.$emit('visible-change', val)\n    },\n\n    options() {\n      console.debug('Select options():', this.options)\n      if (this.$isServer) return\n      this.$nextTick(() => {\n        this.broadcast('updatePopper')\n      })\n      if (this.multiple) {\n        this.resetInputHeight()\n      }\n      const inputs = this.$el.querySelectorAll('input')\n      if ([].indexOf.call(inputs, document.activeElement) === -1) {\n        this.setSelected()\n      }\n      if (\n        this.defaultFirstOption &&\n        (this.filterable || this.remote) &&\n        this.filteredOptionsCount\n      ) {\n        this.checkDefaultFirstOption()\n      }\n    }\n  },\n\n  methods: {\n    handleComposition(event) {\n      const text = event.target.value\n      if (event.type === 'compositionend') {\n        this.isOnComposition = false\n        this.$nextTick(() => this.handleQueryChange(text))\n      } else {\n        const lastCharacter = text[text.length - 1] || ''\n        this.isOnComposition = !isKorean(lastCharacter)\n      }\n    },\n    handleQueryChange(val) {\n      if (this.previousQuery === val || this.isOnComposition) return\n      if (\n        this.previousQuery === null &&\n        (typeof this.filterMethod === 'function' ||\n          typeof this.remoteMethod === 'function')\n      ) {\n        this.previousQuery = val\n        return\n      }\n      this.previousQuery = val\n      this.$nextTick(() => {\n        if (this.visible) {\n          this.broadcast('updatePopper')\n        }\n      })\n      this.hoverIndex = -1\n      if (this.multiple && this.filterable) {\n        this.$nextTick(() => {\n          const length = this.$refs.input.value.length * 15 + 20\n          this.inputLength = this.collapseTags ? Math.min(50, length) : length\n          this.managePlaceholder()\n          this.resetInputHeight()\n        })\n      }\n      if (this.remote && typeof this.remoteMethod === 'function') {\n        this.hoverIndex = -1\n        this.remoteMethod(val)\n      } else if (typeof this.filterMethod === 'function') {\n        this.filterMethod(val)\n        this.broadcast('optionGroup.queryChange')\n      } else {\n        this.filteredOptionsCount = this.optionsCount\n        this.broadcast('queryChange', val)\n        this.broadcast('optionGroup.queryChange')\n      }\n      if (\n        this.defaultFirstOption &&\n        (this.filterable || this.remote) &&\n        this.filteredOptionsCount\n      ) {\n        this.checkDefaultFirstOption()\n      }\n    },\n\n    scrollToOption(option) {\n      console.debug('scrollToOption: ', option)\n      const target =\n        Array.isArray(option) && option[0] ? option[0].$el : option.$el\n      if (this.$refs.popper && target) {\n        const menu = this.$refs.popper.$el.querySelector(\n          '.el-select-dropdown__wrap'\n        )\n        scrollIntoView(menu, target)\n      }\n      this.$refs.scrollbar && this.$refs.scrollbar.handleScroll()\n    },\n\n    handleMenuEnter() {\n      this.$nextTick(() => this.scrollToOption(this.selected))\n    },\n\n    emitChange(val) {\n      if (!valueEquals(this.modelValue, val)) {\n        this.$emit('change', val)\n      }\n    },\n\n    getOption(value) {\n      let option\n      const isObject =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object object]'\n      const isNull =\n        Object.prototype.toString.call(value).toLowerCase() === '[object null]'\n      const isUndefined =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object undefined]'\n\n      for (let i = this.cachedOptions.length - 1; i >= 0; i--) {\n        const cachedOption = this.cachedOptions[i]\n        const isEqual = isObject\n          ? getValueByPath(cachedOption.value, this.valueKey) ===\n            getValueByPath(value, this.valueKey)\n          : cachedOption.value === value\n        if (isEqual) {\n          option = cachedOption\n          break\n        }\n      }\n      if (option) return option\n      const label = !isObject && !isNull && !isUndefined ? value : ''\n      const newOption = {\n        value: value,\n        currentLabel: label\n      }\n      if (this.multiple) {\n        newOption.hitState = false\n      }\n      return newOption\n    },\n\n    setSelected() {\n      if (!this.multiple) {\n        const option = this.getOption(this.modelValue)\n        if (option.created) {\n          this.createdLabel = option.currentLabel\n          this.createdSelected = true\n        } else {\n          this.createdSelected = false\n        }\n        this.selectedLabel = option.currentLabel\n        this.selected = option\n        if (this.filterable) this.query = this.selectedLabel\n        return\n      }\n      const result = []\n      if (Array.isArray(this.modelValue)) {\n        this.modelValue.forEach((value) => {\n          result.push(this.getOption(value))\n        })\n      }\n      this.selected = result\n      this.$nextTick(() => {\n        this.resetInputHeight()\n      })\n    },\n\n    handleFocus(event) {\n      if (!this.softFocus) {\n        if (this.automaticDropdown || this.filterable) {\n          this.visible = true\n          if (this.filterable) {\n            this.menuVisibleOnFocus = true\n          }\n        }\n        this.$emit('focus', event)\n      } else {\n        this.softFocus = false\n      }\n    },\n\n    blur() {\n      this.visible = false\n      this.$refs.reference.blur()\n    },\n\n    handleBlur(event) {\n      setTimeout(() => {\n        if (this.isSilentBlur) {\n          this.isSilentBlur = false\n        } else {\n          this.$emit('blur', event)\n        }\n      }, 50)\n      this.softFocus = false\n    },\n\n    handleClearClick(event) {\n      this.deleteSelected(event)\n    },\n\n    doDestroy() {\n      this.$refs.popper && this.$refs.popper.doDestroy()\n    },\n\n    handleClose() {\n      this.visible = false\n    },\n\n    toggleLastOptionHitState(hit) {\n      if (!Array.isArray(this.selected)) return\n      const option = this.selected[this.selected.length - 1]\n      if (!option) return\n\n      if (hit === true || hit === false) {\n        option.hitState = hit\n        return hit\n      }\n\n      option.hitState = !option.hitState\n      return option.hitState\n    },\n\n    deletePrevTag(e) {\n      if (e.target.value.length <= 0 && !this.toggleLastOptionHitState()) {\n        const value = this.modelValue.slice()\n        value.pop()\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n      }\n    },\n\n    managePlaceholder() {\n      if (this.currentPlaceholder !== '') {\n        this.currentPlaceholder = this.$refs.input.value\n          ? ''\n          : this.cachedPlaceHolder\n      }\n    },\n\n    resetInputState(e) {\n      if (e.keyCode !== 8) this.toggleLastOptionHitState(false)\n      this.inputLength = this.$refs.input.value.length * 15 + 20\n      this.resetInputHeight()\n    },\n\n    resetInputHeight() {\n      if (this.collapseTags && !this.filterable) return\n      this.$nextTick(() => {\n        if (!this.$refs.reference) return\n        const inputChildNodes = this.$refs.reference.$el.childNodes\n        console.debug('resetInputHeight')\n        const input = [].filter.call(\n          inputChildNodes,\n          (item) => item.tagName === 'INPUT'\n        )[0]\n        console.debug('resetInputHeight')\n        const tags = this.$refs.tags\n        const sizeInMap = this.initialInputHeight || 40\n        if (input) {\n          input.style.height =\n            this.selected.length === 0\n              ? sizeInMap + 'px'\n              : Math.max(\n                  tags\n                    ? tags.clientHeight +\n                        (tags.clientHeight > sizeInMap ? 6 : 0)\n                    : 0,\n                  sizeInMap\n                ) + 'px'\n        }\n        if (this.visible && this.emptyText !== false) {\n          this.broadcast('updatePopper')\n        }\n      })\n    },\n\n    resetHoverIndex() {\n      setTimeout(() => {\n        if (!this.multiple) {\n          this.hoverIndex = this.options.indexOf(this.selected)\n        } else {\n          if (this.selected.length > 0) {\n            this.hoverIndex = Math.min.apply(\n              null,\n              this.selected.map((item) => this.options.indexOf(item))\n            )\n          } else {\n            this.hoverIndex = -1\n          }\n        }\n      }, 300)\n    },\n\n    handleOptionSelect({ option, byClick }) {\n      if (this.multiple) {\n        const value = (this.modelValue || []).slice()\n        const optionIndex = this.getValueIndex(value, option.value)\n        if (optionIndex > -1) {\n          value.splice(optionIndex, 1)\n        } else if (\n          this.multipleLimit <= 0 ||\n          value.length < this.multipleLimit\n        ) {\n          value.push(option.value)\n        }\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n        if (option.created) {\n          this.query = ''\n          this.handleQueryChange('')\n          this.inputLength = 20\n        }\n        if (this.filterable) this.$refs.input.focus()\n      } else {\n        this.$emit('update:modelValue', option.value)\n        this.emitChange(option.value)\n        this.visible = false\n      }\n      this.isSilentBlur = byClick\n      this.setSoftFocus()\n      if (this.visible) return\n      this.$nextTick(() => {\n        this.scrollToOption(option)\n      })\n    },\n\n    setSoftFocus() {\n      this.softFocus = true\n      const input = this.$refs.input || this.$refs.reference\n      if (input) {\n        input.focus()\n      }\n    },\n\n    getValueIndex(arr = [], value) {\n      const isObject =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object object]'\n      if (!isObject) {\n        return arr.indexOf(value)\n      } else {\n        const valueKey = this.valueKey\n        let index = -1\n        arr.some((item, i) => {\n          if (\n            getValueByPath(item, valueKey) === getValueByPath(value, valueKey)\n          ) {\n            index = i\n            return true\n          }\n          return false\n        })\n        return index\n      }\n    },\n\n    toggleMenu() {\n      if (!this.selectDisabled) {\n        if (this.menuVisibleOnFocus) {\n          this.menuVisibleOnFocus = false\n        } else {\n          this.visible = !this.visible\n        }\n        if (this.visible) {\n          ;(this.$refs.input || this.$refs.reference).focus()\n        }\n      }\n    },\n\n    selectOption() {\n      if (!this.visible) {\n        this.toggleMenu()\n      } else {\n        if (this.options[this.hoverIndex]) {\n          this.handleOptionSelect({\n            option: this.options[this.hoverIndex]\n          })\n        }\n      }\n    },\n\n    deleteSelected(event) {\n      event.stopPropagation()\n      const value = this.multiple ? [] : ''\n      this.$emit('update:modelValue', value)\n      this.emitChange(value)\n      this.visible = false\n      this.$emit('clear')\n    },\n\n    deleteTag(event, tag) {\n      const index = this.selected.indexOf(tag)\n      if (index > -1 && !this.selectDisabled) {\n        const value = this.modelValue.slice()\n        value.splice(index, 1)\n        // this.$emit('input', value)\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n        this.$emit('remove-tag', tag.value)\n      }\n      event.stopPropagation()\n    },\n\n    onInputChange() {\n      if (this.filterable && this.query !== this.selectedLabel) {\n        this.query = this.selectedLabel\n        this.handleQueryChange(this.query)\n      }\n    },\n\n    onOptionDestroy(index) {\n      console.debug('Select onOptionDestroy', this.optionsCount)\n      if (index > -1) {\n        this.optionsCount--\n        this.filteredOptionsCount--\n        this.options.splice(index, 1)\n      }\n    },\n\n    resetInputWidth() {\n      this.inputWidth = this.$refs.reference.$el.getBoundingClientRect().width\n    },\n\n    handleResize() {\n      this.resetInputWidth()\n      if (this.multiple) this.resetInputHeight()\n    },\n\n    checkDefaultFirstOption() {\n      this.hoverIndex = -1\n      // highlight the created option\n      let hasCreated = false\n      for (let i = this.options.length - 1; i >= 0; i--) {\n        if (this.options[i].created) {\n          hasCreated = true\n          this.hoverIndex = i\n          break\n        }\n      }\n      if (hasCreated) return\n      for (let i = 0; i !== this.options.length; ++i) {\n        const option = this.options[i]\n        if (this.query) {\n          // highlight first options that passes the filter\n          if (!option.disabled && !option.groupDisabled && option.visible) {\n            this.hoverIndex = i\n            break\n          }\n        } else {\n          // highlight currently selected option\n          if (option.itemSelected) {\n            this.hoverIndex = i\n            break\n          }\n        }\n      }\n    },\n\n    getValueKey(item) {\n      if (\n        Object.prototype.toString.call(item.value).toLowerCase() !==\n        '[object object]'\n      ) {\n        return item.value\n      } else {\n        return getValueByPath(item.value, this.valueKey)\n      }\n    }\n  },\n\n  created() {\n    console.debug('created()')\n    console.debug('created() this.modelValue:', this.modelValue, ';')\n    this.cachedPlaceHolder = this.currentPlaceholder = this.placeholder\n    if (this.multiple && !Array.isArray(this.modelValue)) {\n      // this.$emit('input', [])\n      this.$emit('update:modelValue', [])\n    }\n    if (!this.multiple && Array.isArray(this.modelValue)) {\n      // this.$emit('input', '')\n      this.$emit('update:modelValue', '')\n    }\n\n    this.debouncedOnInputChange = debounce(this.debounce, () => {\n      this.onInputChange()\n    })\n\n    this.debouncedQueryChange = debounce(this.debounce, (e) => {\n      this.handleQueryChange(e.target.value)\n    })\n\n    this.on('handleOptionClick', this.handleOptionSelect)\n    this.on('setSelected', this.setSelected)\n  },\n  mounted() {\n    console.debug('mounted()')\n    console.debug('mounted() this.modelValue:', this.options, ';')\n    if (\n      this.multiple &&\n      Array.isArray(this.modelValue) &&\n      this.modelValue.length > 0\n    ) {\n      this.currentPlaceholder = ''\n    }\n    addResizeListener(this.$el, this.handleResize)\n\n    const reference = this.$refs.reference\n    if (reference && reference.$el) {\n      const sizeMap = {\n        medium: 36,\n        small: 32,\n        mini: 28\n      }\n      const input = reference.$el.querySelector('input')\n      this.initialInputHeight =\n        input.getBoundingClientRect().height || sizeMap[this.selectSize]\n    }\n    if (this.remote && this.multiple) {\n      this.resetInputHeight()\n    }\n    this.$nextTick(() => {\n      if (reference && reference.$el) {\n        this.inputWidth = reference.$el.getBoundingClientRect().width\n      }\n    })\n    this.setSelected()\n  },\n\n  beforeUnmount() {\n    console.debug('beforeUnmount()')\n    if (this.$el && this.handleResize)\n      removeResizeListener(this.$el, this.handleResize)\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-select\"\n    :class=\"[selectSize ? 'el-select--' + selectSize : '']\"\n    @click.stop=\"toggleMenu\"\n    v-clickoutside=\"handleClose\"\n    @mouseenter=\"inputHovering = true\"\n    @mouseleave=\"inputHovering = false\"\n  >\n    <div\n      class=\"el-select__tags\"\n      v-if=\"multiple\"\n      ref=\"tags\"\n      :style=\"{ 'max-width': inputWidth - 32 + 'px', width: '100%' }\"\n    >\n      <span v-if=\"collapseTags && selected.length\">\n        <el-tag\n          :closable=\"!selectDisabled\"\n          :size=\"collapseTagSize\"\n          :hit=\"selected[0].hitState\"\n          type=\"info\"\n          @close=\"deleteTag($event, selected[0])\"\n          disable-transitions\n        >\n          <span class=\"el-select__tags-text\">{{\n            selected[0].currentLabel\n          }}</span>\n        </el-tag>\n        <el-tag\n          v-if=\"selected.length > 1\"\n          :closable=\"false\"\n          :size=\"collapseTagSize\"\n          type=\"info\"\n          disable-transitions\n        >\n          <span class=\"el-select__tags-text\">+ {{ selected.length - 1 }}</span>\n        </el-tag>\n      </span>\n      <transition-group @after-leave=\"resetInputHeight\" v-if=\"!collapseTags\">\n        <span>\n          <el-tag\n            v-for=\"item in selected\"\n            :key=\"getValueKey(item)\"\n            :closable=\"!selectDisabled\"\n            :size=\"collapseTagSize\"\n            :hit=\"item.hitState\"\n            type=\"info\"\n            @close=\"deleteTag($event, item)\"\n            disable-transitions\n          >\n            <span class=\"el-select__tags-text\">{{ item.currentLabel }}</span>\n          </el-tag>\n        </span>\n      </transition-group>\n\n      <input\n        type=\"text\"\n        class=\"el-select__input\"\n        :class=\"[selectSize ? `is-${selectSize}` : '']\"\n        :disabled=\"selectDisabled\"\n        :autocomplete=\"autoComplete || autocomplete\"\n        @focus=\"handleFocus\"\n        @blur=\"softFocus = false\"\n        @keyup=\"managePlaceholder\"\n        @keydown=\"resetInputState\"\n        @keydown.down.prevent=\"navigateOptions('next')\"\n        @keydown.up.prevent=\"navigateOptions('prev')\"\n        @keydown.enter.prevent=\"selectOption\"\n        @keydown.esc.stop.prevent=\"visible = false\"\n        @keydown.delete=\"deletePrevTag\"\n        @keydown.tab=\"visible = false\"\n        @compositionstart=\"handleComposition\"\n        @compositionupdate=\"handleComposition\"\n        @compositionend=\"handleComposition\"\n        v-model=\"query\"\n        @input=\"debouncedQueryChange\"\n        v-if=\"filterable\"\n        :style=\"{\n          'flex-grow': '1',\n          width: inputLength / (inputWidth - 32) + '%',\n          'max-width': inputWidth - 42 + 'px'\n        }\"\n        ref=\"input\"\n      />\n    </div>\n    <el-input\n      ref=\"reference\"\n      v-model=\"selectedLabel\"\n      type=\"text\"\n      :placeholder=\"currentPlaceholder\"\n      :name=\"name\"\n      :id=\"id\"\n      :autocomplete=\"autoComplete || autocomplete\"\n      :size=\"selectSize\"\n      :disabled=\"selectDisabled\"\n      :readonly=\"readonly\"\n      :validate-event=\"false\"\n      :class=\"{ 'is-focus': visible }\"\n      :tabindex=\"multiple && filterable ? '-1' : null\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @keyup=\"debouncedOnInputChange\"\n      @keydown.down.stop.prevent=\"navigateOptions('next')\"\n      @keydown.up.stop.prevent=\"navigateOptions('prev')\"\n      @keydown.enter.prevent=\"selectOption\"\n      @keydown.esc.stop.prevent=\"visible = false\"\n      @keydown.tab=\"visible = false\"\n      @paste=\"debouncedOnInputChange\"\n    >\n      <template v-slot:prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\"></slot>\n      </template>\n      <template v-slot:suffix>\n        <i\n          v-show=\"!showClose\"\n          :class=\"[\n            'el-select__caret',\n            'el-input__icon',\n            'el-icon-' + iconClass\n          ]\"\n        ></i>\n        <i\n          v-if=\"showClose\"\n          class=\"el-select__caret el-input__icon el-icon-circle-close\"\n          @click=\"handleClearClick\"\n        ></i>\n      </template>\n    </el-input>\n    <transition\n      name=\"el-zoom-in-top\"\n      @before-enter=\"handleMenuEnter\"\n      @after-leave=\"doDestroy\"\n    >\n      <el-select-menu\n        ref=\"popper\"\n        :append-to-body=\"popperAppendToBody\"\n        v-show=\"visible && emptyText !== false\"\n      >\n        <el-scrollbar\n          tag=\"ul\"\n          wrap-class=\"el-select-dropdown__wrap\"\n          view-class=\"el-select-dropdown__list\"\n          ref=\"scrollbar\"\n          :class=\"{\n            'is-empty': !allowCreate && query && filteredOptionsCount === 0\n          }\"\n          v-show=\"options && options.length > 0 && !loading\"\n        >\n          <el-option :value=\"query\" created v-if=\"showNewOption\"> </el-option>\n          <slot></slot>\n        </el-scrollbar>\n        <template\n          v-if=\"\n            emptyText &&\n            (!allowCreate || loading || (allowCreate && options.length === 0))\n          \"\n        >\n          <slot name=\"empty\" v-if=\"$slots.empty\"></slot>\n          <p class=\"el-select-dropdown__empty\" v-else>\n            {{ emptyText }}\n          </p>\n        </template>\n      </el-select-menu>\n    </transition>\n    <div>{{ options }}</div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport Focus from '../../src/mixins/focus'\nimport Locale from '../../src/mixins/locale'\nimport { ElInput } from '../../src/components/Input'\nimport ElSelectMenu from './SelectDropdown'\nimport ElOption from '../option/Option'\nimport { ElTag } from '../../src/components/Tag'\nimport ElScrollbar from '../scrollbar'\nimport { debounce } from 'throttle-debounce'\nimport Clickoutside from '../../src/directives/clickoutside'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../src/utils/resize-event'\nimport { t } from '../../src/locale'\nimport scrollIntoView from '../../src/utils/scroll-into-view'\nimport { getValueByPath, valueEquals, isIE, isEdge } from '../../src/utils/util'\nimport NavigationMixin from './navigation-mixin'\nimport { isKorean } from '../../src/utils/shared'\nimport { useEmitter } from '../../src/use/emitter'\n\nexport default {\n  mixins: [Locale, Focus('reference'), NavigationMixin],\n\n  name: 'ElSelect',\n\n  componentName: 'ElSelect',\n\n  inject: {\n    elForm: {\n      default: ''\n    },\n\n    elFormItem: {\n      default: ''\n    }\n  },\n\n  provide() {\n    return {\n      select: this\n    }\n  },\n  computed: {\n    _elFormItemSize() {\n      return (this.elFormItem || {}).elFormItemSize\n    },\n\n    readonly() {\n      return (\n        !this.filterable ||\n        this.multiple ||\n        (!isIE() && !isEdge() && !this.visible)\n      )\n    },\n\n    showClose() {\n      const hasValue = this.multiple\n        ? Array.isArray(this.modelValue) && this.modelValue.length > 0\n        : this.modelValue !== undefined &&\n          this.modelValue !== null &&\n          this.modelValue !== ''\n      const criteria =\n        this.clearable && !this.selectDisabled && this.inputHovering && hasValue\n      return criteria\n    },\n\n    iconClass() {\n      return this.remote && this.filterable\n        ? ''\n        : this.visible\n        ? 'arrow-up is-reverse'\n        : 'arrow-up'\n    },\n\n    debounce() {\n      return this.remote ? 300 : 0\n    },\n\n    emptyText() {\n      if (this.loading) {\n        return this.loadingText || this.t('el.select.loading')\n      } else {\n        if (this.remote && this.query === '' && this.options.length === 0)\n          return false\n        if (\n          this.filterable &&\n          this.query &&\n          this.options.length > 0 &&\n          this.filteredOptionsCount === 0\n        ) {\n          return this.noMatchText || this.t('el.select.noMatch')\n        }\n        if (this.options.length === 0) {\n          return this.noDataText || this.t('el.select.noData')\n        }\n      }\n      return null\n    },\n\n    showNewOption() {\n      console.debug('showNewOption this.options:', this.options)\n      const hasExistingOption = this.options\n        .filter((option) => !option.created)\n        .some((option) => option.currentLabel === this.query)\n      return (\n        this.filterable &&\n        this.allowCreate &&\n        this.query !== '' &&\n        !hasExistingOption\n      )\n    },\n\n    selectSize() {\n      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size\n    },\n\n    selectDisabled() {\n      return this.disabled || (this.elForm || {}).disabled\n    },\n\n    collapseTagSize() {\n      return ['small', 'mini'].indexOf(this.selectSize) > -1 ? 'mini' : 'small'\n    }\n  },\n\n  components: {\n    ElInput,\n    ElSelectMenu,\n    ElOption,\n    ElTag,\n    ElScrollbar\n  },\n\n  directives: { Clickoutside },\n\n  props: {\n    name: String,\n    id: String,\n    modelValue: {\n      required: true\n    },\n    autocomplete: {\n      type: String,\n      default: 'off'\n    },\n    /** @Deprecated in next major version */\n    autoComplete: {\n      type: String,\n      validator() {\n        process.env.NODE_ENV !== 'production' &&\n          console.warn(\n            \"[Element Warn][Select]'auto-complete' property will be deprecated in next major version. please use 'autocomplete' instead.\"\n          )\n        return true\n      }\n    },\n    automaticDropdown: Boolean,\n    size: String,\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: String,\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String,\n      default() {\n        return t('el.select.placeholder')\n      }\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: Boolean,\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    collapseTags: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\n    'update:modelValue',\n    'input',\n    'change',\n    'blur',\n    'focus',\n    'clear',\n    'visible-change',\n    'remove-tag',\n    'setSelected'\n  ],\n\n  setup() {\n    const { dispatch, broadcast, on } = useEmitter()\n    console.debug('debug')\n    return { dispatch, broadcast, on }\n  },\n\n  data() {\n    return {\n      options: [],\n      cachedOptions: [],\n      createdLabel: null,\n      createdSelected: false,\n      selected: this.multiple ? [] : {},\n      inputLength: 20,\n      inputWidth: 0,\n      initialInputHeight: 0,\n      cachedPlaceHolder: '',\n      optionsCount: 0,\n      filteredOptionsCount: 0,\n      visible: false,\n      softFocus: false,\n      selectedLabel: '',\n      hoverIndex: -1,\n      query: '',\n      previousQuery: null,\n      inputHovering: false,\n      currentPlaceholder: '',\n      menuVisibleOnFocus: false,\n      isOnComposition: false,\n      isSilentBlur: false\n    }\n  },\n\n  watch: {\n    selectDisabled() {\n      this.$nextTick(() => {\n        this.resetInputHeight()\n      })\n    },\n\n    placeholder(val) {\n      this.cachedPlaceHolder = this.currentPlaceholder = val\n    },\n\n    modelValue(val, oldVal) {\n      if (this.multiple) {\n        this.resetInputHeight()\n        if (\n          (val && val.length > 0) ||\n          (this.$refs.input && this.query !== '')\n        ) {\n          this.currentPlaceholder = ''\n        } else {\n          this.currentPlaceholder = this.cachedPlaceHolder\n        }\n        if (this.filterable && !this.reserveKeyword) {\n          this.query = ''\n          this.handleQueryChange(this.query)\n        }\n      }\n      this.setSelected()\n      if (this.filterable && !this.multiple) {\n        this.inputLength = 20\n      }\n      if (!valueEquals(val, oldVal)) {\n        this.dispatch('el.form.change', val)\n      }\n    },\n\n    visible(val) {\n      console.debug('Select watch visible:', this.allowCreate)\n      if (!val) {\n        this.broadcast('destroyPopper')\n        if (this.$refs.input) {\n          this.$refs.input.blur()\n        }\n        this.query = ''\n        this.previousQuery = null\n        this.selectedLabel = ''\n        this.inputLength = 20\n        this.menuVisibleOnFocus = false\n        this.resetHoverIndex()\n        this.$nextTick(() => {\n          if (\n            this.$refs.input &&\n            this.$refs.input.value === '' &&\n            this.selected.length === 0\n          ) {\n            this.currentPlaceholder = this.cachedPlaceHolder\n          }\n        })\n        if (!this.multiple) {\n          if (this.selected) {\n            if (\n              this.filterable &&\n              this.allowCreate &&\n              this.createdSelected &&\n              this.createdLabel\n            ) {\n              this.selectedLabel = this.createdLabel\n            } else {\n              this.selectedLabel = this.selected.currentLabel\n            }\n            if (this.filterable) this.query = this.selectedLabel\n          }\n\n          if (this.filterable) {\n            this.currentPlaceholder = this.cachedPlaceHolder\n          }\n        }\n      } else {\n        this.broadcast('updatePopper')\n        if (this.filterable) {\n          this.query = this.remote ? '' : this.selectedLabel\n          this.handleQueryChange(this.query)\n          if (this.multiple) {\n            this.$refs.input.focus()\n          } else {\n            if (!this.remote) {\n              this.broadcast('queryChange', '')\n              this.broadcast('optionGroup.queryChange')\n            }\n\n            if (this.selectedLabel) {\n              this.currentPlaceholder = this.selectedLabel\n              this.selectedLabel = ''\n            }\n          }\n        }\n      }\n      this.$emit('visible-change', val)\n    },\n\n    options() {\n      console.debug('Select options():', this.options)\n      if (this.$isServer) return\n      this.$nextTick(() => {\n        this.broadcast('updatePopper')\n      })\n      if (this.multiple) {\n        this.resetInputHeight()\n      }\n      const inputs = this.$el.querySelectorAll('input')\n      if ([].indexOf.call(inputs, document.activeElement) === -1) {\n        this.setSelected()\n      }\n      if (\n        this.defaultFirstOption &&\n        (this.filterable || this.remote) &&\n        this.filteredOptionsCount\n      ) {\n        this.checkDefaultFirstOption()\n      }\n    }\n  },\n\n  methods: {\n    handleComposition(event) {\n      const text = event.target.value\n      if (event.type === 'compositionend') {\n        this.isOnComposition = false\n        this.$nextTick(() => this.handleQueryChange(text))\n      } else {\n        const lastCharacter = text[text.length - 1] || ''\n        this.isOnComposition = !isKorean(lastCharacter)\n      }\n    },\n    handleQueryChange(val) {\n      if (this.previousQuery === val || this.isOnComposition) return\n      if (\n        this.previousQuery === null &&\n        (typeof this.filterMethod === 'function' ||\n          typeof this.remoteMethod === 'function')\n      ) {\n        this.previousQuery = val\n        return\n      }\n      this.previousQuery = val\n      this.$nextTick(() => {\n        if (this.visible) {\n          this.broadcast('updatePopper')\n        }\n      })\n      this.hoverIndex = -1\n      if (this.multiple && this.filterable) {\n        this.$nextTick(() => {\n          const length = this.$refs.input.value.length * 15 + 20\n          this.inputLength = this.collapseTags ? Math.min(50, length) : length\n          this.managePlaceholder()\n          this.resetInputHeight()\n        })\n      }\n      if (this.remote && typeof this.remoteMethod === 'function') {\n        this.hoverIndex = -1\n        this.remoteMethod(val)\n      } else if (typeof this.filterMethod === 'function') {\n        this.filterMethod(val)\n        this.broadcast('optionGroup.queryChange')\n      } else {\n        this.filteredOptionsCount = this.optionsCount\n        this.broadcast('queryChange', val)\n        this.broadcast('optionGroup.queryChange')\n      }\n      if (\n        this.defaultFirstOption &&\n        (this.filterable || this.remote) &&\n        this.filteredOptionsCount\n      ) {\n        this.checkDefaultFirstOption()\n      }\n    },\n\n    scrollToOption(option) {\n      console.debug('scrollToOption: ', option)\n      const target =\n        Array.isArray(option) && option[0] ? option[0].$el : option.$el\n      if (this.$refs.popper && target) {\n        const menu = this.$refs.popper.$el.querySelector(\n          '.el-select-dropdown__wrap'\n        )\n        scrollIntoView(menu, target)\n      }\n      this.$refs.scrollbar && this.$refs.scrollbar.handleScroll()\n    },\n\n    handleMenuEnter() {\n      this.$nextTick(() => this.scrollToOption(this.selected))\n    },\n\n    emitChange(val) {\n      if (!valueEquals(this.modelValue, val)) {\n        this.$emit('change', val)\n      }\n    },\n\n    getOption(value) {\n      let option\n      const isObject =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object object]'\n      const isNull =\n        Object.prototype.toString.call(value).toLowerCase() === '[object null]'\n      const isUndefined =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object undefined]'\n\n      for (let i = this.cachedOptions.length - 1; i >= 0; i--) {\n        const cachedOption = this.cachedOptions[i]\n        const isEqual = isObject\n          ? getValueByPath(cachedOption.value, this.valueKey) ===\n            getValueByPath(value, this.valueKey)\n          : cachedOption.value === value\n        if (isEqual) {\n          option = cachedOption\n          break\n        }\n      }\n      if (option) return option\n      const label = !isObject && !isNull && !isUndefined ? value : ''\n      const newOption = {\n        value: value,\n        currentLabel: label\n      }\n      if (this.multiple) {\n        newOption.hitState = false\n      }\n      return newOption\n    },\n\n    setSelected() {\n      if (!this.multiple) {\n        const option = this.getOption(this.modelValue)\n        if (option.created) {\n          this.createdLabel = option.currentLabel\n          this.createdSelected = true\n        } else {\n          this.createdSelected = false\n        }\n        this.selectedLabel = option.currentLabel\n        this.selected = option\n        if (this.filterable) this.query = this.selectedLabel\n        return\n      }\n      const result = []\n      if (Array.isArray(this.modelValue)) {\n        this.modelValue.forEach((value) => {\n          result.push(this.getOption(value))\n        })\n      }\n      this.selected = result\n      this.$nextTick(() => {\n        this.resetInputHeight()\n      })\n    },\n\n    handleFocus(event) {\n      if (!this.softFocus) {\n        if (this.automaticDropdown || this.filterable) {\n          this.visible = true\n          if (this.filterable) {\n            this.menuVisibleOnFocus = true\n          }\n        }\n        this.$emit('focus', event)\n      } else {\n        this.softFocus = false\n      }\n    },\n\n    blur() {\n      this.visible = false\n      this.$refs.reference.blur()\n    },\n\n    handleBlur(event) {\n      setTimeout(() => {\n        if (this.isSilentBlur) {\n          this.isSilentBlur = false\n        } else {\n          this.$emit('blur', event)\n        }\n      }, 50)\n      this.softFocus = false\n    },\n\n    handleClearClick(event) {\n      this.deleteSelected(event)\n    },\n\n    doDestroy() {\n      this.$refs.popper && this.$refs.popper.doDestroy()\n    },\n\n    handleClose() {\n      this.visible = false\n    },\n\n    toggleLastOptionHitState(hit) {\n      if (!Array.isArray(this.selected)) return\n      const option = this.selected[this.selected.length - 1]\n      if (!option) return\n\n      if (hit === true || hit === false) {\n        option.hitState = hit\n        return hit\n      }\n\n      option.hitState = !option.hitState\n      return option.hitState\n    },\n\n    deletePrevTag(e) {\n      if (e.target.value.length <= 0 && !this.toggleLastOptionHitState()) {\n        const value = this.modelValue.slice()\n        value.pop()\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n      }\n    },\n\n    managePlaceholder() {\n      if (this.currentPlaceholder !== '') {\n        this.currentPlaceholder = this.$refs.input.value\n          ? ''\n          : this.cachedPlaceHolder\n      }\n    },\n\n    resetInputState(e) {\n      if (e.keyCode !== 8) this.toggleLastOptionHitState(false)\n      this.inputLength = this.$refs.input.value.length * 15 + 20\n      this.resetInputHeight()\n    },\n\n    resetInputHeight() {\n      if (this.collapseTags && !this.filterable) return\n      this.$nextTick(() => {\n        if (!this.$refs.reference) return\n        const inputChildNodes = this.$refs.reference.$el.childNodes\n        console.debug('resetInputHeight')\n        const input = [].filter.call(\n          inputChildNodes,\n          (item) => item.tagName === 'INPUT'\n        )[0]\n        console.debug('resetInputHeight')\n        const tags = this.$refs.tags\n        const sizeInMap = this.initialInputHeight || 40\n        if (input) {\n          input.style.height =\n            this.selected.length === 0\n              ? sizeInMap + 'px'\n              : Math.max(\n                  tags\n                    ? tags.clientHeight +\n                        (tags.clientHeight > sizeInMap ? 6 : 0)\n                    : 0,\n                  sizeInMap\n                ) + 'px'\n        }\n        if (this.visible && this.emptyText !== false) {\n          this.broadcast('updatePopper')\n        }\n      })\n    },\n\n    resetHoverIndex() {\n      setTimeout(() => {\n        if (!this.multiple) {\n          this.hoverIndex = this.options.indexOf(this.selected)\n        } else {\n          if (this.selected.length > 0) {\n            this.hoverIndex = Math.min.apply(\n              null,\n              this.selected.map((item) => this.options.indexOf(item))\n            )\n          } else {\n            this.hoverIndex = -1\n          }\n        }\n      }, 300)\n    },\n\n    handleOptionSelect({ option, byClick }) {\n      if (this.multiple) {\n        const value = (this.modelValue || []).slice()\n        const optionIndex = this.getValueIndex(value, option.value)\n        if (optionIndex > -1) {\n          value.splice(optionIndex, 1)\n        } else if (\n          this.multipleLimit <= 0 ||\n          value.length < this.multipleLimit\n        ) {\n          value.push(option.value)\n        }\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n        if (option.created) {\n          this.query = ''\n          this.handleQueryChange('')\n          this.inputLength = 20\n        }\n        if (this.filterable) this.$refs.input.focus()\n      } else {\n        this.$emit('update:modelValue', option.value)\n        this.emitChange(option.value)\n        this.visible = false\n      }\n      this.isSilentBlur = byClick\n      this.setSoftFocus()\n      if (this.visible) return\n      this.$nextTick(() => {\n        this.scrollToOption(option)\n      })\n    },\n\n    setSoftFocus() {\n      this.softFocus = true\n      const input = this.$refs.input || this.$refs.reference\n      if (input) {\n        input.focus()\n      }\n    },\n\n    getValueIndex(arr = [], value) {\n      const isObject =\n        Object.prototype.toString.call(value).toLowerCase() ===\n        '[object object]'\n      if (!isObject) {\n        return arr.indexOf(value)\n      } else {\n        const valueKey = this.valueKey\n        let index = -1\n        arr.some((item, i) => {\n          if (\n            getValueByPath(item, valueKey) === getValueByPath(value, valueKey)\n          ) {\n            index = i\n            return true\n          }\n          return false\n        })\n        return index\n      }\n    },\n\n    toggleMenu() {\n      if (!this.selectDisabled) {\n        if (this.menuVisibleOnFocus) {\n          this.menuVisibleOnFocus = false\n        } else {\n          this.visible = !this.visible\n        }\n        if (this.visible) {\n          ;(this.$refs.input || this.$refs.reference).focus()\n        }\n      }\n    },\n\n    selectOption() {\n      if (!this.visible) {\n        this.toggleMenu()\n      } else {\n        if (this.options[this.hoverIndex]) {\n          this.handleOptionSelect({\n            option: this.options[this.hoverIndex]\n          })\n        }\n      }\n    },\n\n    deleteSelected(event) {\n      event.stopPropagation()\n      const value = this.multiple ? [] : ''\n      this.$emit('update:modelValue', value)\n      this.emitChange(value)\n      this.visible = false\n      this.$emit('clear')\n    },\n\n    deleteTag(event, tag) {\n      const index = this.selected.indexOf(tag)\n      if (index > -1 && !this.selectDisabled) {\n        const value = this.modelValue.slice()\n        value.splice(index, 1)\n        // this.$emit('input', value)\n        this.$emit('update:modelValue', value)\n        this.emitChange(value)\n        this.$emit('remove-tag', tag.value)\n      }\n      event.stopPropagation()\n    },\n\n    onInputChange() {\n      if (this.filterable && this.query !== this.selectedLabel) {\n        this.query = this.selectedLabel\n        this.handleQueryChange(this.query)\n      }\n    },\n\n    onOptionDestroy(index) {\n      console.debug('Select onOptionDestroy', this.optionsCount)\n      if (index > -1) {\n        this.optionsCount--\n        this.filteredOptionsCount--\n        this.options.splice(index, 1)\n      }\n    },\n\n    resetInputWidth() {\n      this.inputWidth = this.$refs.reference.$el.getBoundingClientRect().width\n    },\n\n    handleResize() {\n      this.resetInputWidth()\n      if (this.multiple) this.resetInputHeight()\n    },\n\n    checkDefaultFirstOption() {\n      this.hoverIndex = -1\n      // highlight the created option\n      let hasCreated = false\n      for (let i = this.options.length - 1; i >= 0; i--) {\n        if (this.options[i].created) {\n          hasCreated = true\n          this.hoverIndex = i\n          break\n        }\n      }\n      if (hasCreated) return\n      for (let i = 0; i !== this.options.length; ++i) {\n        const option = this.options[i]\n        if (this.query) {\n          // highlight first options that passes the filter\n          if (!option.disabled && !option.groupDisabled && option.visible) {\n            this.hoverIndex = i\n            break\n          }\n        } else {\n          // highlight currently selected option\n          if (option.itemSelected) {\n            this.hoverIndex = i\n            break\n          }\n        }\n      }\n    },\n\n    getValueKey(item) {\n      if (\n        Object.prototype.toString.call(item.value).toLowerCase() !==\n        '[object object]'\n      ) {\n        return item.value\n      } else {\n        return getValueByPath(item.value, this.valueKey)\n      }\n    }\n  },\n\n  created() {\n    console.debug('created()')\n    console.debug('created() this.modelValue:', this.modelValue, ';')\n    this.cachedPlaceHolder = this.currentPlaceholder = this.placeholder\n    if (this.multiple && !Array.isArray(this.modelValue)) {\n      // this.$emit('input', [])\n      this.$emit('update:modelValue', [])\n    }\n    if (!this.multiple && Array.isArray(this.modelValue)) {\n      // this.$emit('input', '')\n      this.$emit('update:modelValue', '')\n    }\n\n    this.debouncedOnInputChange = debounce(this.debounce, () => {\n      this.onInputChange()\n    })\n\n    this.debouncedQueryChange = debounce(this.debounce, (e) => {\n      this.handleQueryChange(e.target.value)\n    })\n\n    this.on('handleOptionClick', this.handleOptionSelect)\n    this.on('setSelected', this.setSelected)\n  },\n  mounted() {\n    console.debug('mounted()')\n    console.debug('mounted() this.modelValue:', this.options, ';')\n    if (\n      this.multiple &&\n      Array.isArray(this.modelValue) &&\n      this.modelValue.length > 0\n    ) {\n      this.currentPlaceholder = ''\n    }\n    addResizeListener(this.$el, this.handleResize)\n\n    const reference = this.$refs.reference\n    if (reference && reference.$el) {\n      const sizeMap = {\n        medium: 36,\n        small: 32,\n        mini: 28\n      }\n      const input = reference.$el.querySelector('input')\n      this.initialInputHeight =\n        input.getBoundingClientRect().height || sizeMap[this.selectSize]\n    }\n    if (this.remote && this.multiple) {\n      this.resetInputHeight()\n    }\n    this.$nextTick(() => {\n      if (reference && reference.$el) {\n        this.inputWidth = reference.$el.getBoundingClientRect().width\n      }\n    })\n    this.setSelected()\n  },\n\n  beforeUnmount() {\n    console.debug('beforeUnmount()')\n    if (this.$el && this.handleResize)\n      removeResizeListener(this.$el, this.handleResize)\n  }\n}\n</script>\n","import Select from './Select'\n\n/* istanbul ignore next */\nSelect.install = function (app) {\n  app.component(Select.name, Select)\n}\n\nexport default Select\n","import ElOption from './Option'\n\n/* istanbul ignore next */\nElOption.install = function (app) {\n  app.component(ElOption.name, ElOption)\n}\n\nexport default ElOption\n","<template>\n  <ul class=\"el-select-group__wrap\" v-show=\"visible\">\n    <li class=\"el-select-group__title\">{{ label }}</li>\n    <li>\n      <ul class=\"el-select-group\">\n        <slot></slot>\n      </ul>\n    </li>\n  </ul>\n</template>\n\n<script type=\"text/babel\">\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  watch,\n  getCurrentInstance,\n  onBeforeMount,\n  onMounted,\n  ref,\n  unref,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElOptionGroup',\n\n  componentName: 'ElOptionGroup',\n\n  props: {\n    label: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    const { disabled } = toRefs(props)\n    const visible = ref(true)\n    const { on, broadcast } = useEmitter()\n    const { proxy } = getCurrentInstance()\n\n    watch(disabled, (val) => {\n      broadcast('handleGroupDisabled', val)\n    })\n\n    function queryChange() {\n      visible.value =\n        proxy.$children &&\n        Array.isArray(proxy.$children) &&\n        proxy.$children.some((option) => option.visible === true)\n    }\n\n    onBeforeMount(() => {\n      on('optionGroup.queryChange', queryChange)\n    })\n\n    onMounted(() => {\n      if (unref(disabled)) {\n        broadcast('handleGroupDisabled', unref(disabled))\n      }\n    })\n\n    return { visible }\n  }\n}\n</script>\n","<template>\n  <ul class=\"el-select-group__wrap\" v-show=\"visible\">\n    <li class=\"el-select-group__title\">{{ label }}</li>\n    <li>\n      <ul class=\"el-select-group\">\n        <slot></slot>\n      </ul>\n    </li>\n  </ul>\n</template>\n\n<script type=\"text/babel\">\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  watch,\n  getCurrentInstance,\n  onBeforeMount,\n  onMounted,\n  ref,\n  unref,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElOptionGroup',\n\n  componentName: 'ElOptionGroup',\n\n  props: {\n    label: String,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    const { disabled } = toRefs(props)\n    const visible = ref(true)\n    const { on, broadcast } = useEmitter()\n    const { proxy } = getCurrentInstance()\n\n    watch(disabled, (val) => {\n      broadcast('handleGroupDisabled', val)\n    })\n\n    function queryChange() {\n      visible.value =\n        proxy.$children &&\n        Array.isArray(proxy.$children) &&\n        proxy.$children.some((option) => option.visible === true)\n    }\n\n    onBeforeMount(() => {\n      on('optionGroup.queryChange', queryChange)\n    })\n\n    onMounted(() => {\n      if (unref(disabled)) {\n        broadcast('handleGroupDisabled', unref(disabled))\n      }\n    })\n\n    return { visible }\n  }\n}\n</script>\n","import ElOptionGroup from './OptionGroup'\n\n/* istanbul ignore next */\nElOptionGroup.install = function (app) {\n  app.component(ElOptionGroup.name, ElOptionGroup)\n}\n\nexport default ElOptionGroup\n","import { PopupManager } from '../../src/utils/popup'\n\nimport { Popper } from '../utils/new-popper'\n// const PopperJS = Vue.prototype.$isServer ? function() {} : require('./popper')\nconst stop = (e) => e.stopPropagation()\n\n/**\n * @param {HTMLElement} [reference=$refs.reference] - The reference element used to position the popper.\n * @param {HTMLElement} [popper=$refs.popper] - The HTML element used as popper, or a configuration used to generate the popper.\n * @param {String} [placement=button] - Placement of the popper accepted values: top(-start, -end), right(-start, -end), bottom(-start, -end), left(-start, -end)\n * @param {Number} [offset=0] - Amount of pixels the popper will be shifted (can be negative).\n * @param {Boolean} [visible=false] Visibility of the popup element.\n * @param {Boolean} [visible-arrow=false] Visibility of the arrow, no style.\n */\nexport default {\n  props: {\n    transformOrigin: {\n      type: [Boolean, String],\n      default: true\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    boundariesPadding: {\n      type: Number,\n      default: 5\n    },\n    reference: {},\n    popper: {},\n    offset: {\n      default: 0\n    },\n    value: Boolean,\n    visibleArrow: Boolean,\n    arrowOffset: {\n      type: Number,\n      default: 35\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    popperOptions: {\n      type: Object,\n      default() {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    }\n  },\n\n  data() {\n    return {\n      showPopper: false,\n      currentPlacement: ''\n    }\n  },\n\n  watch: {\n    value: {\n      immediate: true,\n      handler(val) {\n        this.showPopper = val\n        this.$emit('input', val)\n      }\n    },\n\n    showPopper(val) {\n      if (this.disabled) return\n      val ? this.updatePopper() : this.destroyPopper()\n      this.$emit('input', val)\n    }\n  },\n\n  methods: {\n    createPopper() {\n      if (this.$isServer) return\n      this.currentPlacement = this.currentPlacement || this.placement\n      if (\n        !/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement)\n      ) {\n        return\n      }\n\n      const options = this.popperOptions\n      const popper = (this.popperElm =\n        this.popperElm || this.popper || this.$refs.popper)\n      let reference = (this.referenceElm =\n        this.referenceElm || this.reference || this.$refs.reference)\n\n      if (!reference && this.$slots.reference && this.$slots.reference[0]) {\n        reference = this.referenceElm = this.$slots.reference[0].elm\n      }\n\n      if (!popper || !reference) return\n      if (this.visibleArrow) this.appendArrow(popper)\n      if (this.appendToBody) document.body.appendChild(this.popperElm)\n      if (this.popperJS && this.popperJS.destroy) {\n        this.popperJS.destroy()\n      }\n\n      options.placement = this.currentPlacement\n      options.offset = this.offset\n      options.arrowOffset = this.arrowOffset\n      this.popperJS = new Popper(reference, popper, options)\n      this.popperJS.onCreate(() => {\n        this.$emit('created', this)\n        this.resetTransformOrigin()\n        this.$nextTick(this.updatePopper)\n      })\n      if (typeof options.onUpdate === 'function') {\n        this.popperJS.onUpdate(options.onUpdate)\n      }\n      this.popperJS._popper.style.zIndex = PopupManager.nextZIndex()\n      this.popperElm.addEventListener('click', stop)\n    },\n\n    updatePopper() {\n      const popperJS = this.popperJS\n      if (popperJS) {\n        popperJS.update()\n        if (popperJS._popper) {\n          popperJS._popper.style.zIndex = PopupManager.nextZIndex()\n        }\n      } else {\n        this.createPopper()\n      }\n    },\n\n    doDestroy(forceDestroy) {\n      /* istanbul ignore if */\n      if (!this.popperJS || (this.showPopper && !forceDestroy)) return\n      this.popperJS.destroy()\n      this.popperJS = null\n    },\n\n    destroyPopper() {\n      if (this.popperJS) {\n        this.resetTransformOrigin()\n      }\n    },\n\n    resetTransformOrigin() {\n      if (!this.transformOrigin) return\n      const placementMap = {\n        top: 'bottom',\n        bottom: 'top',\n        left: 'right',\n        right: 'left'\n      }\n      const placement = this.popperJS._popper\n        .getAttribute('x-placement')\n        .split('-')[0]\n      const origin = placementMap[placement]\n      this.popperJS._popper.style.transformOrigin =\n        typeof this.transformOrigin === 'string'\n          ? this.transformOrigin\n          : ['top', 'bottom'].indexOf(placement) > -1\n          ? `center ${origin}`\n          : `${origin} center`\n    },\n\n    appendArrow(element) {\n      let hash\n      if (this.appended) {\n        return\n      }\n\n      this.appended = true\n\n      for (const item in element.attributes) {\n        if (/^_v-/.test(element.attributes[item].name)) {\n          hash = element.attributes[item].name\n          break\n        }\n      }\n\n      const arrow = document.createElement('div')\n\n      if (hash) {\n        arrow.setAttribute(hash, '')\n      }\n      arrow.setAttribute('x-arrow', '')\n      arrow.className = 'popper__arrow'\n      element.appendChild(arrow)\n    }\n  },\n\n  beforeUnmount() {\n    this.doDestroy(true)\n    if (this.popperElm && this.popperElm.parentNode === document.body) {\n      this.popperElm.removeEventListener('click', stop)\n      document.body.removeChild(this.popperElm)\n    }\n  },\n\n  // call destroy in keep-alive mode\n  deactivated() {\n    this.$options.beforeUnmount[0].call(this)\n  }\n}\n","import { isOn } from '@vue/shared'\nimport { onMounted, getCurrentInstance } from 'vue'\n\nexport function migrating(options) {\n  onMounted(() => {\n    const componentInstance = getCurrentInstance()\n    const componentName = componentInstance.type.name || ''\n    const attrs = componentInstance.proxy.$attrs\n\n    for (const key in options) {\n      if (attrs[key]) {\n        const warn = options[key]\n        const type = isOn(key) ? 'Event' : 'Attribute'\n        console.warn(`[Element Migrating][${componentName}][${type}]: ${warn}`)\n      }\n    }\n  })\n}\n","<template>\n  <li\n    role=\"menuitem\"\n    :id=\"nodeId\"\n    :aria-expanded=\"inActivePath\"\n    :tabindex=\"!config.checkStrictly && isDisabled ? null : -1\"\n    :class=\"{\n      'el-cascader-node': true,\n      'is-selectable': config.checkStrictly,\n      'in-active-path': inActivePath,\n      'in-checked-path': inCheckedPath,\n      'is-active': isChecked,\n      'is-disabled': disabled\n    }\"\n    @click=\"handleClick\"\n    @mouseenter=\"handleMouseenter\"\n    @focus=\"handleMouseenter\"\n  >\n    <template\n      v-if=\"config.multiple || config.checkStrictly || (isLeaf && isChecked)\"\n    >\n      <el-checkbox\n        v-if=\"config.multiple\"\n        :modelValue=\"node.checked\"\n        :indeterminate=\"node.indeterminate\"\n        :disabled=\"isDisabled\"\n        @update:modelValue=\"handleMultiCheckChange\"\n        @click.stop=\"\n          () => {\n            config.checkStrictly && strictlyEvent()\n          }\n        \"\n      ></el-checkbox>\n      <el-radio\n        v-else-if=\"config.checkStrictly\"\n        :modelValue=\"checkedValue\"\n        :label=\"value\"\n        :disabled=\"isDisabled\"\n        @change=\"handleCheckChange\"\n        @click=\"strictlyEvent\"\n      >\n        <span></span>\n      </el-radio>\n      <i\n        v-else-if=\"isLeaf && isChecked\"\n        class=\"el-icon-check el-cascader-node__prefix\"\n      ></i>\n    </template>\n    <span class=\"el-cascader-node__label\">\n      <render-helper :nodeLabel=\"nodeLabel\"></render-helper>\n    </span>\n    <i v-if=\"loading\" class=\"el-icon-loading el-cascader-node__postfix\"></i>\n    <i\n      v-else-if=\"!isLeaf\"\n      class=\"el-icon-arrow-right el-cascader-node__postfix\"\n    ></i>\n  </li>\n</template>\n\n<script>\nimport { h, computed, watch, inject, toRefs, Fragment, watchEffect } from 'vue'\nimport ElCheckbox from '../checkbox'\nimport { ElRadio } from '../../src/components/Radio'\nimport { isEqual } from '../../src/utils/util'\n\nexport default {\n  components: {\n    ElCheckbox,\n    ElRadio,\n    renderHelper(props) {\n      const { render, node } = props.nodeLabel\n      const vNode = render\n        ? render({ node: node.value, data: node.value.data })\n        : null\n      const res = vNode || node.value.label\n      return h(Fragment, {}, [res])\n    }\n  },\n  emits: ['created', 'expand'],\n\n  props: {\n    node: {\n      required: true\n    },\n    nodeId: String\n  },\n\n  setup(props, { emit }) {\n    const { node } = toRefs(props)\n    const {\n      panel,\n      config,\n      checkedValue,\n      inActivePath,\n      inCheckedPath\n    } = usePanel(node)\n    const { value, loading, isLeaf, isDisabled, isChecked } = useNode(\n      node,\n      checkedValue\n    )\n    const nodeLabel = computed(() => ({\n      node\n    }))\n    const disabled = computed(\n      () => !config.value.checkStrictly && isDisabled.value\n    )\n    watchEffect(() => {\n      if (isEqual(value.value, checkedValue.value))\n        value.value = checkedValue.value\n    })\n\n    const handleMultiCheckChange = (checked) => {\n      node.value.doCheck(checked)\n      panel.calculateMultiCheckedValue()\n    }\n    const handleExpand = () => {\n      if (\n        (!config.value.checkStrictly && isDisabled.value) ||\n        node.value.loading\n      )\n        return\n\n      if (config.value.lazy && !node.value.loaded) {\n        panel.lazyLoad(node.value, () => {\n          // do not use cached leaf value here, invoke this.isLeaf to get new value.\n          if (!isLeaf.value) handleExpand()\n\n          if (config.value.multiple) {\n            // if leaf sync checked state, else clear checked state\n            const checked = isLeaf.value ? node.value.checked : false\n            handleMultiCheckChange(checked)\n          }\n        })\n      } else {\n        panel.handleExpand(node.value)\n      }\n    }\n    const handleCheckChange = () => {\n      panel.handleCheckChange(value)\n      panel.handleExpand(node.value)\n    }\n    const handleClick = () => {\n      if (\n        isLeaf.value &&\n        !isDisabled.value &&\n        !config.value.checkStrictly &&\n        !config.value.multiple\n      ) {\n        handleCheckChange()\n      }\n      if (config.value.expandTrigger !== 'click') return\n      if (config.value.expandTrigger === 'click') handleExpand()\n    }\n    const handleMouseenter = (e) => {\n      if (config.value.expandTrigger === 'click') return\n      handleExpand()\n      emit('expand', e)\n    }\n\n    return {\n      // state\n      // data\n      nodeLabel,\n      disabled,\n      // useNode\n      value,\n      loading,\n      isChecked,\n      isLeaf,\n      isDisabled,\n      // usePanel\n      config,\n      inActivePath,\n      checkedValue,\n      inCheckedPath,\n      // methods\n      strictlyEvent() {},\n      handleClick,\n      handleMouseenter,\n      handleCheckChange,\n      handleMultiCheckChange,\n      handleExpand\n    }\n  }\n}\n\nconst useNode = (node, checkedValue) => {\n  let value = node.value.getValueByOption()\n  watch(node.value, (newValue) => {\n    value = newValue.getValueByOption()\n  })\n  const loading = computed(() => node.value.loading)\n  const isLeaf = computed(() => node.value.isLeaf)\n  const isDisabled = computed(() => node.value.isDisabled)\n  const isChecked = computed(() => node.value.isSameNode(checkedValue.value))\n\n  return {\n    value,\n    loading,\n    isLeaf,\n    isDisabled,\n    isChecked\n  }\n}\n\nconst usePanel = (node) => {\n  const isInPath = (pathNodes) => {\n    const selectedPathNode = pathNodes?.[node?.value.level - 1] || {}\n    return selectedPathNode.uid === node?.value.uid\n  }\n  const panel = inject('panel')\n  const config = computed(() => panel.config)\n  const checkedValue = computed(() => panel.checkedValue)\n  const inActivePath = computed(() => isInPath(panel.activePath))\n  const inCheckedPath = computed(() => {\n    if (!config.value.checkStrictly) return false\n    return panel.checkedNodePaths.some((checkedPath) => isInPath(checkedPath))\n  })\n\n  return {\n    panel,\n    config,\n    checkedValue,\n    inActivePath,\n    inCheckedPath\n  }\n}\n</script>\n","<template>\n  <li\n    role=\"menuitem\"\n    :id=\"nodeId\"\n    :aria-expanded=\"inActivePath\"\n    :tabindex=\"!config.checkStrictly && isDisabled ? null : -1\"\n    :class=\"{\n      'el-cascader-node': true,\n      'is-selectable': config.checkStrictly,\n      'in-active-path': inActivePath,\n      'in-checked-path': inCheckedPath,\n      'is-active': isChecked,\n      'is-disabled': disabled\n    }\"\n    @click=\"handleClick\"\n    @mouseenter=\"handleMouseenter\"\n    @focus=\"handleMouseenter\"\n  >\n    <template\n      v-if=\"config.multiple || config.checkStrictly || (isLeaf && isChecked)\"\n    >\n      <el-checkbox\n        v-if=\"config.multiple\"\n        :modelValue=\"node.checked\"\n        :indeterminate=\"node.indeterminate\"\n        :disabled=\"isDisabled\"\n        @update:modelValue=\"handleMultiCheckChange\"\n        @click.stop=\"\n          () => {\n            config.checkStrictly && strictlyEvent()\n          }\n        \"\n      ></el-checkbox>\n      <el-radio\n        v-else-if=\"config.checkStrictly\"\n        :modelValue=\"checkedValue\"\n        :label=\"value\"\n        :disabled=\"isDisabled\"\n        @change=\"handleCheckChange\"\n        @click=\"strictlyEvent\"\n      >\n        <span></span>\n      </el-radio>\n      <i\n        v-else-if=\"isLeaf && isChecked\"\n        class=\"el-icon-check el-cascader-node__prefix\"\n      ></i>\n    </template>\n    <span class=\"el-cascader-node__label\">\n      <render-helper :nodeLabel=\"nodeLabel\"></render-helper>\n    </span>\n    <i v-if=\"loading\" class=\"el-icon-loading el-cascader-node__postfix\"></i>\n    <i\n      v-else-if=\"!isLeaf\"\n      class=\"el-icon-arrow-right el-cascader-node__postfix\"\n    ></i>\n  </li>\n</template>\n\n<script>\nimport { h, computed, watch, inject, toRefs, Fragment, watchEffect } from 'vue'\nimport ElCheckbox from '../checkbox'\nimport { ElRadio } from '../../src/components/Radio'\nimport { isEqual } from '../../src/utils/util'\n\nexport default {\n  components: {\n    ElCheckbox,\n    ElRadio,\n    renderHelper(props) {\n      const { render, node } = props.nodeLabel\n      const vNode = render\n        ? render({ node: node.value, data: node.value.data })\n        : null\n      const res = vNode || node.value.label\n      return h(Fragment, {}, [res])\n    }\n  },\n  emits: ['created', 'expand'],\n\n  props: {\n    node: {\n      required: true\n    },\n    nodeId: String\n  },\n\n  setup(props, { emit }) {\n    const { node } = toRefs(props)\n    const {\n      panel,\n      config,\n      checkedValue,\n      inActivePath,\n      inCheckedPath\n    } = usePanel(node)\n    const { value, loading, isLeaf, isDisabled, isChecked } = useNode(\n      node,\n      checkedValue\n    )\n    const nodeLabel = computed(() => ({\n      node\n    }))\n    const disabled = computed(\n      () => !config.value.checkStrictly && isDisabled.value\n    )\n    watchEffect(() => {\n      if (isEqual(value.value, checkedValue.value))\n        value.value = checkedValue.value\n    })\n\n    const handleMultiCheckChange = (checked) => {\n      node.value.doCheck(checked)\n      panel.calculateMultiCheckedValue()\n    }\n    const handleExpand = () => {\n      if (\n        (!config.value.checkStrictly && isDisabled.value) ||\n        node.value.loading\n      )\n        return\n\n      if (config.value.lazy && !node.value.loaded) {\n        panel.lazyLoad(node.value, () => {\n          // do not use cached leaf value here, invoke this.isLeaf to get new value.\n          if (!isLeaf.value) handleExpand()\n\n          if (config.value.multiple) {\n            // if leaf sync checked state, else clear checked state\n            const checked = isLeaf.value ? node.value.checked : false\n            handleMultiCheckChange(checked)\n          }\n        })\n      } else {\n        panel.handleExpand(node.value)\n      }\n    }\n    const handleCheckChange = () => {\n      panel.handleCheckChange(value)\n      panel.handleExpand(node.value)\n    }\n    const handleClick = () => {\n      if (\n        isLeaf.value &&\n        !isDisabled.value &&\n        !config.value.checkStrictly &&\n        !config.value.multiple\n      ) {\n        handleCheckChange()\n      }\n      if (config.value.expandTrigger !== 'click') return\n      if (config.value.expandTrigger === 'click') handleExpand()\n    }\n    const handleMouseenter = (e) => {\n      if (config.value.expandTrigger === 'click') return\n      handleExpand()\n      emit('expand', e)\n    }\n\n    return {\n      // state\n      // data\n      nodeLabel,\n      disabled,\n      // useNode\n      value,\n      loading,\n      isChecked,\n      isLeaf,\n      isDisabled,\n      // usePanel\n      config,\n      inActivePath,\n      checkedValue,\n      inCheckedPath,\n      // methods\n      strictlyEvent() {},\n      handleClick,\n      handleMouseenter,\n      handleCheckChange,\n      handleMultiCheckChange,\n      handleExpand\n    }\n  }\n}\n\nconst useNode = (node, checkedValue) => {\n  let value = node.value.getValueByOption()\n  watch(node.value, (newValue) => {\n    value = newValue.getValueByOption()\n  })\n  const loading = computed(() => node.value.loading)\n  const isLeaf = computed(() => node.value.isLeaf)\n  const isDisabled = computed(() => node.value.isDisabled)\n  const isChecked = computed(() => node.value.isSameNode(checkedValue.value))\n\n  return {\n    value,\n    loading,\n    isLeaf,\n    isDisabled,\n    isChecked\n  }\n}\n\nconst usePanel = (node) => {\n  const isInPath = (pathNodes) => {\n    const selectedPathNode = pathNodes?.[node?.value.level - 1] || {}\n    return selectedPathNode.uid === node?.value.uid\n  }\n  const panel = inject('panel')\n  const config = computed(() => panel.config)\n  const checkedValue = computed(() => panel.checkedValue)\n  const inActivePath = computed(() => isInPath(panel.activePath))\n  const inCheckedPath = computed(() => {\n    if (!config.value.checkStrictly) return false\n    return panel.checkedNodePaths.some((checkedPath) => isInPath(checkedPath))\n  })\n\n  return {\n    panel,\n    config,\n    checkedValue,\n    inActivePath,\n    inCheckedPath\n  }\n}\n</script>\n","import { t } from '../locale'\nimport { getCurrentInstance } from 'vue'\n\nfunction useLocale() {\n  return function (...args) {\n    const instance = getCurrentInstance()\n    return t.apply(instance, args)\n  }\n}\nexport { useLocale }\n","<template>\n  <el-scrollbar\n    tag=\"ul\"\n    role=\"menu\"\n    :id=\"menuId\"\n    class=\"el-cascader-menu\"\n    wrap-class=\"el-cascader-menu__wrap\"\n    :view-class=\"{\n      'el-cascader-menu__list': true,\n      'is-empty': isEmpty\n    }\"\n    @mousemove=\"handleMouseMove\"\n  >\n    <div v-if=\"isEmpty\" class=\"el-cascader-menu__empty-text\">\n      {{ t('el.cascader.noData') }}\n    </div>\n    <template v-else>\n      <cascader-node\n        v-for=\"(node, index) in nodes\"\n        :key=\"node.uid\"\n        :node=\"node\"\n        :node-id=\"`${menuId}-${index}`\"\n        :aria-haspopup=\"node.hasChildren\"\n        :aria-owns=\"node.hasChildren ? menuId : null\"\n        @expand=\"handleExpand\"\n      ></cascader-node>\n      <svg\n        v-if=\"panel.isHoverMenu\"\n        ref=\"hoverZone\"\n        class=\"el-cascader-menu__hover-zone\"\n      ></svg>\n    </template>\n  </el-scrollbar>\n</template>\n\n<script>\nimport { ref, computed, toRefs, inject, getCurrentInstance } from 'vue'\nimport ElScrollbar from '../scrollbar'\nimport CascaderNode from './CascaderNode'\nimport { useLocale } from '../../src/use/locale'\nimport { generateId } from '../../src/utils/util'\n\nexport default {\n  name: 'ElCascaderMenu',\n\n  components: {\n    ElScrollbar,\n    CascaderNode\n  },\n\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    index: Number\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance()\n    const t = useLocale()\n    const { index, nodes } = toRefs(props)\n    const { proxy } = instance\n    const panel = inject('panel')\n    const hoverZone = ref(null)\n    const data = {\n      activeNode: null,\n      hoverTimer: null,\n      id: generateId()\n    }\n    const isEmpty = computed(() => !nodes.value.length)\n    const menuId = `cascader-menu-${data.id}-${index.value}`\n\n    const clearHoverZone = () => {\n      if (!hoverZone.value) return\n      hoverZone.value.innerHTML = ''\n    }\n    const handleExpand = (e) => {\n      if (!panel.isHoverMenu) return\n      data.activeNode = e.target\n    }\n    const handleMouseMove = (e) => {\n      if (!panel.isHoverMenu) return\n\n      if (!data.activeNode || !hoverZone.value) return\n\n      if (data.activeNode.contains(e.target)) {\n        clearTimeout(data.hoverTimer)\n\n        const { left } = proxy.$el.getBoundingClientRect()\n        const startX = e.clientX - left\n        const { offsetWidth, offsetHeight } = proxy.$el\n        const top = data.activeNode.offsetTop\n        const bottom = top + data.activeNode.offsetHeight\n\n        hoverZone.value.innerHTML = `\n          <path style=\"pointer-events: auto;\" fill=\"transparent\" d=\"M${startX} ${top} L${offsetWidth} 0 V${top} Z\" />\n          <path style=\"pointer-events: auto;\" fill=\"transparent\" d=\"M${startX} ${bottom} L${offsetWidth} ${offsetHeight} V${bottom} Z\" />\n        `\n      } else if (!data.hoverTimer) {\n        data.hoverTimer = setTimeout(\n          clearHoverZone,\n          panel.config.hoverThreshold\n        )\n      }\n    }\n\n    return {\n      // state\n      data,\n      isEmpty,\n      menuId,\n      hoverZone,\n      panel,\n      // methods\n      t,\n      handleExpand,\n      handleMouseMove\n    }\n  }\n}\n</script>\n","<template>\n  <el-scrollbar\n    tag=\"ul\"\n    role=\"menu\"\n    :id=\"menuId\"\n    class=\"el-cascader-menu\"\n    wrap-class=\"el-cascader-menu__wrap\"\n    :view-class=\"{\n      'el-cascader-menu__list': true,\n      'is-empty': isEmpty\n    }\"\n    @mousemove=\"handleMouseMove\"\n  >\n    <div v-if=\"isEmpty\" class=\"el-cascader-menu__empty-text\">\n      {{ t('el.cascader.noData') }}\n    </div>\n    <template v-else>\n      <cascader-node\n        v-for=\"(node, index) in nodes\"\n        :key=\"node.uid\"\n        :node=\"node\"\n        :node-id=\"`${menuId}-${index}`\"\n        :aria-haspopup=\"node.hasChildren\"\n        :aria-owns=\"node.hasChildren ? menuId : null\"\n        @expand=\"handleExpand\"\n      ></cascader-node>\n      <svg\n        v-if=\"panel.isHoverMenu\"\n        ref=\"hoverZone\"\n        class=\"el-cascader-menu__hover-zone\"\n      ></svg>\n    </template>\n  </el-scrollbar>\n</template>\n\n<script>\nimport { ref, computed, toRefs, inject, getCurrentInstance } from 'vue'\nimport ElScrollbar from '../scrollbar'\nimport CascaderNode from './CascaderNode'\nimport { useLocale } from '../../src/use/locale'\nimport { generateId } from '../../src/utils/util'\n\nexport default {\n  name: 'ElCascaderMenu',\n\n  components: {\n    ElScrollbar,\n    CascaderNode\n  },\n\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    index: Number\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance()\n    const t = useLocale()\n    const { index, nodes } = toRefs(props)\n    const { proxy } = instance\n    const panel = inject('panel')\n    const hoverZone = ref(null)\n    const data = {\n      activeNode: null,\n      hoverTimer: null,\n      id: generateId()\n    }\n    const isEmpty = computed(() => !nodes.value.length)\n    const menuId = `cascader-menu-${data.id}-${index.value}`\n\n    const clearHoverZone = () => {\n      if (!hoverZone.value) return\n      hoverZone.value.innerHTML = ''\n    }\n    const handleExpand = (e) => {\n      if (!panel.isHoverMenu) return\n      data.activeNode = e.target\n    }\n    const handleMouseMove = (e) => {\n      if (!panel.isHoverMenu) return\n\n      if (!data.activeNode || !hoverZone.value) return\n\n      if (data.activeNode.contains(e.target)) {\n        clearTimeout(data.hoverTimer)\n\n        const { left } = proxy.$el.getBoundingClientRect()\n        const startX = e.clientX - left\n        const { offsetWidth, offsetHeight } = proxy.$el\n        const top = data.activeNode.offsetTop\n        const bottom = top + data.activeNode.offsetHeight\n\n        hoverZone.value.innerHTML = `\n          <path style=\"pointer-events: auto;\" fill=\"transparent\" d=\"M${startX} ${top} L${offsetWidth} 0 V${top} Z\" />\n          <path style=\"pointer-events: auto;\" fill=\"transparent\" d=\"M${startX} ${bottom} L${offsetWidth} ${offsetHeight} V${bottom} Z\" />\n        `\n      } else if (!data.hoverTimer) {\n        data.hoverTimer = setTimeout(\n          clearHoverZone,\n          panel.config.hoverThreshold\n        )\n      }\n    }\n\n    return {\n      // state\n      data,\n      isEmpty,\n      menuId,\n      hoverZone,\n      panel,\n      // methods\n      t,\n      handleExpand,\n      handleMouseMove\n    }\n  }\n}\n</script>\n","import { isEqual, capitalize } from '../../src/utils/util'\nimport { isDef } from '../../src/utils/shared'\n\nlet uid = 0\n\nexport default class Node {\n  constructor(data, config, parentNode) {\n    this.data = data\n    this.config = config\n    this.parent = parentNode || null\n    this.level = !this.parent ? 1 : this.parent.level + 1\n    this.uid = uid++\n\n    this.initState()\n    this.initChildren()\n  }\n\n  initState() {\n    const { value: valueKey, label: labelKey } = this.config\n\n    this.value = this.data[valueKey]\n    this.label = this.data[labelKey]\n    this.pathNodes = this.calculatePathNodes()\n    this.path = this.pathNodes.map((node) => node.value)\n    this.pathLabels = this.pathNodes.map((node) => node.label)\n\n    // lazy load\n    this.loading = false\n    this.loaded = false\n  }\n\n  initChildren() {\n    const { config } = this\n    const childrenKey = config.children\n    const childrenData = this.data[childrenKey]\n    this.hasChildren = Array.isArray(childrenData)\n    this.children = (childrenData || []).map(\n      (child) => new Node(child, config, this)\n    )\n  }\n\n  get isDisabled() {\n    const { data, parent, config } = this\n    const disabledKey = config.disabled\n    const { checkStrictly } = config\n    return data[disabledKey] || (!checkStrictly && parent && parent.isDisabled)\n  }\n\n  get isLeaf() {\n    const { data, loaded, hasChildren, children } = this\n    const { lazy, leaf: leafKey } = this.config\n    if (lazy) {\n      const isLeaf = isDef(data[leafKey])\n        ? data[leafKey]\n        : loaded\n        ? !children.length\n        : false\n      this.hasChildren = !isLeaf\n      return isLeaf\n    }\n    return !hasChildren\n  }\n\n  calculatePathNodes() {\n    const nodes = [this]\n    let parent = this.parent\n\n    while (parent) {\n      nodes.unshift(parent)\n      parent = parent.parent\n    }\n\n    return nodes\n  }\n\n  getPath() {\n    return this.path\n  }\n\n  getValue() {\n    return this.value\n  }\n\n  getValueByOption() {\n    return this.config.emitPath ? this.getPath() : this.getValue()\n  }\n\n  getText(allLevels, separator) {\n    return allLevels ? this.pathLabels.join(separator) : this.label\n  }\n\n  isSameNode(checkedValue) {\n    const value = this.getValueByOption()\n    return this.config.multiple && Array.isArray(checkedValue)\n      ? checkedValue.some((val) => isEqual(val, value))\n      : isEqual(checkedValue, value)\n  }\n\n  broadcast(event, ...args) {\n    const handlerName = `onParent${capitalize(event)}`\n\n    this.children.forEach((child) => {\n      if (child) {\n        // bottom up\n        child.broadcast(event, ...args)\n        child[handlerName] && child[handlerName](...args)\n      }\n    })\n  }\n\n  emit(event, ...args) {\n    const { parent } = this\n    const handlerName = `onChild${capitalize(event)}`\n    if (parent) {\n      parent[handlerName] && parent[handlerName](...args)\n      parent.emit(event, ...args)\n    }\n  }\n\n  onParentCheck(checked) {\n    if (!this.isDisabled) {\n      this.setCheckState(checked)\n    }\n  }\n\n  onChildCheck() {\n    const { children } = this\n    const validChildren = children.filter((child) => !child.isDisabled)\n    const checked = validChildren.length\n      ? validChildren.every((child) => child.checked)\n      : false\n\n    this.setCheckState(checked)\n  }\n\n  setCheckState(checked) {\n    const totalNum = this.children.length\n    const checkedNum = this.children.reduce((c, p) => {\n      const num = p.checked ? 1 : p.indeterminate ? 0.5 : 0\n      return c + num\n    }, 0)\n\n    this.checked = checked\n    this.indeterminate = checkedNum !== totalNum && checkedNum > 0\n  }\n\n  syncCheckState(checkedValue) {\n    const value = this.getValueByOption()\n    const checked = this.isSameNode(checkedValue, value)\n\n    this.doCheck(checked)\n  }\n\n  doCheck(checked) {\n    if (this.checked !== checked) {\n      if (this.config.checkStrictly) {\n        this.checked = checked\n      } else {\n        // bottom up to unify the calculation of the indeterminate state\n        this.broadcast('check', checked)\n        this.setCheckState(checked)\n        this.emit('check')\n      }\n    }\n  }\n}\n","import Node from './Node'\nimport { coerceTruthyValueToArray, valueEquals } from '../../src/utils/util'\n\nconst flatNodes = (data, leafOnly) => {\n  return data.reduce((res, node) => {\n    if (node.isLeaf) {\n      res.push(node)\n    } else {\n      !leafOnly && res.push(node)\n      res = res.concat(flatNodes(node.children, leafOnly))\n    }\n    return res\n  }, [])\n}\n\nexport default class Store {\n  constructor(data, config) {\n    this.config = config\n    this.initNodes(data)\n  }\n\n  initNodes(data) {\n    data = coerceTruthyValueToArray(data)\n    this.nodes = data.map((nodeData) => new Node(nodeData, this.config))\n    this.flattedNodes = this.getFlattedNodes(false, false)\n    this.leafNodes = this.getFlattedNodes(true, false)\n  }\n\n  appendNode(nodeData, parentNode) {\n    const node = new Node(nodeData, this.config, parentNode)\n    const children = parentNode ? parentNode.children : this.nodes\n\n    children.push(node)\n  }\n\n  appendNodes(nodeDataList, parentNode) {\n    nodeDataList = coerceTruthyValueToArray(nodeDataList)\n    nodeDataList.forEach((nodeData) => this.appendNode(nodeData, parentNode))\n  }\n\n  getNodes() {\n    return this.nodes\n  }\n\n  getFlattedNodes(leafOnly, cached = true) {\n    const cachedNodes = leafOnly ? this.leafNodes : this.flattedNodes\n    return cached ? cachedNodes : flatNodes(this.nodes, leafOnly)\n  }\n\n  getNodeByValue(value) {\n    if (value) {\n      const nodes = this.getFlattedNodes(false, !this.config.lazy).filter(\n        (node) => valueEquals(node.path, value) || node.value === value\n      )\n      return nodes && nodes.length ? nodes[0] : null\n    }\n    return null\n  }\n}\n","// eslint-disable-next-line no-use-before-define\nvar aria = aria || {}\n\naria.Utils = aria.Utils || {}\n\n/**\n * @desc Set focus on descendant nodes until the first focusable element is\n *       found.\n * @param element\n *          DOM node for which to find the first focusable descendant.\n * @returns\n *  true if a focusable element is found and focus is set.\n */\naria.Utils.focusFirstDescendant = function (element) {\n  for (var i = 0; i < element.childNodes.length; i++) {\n    var child = element.childNodes[i]\n    if (\n      aria.Utils.attemptFocus(child) ||\n      aria.Utils.focusFirstDescendant(child)\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @desc Find the last descendant node that is focusable.\n * @param element\n *          DOM node for which to find the last focusable descendant.\n * @returns\n *  true if a focusable element is found and focus is set.\n */\n\naria.Utils.focusLastDescendant = function (element) {\n  for (var i = element.childNodes.length - 1; i >= 0; i--) {\n    var child = element.childNodes[i]\n    if (\n      aria.Utils.attemptFocus(child) ||\n      aria.Utils.focusLastDescendant(child)\n    ) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @desc Set Attempt to set focus on the current node.\n * @param element\n *          The node to attempt to focus on.\n * @returns\n *  true if element is focused.\n */\naria.Utils.attemptFocus = function (element) {\n  if (!aria.Utils.isFocusable(element)) {\n    return false\n  }\n  aria.Utils.IgnoreUtilFocusChanges = true\n\n  if (element && element.focus) {\n    element.focus()\n  }\n  aria.Utils.IgnoreUtilFocusChanges = false\n  return document.activeElement === element\n}\n\naria.Utils.isFocusable = function (element) {\n  if (\n    element.tabIndex > 0 ||\n    (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)\n  ) {\n    return true\n  }\n\n  if (element.disabled) {\n    return false\n  }\n\n  switch (element.nodeName) {\n    case 'A':\n      return !!element.href && element.rel !== 'ignore'\n    case 'INPUT':\n      return element.type !== 'hidden' && element.type !== 'file'\n    case 'BUTTON':\n    case 'SELECT':\n    case 'TEXTAREA':\n      return true\n    default:\n      return false\n  }\n}\n\n/**\n * 触发一个事件\n * mouseenter, mouseleave, mouseover, keyup, change, click 等\n * @param  {Element} elm\n * @param  {String} name\n * @param  {*} opts\n */\naria.Utils.triggerEvent = function (elm, name, ...opts) {\n  let eventName\n\n  if (/^mouse|click/.test(name)) {\n    eventName = 'MouseEvents'\n  } else if (/^key/.test(name)) {\n    eventName = 'KeyboardEvent'\n  } else {\n    eventName = 'HTMLEvents'\n  }\n  const evt = document.createEvent(eventName)\n\n  evt.initEvent(name, ...opts)\n  elm.dispatchEvent ? elm.dispatchEvent(evt) : elm.fireEvent('on' + name, evt)\n\n  return elm\n}\n\naria.Utils.keys = {\n  tab: 9,\n  enter: 13,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  esc: 27\n}\n\nexport default aria.Utils\n","<template>\n  <div\n    :class=\"['el-cascader-panel', border && 'is-bordered']\"\n    @keydown=\"handleKeyDown\"\n  >\n    <cascader-menu\n      v-for=\"(menu, index) in menus\"\n      :ref=\"\n        (el) => {\n          if (el) menuRef[index] = el\n        }\n      \"\n      :index=\"index\"\n      :key=\"index\"\n      :nodes=\"menu\"\n    ></cascader-menu>\n  </div>\n</template>\n\n<script>\nimport {\n  ref,\n  reactive,\n  computed,\n  watch,\n  toRefs,\n  nextTick,\n  onMounted,\n  onBeforeUpdate\n} from 'vue'\nimport CascaderMenu from './CascaderMenu'\nimport Store from './Store'\nimport merge from '../../src/utils/merge'\nimport AriaUtils from '../../src/utils/aria-utils'\nimport scrollIntoView from '../../src/utils/scroll-into-view'\nimport {\n  noop,\n  coerceTruthyValueToArray,\n  isEqual,\n  isEmpty,\n  valueEquals\n} from '../../src/utils/util'\n\nconst { keys: KeyCode } = AriaUtils\nconst DefaultProps = {\n  expandTrigger: 'click', // or hover\n  multiple: false,\n  checkStrictly: false, // whether all nodes can be selected\n  emitPath: true, // wether to emit an array of all levels value in which node is located\n  lazy: false,\n  lazyLoad: noop,\n  value: 'value',\n  label: 'label',\n  children: 'children',\n  leaf: 'leaf',\n  disabled: 'disabled',\n  hoverThreshold: 500\n}\n\nconst isLeaf = (el) => !el.getAttribute('aria-owns')\n\nconst getSibling = (el, distance) => {\n  const { parentNode } = el\n  if (parentNode) {\n    const siblings = parentNode.querySelectorAll(\n      '.el-cascader-node[tabindex=\"-1\"]'\n    )\n    const index = Array.prototype.indexOf.call(siblings, el)\n    return siblings[index + distance] || null\n  }\n  return null\n}\n\nconst getMenuIndex = (el) => {\n  if (!el) return\n  const pieces = el.id.split('-')\n  return Number(pieces[pieces.length - 2])\n}\n\nconst focusNode = (el) => {\n  if (!el) return\n  el.focus()\n  !isLeaf(el) && el.click()\n}\n\nconst checkNode = (el) => {\n  if (!el) return\n\n  const input = el.querySelector('input')\n  if (input) {\n    input.click()\n  } else if (isLeaf(el)) {\n    el.click()\n  }\n}\n\nexport default {\n  name: 'ElCascaderPanel',\n\n  components: {\n    CascaderMenu\n  },\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'close',\n    'active-item-change',\n    'expand-change'\n  ],\n\n  props: {\n    modelValue: {\n      type: Object,\n      default: () => {}\n    },\n    options: Array,\n    props: Object,\n    border: {\n      type: Boolean,\n      default: true\n    },\n    renderLabel: Function,\n    computePresentText: Function\n  },\n\n  provide() {\n    return {\n      panel: this\n    }\n  },\n\n  setup(props, { slots, emit }) {\n    const menuRef = ref([])\n    const activePath = ref([])\n    const checkedNodePaths = ref([])\n    const loadCount = ref(0)\n    const checkedValue = ref(null)\n\n    const { props: realProps, options, renderLabel, modelValue } = toRefs(props)\n\n    const renderLabelFn = computed(() => renderLabel?.value || slots?.default)\n\n    const {\n      config,\n      multiple,\n      checkStrictly,\n      leafOnly,\n      isHoverMenu\n    } = useConfig(realProps)\n\n    let state = reactive({\n      store: null,\n      menus: null\n    })\n    const lazyLoad = (node, onFulfilled) => {\n      if (!node) {\n        node = { root: true, level: 0 }\n        state.store = new Store([], config.value)\n        state.menus = [state.store.getNodes()]\n      }\n      node.loading = true\n      const resolve = (dataList) => {\n        const parent = node.root ? null : node\n        dataList && dataList.length && state.store.appendNodes(dataList, parent)\n        node.loading = false\n        node.loaded = true\n\n        // dispose default value on lazy load mode\n        if (Array.isArray(checkedValue.value)) {\n          const nodeValue = checkedValue.value[loadCount.value++]\n          const valueKey = config.value.value\n          const leafKey = config.value.leaf\n\n          if (\n            Array.isArray(dataList) &&\n            dataList.filter((item) => item[valueKey] === nodeValue).length > 0\n          ) {\n            const checkedNode = state.store.getNodeByValue(nodeValue)\n\n            if (!checkedNode.data[leafKey]) {\n              lazyLoad(checkedNode, () => {\n                handleExpand(checkedNode)\n              })\n            }\n\n            if (loadCount.value === checkedValue.value.length) {\n              props.computePresentText()\n            }\n          }\n        }\n\n        onFulfilled && onFulfilled(dataList)\n      }\n      config.value.lazyLoad(node, resolve)\n    }\n\n    const getFlattedNodes = (leafOnly) => {\n      const cached = !config.value.lazy\n      return state.store.getFlattedNodes(leafOnly, cached)\n    }\n    const { handleExpand, expandNodes, handleKeyDown } = useExpendMethods({\n      menuRef,\n      activePath,\n      state,\n      emit\n    })\n    const syncActivePath = () => {\n      if (!isEmpty(activePath.value)) {\n        const nodes = activePath.value.map((node) =>\n          state.store.getNodeByValue(node.getValue())\n        )\n        expandNodes(nodes)\n      } else if (!isEmpty(checkedValue.value)) {\n        const value = multiple.value\n          ? checkedValue.value[0]\n          : checkedValue.value\n        const checkedNode = state.store.getNodeByValue(value) || {}\n        const nodes = (checkedNode.pathNodes || []).slice(0, -1)\n        expandNodes(nodes)\n      } else {\n        activePath.value = []\n        state.menus = [state.store.getNodes()]\n      }\n    }\n    const changedScrollIntoView = () => {\n      const menus = menuRef.value || []\n      menus.forEach((menu) => {\n        const menuElement = menu.$el\n        if (menuElement) {\n          const container = menuElement.querySelector('.el-scrollbar__wrap')\n          const activeNode =\n            menuElement.querySelector('.el-cascader-node.is-active') ||\n            menuElement.querySelector('.el-cascader-node.in-active-path')\n          scrollIntoView(container, activeNode)\n        }\n      })\n    }\n    const {\n      syncMenuState,\n      clearCheckedNodes,\n      syncCheckedValue,\n      getCheckedNodes,\n      calculateCheckedNodePaths,\n      calculateMultiCheckedValue\n    } = useCheckedMethods({\n      state,\n      config,\n      leafOnly,\n      modelValue,\n      multiple,\n      checkedValue,\n      checkedNodePaths,\n      syncActivePath,\n      scrollIntoView: changedScrollIntoView,\n      getFlattedNodes\n    })\n    const handleCheckChange = (value) => {\n      checkedValue.value = value\n    }\n    onMounted(() => {\n      if (!isEmpty(modelValue?.value)) {\n        syncCheckedValue()\n      }\n    })\n    onBeforeUpdate(() => {\n      menuRef.value = []\n    })\n\n    watch(\n      options,\n      () => {\n        if (config.value.lazy && isEmpty(options.value)) {\n          lazyLoad()\n        } else {\n          state.store = new Store(options.value, config.value)\n          state.menus = [state.store.getNodes()]\n          syncMenuState()\n        }\n      },\n      {\n        immediate: true,\n        deep: true\n      }\n    )\n    watch(modelValue, () => {\n      syncCheckedValue()\n      checkStrictly.value && calculateCheckedNodePaths()\n    })\n    watch(checkedValue, (val) => {\n      if (!isEqual(val, modelValue?.value)) {\n        checkStrictly.value && calculateCheckedNodePaths()\n        emit('update:modelValue', val)\n        emit('change', val)\n      }\n    })\n\n    return {\n      // state\n      // ref\n      menuRef,\n      // data\n      checkedValue,\n      activePath,\n      checkedNodePaths,\n      menus: toRefs(state).menus,\n      // computed\n      config,\n      multiple,\n      checkStrictly,\n      leafOnly,\n      isHoverMenu,\n      // methods\n      getNodeByValue(val) {\n        return state.store.getNodeByValue(val)\n      },\n      lazyLoad,\n      getCheckedNodes,\n      getFlattedNodes,\n      handleCheckChange,\n      handleExpand,\n      renderLabelFn,\n      handleKeyDown,\n      clearCheckedNodes,\n      calculateMultiCheckedValue,\n      scrollIntoView: changedScrollIntoView\n    }\n  }\n}\n\nconst useConfig = (props) => {\n  const config = computed(() => merge({ ...DefaultProps }, props?.value))\n  const multiple = computed(() => config.value.multiple)\n  const checkStrictly = computed(() => config.value.checkStrictly)\n  const leafOnly = computed(() => !checkStrictly.value)\n  const isHoverMenu = computed(() => config.value.expandTrigger === 'trigger')\n\n  return {\n    config,\n    multiple,\n    checkStrictly,\n    leafOnly,\n    isHoverMenu\n  }\n}\n\nconst useExpendMethods = ({ menuRef, activePath, state, emit }) => {\n  const handleExpand = (node, silent) => {\n    const activePathValue = activePath.value\n    const { level } = node\n    const path = activePathValue.slice(0, level - 1)\n    const internalMenus = [...state.menus].slice(0, level)\n\n    if (!node.isLeaf) {\n      path.push(node)\n      internalMenus.push(node.children)\n    }\n\n    activePath.value = path\n    state.menus = internalMenus\n\n    if (!silent) {\n      const pathValues = path.map((node) => node.getValue())\n      const activePathValues = activePath.value.map((node) => node.getValue())\n      if (!valueEquals(pathValues, activePathValues)) {\n        emit('active-item-change', pathValues)\n        emit('expand-change', pathValues)\n      }\n    }\n  }\n  const expandNodes = (nodes) => {\n    nodes.forEach((node) => handleExpand(node, true))\n  }\n  const handleKeyDown = ({ target, keyCode }) => {\n    const prev = getSibling(target, -1)\n    const next = getSibling(target, 1)\n    const preMenu = menuRef.value[getMenuIndex(target) - 1]\n    const nextMenu = menuRef.value[getMenuIndex(target) + 1]\n\n    switch (keyCode) {\n      case KeyCode.up:\n        focusNode(prev)\n        break\n      case KeyCode.down:\n        focusNode(next)\n        break\n      case KeyCode.left:\n        if (preMenu) {\n          const expandedNode = preMenu.$el.querySelector(\n            '.el-cascader-node[aria-expanded=\"true\"]'\n          )\n          focusNode(expandedNode)\n        }\n        break\n      case KeyCode.right:\n        if (nextMenu) {\n          const firstNode = nextMenu.$el.querySelector(\n            '.el-cascader-node[tabindex=\"-1\"]'\n          )\n          focusNode(firstNode)\n        }\n        break\n      case KeyCode.enter:\n        checkNode(target)\n        break\n      case KeyCode.esc:\n      case KeyCode.tab:\n        emit('close')\n        break\n      default:\n        return\n    }\n  }\n\n  return {\n    handleExpand,\n    expandNodes,\n    handleKeyDown\n  }\n}\n\nconst useCheckedMethods = ({\n  state,\n  config,\n  leafOnly,\n  modelValue,\n  checkedValue,\n  checkedNodePaths,\n  syncActivePath,\n  scrollIntoView,\n  getFlattedNodes\n}) => {\n  const syncMultiCheckState = () => {\n    const nodes = getFlattedNodes(leafOnly.value)\n\n    nodes.forEach((node) => {\n      node.syncCheckState(checkedValue.value)\n    })\n  }\n  const syncMenuState = async () => {\n    syncActivePath()\n    config.value.multiple && syncMultiCheckState()\n    config.value.checkStrictly && calculateCheckedNodePaths()\n    await nextTick(scrollIntoView)\n  }\n  const syncCheckedValue = () => {\n    if (!isEqual(modelValue.value, checkedValue.value)) {\n      checkedValue.value = modelValue.value\n      syncMenuState()\n    }\n  }\n  const calculateCheckedNodePaths = () => {\n    const checkedValues = config.value.multiple\n      ? coerceTruthyValueToArray(checkedValue.value)\n      : [checkedValue.value]\n    checkedNodePaths.value = checkedValues.map((v) => {\n      return state.store.getNodeByValue(v)?.pathNodes || []\n    })\n  }\n  const getCheckedNodes = (leafOnly) => {\n    if (config.value.multiple) {\n      const nodes = getFlattedNodes(leafOnly)\n      return nodes.filter((node) => node.checked)\n    } else {\n      return isEmpty(checkedValue.value)\n        ? []\n        : [state.store.getNodeByValue(checkedValue.value)]\n    }\n  }\n  const calculateMultiCheckedValue = () => {\n    checkedValue.value = getCheckedNodes(leafOnly.value).map((node) =>\n      node.getValueByOption()\n    )\n  }\n  const clearCheckedNodes = () => {\n    if (config.value.multiple) {\n      getCheckedNodes(leafOnly.value)\n        .filter((node) => !node.isDisabled)\n        .forEach((node) => node.doCheck(false))\n      calculateMultiCheckedValue()\n    } else {\n      checkedValue.value = config.value.emitPath ? [] : null\n    }\n  }\n\n  return {\n    syncMenuState,\n    getCheckedNodes,\n    syncCheckedValue,\n    clearCheckedNodes,\n    calculateCheckedNodePaths,\n    calculateMultiCheckedValue\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"['el-cascader-panel', border && 'is-bordered']\"\n    @keydown=\"handleKeyDown\"\n  >\n    <cascader-menu\n      v-for=\"(menu, index) in menus\"\n      :ref=\"\n        (el) => {\n          if (el) menuRef[index] = el\n        }\n      \"\n      :index=\"index\"\n      :key=\"index\"\n      :nodes=\"menu\"\n    ></cascader-menu>\n  </div>\n</template>\n\n<script>\nimport {\n  ref,\n  reactive,\n  computed,\n  watch,\n  toRefs,\n  nextTick,\n  onMounted,\n  onBeforeUpdate\n} from 'vue'\nimport CascaderMenu from './CascaderMenu'\nimport Store from './Store'\nimport merge from '../../src/utils/merge'\nimport AriaUtils from '../../src/utils/aria-utils'\nimport scrollIntoView from '../../src/utils/scroll-into-view'\nimport {\n  noop,\n  coerceTruthyValueToArray,\n  isEqual,\n  isEmpty,\n  valueEquals\n} from '../../src/utils/util'\n\nconst { keys: KeyCode } = AriaUtils\nconst DefaultProps = {\n  expandTrigger: 'click', // or hover\n  multiple: false,\n  checkStrictly: false, // whether all nodes can be selected\n  emitPath: true, // wether to emit an array of all levels value in which node is located\n  lazy: false,\n  lazyLoad: noop,\n  value: 'value',\n  label: 'label',\n  children: 'children',\n  leaf: 'leaf',\n  disabled: 'disabled',\n  hoverThreshold: 500\n}\n\nconst isLeaf = (el) => !el.getAttribute('aria-owns')\n\nconst getSibling = (el, distance) => {\n  const { parentNode } = el\n  if (parentNode) {\n    const siblings = parentNode.querySelectorAll(\n      '.el-cascader-node[tabindex=\"-1\"]'\n    )\n    const index = Array.prototype.indexOf.call(siblings, el)\n    return siblings[index + distance] || null\n  }\n  return null\n}\n\nconst getMenuIndex = (el) => {\n  if (!el) return\n  const pieces = el.id.split('-')\n  return Number(pieces[pieces.length - 2])\n}\n\nconst focusNode = (el) => {\n  if (!el) return\n  el.focus()\n  !isLeaf(el) && el.click()\n}\n\nconst checkNode = (el) => {\n  if (!el) return\n\n  const input = el.querySelector('input')\n  if (input) {\n    input.click()\n  } else if (isLeaf(el)) {\n    el.click()\n  }\n}\n\nexport default {\n  name: 'ElCascaderPanel',\n\n  components: {\n    CascaderMenu\n  },\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'close',\n    'active-item-change',\n    'expand-change'\n  ],\n\n  props: {\n    modelValue: {\n      type: Object,\n      default: () => {}\n    },\n    options: Array,\n    props: Object,\n    border: {\n      type: Boolean,\n      default: true\n    },\n    renderLabel: Function,\n    computePresentText: Function\n  },\n\n  provide() {\n    return {\n      panel: this\n    }\n  },\n\n  setup(props, { slots, emit }) {\n    const menuRef = ref([])\n    const activePath = ref([])\n    const checkedNodePaths = ref([])\n    const loadCount = ref(0)\n    const checkedValue = ref(null)\n\n    const { props: realProps, options, renderLabel, modelValue } = toRefs(props)\n\n    const renderLabelFn = computed(() => renderLabel?.value || slots?.default)\n\n    const {\n      config,\n      multiple,\n      checkStrictly,\n      leafOnly,\n      isHoverMenu\n    } = useConfig(realProps)\n\n    let state = reactive({\n      store: null,\n      menus: null\n    })\n    const lazyLoad = (node, onFulfilled) => {\n      if (!node) {\n        node = { root: true, level: 0 }\n        state.store = new Store([], config.value)\n        state.menus = [state.store.getNodes()]\n      }\n      node.loading = true\n      const resolve = (dataList) => {\n        const parent = node.root ? null : node\n        dataList && dataList.length && state.store.appendNodes(dataList, parent)\n        node.loading = false\n        node.loaded = true\n\n        // dispose default value on lazy load mode\n        if (Array.isArray(checkedValue.value)) {\n          const nodeValue = checkedValue.value[loadCount.value++]\n          const valueKey = config.value.value\n          const leafKey = config.value.leaf\n\n          if (\n            Array.isArray(dataList) &&\n            dataList.filter((item) => item[valueKey] === nodeValue).length > 0\n          ) {\n            const checkedNode = state.store.getNodeByValue(nodeValue)\n\n            if (!checkedNode.data[leafKey]) {\n              lazyLoad(checkedNode, () => {\n                handleExpand(checkedNode)\n              })\n            }\n\n            if (loadCount.value === checkedValue.value.length) {\n              props.computePresentText()\n            }\n          }\n        }\n\n        onFulfilled && onFulfilled(dataList)\n      }\n      config.value.lazyLoad(node, resolve)\n    }\n\n    const getFlattedNodes = (leafOnly) => {\n      const cached = !config.value.lazy\n      return state.store.getFlattedNodes(leafOnly, cached)\n    }\n    const { handleExpand, expandNodes, handleKeyDown } = useExpendMethods({\n      menuRef,\n      activePath,\n      state,\n      emit\n    })\n    const syncActivePath = () => {\n      if (!isEmpty(activePath.value)) {\n        const nodes = activePath.value.map((node) =>\n          state.store.getNodeByValue(node.getValue())\n        )\n        expandNodes(nodes)\n      } else if (!isEmpty(checkedValue.value)) {\n        const value = multiple.value\n          ? checkedValue.value[0]\n          : checkedValue.value\n        const checkedNode = state.store.getNodeByValue(value) || {}\n        const nodes = (checkedNode.pathNodes || []).slice(0, -1)\n        expandNodes(nodes)\n      } else {\n        activePath.value = []\n        state.menus = [state.store.getNodes()]\n      }\n    }\n    const changedScrollIntoView = () => {\n      const menus = menuRef.value || []\n      menus.forEach((menu) => {\n        const menuElement = menu.$el\n        if (menuElement) {\n          const container = menuElement.querySelector('.el-scrollbar__wrap')\n          const activeNode =\n            menuElement.querySelector('.el-cascader-node.is-active') ||\n            menuElement.querySelector('.el-cascader-node.in-active-path')\n          scrollIntoView(container, activeNode)\n        }\n      })\n    }\n    const {\n      syncMenuState,\n      clearCheckedNodes,\n      syncCheckedValue,\n      getCheckedNodes,\n      calculateCheckedNodePaths,\n      calculateMultiCheckedValue\n    } = useCheckedMethods({\n      state,\n      config,\n      leafOnly,\n      modelValue,\n      multiple,\n      checkedValue,\n      checkedNodePaths,\n      syncActivePath,\n      scrollIntoView: changedScrollIntoView,\n      getFlattedNodes\n    })\n    const handleCheckChange = (value) => {\n      checkedValue.value = value\n    }\n    onMounted(() => {\n      if (!isEmpty(modelValue?.value)) {\n        syncCheckedValue()\n      }\n    })\n    onBeforeUpdate(() => {\n      menuRef.value = []\n    })\n\n    watch(\n      options,\n      () => {\n        if (config.value.lazy && isEmpty(options.value)) {\n          lazyLoad()\n        } else {\n          state.store = new Store(options.value, config.value)\n          state.menus = [state.store.getNodes()]\n          syncMenuState()\n        }\n      },\n      {\n        immediate: true,\n        deep: true\n      }\n    )\n    watch(modelValue, () => {\n      syncCheckedValue()\n      checkStrictly.value && calculateCheckedNodePaths()\n    })\n    watch(checkedValue, (val) => {\n      if (!isEqual(val, modelValue?.value)) {\n        checkStrictly.value && calculateCheckedNodePaths()\n        emit('update:modelValue', val)\n        emit('change', val)\n      }\n    })\n\n    return {\n      // state\n      // ref\n      menuRef,\n      // data\n      checkedValue,\n      activePath,\n      checkedNodePaths,\n      menus: toRefs(state).menus,\n      // computed\n      config,\n      multiple,\n      checkStrictly,\n      leafOnly,\n      isHoverMenu,\n      // methods\n      getNodeByValue(val) {\n        return state.store.getNodeByValue(val)\n      },\n      lazyLoad,\n      getCheckedNodes,\n      getFlattedNodes,\n      handleCheckChange,\n      handleExpand,\n      renderLabelFn,\n      handleKeyDown,\n      clearCheckedNodes,\n      calculateMultiCheckedValue,\n      scrollIntoView: changedScrollIntoView\n    }\n  }\n}\n\nconst useConfig = (props) => {\n  const config = computed(() => merge({ ...DefaultProps }, props?.value))\n  const multiple = computed(() => config.value.multiple)\n  const checkStrictly = computed(() => config.value.checkStrictly)\n  const leafOnly = computed(() => !checkStrictly.value)\n  const isHoverMenu = computed(() => config.value.expandTrigger === 'trigger')\n\n  return {\n    config,\n    multiple,\n    checkStrictly,\n    leafOnly,\n    isHoverMenu\n  }\n}\n\nconst useExpendMethods = ({ menuRef, activePath, state, emit }) => {\n  const handleExpand = (node, silent) => {\n    const activePathValue = activePath.value\n    const { level } = node\n    const path = activePathValue.slice(0, level - 1)\n    const internalMenus = [...state.menus].slice(0, level)\n\n    if (!node.isLeaf) {\n      path.push(node)\n      internalMenus.push(node.children)\n    }\n\n    activePath.value = path\n    state.menus = internalMenus\n\n    if (!silent) {\n      const pathValues = path.map((node) => node.getValue())\n      const activePathValues = activePath.value.map((node) => node.getValue())\n      if (!valueEquals(pathValues, activePathValues)) {\n        emit('active-item-change', pathValues)\n        emit('expand-change', pathValues)\n      }\n    }\n  }\n  const expandNodes = (nodes) => {\n    nodes.forEach((node) => handleExpand(node, true))\n  }\n  const handleKeyDown = ({ target, keyCode }) => {\n    const prev = getSibling(target, -1)\n    const next = getSibling(target, 1)\n    const preMenu = menuRef.value[getMenuIndex(target) - 1]\n    const nextMenu = menuRef.value[getMenuIndex(target) + 1]\n\n    switch (keyCode) {\n      case KeyCode.up:\n        focusNode(prev)\n        break\n      case KeyCode.down:\n        focusNode(next)\n        break\n      case KeyCode.left:\n        if (preMenu) {\n          const expandedNode = preMenu.$el.querySelector(\n            '.el-cascader-node[aria-expanded=\"true\"]'\n          )\n          focusNode(expandedNode)\n        }\n        break\n      case KeyCode.right:\n        if (nextMenu) {\n          const firstNode = nextMenu.$el.querySelector(\n            '.el-cascader-node[tabindex=\"-1\"]'\n          )\n          focusNode(firstNode)\n        }\n        break\n      case KeyCode.enter:\n        checkNode(target)\n        break\n      case KeyCode.esc:\n      case KeyCode.tab:\n        emit('close')\n        break\n      default:\n        return\n    }\n  }\n\n  return {\n    handleExpand,\n    expandNodes,\n    handleKeyDown\n  }\n}\n\nconst useCheckedMethods = ({\n  state,\n  config,\n  leafOnly,\n  modelValue,\n  checkedValue,\n  checkedNodePaths,\n  syncActivePath,\n  scrollIntoView,\n  getFlattedNodes\n}) => {\n  const syncMultiCheckState = () => {\n    const nodes = getFlattedNodes(leafOnly.value)\n\n    nodes.forEach((node) => {\n      node.syncCheckState(checkedValue.value)\n    })\n  }\n  const syncMenuState = async () => {\n    syncActivePath()\n    config.value.multiple && syncMultiCheckState()\n    config.value.checkStrictly && calculateCheckedNodePaths()\n    await nextTick(scrollIntoView)\n  }\n  const syncCheckedValue = () => {\n    if (!isEqual(modelValue.value, checkedValue.value)) {\n      checkedValue.value = modelValue.value\n      syncMenuState()\n    }\n  }\n  const calculateCheckedNodePaths = () => {\n    const checkedValues = config.value.multiple\n      ? coerceTruthyValueToArray(checkedValue.value)\n      : [checkedValue.value]\n    checkedNodePaths.value = checkedValues.map((v) => {\n      return state.store.getNodeByValue(v)?.pathNodes || []\n    })\n  }\n  const getCheckedNodes = (leafOnly) => {\n    if (config.value.multiple) {\n      const nodes = getFlattedNodes(leafOnly)\n      return nodes.filter((node) => node.checked)\n    } else {\n      return isEmpty(checkedValue.value)\n        ? []\n        : [state.store.getNodeByValue(checkedValue.value)]\n    }\n  }\n  const calculateMultiCheckedValue = () => {\n    checkedValue.value = getCheckedNodes(leafOnly.value).map((node) =>\n      node.getValueByOption()\n    )\n  }\n  const clearCheckedNodes = () => {\n    if (config.value.multiple) {\n      getCheckedNodes(leafOnly.value)\n        .filter((node) => !node.isDisabled)\n        .forEach((node) => node.doCheck(false))\n      calculateMultiCheckedValue()\n    } else {\n      checkedValue.value = config.value.emitPath ? [] : null\n    }\n  }\n\n  return {\n    syncMenuState,\n    getCheckedNodes,\n    syncCheckedValue,\n    clearCheckedNodes,\n    calculateCheckedNodePaths,\n    calculateMultiCheckedValue\n  }\n}\n</script>\n","import CascaderPanel from './CascaderPanel'\n\n/* istanbul ignore next */\nCascaderPanel.install = function (app) {\n  app.component(CascaderPanel.name, CascaderPanel)\n}\n\nexport default CascaderPanel\n","<template>\n  <div\n    ref=\"reference\"\n    :class=\"[\n      'el-cascader',\n      realSize && `el-cascader--${realSize}`,\n      { 'is-disabled': isDisabled }\n    ]\"\n    v-clickoutside=\"() => toggleDropDownVisible(false)\"\n    @mouseenter=\"inputState.hover = true\"\n    @mouseleave=\"inputState.hover = false\"\n    @click=\"() => toggleDropDownVisible(readonly ? undefined : true)\"\n    @keydown=\"handleKeyDown\"\n  >\n    <el-input\n      ref=\"input\"\n      v-model=\"internalValue\"\n      :size=\"realSize\"\n      :placeholder=\"placeholder\"\n      :readonly=\"readonly\"\n      :disabled=\"isDisabled\"\n      :validate-event=\"false\"\n      :class=\"{ 'is-focus': dropDownVisible }\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @input=\"handleInput\"\n    >\n      <template #suffix>\n        <i\n          v-if=\"clearBtnVisible\"\n          class=\"el-input__icon el-icon-circle-close\"\n          @click.stop=\"handleClear\"\n        ></i>\n        <i\n          v-else\n          :class=\"[\n            'el-input__icon',\n            'el-icon-arrow-down',\n            dropDownVisible && 'is-reverse'\n          ]\"\n          @click.stop=\"toggleDropDownVisible(undefined)\"\n        ></i>\n      </template>\n    </el-input>\n\n    <div v-if=\"multiple\" class=\"el-cascader__tags\">\n      <el-tag\n        v-for=\"(tag, index) in presentState.tags\"\n        :key=\"tag.key\"\n        type=\"info\"\n        :size=\"tagSize\"\n        :hit=\"tag.hitState\"\n        :closable=\"tag.closable\"\n        disable-transitions\n        @close=\"deleteTag(index)\"\n      >\n        <span>{{ tag.text }}</span>\n      </el-tag>\n      <input\n        v-if=\"filterable && !isDisabled\"\n        v-model.trim=\"inputState.value\"\n        type=\"text\"\n        class=\"el-cascader__search-input\"\n        :placeholder=\"presentState.tags.length ? '' : placeholder\"\n        @input=\"(e) => handleInput(inputState.value, e)\"\n        @click.stop=\"toggleDropDownVisible(true)\"\n        @keydown.delete=\"handleDelete\"\n      />\n    </div>\n\n    <transition name=\"el-zoom-in-top\" @after-leave=\"handleDropdownLeave\">\n      <div\n        v-show=\"dropDownVisible\"\n        ref=\"popper\"\n        :class=\"['el-popper', 'el-cascader__dropdown', popperClass]\"\n      >\n        <el-cascader-panel\n          ref=\"panel\"\n          v-show=\"!filtering\"\n          v-model=\"checkedState.value\"\n          :options=\"options\"\n          :props=\"config\"\n          :border=\"false\"\n          :render-label=\"$slots.default\"\n          @expand-change=\"handleExpandChange\"\n          @close=\"toggleDropDownVisible(false)\"\n          :computePresentText=\"computePresentText\"\n        ></el-cascader-panel>\n        <el-scrollbar\n          ref=\"suggestionPanel\"\n          v-if=\"filterable\"\n          v-show=\"filtering\"\n          tag=\"ul\"\n          class=\"el-cascader__suggestion-panel\"\n          view-class=\"el-cascader__suggestion-list\"\n          @keydown=\"handleSuggestionKeyDown\"\n        >\n          <template v-if=\"suggestions.length\">\n            <li\n              v-for=\"(item, index) in suggestions\"\n              :key=\"item.uid\"\n              :class=\"[\n                'el-cascader__suggestion-item',\n                item.checked && 'is-checked'\n              ]\"\n              :tabindex=\"-1\"\n              @click=\"handleSuggestionClick(index)\"\n            >\n              <span>{{ item.text }}</span>\n              <i v-if=\"item.checked\" class=\"el-icon-check\"></i>\n            </li>\n          </template>\n          <slot v-else name=\"empty\">\n            <li class=\"el-cascader__empty-text\">\n              {{ t('el.cascader.noMatch') }}\n            </li>\n          </slot>\n        </el-scrollbar>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  reactive,\n  ref,\n  toRefs,\n  watch,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport Popper from '../../src/utils/vue-popper'\nimport { useEmitter } from '../../src/use/emitter'\nimport { migrating } from '../../src/use/migrating'\nimport Clickoutside from '../../src/directives/clickoutside'\nimport { ElInput } from '../../src/components/Input'\nimport { ElTag } from '../../src/components/Tag'\nimport ElScrollbar from '../scrollbar'\nimport ElCascaderPanel from '../cascader-panel'\nimport AriaUtils from '../../src/utils/aria-utils'\nimport { t } from '../../src/locale'\nimport { isEqual, isEmpty, kebabCase } from '../../src/utils/util'\nimport { isDef } from '../../src/utils/shared'\nimport { useLocale } from '../../src/use/locale'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../src/utils/resize-event'\nimport { debounce } from 'throttle-debounce'\n\nconst { keys: KeyCode } = AriaUtils\nconst MigratingProps = {\n  expandTrigger: {\n    newProp: 'expandTrigger',\n    type: String\n  },\n  changeOnSelect: {\n    newProp: 'checkStrictly',\n    type: Boolean\n  },\n  hoverThreshold: {\n    newProp: 'hoverThreshold',\n    type: Number\n  }\n}\n\nconst PopperMixin = {\n  props: {\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    appendToBody: Popper.props.appendToBody,\n    visibleArrow: {\n      type: Boolean,\n      default: true\n    },\n    arrowOffset: Popper.props.arrowOffset,\n    offset: Popper.props.offset,\n    boundariesPadding: Popper.props.boundariesPadding,\n    popperOptions: Popper.props.popperOptions\n  },\n  methods: Popper.methods,\n  data: Popper.data,\n  beforeUnmount: Popper.beforeUnmount\n}\n\nconst InputSizeMap = {\n  medium: 36,\n  small: 32,\n  mini: 28\n}\n\nexport default {\n  name: 'ElCascader',\n\n  directives: { Clickoutside },\n\n  components: {\n    ElInput,\n    ElTag,\n    ElScrollbar,\n    ElCascaderPanel\n  },\n\n  mixins: [PopperMixin],\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'expand-change',\n    'active-item-change',\n    'visible-change',\n    'focus',\n    'blur',\n    'created',\n    'remove-tag'\n  ],\n  props: {\n    modelValue: {},\n    options: {\n      type: Array,\n      default: () => []\n    },\n    props: Object,\n    size: String,\n    placeholder: {\n      type: String,\n      default: () => t('el.cascader.placeholder')\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    clearable: Boolean,\n    filterable: Boolean,\n    filterMethod: {\n      type: Function,\n      default: undefined\n    },\n    separator: {\n      type: String,\n      default: ' / '\n    },\n    showAllLevels: {\n      type: Boolean,\n      default: true\n    },\n    collapseTags: Boolean,\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    beforeFilter: {\n      type: Function,\n      default: () => () => {}\n    },\n    popperClass: String\n  },\n\n  setup(props, { emit, attrs }) {\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter()\n    const {\n      props: realProps,\n      modelValue,\n      options,\n      filterable,\n      size,\n      disabled,\n      clearable,\n      filterMethod,\n      showAllLevels,\n      separator,\n      collapseTags,\n      debounce: debounceProp,\n      beforeFilter\n    } = toRefs(props)\n    const t = useLocale()\n\n    migrating({\n      'expand-trigger':\n        'expand-trigger is removed, use `props.expandTrigger` instead.',\n      'change-on-select':\n        'change-on-select is removed, use `props.checkStrictly` instead.',\n      'hover-threshold':\n        'hover-threshold is removed, use `props.hoverThreshold` instead',\n      'active-item-change': 'active-item-change is renamed to expand-change'\n    })\n\n    const panel = ref(null)\n    const input = ref(null)\n    const popper = ref(null)\n    const suggestionPanel = ref(null)\n\n    const filterHandler = ref(null)\n    const filtering = ref(false)\n    const pressDeleteCount = ref(0)\n\n    const inputState = reactive({\n      hover: false,\n      value: null,\n      initialHeight: 0\n    })\n    const checkedState = reactive({\n      value: modelValue?.value || null,\n      nodes: []\n    })\n\n    const elForm = inject('elForm', {})\n    const elFormItem = inject('elFormItem', {})\n\n    const isDisabled = computed(() => disabled.value || elForm?.disabled)\n\n    const { dropDownVisible, toggleDropDownVisible } = useDropdownVisible({\n      input,\n      panel,\n      isDisabled,\n      emit\n    })\n    const { config, multiple, leafOnly, readonly, checkStrictly } = useConfig({\n      props: realProps,\n      attrs,\n      filterable\n    })\n    const {\n      presentState,\n      computePresentText,\n      computePresentContent\n    } = usePresent({\n      panel,\n      checkedState,\n      checkStrictly,\n      isDisabled,\n      leafOnly,\n      showAllLevels,\n      separator,\n      collapseTags,\n      multiple\n    })\n    const {\n      suggestions,\n      getSuggestions,\n      handleSuggestionClick\n    } = useSuggestion({\n      panel,\n      inputState,\n      presentState,\n      checkedState,\n      filterMethod,\n      filtering,\n      multiple,\n      leafOnly,\n      showAllLevels,\n      separator,\n      toggleDropDownVisible\n    })\n    const { realSize, tagSize } = useSize({ size, elFormItem })\n\n    const internalValue = computed({\n      get() {\n        return multiple?.value ? presentState.text : inputState.value\n      },\n      set(v) {\n        multiple?.value ? (presentState.text = v) : (inputState.value = v)\n      }\n    })\n    const clearBtnVisible = computed(() => {\n      if (\n        !clearable.value ||\n        isDisabled.value ||\n        filtering.value ||\n        !inputState.hover\n      ) {\n        return false\n      }\n\n      return multiple?.value\n        ? !!checkedState.nodes.filter((node) => !node.isDisabled).length\n        : !!presentState.text\n    })\n\n    const handleFocus = (e) => {\n      emit('focus', e)\n    }\n    const handleBlur = (e) => {\n      emit('blur', e)\n    }\n    const focusFirstNode = () => {\n      nextTick(() => {\n        let firstNode = null\n\n        if (filtering.value && suggestionPanel.value) {\n          firstNode = suggestionPanel.value.$el.querySelector(\n            '.el-cascader__suggestion-item'\n          )\n        } else {\n          const firstMenu = popper.value.querySelector('.el-cascader-menu')\n          firstNode = firstMenu.querySelector(\n            '.el-cascader-node[tabindex=\"-1\"]'\n          )\n        }\n\n        if (firstNode) {\n          firstNode.focus()\n          !filtering.value && firstNode.click()\n        }\n      })\n    }\n    const handleInput = (val, event) => {\n      !dropDownVisible.value && toggleDropDownVisible(true)\n\n      if (event && event.isComposing) return\n      if (val) {\n        filterHandler.value?.()\n      } else {\n        filtering.value = false\n      }\n    }\n    const handleDropdownLeave = () => {\n      filtering.value = false\n      inputState.value = presentState.text\n    }\n    const handleClear = () => {\n      presentState.text = ''\n      panel.value.clearCheckedNodes()\n    }\n    const handleDelete = () => {\n      const lastIndex = presentState.tags.length - 1\n      const lastTag = presentState.tags[lastIndex]\n      pressDeleteCount.value = inputState.value ? 0 : pressDeleteCount.value++\n\n      if (!lastTag) return\n\n      if (pressDeleteCount.value) {\n        if (lastTag.hitState) {\n          deleteTag(lastIndex)\n        } else {\n          lastTag.hitState = true\n        }\n      }\n    }\n    const handleExpandChange = (value) => {\n      nextTick(instance.proxy.updatePopper.bind(instance.proxy))\n      emit('expand-change', value)\n      emit('active-item-change', value)\n    }\n    const handleKeyDown = (event) => {\n      switch (event.keyCode) {\n        case KeyCode.enter:\n          toggleDropDownVisible()\n          break\n        case KeyCode.down:\n          toggleDropDownVisible(true)\n          focusFirstNode()\n          event.preventDefault()\n          break\n        case KeyCode.esc:\n        case KeyCode.tab:\n          toggleDropDownVisible(false)\n          break\n      }\n    }\n    const handleSuggestionKeyDown = (event) => {\n      const { keyCode, target } = event\n      const prev = target.previousElementSibling\n      const next = target.nextElementSibling\n      switch (keyCode) {\n        case KeyCode.enter:\n          target.click()\n          break\n        case KeyCode.up:\n          prev && prev.focus()\n          break\n        case KeyCode.down:\n          next && next.focus()\n          break\n        case KeyCode.esc:\n        case KeyCode.tab:\n          toggleDropDownVisible(false)\n          break\n      }\n    }\n    const updateStyle = () => {\n      const { $el } = instance.proxy\n      if (!$el) return\n\n      const inputInner = $el.querySelector('.el-input__inner')\n\n      if (!inputInner) return\n\n      const tags = $el.querySelector('.el-cascader__tags')\n      let suggestionPanelEl = null\n\n      if (\n        suggestionPanel.value &&\n        (suggestionPanelEl = suggestionPanel.value.$el)\n      ) {\n        const suggestionList = suggestionPanelEl.querySelector(\n          '.el-cascader__suggestion-list'\n        )\n        suggestionList.style.minWidth = inputInner.offsetWidth + 'px'\n      }\n\n      if (tags) {\n        nextTick(() => {\n          const { offsetHeight } = tags\n          inputInner.style.height =\n            Math.max(offsetHeight + 6, inputState.initialHeight) + 'px'\n          instance.proxy.updatePopper()\n        })\n      }\n    }\n    const deleteTag = (index) => {\n      const val = checkedState.value[index]\n      checkedState.value = checkedState.value.filter((item, i) => i !== index)\n      emit('remove-tag', val)\n    }\n\n    onMounted(() => {\n      if (input?.value?.$el) {\n        inputState.initialHeight =\n          input.value.$el.offsetHeight || InputSizeMap[realSize.value] || 40\n      }\n\n      if (!isEmpty(modelValue?.value)) {\n        computePresentContent()\n      }\n\n      filterHandler.value = debounce(debounceProp, () => {\n        if (!inputState.value) {\n          filtering.value = false\n          return\n        }\n\n        const before = beforeFilter.value(inputState.value)\n\n        if (before?.then) {\n          before.then(getSuggestions)\n        } else if (before !== false) {\n          getSuggestions()\n        } else {\n          filtering.value = false\n        }\n      })\n\n      addResizeListener(instance.proxy.$el, updateStyle)\n    })\n    onUnmounted(() => {\n      removeResizeListener(instance.proxy.$el, updateStyle)\n    })\n\n    watch(disabled, () => {\n      computePresentContent()\n    })\n    if (modelValue) {\n      watch(modelValue, (val) => {\n        if (!isEqual(val, checkedState.value)) {\n          checkedState.value = val\n          computePresentContent()\n        }\n      })\n    }\n    watch(\n      () => checkedState.value,\n      (val) => {\n        if (!isEqual(val, modelValue?.value) || modelValue?.value === void 0) {\n          computePresentContent()\n          // hide dropdown when single mode\n          if (\n            !multiple?.value &&\n            !checkStrictly.value &&\n            dropDownVisible.value\n          ) {\n            toggleDropDownVisible(false)\n          }\n\n          emit('update:modelValue', val)\n          emit('change', val)\n          dispatch('ElFormItem', 'el.form.change', [val])\n        }\n      }\n    )\n    watch(\n      options,\n      () => {\n        nextTick(computePresentContent)\n      },\n      {\n        deep: true\n      }\n    )\n    watch(presentState, (value) => {\n      inputState.value = value.text\n      if (multiple?.value && (value.tags.length || presentState.tags.length)) {\n        nextTick(updateStyle)\n      }\n    })\n    watch(filtering, () => {\n      nextTick(instance.proxy.updatePopper)\n    })\n\n    return {\n      // state\n      // ref\n      panel,\n      input,\n      popper,\n      suggestionPanel,\n      // data\n      inputState,\n      checkedState,\n      presentState,\n      suggestions,\n      filtering,\n      dropDownVisible,\n      // computed\n      internalValue,\n      clearBtnVisible,\n      config,\n      multiple,\n      readonly,\n      isDisabled,\n      realSize,\n      tagSize,\n      // methods\n      t,\n      deleteTag,\n      handleFocus,\n      handleBlur,\n      handleInput,\n      handleDropdownLeave,\n      handleClear,\n      handleDelete,\n      handleExpandChange,\n      handleKeyDown,\n      handleSuggestionKeyDown,\n      handleSuggestionClick,\n      computePresentText,\n      toggleDropDownVisible,\n      getCheckedNodes(leafOnly) {\n        return panel?.value?.getCheckedNodes(leafOnly)\n      }\n    }\n  }\n}\n\nconst useSize = ({ size, elFormItem }) => {\n  const { proxy } = getCurrentInstance()\n  const realSize = computed(() => {\n    const _elFormItemSize = elFormItem?.elFormItemSize\n    return size?.value || _elFormItemSize || proxy.$ELEMENT?.size\n  })\n  const tagSize = computed(() => {\n    return ['small', 'mini'].indexOf(realSize.value) > -1 ? 'mini' : 'small'\n  })\n\n  return {\n    realSize,\n    tagSize\n  }\n}\n\nconst useConfig = ({ props, attrs, filterable }) => {\n  const config = computed(() => {\n    const config = props?.value || {}\n\n    Object.keys(MigratingProps).forEach((oldProp) => {\n      const { newProp, type } = MigratingProps[oldProp]\n      let oldValue = attrs[oldProp] || attrs[kebabCase(oldProp)]\n      if (isDef(oldProp) && !isDef(config[newProp])) {\n        if (type === Boolean && oldValue === '') {\n          oldValue = true\n        }\n        config[newProp] = oldValue\n      }\n    })\n\n    return config\n  })\n  const multiple = computed(() => config.value.multiple)\n  const checkStrictly = computed(() => config.value.checkStrictly)\n  const leafOnly = computed(() => !checkStrictly.value)\n  const readonly = computed(() => !filterable.value || multiple?.value)\n\n  return {\n    config,\n    checkStrictly,\n    multiple,\n    leafOnly,\n    readonly\n  }\n}\n\nconst useDropdownVisible = ({ input, panel, isDisabled, emit }) => {\n  const instance = getCurrentInstance()\n  const dropDownVisible = ref(false)\n\n  const toggleDropDownVisible = (visible) => {\n    if (isDisabled.value) return\n\n    visible = isDef(visible) ? visible : !dropDownVisible.value\n    if (visible !== dropDownVisible.value) {\n      dropDownVisible.value = visible\n      if (visible) {\n        nextTick(() => {\n          instance.proxy.updatePopper()\n          panel.value.scrollIntoView()\n        })\n      }\n      input?.value.$refs.input.setAttribute('aria-expanded', visible)\n      emit('visible-change', visible)\n    }\n  }\n\n  return {\n    dropDownVisible,\n    toggleDropDownVisible\n  }\n}\n\nconst useSuggestion = ({\n  panel,\n  inputState,\n  presentState,\n  checkedState,\n  filterMethod,\n  filtering,\n  multiple,\n  leafOnly,\n  showAllLevels,\n  separator,\n  toggleDropDownVisible\n}) => {\n  const instance = getCurrentInstance()\n  const suggestions = ref([])\n  const getSuggestions = () => {\n    let internalFilterMethod = filterMethod.value\n    if (!(internalFilterMethod instanceof Function)) {\n      internalFilterMethod = (node, keyword) => node.text.includes(keyword)\n    }\n\n    const internalSuggestions = panel.value\n      .getFlattedNodes(leafOnly.value)\n      .filter((node) => {\n        if (node.isDisabled) return false\n        node.text = node.getText(showAllLevels.value, separator.value) || ''\n        return internalFilterMethod(node, inputState.value)\n      })\n\n    if (multiple) {\n      presentState.tags.forEach((tag) => {\n        tag.hitState = false\n      })\n    } else {\n      internalSuggestions.forEach((node) => {\n        node.checked = isEqual(checkedState.value, node.getValueByOption())\n      })\n    }\n\n    filtering.value = true\n    suggestions.value = internalSuggestions\n    nextTick(instance.proxy.updatePopper)\n  }\n  const handleSuggestionClick = (index) => {\n    const targetNode = suggestions.value[index]\n\n    if (multiple?.value) {\n      const { checked } = targetNode\n      targetNode.doCheck(!checked)\n      panel.value.calculateMultiCheckedValue()\n    } else {\n      checkedState.value = targetNode.getValueByOption()\n      toggleDropDownVisible(false)\n    }\n  }\n\n  return {\n    suggestions,\n    getSuggestions,\n    handleSuggestionClick\n  }\n}\n\nconst usePresent = ({\n  panel,\n  checkedState,\n  checkStrictly,\n  isDisabled,\n  leafOnly,\n  showAllLevels,\n  separator,\n  collapseTags,\n  multiple\n}) => {\n  const presentState = reactive({\n    text: null,\n    tags: []\n  })\n\n  const computePresentTags = () => {\n    const checkedNodes = panel.value.getCheckedNodes(leafOnly.value)\n    const tags = []\n\n    const genTag = (node) => ({\n      node,\n      key: node.uid,\n      text: node.getText(showAllLevels.value, separator.value),\n      hitState: false,\n      closable: !isDisabled.value && !node.isDisabled\n    })\n\n    if (checkedNodes.length) {\n      const [first, ...rest] = checkedNodes\n      const restCount = rest.length\n      tags.push(genTag(first))\n\n      if (restCount) {\n        if (collapseTags.value) {\n          tags.push({\n            key: -1,\n            text: `+ ${restCount}`,\n            closable: false\n          })\n        } else {\n          rest.forEach((node) => tags.push(genTag(node)))\n        }\n      }\n    }\n\n    checkedState.nodes = checkedNodes\n    presentState.tags = tags\n  }\n  const computePresentText = () => {\n    if (!isEmpty(checkedState.value)) {\n      const node = panel.value.getNodeByValue(checkedState.value)\n      if (node && (checkStrictly.value || node.isLeaf)) {\n        presentState.text = node.getText(showAllLevels.value, separator.value)\n        return\n      }\n    }\n    presentState.text = null\n  }\n  const computePresentContent = () => {\n    // nextTick is required, because checked nodes may not change right now\n    nextTick(() => {\n      if (multiple?.value) {\n        computePresentTags()\n        presentState.text = presentState.tags.length ? ' ' : null\n      } else {\n        computePresentText()\n      }\n    })\n  }\n\n  return {\n    presentState,\n    computePresentContent,\n    computePresentText,\n    computePresentTags\n  }\n}\n</script>\n","<template>\n  <div\n    ref=\"reference\"\n    :class=\"[\n      'el-cascader',\n      realSize && `el-cascader--${realSize}`,\n      { 'is-disabled': isDisabled }\n    ]\"\n    v-clickoutside=\"() => toggleDropDownVisible(false)\"\n    @mouseenter=\"inputState.hover = true\"\n    @mouseleave=\"inputState.hover = false\"\n    @click=\"() => toggleDropDownVisible(readonly ? undefined : true)\"\n    @keydown=\"handleKeyDown\"\n  >\n    <el-input\n      ref=\"input\"\n      v-model=\"internalValue\"\n      :size=\"realSize\"\n      :placeholder=\"placeholder\"\n      :readonly=\"readonly\"\n      :disabled=\"isDisabled\"\n      :validate-event=\"false\"\n      :class=\"{ 'is-focus': dropDownVisible }\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @input=\"handleInput\"\n    >\n      <template #suffix>\n        <i\n          v-if=\"clearBtnVisible\"\n          class=\"el-input__icon el-icon-circle-close\"\n          @click.stop=\"handleClear\"\n        ></i>\n        <i\n          v-else\n          :class=\"[\n            'el-input__icon',\n            'el-icon-arrow-down',\n            dropDownVisible && 'is-reverse'\n          ]\"\n          @click.stop=\"toggleDropDownVisible(undefined)\"\n        ></i>\n      </template>\n    </el-input>\n\n    <div v-if=\"multiple\" class=\"el-cascader__tags\">\n      <el-tag\n        v-for=\"(tag, index) in presentState.tags\"\n        :key=\"tag.key\"\n        type=\"info\"\n        :size=\"tagSize\"\n        :hit=\"tag.hitState\"\n        :closable=\"tag.closable\"\n        disable-transitions\n        @close=\"deleteTag(index)\"\n      >\n        <span>{{ tag.text }}</span>\n      </el-tag>\n      <input\n        v-if=\"filterable && !isDisabled\"\n        v-model.trim=\"inputState.value\"\n        type=\"text\"\n        class=\"el-cascader__search-input\"\n        :placeholder=\"presentState.tags.length ? '' : placeholder\"\n        @input=\"(e) => handleInput(inputState.value, e)\"\n        @click.stop=\"toggleDropDownVisible(true)\"\n        @keydown.delete=\"handleDelete\"\n      />\n    </div>\n\n    <transition name=\"el-zoom-in-top\" @after-leave=\"handleDropdownLeave\">\n      <div\n        v-show=\"dropDownVisible\"\n        ref=\"popper\"\n        :class=\"['el-popper', 'el-cascader__dropdown', popperClass]\"\n      >\n        <el-cascader-panel\n          ref=\"panel\"\n          v-show=\"!filtering\"\n          v-model=\"checkedState.value\"\n          :options=\"options\"\n          :props=\"config\"\n          :border=\"false\"\n          :render-label=\"$slots.default\"\n          @expand-change=\"handleExpandChange\"\n          @close=\"toggleDropDownVisible(false)\"\n          :computePresentText=\"computePresentText\"\n        ></el-cascader-panel>\n        <el-scrollbar\n          ref=\"suggestionPanel\"\n          v-if=\"filterable\"\n          v-show=\"filtering\"\n          tag=\"ul\"\n          class=\"el-cascader__suggestion-panel\"\n          view-class=\"el-cascader__suggestion-list\"\n          @keydown=\"handleSuggestionKeyDown\"\n        >\n          <template v-if=\"suggestions.length\">\n            <li\n              v-for=\"(item, index) in suggestions\"\n              :key=\"item.uid\"\n              :class=\"[\n                'el-cascader__suggestion-item',\n                item.checked && 'is-checked'\n              ]\"\n              :tabindex=\"-1\"\n              @click=\"handleSuggestionClick(index)\"\n            >\n              <span>{{ item.text }}</span>\n              <i v-if=\"item.checked\" class=\"el-icon-check\"></i>\n            </li>\n          </template>\n          <slot v-else name=\"empty\">\n            <li class=\"el-cascader__empty-text\">\n              {{ t('el.cascader.noMatch') }}\n            </li>\n          </slot>\n        </el-scrollbar>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  reactive,\n  ref,\n  toRefs,\n  watch,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport Popper from '../../src/utils/vue-popper'\nimport { useEmitter } from '../../src/use/emitter'\nimport { migrating } from '../../src/use/migrating'\nimport Clickoutside from '../../src/directives/clickoutside'\nimport { ElInput } from '../../src/components/Input'\nimport { ElTag } from '../../src/components/Tag'\nimport ElScrollbar from '../scrollbar'\nimport ElCascaderPanel from '../cascader-panel'\nimport AriaUtils from '../../src/utils/aria-utils'\nimport { t } from '../../src/locale'\nimport { isEqual, isEmpty, kebabCase } from '../../src/utils/util'\nimport { isDef } from '../../src/utils/shared'\nimport { useLocale } from '../../src/use/locale'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../src/utils/resize-event'\nimport { debounce } from 'throttle-debounce'\n\nconst { keys: KeyCode } = AriaUtils\nconst MigratingProps = {\n  expandTrigger: {\n    newProp: 'expandTrigger',\n    type: String\n  },\n  changeOnSelect: {\n    newProp: 'checkStrictly',\n    type: Boolean\n  },\n  hoverThreshold: {\n    newProp: 'hoverThreshold',\n    type: Number\n  }\n}\n\nconst PopperMixin = {\n  props: {\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    appendToBody: Popper.props.appendToBody,\n    visibleArrow: {\n      type: Boolean,\n      default: true\n    },\n    arrowOffset: Popper.props.arrowOffset,\n    offset: Popper.props.offset,\n    boundariesPadding: Popper.props.boundariesPadding,\n    popperOptions: Popper.props.popperOptions\n  },\n  methods: Popper.methods,\n  data: Popper.data,\n  beforeUnmount: Popper.beforeUnmount\n}\n\nconst InputSizeMap = {\n  medium: 36,\n  small: 32,\n  mini: 28\n}\n\nexport default {\n  name: 'ElCascader',\n\n  directives: { Clickoutside },\n\n  components: {\n    ElInput,\n    ElTag,\n    ElScrollbar,\n    ElCascaderPanel\n  },\n\n  mixins: [PopperMixin],\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'expand-change',\n    'active-item-change',\n    'visible-change',\n    'focus',\n    'blur',\n    'created',\n    'remove-tag'\n  ],\n  props: {\n    modelValue: {},\n    options: {\n      type: Array,\n      default: () => []\n    },\n    props: Object,\n    size: String,\n    placeholder: {\n      type: String,\n      default: () => t('el.cascader.placeholder')\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    clearable: Boolean,\n    filterable: Boolean,\n    filterMethod: {\n      type: Function,\n      default: undefined\n    },\n    separator: {\n      type: String,\n      default: ' / '\n    },\n    showAllLevels: {\n      type: Boolean,\n      default: true\n    },\n    collapseTags: Boolean,\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    beforeFilter: {\n      type: Function,\n      default: () => () => {}\n    },\n    popperClass: String\n  },\n\n  setup(props, { emit, attrs }) {\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter()\n    const {\n      props: realProps,\n      modelValue,\n      options,\n      filterable,\n      size,\n      disabled,\n      clearable,\n      filterMethod,\n      showAllLevels,\n      separator,\n      collapseTags,\n      debounce: debounceProp,\n      beforeFilter\n    } = toRefs(props)\n    const t = useLocale()\n\n    migrating({\n      'expand-trigger':\n        'expand-trigger is removed, use `props.expandTrigger` instead.',\n      'change-on-select':\n        'change-on-select is removed, use `props.checkStrictly` instead.',\n      'hover-threshold':\n        'hover-threshold is removed, use `props.hoverThreshold` instead',\n      'active-item-change': 'active-item-change is renamed to expand-change'\n    })\n\n    const panel = ref(null)\n    const input = ref(null)\n    const popper = ref(null)\n    const suggestionPanel = ref(null)\n\n    const filterHandler = ref(null)\n    const filtering = ref(false)\n    const pressDeleteCount = ref(0)\n\n    const inputState = reactive({\n      hover: false,\n      value: null,\n      initialHeight: 0\n    })\n    const checkedState = reactive({\n      value: modelValue?.value || null,\n      nodes: []\n    })\n\n    const elForm = inject('elForm', {})\n    const elFormItem = inject('elFormItem', {})\n\n    const isDisabled = computed(() => disabled.value || elForm?.disabled)\n\n    const { dropDownVisible, toggleDropDownVisible } = useDropdownVisible({\n      input,\n      panel,\n      isDisabled,\n      emit\n    })\n    const { config, multiple, leafOnly, readonly, checkStrictly } = useConfig({\n      props: realProps,\n      attrs,\n      filterable\n    })\n    const {\n      presentState,\n      computePresentText,\n      computePresentContent\n    } = usePresent({\n      panel,\n      checkedState,\n      checkStrictly,\n      isDisabled,\n      leafOnly,\n      showAllLevels,\n      separator,\n      collapseTags,\n      multiple\n    })\n    const {\n      suggestions,\n      getSuggestions,\n      handleSuggestionClick\n    } = useSuggestion({\n      panel,\n      inputState,\n      presentState,\n      checkedState,\n      filterMethod,\n      filtering,\n      multiple,\n      leafOnly,\n      showAllLevels,\n      separator,\n      toggleDropDownVisible\n    })\n    const { realSize, tagSize } = useSize({ size, elFormItem })\n\n    const internalValue = computed({\n      get() {\n        return multiple?.value ? presentState.text : inputState.value\n      },\n      set(v) {\n        multiple?.value ? (presentState.text = v) : (inputState.value = v)\n      }\n    })\n    const clearBtnVisible = computed(() => {\n      if (\n        !clearable.value ||\n        isDisabled.value ||\n        filtering.value ||\n        !inputState.hover\n      ) {\n        return false\n      }\n\n      return multiple?.value\n        ? !!checkedState.nodes.filter((node) => !node.isDisabled).length\n        : !!presentState.text\n    })\n\n    const handleFocus = (e) => {\n      emit('focus', e)\n    }\n    const handleBlur = (e) => {\n      emit('blur', e)\n    }\n    const focusFirstNode = () => {\n      nextTick(() => {\n        let firstNode = null\n\n        if (filtering.value && suggestionPanel.value) {\n          firstNode = suggestionPanel.value.$el.querySelector(\n            '.el-cascader__suggestion-item'\n          )\n        } else {\n          const firstMenu = popper.value.querySelector('.el-cascader-menu')\n          firstNode = firstMenu.querySelector(\n            '.el-cascader-node[tabindex=\"-1\"]'\n          )\n        }\n\n        if (firstNode) {\n          firstNode.focus()\n          !filtering.value && firstNode.click()\n        }\n      })\n    }\n    const handleInput = (val, event) => {\n      !dropDownVisible.value && toggleDropDownVisible(true)\n\n      if (event && event.isComposing) return\n      if (val) {\n        filterHandler.value?.()\n      } else {\n        filtering.value = false\n      }\n    }\n    const handleDropdownLeave = () => {\n      filtering.value = false\n      inputState.value = presentState.text\n    }\n    const handleClear = () => {\n      presentState.text = ''\n      panel.value.clearCheckedNodes()\n    }\n    const handleDelete = () => {\n      const lastIndex = presentState.tags.length - 1\n      const lastTag = presentState.tags[lastIndex]\n      pressDeleteCount.value = inputState.value ? 0 : pressDeleteCount.value++\n\n      if (!lastTag) return\n\n      if (pressDeleteCount.value) {\n        if (lastTag.hitState) {\n          deleteTag(lastIndex)\n        } else {\n          lastTag.hitState = true\n        }\n      }\n    }\n    const handleExpandChange = (value) => {\n      nextTick(instance.proxy.updatePopper.bind(instance.proxy))\n      emit('expand-change', value)\n      emit('active-item-change', value)\n    }\n    const handleKeyDown = (event) => {\n      switch (event.keyCode) {\n        case KeyCode.enter:\n          toggleDropDownVisible()\n          break\n        case KeyCode.down:\n          toggleDropDownVisible(true)\n          focusFirstNode()\n          event.preventDefault()\n          break\n        case KeyCode.esc:\n        case KeyCode.tab:\n          toggleDropDownVisible(false)\n          break\n      }\n    }\n    const handleSuggestionKeyDown = (event) => {\n      const { keyCode, target } = event\n      const prev = target.previousElementSibling\n      const next = target.nextElementSibling\n      switch (keyCode) {\n        case KeyCode.enter:\n          target.click()\n          break\n        case KeyCode.up:\n          prev && prev.focus()\n          break\n        case KeyCode.down:\n          next && next.focus()\n          break\n        case KeyCode.esc:\n        case KeyCode.tab:\n          toggleDropDownVisible(false)\n          break\n      }\n    }\n    const updateStyle = () => {\n      const { $el } = instance.proxy\n      if (!$el) return\n\n      const inputInner = $el.querySelector('.el-input__inner')\n\n      if (!inputInner) return\n\n      const tags = $el.querySelector('.el-cascader__tags')\n      let suggestionPanelEl = null\n\n      if (\n        suggestionPanel.value &&\n        (suggestionPanelEl = suggestionPanel.value.$el)\n      ) {\n        const suggestionList = suggestionPanelEl.querySelector(\n          '.el-cascader__suggestion-list'\n        )\n        suggestionList.style.minWidth = inputInner.offsetWidth + 'px'\n      }\n\n      if (tags) {\n        nextTick(() => {\n          const { offsetHeight } = tags\n          inputInner.style.height =\n            Math.max(offsetHeight + 6, inputState.initialHeight) + 'px'\n          instance.proxy.updatePopper()\n        })\n      }\n    }\n    const deleteTag = (index) => {\n      const val = checkedState.value[index]\n      checkedState.value = checkedState.value.filter((item, i) => i !== index)\n      emit('remove-tag', val)\n    }\n\n    onMounted(() => {\n      if (input?.value?.$el) {\n        inputState.initialHeight =\n          input.value.$el.offsetHeight || InputSizeMap[realSize.value] || 40\n      }\n\n      if (!isEmpty(modelValue?.value)) {\n        computePresentContent()\n      }\n\n      filterHandler.value = debounce(debounceProp, () => {\n        if (!inputState.value) {\n          filtering.value = false\n          return\n        }\n\n        const before = beforeFilter.value(inputState.value)\n\n        if (before?.then) {\n          before.then(getSuggestions)\n        } else if (before !== false) {\n          getSuggestions()\n        } else {\n          filtering.value = false\n        }\n      })\n\n      addResizeListener(instance.proxy.$el, updateStyle)\n    })\n    onUnmounted(() => {\n      removeResizeListener(instance.proxy.$el, updateStyle)\n    })\n\n    watch(disabled, () => {\n      computePresentContent()\n    })\n    if (modelValue) {\n      watch(modelValue, (val) => {\n        if (!isEqual(val, checkedState.value)) {\n          checkedState.value = val\n          computePresentContent()\n        }\n      })\n    }\n    watch(\n      () => checkedState.value,\n      (val) => {\n        if (!isEqual(val, modelValue?.value) || modelValue?.value === void 0) {\n          computePresentContent()\n          // hide dropdown when single mode\n          if (\n            !multiple?.value &&\n            !checkStrictly.value &&\n            dropDownVisible.value\n          ) {\n            toggleDropDownVisible(false)\n          }\n\n          emit('update:modelValue', val)\n          emit('change', val)\n          dispatch('ElFormItem', 'el.form.change', [val])\n        }\n      }\n    )\n    watch(\n      options,\n      () => {\n        nextTick(computePresentContent)\n      },\n      {\n        deep: true\n      }\n    )\n    watch(presentState, (value) => {\n      inputState.value = value.text\n      if (multiple?.value && (value.tags.length || presentState.tags.length)) {\n        nextTick(updateStyle)\n      }\n    })\n    watch(filtering, () => {\n      nextTick(instance.proxy.updatePopper)\n    })\n\n    return {\n      // state\n      // ref\n      panel,\n      input,\n      popper,\n      suggestionPanel,\n      // data\n      inputState,\n      checkedState,\n      presentState,\n      suggestions,\n      filtering,\n      dropDownVisible,\n      // computed\n      internalValue,\n      clearBtnVisible,\n      config,\n      multiple,\n      readonly,\n      isDisabled,\n      realSize,\n      tagSize,\n      // methods\n      t,\n      deleteTag,\n      handleFocus,\n      handleBlur,\n      handleInput,\n      handleDropdownLeave,\n      handleClear,\n      handleDelete,\n      handleExpandChange,\n      handleKeyDown,\n      handleSuggestionKeyDown,\n      handleSuggestionClick,\n      computePresentText,\n      toggleDropDownVisible,\n      getCheckedNodes(leafOnly) {\n        return panel?.value?.getCheckedNodes(leafOnly)\n      }\n    }\n  }\n}\n\nconst useSize = ({ size, elFormItem }) => {\n  const { proxy } = getCurrentInstance()\n  const realSize = computed(() => {\n    const _elFormItemSize = elFormItem?.elFormItemSize\n    return size?.value || _elFormItemSize || proxy.$ELEMENT?.size\n  })\n  const tagSize = computed(() => {\n    return ['small', 'mini'].indexOf(realSize.value) > -1 ? 'mini' : 'small'\n  })\n\n  return {\n    realSize,\n    tagSize\n  }\n}\n\nconst useConfig = ({ props, attrs, filterable }) => {\n  const config = computed(() => {\n    const config = props?.value || {}\n\n    Object.keys(MigratingProps).forEach((oldProp) => {\n      const { newProp, type } = MigratingProps[oldProp]\n      let oldValue = attrs[oldProp] || attrs[kebabCase(oldProp)]\n      if (isDef(oldProp) && !isDef(config[newProp])) {\n        if (type === Boolean && oldValue === '') {\n          oldValue = true\n        }\n        config[newProp] = oldValue\n      }\n    })\n\n    return config\n  })\n  const multiple = computed(() => config.value.multiple)\n  const checkStrictly = computed(() => config.value.checkStrictly)\n  const leafOnly = computed(() => !checkStrictly.value)\n  const readonly = computed(() => !filterable.value || multiple?.value)\n\n  return {\n    config,\n    checkStrictly,\n    multiple,\n    leafOnly,\n    readonly\n  }\n}\n\nconst useDropdownVisible = ({ input, panel, isDisabled, emit }) => {\n  const instance = getCurrentInstance()\n  const dropDownVisible = ref(false)\n\n  const toggleDropDownVisible = (visible) => {\n    if (isDisabled.value) return\n\n    visible = isDef(visible) ? visible : !dropDownVisible.value\n    if (visible !== dropDownVisible.value) {\n      dropDownVisible.value = visible\n      if (visible) {\n        nextTick(() => {\n          instance.proxy.updatePopper()\n          panel.value.scrollIntoView()\n        })\n      }\n      input?.value.$refs.input.setAttribute('aria-expanded', visible)\n      emit('visible-change', visible)\n    }\n  }\n\n  return {\n    dropDownVisible,\n    toggleDropDownVisible\n  }\n}\n\nconst useSuggestion = ({\n  panel,\n  inputState,\n  presentState,\n  checkedState,\n  filterMethod,\n  filtering,\n  multiple,\n  leafOnly,\n  showAllLevels,\n  separator,\n  toggleDropDownVisible\n}) => {\n  const instance = getCurrentInstance()\n  const suggestions = ref([])\n  const getSuggestions = () => {\n    let internalFilterMethod = filterMethod.value\n    if (!(internalFilterMethod instanceof Function)) {\n      internalFilterMethod = (node, keyword) => node.text.includes(keyword)\n    }\n\n    const internalSuggestions = panel.value\n      .getFlattedNodes(leafOnly.value)\n      .filter((node) => {\n        if (node.isDisabled) return false\n        node.text = node.getText(showAllLevels.value, separator.value) || ''\n        return internalFilterMethod(node, inputState.value)\n      })\n\n    if (multiple) {\n      presentState.tags.forEach((tag) => {\n        tag.hitState = false\n      })\n    } else {\n      internalSuggestions.forEach((node) => {\n        node.checked = isEqual(checkedState.value, node.getValueByOption())\n      })\n    }\n\n    filtering.value = true\n    suggestions.value = internalSuggestions\n    nextTick(instance.proxy.updatePopper)\n  }\n  const handleSuggestionClick = (index) => {\n    const targetNode = suggestions.value[index]\n\n    if (multiple?.value) {\n      const { checked } = targetNode\n      targetNode.doCheck(!checked)\n      panel.value.calculateMultiCheckedValue()\n    } else {\n      checkedState.value = targetNode.getValueByOption()\n      toggleDropDownVisible(false)\n    }\n  }\n\n  return {\n    suggestions,\n    getSuggestions,\n    handleSuggestionClick\n  }\n}\n\nconst usePresent = ({\n  panel,\n  checkedState,\n  checkStrictly,\n  isDisabled,\n  leafOnly,\n  showAllLevels,\n  separator,\n  collapseTags,\n  multiple\n}) => {\n  const presentState = reactive({\n    text: null,\n    tags: []\n  })\n\n  const computePresentTags = () => {\n    const checkedNodes = panel.value.getCheckedNodes(leafOnly.value)\n    const tags = []\n\n    const genTag = (node) => ({\n      node,\n      key: node.uid,\n      text: node.getText(showAllLevels.value, separator.value),\n      hitState: false,\n      closable: !isDisabled.value && !node.isDisabled\n    })\n\n    if (checkedNodes.length) {\n      const [first, ...rest] = checkedNodes\n      const restCount = rest.length\n      tags.push(genTag(first))\n\n      if (restCount) {\n        if (collapseTags.value) {\n          tags.push({\n            key: -1,\n            text: `+ ${restCount}`,\n            closable: false\n          })\n        } else {\n          rest.forEach((node) => tags.push(genTag(node)))\n        }\n      }\n    }\n\n    checkedState.nodes = checkedNodes\n    presentState.tags = tags\n  }\n  const computePresentText = () => {\n    if (!isEmpty(checkedState.value)) {\n      const node = panel.value.getNodeByValue(checkedState.value)\n      if (node && (checkStrictly.value || node.isLeaf)) {\n        presentState.text = node.getText(showAllLevels.value, separator.value)\n        return\n      }\n    }\n    presentState.text = null\n  }\n  const computePresentContent = () => {\n    // nextTick is required, because checked nodes may not change right now\n    nextTick(() => {\n      if (multiple?.value) {\n        computePresentTags()\n        presentState.text = presentState.tags.length ? ' ' : null\n      } else {\n        computePresentText()\n      }\n    })\n  }\n\n  return {\n    presentState,\n    computePresentContent,\n    computePresentText,\n    computePresentTags\n  }\n}\n</script>\n","import Cascader from './Cascader'\n\n/* istanbul ignore next */\nCascader.install = function (app) {\n  app.component(Cascader.name, Cascader)\n}\n\nexport default Cascader\n","<template>\n  <span v-if=\"iconClass || text\" :class=\"classes\">\n    <i :class=\"[iconClass]\"></i>\n    <span v-if=\"!iconClass\">{{ text }}</span>\n  </span>\n</template>\n\n<script>\nimport { computed } from 'vue'\n\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: ''\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    text: {\n      type: String,\n      default: ''\n    },\n    iconClass: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const classes = useClasses(props)\n    return {\n      classes\n    }\n  }\n}\nconst useClasses = (props) => {\n  return computed(() => {\n    return [\n      'el-switch__label',\n      props && props.type ? `el-switch__label--${props && props.type}` : '',\n      {\n        'is-active': props && props.active\n      }\n    ]\n  })\n}\n</script>\n","<template>\n  <span v-if=\"iconClass || text\" :class=\"classes\">\n    <i :class=\"[iconClass]\"></i>\n    <span v-if=\"!iconClass\">{{ text }}</span>\n  </span>\n</template>\n\n<script>\nimport { computed } from 'vue'\n\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: ''\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    text: {\n      type: String,\n      default: ''\n    },\n    iconClass: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const classes = useClasses(props)\n    return {\n      classes\n    }\n  }\n}\nconst useClasses = (props) => {\n  return computed(() => {\n    return [\n      'el-switch__label',\n      props && props.type ? `el-switch__label--${props && props.type}` : '',\n      {\n        'is-active': props && props.active\n      }\n    ]\n  })\n}\n</script>\n","<template>\n  <div class=\"el-switch\" :class=\"classes\" @click.prevent=\"handleClick\">\n    <SwitchLabel\n      :active=\"!isChecked\"\n      type=\"left\"\n      :text=\"inactiveText\"\n      :iconClass=\"inactiveIconClass\"\n    ></SwitchLabel>\n\n    <span class=\"el-switch__core\" ref=\"core\" :style=\"coreStyle\"></span>\n\n    <SwitchLabel\n      :active=\"isChecked\"\n      type=\"right\"\n      :text=\"activeText\"\n      :iconClass=\"activeIconClass\"\n    ></SwitchLabel>\n  </div>\n</template>\n\n<script>\nimport { computed, toRefs, onMounted } from 'vue'\nimport SwitchLabel from './SwitchLabel.vue'\nexport default {\n  name: 'ElSwitch',\n  components: {\n    SwitchLabel\n  },\n  props: {\n    modelValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    activeValue: {\n      type: [Boolean, String, Number],\n      default: true\n    },\n    inactiveValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: Number,\n      default: 40\n    },\n    activeText: {\n      type: String,\n      default: ''\n    },\n    inactiveText: {\n      type: String,\n      default: ''\n    },\n    activeIconClass: {\n      type: String,\n      default: ''\n    },\n    inactiveIconClass: {\n      type: String,\n      default: ''\n    },\n    activeColor: {\n      type: String,\n      default: ''\n    },\n    inactiveColor: {\n      type: String,\n      default: ''\n    }\n  },\n  emits: ['update:modelValue', 'update:change'],\n  setup(props, { emit }) {\n    const {\n      activeValue,\n      inactiveValue,\n      modelValue,\n      disabled,\n      activeColor,\n      inactiveColor\n    } = toRefs(props)\n\n    useNormalizeModelValue({\n      modelValue,\n      activeValue,\n      inactiveValue,\n      emit\n    })\n\n    const isChecked = computed(() => {\n      return modelValue.value === activeValue.value\n    })\n\n    const backgroundColor = computed(() => {\n      return isChecked.value ? activeColor.value : inactiveColor.value\n    })\n\n    const { handleClick } = useClick({\n      isChecked,\n      inactiveValue,\n      activeValue,\n      disabled,\n      emit\n    })\n    const classes = useClasses({\n      disabled,\n      isChecked\n    })\n    const coreStyle = computed(() => {\n      const style = {\n        width: '',\n        background: '',\n        'border-color': ''\n      }\n      style.width = props.width + 'px'\n      style.background = backgroundColor.value\n      style['border-color'] = backgroundColor.value\n      return style\n    })\n    return {\n      isChecked,\n      handleClick,\n      classes,\n      coreStyle\n    }\n  }\n}\nconst useClasses = ({ disabled, isChecked }) => {\n  return computed(() => {\n    return [\n      {\n        'is-disabled': disabled.value,\n        'is-checked': isChecked.value\n      }\n    ]\n  })\n}\n\nconst useNormalizeModelValue = ({\n  modelValue,\n  activeValue,\n  inactiveValue,\n  emit\n}) => {\n  onMounted(() => {\n    if (\n      modelValue.value !== activeValue.value &&\n      modelValue.value !== inactiveValue.value\n    ) {\n      emit('update:modelValue', inactiveValue.value)\n    }\n  })\n}\n\nconst useClick = ({\n  isChecked,\n  inactiveValue,\n  activeValue,\n  disabled,\n  emit\n}) => {\n  const handleClick = () => {\n    if (disabled && disabled.value) return\n    const newValue =\n      isChecked && isChecked.value ? inactiveValue.value : activeValue.value\n    emit('update:modelValue', newValue)\n    emit('update:change', newValue)\n  }\n\n  return {\n    handleClick\n  }\n}\n</script>\n","<template>\n  <div class=\"el-switch\" :class=\"classes\" @click.prevent=\"handleClick\">\n    <SwitchLabel\n      :active=\"!isChecked\"\n      type=\"left\"\n      :text=\"inactiveText\"\n      :iconClass=\"inactiveIconClass\"\n    ></SwitchLabel>\n\n    <span class=\"el-switch__core\" ref=\"core\" :style=\"coreStyle\"></span>\n\n    <SwitchLabel\n      :active=\"isChecked\"\n      type=\"right\"\n      :text=\"activeText\"\n      :iconClass=\"activeIconClass\"\n    ></SwitchLabel>\n  </div>\n</template>\n\n<script>\nimport { computed, toRefs, onMounted } from 'vue'\nimport SwitchLabel from './SwitchLabel.vue'\nexport default {\n  name: 'ElSwitch',\n  components: {\n    SwitchLabel\n  },\n  props: {\n    modelValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    activeValue: {\n      type: [Boolean, String, Number],\n      default: true\n    },\n    inactiveValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: Number,\n      default: 40\n    },\n    activeText: {\n      type: String,\n      default: ''\n    },\n    inactiveText: {\n      type: String,\n      default: ''\n    },\n    activeIconClass: {\n      type: String,\n      default: ''\n    },\n    inactiveIconClass: {\n      type: String,\n      default: ''\n    },\n    activeColor: {\n      type: String,\n      default: ''\n    },\n    inactiveColor: {\n      type: String,\n      default: ''\n    }\n  },\n  emits: ['update:modelValue', 'update:change'],\n  setup(props, { emit }) {\n    const {\n      activeValue,\n      inactiveValue,\n      modelValue,\n      disabled,\n      activeColor,\n      inactiveColor\n    } = toRefs(props)\n\n    useNormalizeModelValue({\n      modelValue,\n      activeValue,\n      inactiveValue,\n      emit\n    })\n\n    const isChecked = computed(() => {\n      return modelValue.value === activeValue.value\n    })\n\n    const backgroundColor = computed(() => {\n      return isChecked.value ? activeColor.value : inactiveColor.value\n    })\n\n    const { handleClick } = useClick({\n      isChecked,\n      inactiveValue,\n      activeValue,\n      disabled,\n      emit\n    })\n    const classes = useClasses({\n      disabled,\n      isChecked\n    })\n    const coreStyle = computed(() => {\n      const style = {\n        width: '',\n        background: '',\n        'border-color': ''\n      }\n      style.width = props.width + 'px'\n      style.background = backgroundColor.value\n      style['border-color'] = backgroundColor.value\n      return style\n    })\n    return {\n      isChecked,\n      handleClick,\n      classes,\n      coreStyle\n    }\n  }\n}\nconst useClasses = ({ disabled, isChecked }) => {\n  return computed(() => {\n    return [\n      {\n        'is-disabled': disabled.value,\n        'is-checked': isChecked.value\n      }\n    ]\n  })\n}\n\nconst useNormalizeModelValue = ({\n  modelValue,\n  activeValue,\n  inactiveValue,\n  emit\n}) => {\n  onMounted(() => {\n    if (\n      modelValue.value !== activeValue.value &&\n      modelValue.value !== inactiveValue.value\n    ) {\n      emit('update:modelValue', inactiveValue.value)\n    }\n  })\n}\n\nconst useClick = ({\n  isChecked,\n  inactiveValue,\n  activeValue,\n  disabled,\n  emit\n}) => {\n  const handleClick = () => {\n    if (disabled && disabled.value) return\n    const newValue =\n      isChecked && isChecked.value ? inactiveValue.value : activeValue.value\n    emit('update:modelValue', newValue)\n    emit('update:change', newValue)\n  }\n\n  return {\n    handleClick\n  }\n}\n</script>\n","import ElSwitch from './src/Switch.vue'\n\n/* istanbul ignore next */\nElSwitch.install = function (app) {\n  app.component(ElSwitch.name, ElSwitch)\n}\n\nexport { ElSwitch }\n","import {\n  nextTick,\n  ref,\n  getCurrentInstance,\n  onBeforeUnmount,\n  watch,\n  toRefs\n} from 'vue'\nimport { PopupManager } from '../../src/utils/popup'\n\n// const PopperJS = require('element-ui/src/utils/popper')\nimport { Popper } from '../../src/utils/new-popper'\n// const PopperJS = Vue.prototype.$isServer ? function() {} : require('./popper')\nconst stop = (e) => e.stopPropagation()\n\n/**\n * @param {HTMLElement} [reference=$refs.reference] - The reference element used to position the popper.\n * @param {HTMLElement} [popper=$refs.popper] - The HTML element used as popper, or a configuration used to generate the popper.\n * @param {String} [placement=button] - Placement of the popper accepted values: top(-start, -end), right(-start, -end), bottom(-start, -end), left(-start, -end)\n * @param {Number} [offset=0] - Amount of pixels the popper will be shifted (can be negative).\n * @param {Boolean} [visible=false] Visibility of the popup element.\n * @param {Boolean} [visible-arrow=false] Visibility of the arrow, no style.\n */\n\nconst vuePopperProps = {\n  transformOrigin: {\n    type: [Boolean, String],\n    default: true\n  },\n  placement: {\n    type: String,\n    default: 'bottom'\n  },\n  boundariesPadding: {\n    type: Number,\n    default: 5\n  },\n  reference: {},\n  popper: {},\n  offset: {\n    default: 0\n  },\n  modelValue: Boolean,\n  visibleArrow: Boolean,\n  arrowOffset: {\n    type: Number,\n    default: 35\n  },\n  appendToBody: {\n    type: Boolean,\n    default: true\n  },\n  popperOptions: {\n    type: Object,\n    default() {\n      return {\n        gpuAcceleration: false\n      }\n    }\n  }\n}\n\nfunction useVuePopper(props, { emit, slots, referenceEl }) {\n  const {\n    transformOrigin,\n    placement,\n    reference,\n    popper,\n    offset,\n    modelValue,\n    visibleArrow,\n    arrowOffset,\n    appendToBody,\n    popperOptions,\n    disabled\n  } = toRefs(props)\n  const showPopper = ref(false)\n  const currentPlacement = ref('')\n  const popperElm = ref(null)\n  const popperJS = ref(null)\n  const instance = getCurrentInstance()\n\n  function createPopper() {\n    if (instance.proxy.$isServer) return\n    currentPlacement.value = currentPlacement.value || placement.value\n    if (\n      !/^(top|bottom|left|right)(-start|-end)?$/g.test(currentPlacement.value)\n    ) {\n      return\n    }\n    const options = popperOptions.value\n    const popperRef = (popperElm.value =\n      popperElm.value ||\n      (popper && popper.value) ||\n      instance.proxy.$refs.popper)\n\n    let referenceRef = (referenceEl.value =\n      referenceEl.value ||\n      (reference && reference.value) ||\n      instance.proxy.$refs.reference)\n\n    if (\n      !referenceRef &&\n      slots.reference &&\n      slots.reference() &&\n      slots.reference()[0]\n    ) {\n      referenceRef = referenceEl.value = slots.reference()[0].el\n    }\n\n    if (!popperRef || !referenceRef) return\n    if (visibleArrow.value) appendArrow(popperRef)\n    if (appendToBody.value) document.body.appendChild(popperElm.value)\n    if (popperJS.value && popperJS.value.destroy) {\n      popperJS.value.destroy()\n    }\n\n    options.placement = currentPlacement.value\n    options.offset = offset.value\n    options.arrowOffset = arrowOffset.value\n    popperJS.value = new Popper(referenceRef, popperRef, options)\n    popperJS.value.onCreate(() => {\n      emit('created', instance.proxy)\n      resetTransformOrigin()\n      nextTick(() => updatePopper())\n    })\n    if (typeof options.onUpdate === 'function') {\n      popperJS.value.onUpdate(options.onUpdate)\n    }\n    popperJS.value._popper.style.zIndex = PopupManager.nextZIndex()\n    popperElm.value.addEventListener('click', stop)\n  }\n\n  function updatePopper() {\n    const popperJSRef = popperJS.value\n    if (popperJSRef) {\n      popperJSRef.update()\n      if (popperJSRef._popper) {\n        popperJSRef._popper.style.zIndex = PopupManager.nextZIndex()\n      }\n    } else {\n      createPopper()\n    }\n  }\n\n  function doDestroy(forceDestroy) {\n    /* istanbul ignore if */\n    if (!popperJS.value || (showPopper.value && !forceDestroy)) return\n    popperJS.value.destroy()\n    popperJS.value = null\n  }\n\n  function destroyPopper() {\n    if (popperJS.value) {\n      resetTransformOrigin()\n    }\n  }\n\n  function resetTransformOrigin() {\n    if (!transformOrigin.value) return\n    const placementMap = {\n      top: 'bottom',\n      bottom: 'top',\n      left: 'right',\n      right: 'left'\n    }\n    const placement = popperJS.value._popper\n      .getAttribute('x-placement')\n      .split('-')[0]\n    const origin = placementMap[placement]\n    popperJS.value._popper.style.transformOrigin =\n      typeof transformOrigin.value === 'string'\n        ? transformOrigin.value\n        : ['top', 'bottom'].indexOf(placement) > -1\n        ? `center ${origin}`\n        : `${origin} center`\n  }\n\n  const appended = ref(false)\n  function appendArrow(element) {\n    let hash\n\n    if (appended.value) {\n      return\n    }\n\n    appended.value = true\n\n    for (const item in element.attributes) {\n      if (/^_v-/.test(element.attributes[item].name)) {\n        hash = element.attributes[item].name\n        break\n      }\n    }\n\n    const arrow = document.createElement('div')\n\n    if (hash) {\n      arrow.setAttribute(hash, '')\n    }\n    arrow.setAttribute('x-arrow', '')\n    arrow.className = 'popper__arrow'\n    element.appendChild(arrow)\n  }\n\n  watch(\n    modelValue,\n    (val) => {\n      showPopper.value = val\n      emit('update:modelValue', val)\n    },\n    {\n      immediate: true\n    }\n  )\n\n  watch(showPopper, (val) => {\n    if (disabled.value) return\n    val ? updatePopper() : destroyPopper()\n    emit('update:modelValue', val)\n  })\n\n  onBeforeUnmount(() => {\n    doDestroy(true)\n    if (popperElm.value && popperElm.value.parentNode === document.body) {\n      popperElm.value.removeEventListener('click', stop)\n      document.body.removeChild(popperElm.value)\n    }\n  })\n\n  return {\n    showPopper,\n    currentPlacement,\n    popperElm,\n    popperJS,\n    createPopper,\n    updatePopper,\n    doDestroy,\n    destroyPopper,\n    resetTransformOrigin,\n    appendArrow\n  }\n}\n\nexport { vuePopperProps, useVuePopper }\n","import { vuePopperProps, useVuePopper } from '../popover/vue-popper'\n\nimport { debounce } from 'throttle-debounce'\nimport { addClass, removeClass, on, off } from '../../src/utils/dom'\nimport { generateId } from '../../src/utils/util'\n// eslint-disable-next-line\nimport {\n  createApp,\n  ref,\n  watch,\n  onMounted,\n  onUnmounted,\n  getCurrentInstance,\n  Transition,\n  onBeforeMount\n} from 'vue'\n\nexport default {\n  name: 'ElTooltip',\n  emits: ['input', 'update:modelValue', 'created'],\n  props: {\n    ...vuePopperProps,\n    openDelay: {\n      type: Number,\n      default: 0\n    },\n    disabled: Boolean,\n    manual: Boolean,\n    effect: {\n      type: String,\n      default: 'dark'\n    },\n    arrowOffset: {\n      type: Number,\n      default: 0\n    },\n    popperClass: String,\n    content: {\n      type: String,\n      default: 'dark'\n    },\n    visibleArrow: {\n      default: true\n    },\n    transition: {\n      type: String,\n      default: 'el-fade-in-linear'\n    },\n    popperOptions: {\n      default() {\n        return {\n          boundariesPadding: 10,\n          gpuAcceleration: false\n        }\n      }\n    },\n    enterable: {\n      type: Boolean,\n      default: true\n    },\n    hideAfter: {\n      type: Number,\n      default: 0\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    }\n  },\n  beforeCreate() {\n    if (this.$isServer) return\n\n    this.popperVM = createApp({\n      data() {\n        return {\n          node: ''\n        }\n      },\n      render() {\n        return this.node\n      }\n    }).mount(document.createElement('div'))\n  },\n  setup(props, context) {\n    const timeoutPending = ref(null)\n    const timeout = ref(null)\n    const focusing = ref(false)\n    const expectedState = ref(false)\n    const referenceElm = ref(null)\n    const { emit, slots } = context\n    const {\n      modelValue,\n      openDelay,\n      disabled,\n      manual,\n      effect,\n      popperClass,\n      transition,\n      enterable,\n      hideAfter,\n      tabindex\n    } = props\n    const { showPopper, updatePopper, doDestroy } = useVuePopper(props, {\n      emit,\n      slots,\n      referenceEl: referenceElm\n    })\n\n    const instance = getCurrentInstance()\n    const tooltipId = `el-tooltip-${generateId()}`\n    const debounceClose = debounce(200, () => handleClosePopper())\n\n    const show = () => {\n      setExpectedState(true)\n      handleShowPopper()\n    }\n\n    const hide = () => {\n      setExpectedState(false)\n      debounceClose()\n    }\n\n    const handleFocus = () => {\n      focusing.value = true\n      show()\n    }\n\n    const handleBlur = () => {\n      focusing.value = false\n      hide()\n    }\n\n    const removeFocusing = () => {\n      focusing.value = false\n    }\n\n    const addTooltipClass = (prev) => {\n      if (!prev) {\n        return 'el-tooltip'\n      } else {\n        return 'el-tooltip ' + prev.replace('el-tooltip', '')\n      }\n    }\n\n    const handleShowPopper = () => {\n      if (!expectedState.value || manual) return\n      clearTimeout(timeout.value)\n      timeout.value = setTimeout(() => {\n        showPopper.value = true\n      }, openDelay)\n\n      if (hideAfter > 0) {\n        timeoutPending.value = setTimeout(() => {\n          showPopper.value = false\n        }, hideAfter)\n      }\n    }\n\n    const handleClosePopper = () => {\n      if ((enterable && expectedState.value) || manual) return\n      clearTimeout(timeout.value)\n\n      if (timeoutPending.value) {\n        clearTimeout(timeoutPending.value)\n      }\n      showPopper.value = false\n\n      if (disabled) {\n        doDestroy()\n      }\n    }\n\n    const setExpectedState = (state) => {\n      if (state === false) {\n        clearTimeout(timeoutPending.value)\n      }\n      expectedState.value = state\n    }\n\n    const getFirstElement = () => {\n      const slotsDefault = slots.default()\n      if (!Array.isArray(slotsDefault)) return null\n      let element = null\n      for (let index = 0; index < slotsDefault.length; index++) {\n        if (slotsDefault[index] && slotsDefault[index].type) {\n          element = slotsDefault[index]\n        }\n      }\n      return element\n    }\n\n    watch(focusing, (val) => {\n      if (val) {\n        addClass(referenceElm.value, 'focusing')\n      } else {\n        removeClass(referenceElm.value, 'focusing')\n      }\n    })\n    onMounted(() => {\n      referenceElm.value = instance.proxy.$el\n      if (referenceElm.value.nodeType === 1) {\n        referenceElm.value.setAttribute('aria-describedby', tooltipId)\n        referenceElm.value.setAttribute('tabindex', tabindex)\n        on(referenceElm.value, 'mouseenter', show)\n        on(referenceElm.value, 'mouseleave', hide)\n        on(referenceElm.value, 'focus', () => {\n          if (!slots.default || !slots.default().length) {\n            handleFocus()\n            return\n          }\n          const slotsProps = slots.default()[0].props\n\n          if (slotsProps && slotsProps.onFocus) {\n            slotsProps.onFocus()\n          } else {\n            handleFocus()\n          }\n        })\n        on(referenceElm.value, 'blur', handleBlur)\n        on(referenceElm.value, 'click', removeFocusing)\n      }\n      // fix issue https://github.com/ElemeFE/element/issues/14424\n      if (modelValue && instance.proxy.popperVM) {\n        instance.proxy.popperVM.$nextTick(() => {\n          if (modelValue) {\n            updatePopper()\n          }\n        })\n      }\n    })\n    onBeforeMount(() => {\n      instance.proxy.updatePopper = updatePopper\n    })\n    onUnmounted(() => {\n      const reference = referenceElm.value\n      if (reference.nodeType === 1) {\n        off(reference, 'mouseenter', show)\n        off(reference, 'mouseleave', hide)\n        off(reference, 'focus', handleFocus)\n        off(reference, 'blur', handleBlur)\n        off(reference, 'click', removeFocusing)\n      }\n    })\n\n    return () => {\n      if (instance.proxy.popperVM) {\n        instance.proxy.popperVM.node = (\n          <Transition name={transition} onAfterLeave={doDestroy}>\n            <div\n              onMouseleave={() => {\n                setExpectedState(false)\n                debounceClose()\n              }}\n              onMouseenter={() => {\n                setExpectedState(true)\n              }}\n              ref=\"popper\"\n              role=\"tooltip\"\n              id={tooltipId}\n              aria-hidden={disabled || !showPopper.value ? 'true' : 'false'}\n              v-show={!disabled && showPopper.value}\n              class={['el-tooltip__popper', 'is-' + effect, popperClass]}\n            >\n              {slots.content ? slots.content() : instance.proxy.content}\n            </div>\n          </Transition>\n        )\n      }\n\n      const firstElement = getFirstElement()\n      if (!firstElement) return null\n\n      const firstElementProps = (firstElement.props = firstElement.props || {})\n      firstElementProps.class = addTooltipClass(firstElementProps.class)\n\n      return firstElement\n    }\n  }\n}\n","import ElTooltip from './Tooltip'\n\n/* istanbul ignore next */\nElTooltip.install = function (app) {\n  app.component(ElTooltip.name, ElTooltip)\n}\n\nexport default ElTooltip\n","<template>\n  <div\n    class=\"el-slider__button-wrapper\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n    @mousedown=\"onButtonDown\"\n    @touchstart.passive=\"onButtonDown\"\n    :class=\"{ hover: hovering, dragging: dragging }\"\n    :style=\"wrapperStyle\"\n    ref=\"button\"\n    tabindex=\"0\"\n    @focus=\"handleMouseEnter\"\n    @blur=\"handleMouseLeave\"\n    @keydown.left=\"onLeftKeyDown\"\n    @keydown.right=\"onRightKeyDown\"\n    @keydown.down.prevent=\"onLeftKeyDown\"\n    @keydown.up.prevent=\"onRightKeyDown\"\n  >\n    <el-tooltip\n      placement=\"top\"\n      ref=\"tooltip\"\n      :popper-class=\"tooltipClass\"\n      :disabled=\"!showTooltip\"\n    >\n      <template v-slot:content>\n        <span>{{ formatValue }}</span>\n      </template>\n      <div\n        class=\"el-slider__button\"\n        :class=\"{ hover: hovering, dragging: dragging }\"\n      ></div>\n    </el-tooltip>\n  </div>\n</template>\n\n<script>\nimport ElTooltip from '../../tooltip'\nimport {\n  computed,\n  ref,\n  unref,\n  toRefs,\n  watch,\n  getCurrentInstance,\n  nextTick\n} from 'vue'\n\nexport default {\n  name: 'ElSliderButton',\n\n  components: {\n    ElTooltip\n  },\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: String\n  },\n  emits: ['update:modelValue'],\n  setup(props, { emit }) {\n    const tooltip = ref(null)\n\n    const { parent, proxy } = getCurrentInstance()\n\n    const { modelValue, vertical } = toRefs(props)\n\n    const { displayTooltip, hideTooltip } = useToolTip(proxy)\n\n    const { hovering, handleMouseEnter, handleMouseLeave } = useMouseHover(\n      displayTooltip,\n      hideTooltip\n    )\n\n    // computed\n    const {\n      disabled,\n      max,\n      min,\n      step,\n      showTooltip,\n      precision,\n      currentPosition,\n      enableFormat,\n      formatValue,\n      wrapperStyle\n    } = useComputed(modelValue, vertical)\n\n    const {\n      // data\n      dragging,\n      isClick,\n      startX,\n      currentX,\n      startY,\n      currentY,\n      startPosition,\n      newPosition,\n      oldValue,\n      // methods\n      onButtonDown,\n      onDragStart,\n      onDragging,\n      onDragEnd,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useDragAndKeyDown(\n      parent,\n      proxy,\n      emit,\n      modelValue,\n      vertical,\n      disabled,\n      step,\n      max,\n      min,\n      precision,\n      currentPosition,\n      displayTooltip,\n      hideTooltip\n    )\n\n    return {\n      // data\n      hovering,\n      dragging,\n      isClick,\n      startX,\n      currentX,\n      startY,\n      currentY,\n      startPosition,\n      newPosition,\n      oldValue,\n      // computed\n      disabled,\n      max,\n      min,\n      step,\n      showTooltip,\n      precision,\n      currentPosition,\n      enableFormat,\n      formatValue,\n      wrapperStyle,\n      // methods\n      setPosition,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onDragStart,\n      onDragging,\n      onDragEnd,\n      onLeftKeyDown,\n      onRightKeyDown,\n      // ref\n      tooltip\n    }\n  }\n}\n\nfunction useToolTip(proxy) {\n  function displayTooltip() {\n    proxy.tooltip && (proxy.tooltip.showPopper = true)\n  }\n\n  function hideTooltip() {\n    proxy.tooltip && (proxy.tooltip.showPopper = false)\n  }\n  return {\n    displayTooltip,\n    hideTooltip\n  }\n}\n\nfunction useMouseHover(displayTooltip, hideTooltip) {\n  const hovering = ref(false)\n  function handleMouseEnter() {\n    hovering.value = true\n    displayTooltip()\n  }\n\n  function handleMouseLeave() {\n    hovering.value = false\n    hideTooltip()\n  }\n  return { hovering, handleMouseEnter, handleMouseLeave }\n}\n\nfunction useDragAndKeyDown(\n  parent,\n  proxy,\n  emit,\n  modelValue,\n  vertical,\n  disabled,\n  step,\n  max,\n  min,\n  precision,\n  currentPosition,\n  displayTooltip,\n  hideTooltip\n) {\n  const { resetSize, emitChange } = parent.proxy\n\n  const dragging = ref(false)\n  const isClick = ref(false)\n  const startX = ref(0)\n  const currentX = ref(0)\n  const startY = ref(0)\n  const currentY = ref(0)\n  const startPosition = ref(0)\n  const newPosition = ref(null)\n  const oldValue = ref(unref(modelValue))\n  // watch\n  watch(dragging, (val) => (parent.proxy.dragging = val))\n\n  // eslint-disable-next-line\n  //#region drag methods: onButtonDown, onDragStart, onDragging, onDragEnd\n\n  function onButtonDown(event) {\n    if (unref(disabled)) return\n    event.preventDefault()\n    onDragStart(event)\n    window.addEventListener('mousemove', onDragging)\n    window.addEventListener('touchmove', onDragging)\n    window.addEventListener('mouseup', onDragEnd)\n    window.addEventListener('touchend', onDragEnd)\n    window.addEventListener('contextmenu', onDragEnd)\n  }\n\n  function onDragStart(event) {\n    dragging.value = true\n    isClick.value = true\n    if (event.type === 'touchstart') {\n      event.clientY = event.touches[0].clientY\n      event.clientX = event.touches[0].clientX\n    }\n    if (unref(vertical)) {\n      startY.value = event.clientY\n    } else {\n      startX.value = event.clientX\n    }\n    startPosition.value = parseFloat(unref(currentPosition))\n    newPosition.value = unref(startPosition)\n  }\n\n  function onDragging(event) {\n    if (unref(dragging)) {\n      isClick.value = false\n      displayTooltip()\n      resetSize()\n      let diff = 0\n      if (event.type === 'touchmove') {\n        event.clientY = event.touches[0].clientY\n        event.clientX = event.touches[0].clientX\n      }\n      if (unref(vertical)) {\n        currentY.value = event.clientY\n        diff = ((startY.value - currentY.value) / parent.proxy.sliderSize) * 100\n      } else {\n        currentX.value = event.clientX\n        diff = ((currentX.value - startX.value) / parent.proxy.sliderSize) * 100\n      }\n      newPosition.value = unref(startPosition) + diff\n      setPosition(unref(newPosition))\n    }\n  }\n\n  function onDragEnd() {\n    if (unref(dragging)) {\n      /*\n       * 防止在 mouseup 后立即触发 click，导致滑块有几率产生一小段位移\n       * 不使用 preventDefault 是因为 mouseup 和 click 没有注册在同一个 DOM 上\n       */\n      setTimeout(() => {\n        dragging.value = false\n        hideTooltip()\n        if (!isClick.value) {\n          setPosition(unref(newPosition))\n          emitChange()\n        }\n      }, 0)\n      window.removeEventListener('mousemove', onDragging)\n      window.removeEventListener('touchmove', onDragging)\n      window.removeEventListener('mouseup', onDragEnd)\n      window.removeEventListener('touchend', onDragEnd)\n      window.removeEventListener('contextmenu', onDragEnd)\n    }\n  }\n  // eslint-disable-next-line\n  //#endregion\n\n  // eslint-disable-next-line\n  //#region KeyDown methods: onLeftKeyDown, onRightKeyDown\n\n  function onLeftKeyDown() {\n    if (unref(disabled)) return\n    newPosition.value =\n      parseFloat(unref(currentPosition)) -\n      (unref(step) / (unref(max) - unref(min))) * 100\n    setPosition(unref(newPosition))\n    emitChange()\n  }\n  function onRightKeyDown() {\n    if (unref(disabled)) return\n    newPosition.value =\n      parseFloat(unref(currentPosition)) +\n      (unref(step) / (unref(max) - unref(min))) * 100\n    setPosition(unref(newPosition))\n    emitChange()\n  }\n\n  // eslint-disable-next-line\n  //#endregion\n\n  function setPosition(newPosition) {\n    if (newPosition === null || isNaN(newPosition)) return\n    if (newPosition < 0) {\n      newPosition = 0\n    } else if (newPosition > 100) {\n      newPosition = 100\n    }\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value)\n    const steps = Math.round(newPosition / lengthPerStep)\n    let value =\n      steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value\n    value = parseFloat(value.toFixed(precision.value))\n    emit('update:modelValue', value)\n    nextTick(() => {\n      //console.log(proxy.tooltip);\n      proxy.tooltip && proxy.tooltip.updatePopper()\n    })\n    if (!unref(dragging) && unref(modelValue) !== unref(oldValue)) {\n      oldValue.value = value\n    }\n  }\n\n  return {\n    dragging,\n    isClick,\n    startX,\n    currentX,\n    startY,\n    currentY,\n    startPosition,\n    newPosition,\n    oldValue,\n    // methods\n    setPosition,\n    onButtonDown,\n    onDragStart,\n    onDragging,\n    onDragEnd,\n    onLeftKeyDown,\n    onRightKeyDown\n  }\n}\n\nfunction useComputed(modelValue, vertical) {\n  const { parent } = getCurrentInstance()\n\n  const disabled = computed(() => parent.proxy.sliderDisabled)\n  const max = computed(() => parent.proxy.max)\n  const min = computed(() => parent.proxy.min)\n  const step = computed(() => parent.proxy.step)\n  const showTooltip = computed(() => parent.proxy.showTooltip)\n  const precision = computed(() => parent.proxy.precision)\n  const currentPosition = computed(\n    () =>\n      `${((unref(modelValue) - unref(min)) / (unref(max) - unref(min))) * 100}%`\n  )\n  const enableFormat = computed(\n    () => parent.proxy.formatTooltip instanceof Function\n  )\n  const formatValue = computed(\n    () =>\n      (unref(enableFormat) && parent.proxy.formatTooltip(unref(modelValue))) ||\n      unref(modelValue)\n  )\n  const wrapperStyle = computed(() =>\n    unref(vertical)\n      ? { bottom: unref(currentPosition) }\n      : { left: unref(currentPosition) }\n  )\n  return {\n    disabled,\n    max,\n    min,\n    step,\n    showTooltip,\n    precision,\n    currentPosition,\n    enableFormat,\n    formatValue,\n    wrapperStyle\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-slider__button-wrapper\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n    @mousedown=\"onButtonDown\"\n    @touchstart.passive=\"onButtonDown\"\n    :class=\"{ hover: hovering, dragging: dragging }\"\n    :style=\"wrapperStyle\"\n    ref=\"button\"\n    tabindex=\"0\"\n    @focus=\"handleMouseEnter\"\n    @blur=\"handleMouseLeave\"\n    @keydown.left=\"onLeftKeyDown\"\n    @keydown.right=\"onRightKeyDown\"\n    @keydown.down.prevent=\"onLeftKeyDown\"\n    @keydown.up.prevent=\"onRightKeyDown\"\n  >\n    <el-tooltip\n      placement=\"top\"\n      ref=\"tooltip\"\n      :popper-class=\"tooltipClass\"\n      :disabled=\"!showTooltip\"\n    >\n      <template v-slot:content>\n        <span>{{ formatValue }}</span>\n      </template>\n      <div\n        class=\"el-slider__button\"\n        :class=\"{ hover: hovering, dragging: dragging }\"\n      ></div>\n    </el-tooltip>\n  </div>\n</template>\n\n<script>\nimport ElTooltip from '../../tooltip'\nimport {\n  computed,\n  ref,\n  unref,\n  toRefs,\n  watch,\n  getCurrentInstance,\n  nextTick\n} from 'vue'\n\nexport default {\n  name: 'ElSliderButton',\n\n  components: {\n    ElTooltip\n  },\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: String\n  },\n  emits: ['update:modelValue'],\n  setup(props, { emit }) {\n    const tooltip = ref(null)\n\n    const { parent, proxy } = getCurrentInstance()\n\n    const { modelValue, vertical } = toRefs(props)\n\n    const { displayTooltip, hideTooltip } = useToolTip(proxy)\n\n    const { hovering, handleMouseEnter, handleMouseLeave } = useMouseHover(\n      displayTooltip,\n      hideTooltip\n    )\n\n    // computed\n    const {\n      disabled,\n      max,\n      min,\n      step,\n      showTooltip,\n      precision,\n      currentPosition,\n      enableFormat,\n      formatValue,\n      wrapperStyle\n    } = useComputed(modelValue, vertical)\n\n    const {\n      // data\n      dragging,\n      isClick,\n      startX,\n      currentX,\n      startY,\n      currentY,\n      startPosition,\n      newPosition,\n      oldValue,\n      // methods\n      onButtonDown,\n      onDragStart,\n      onDragging,\n      onDragEnd,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useDragAndKeyDown(\n      parent,\n      proxy,\n      emit,\n      modelValue,\n      vertical,\n      disabled,\n      step,\n      max,\n      min,\n      precision,\n      currentPosition,\n      displayTooltip,\n      hideTooltip\n    )\n\n    return {\n      // data\n      hovering,\n      dragging,\n      isClick,\n      startX,\n      currentX,\n      startY,\n      currentY,\n      startPosition,\n      newPosition,\n      oldValue,\n      // computed\n      disabled,\n      max,\n      min,\n      step,\n      showTooltip,\n      precision,\n      currentPosition,\n      enableFormat,\n      formatValue,\n      wrapperStyle,\n      // methods\n      setPosition,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onDragStart,\n      onDragging,\n      onDragEnd,\n      onLeftKeyDown,\n      onRightKeyDown,\n      // ref\n      tooltip\n    }\n  }\n}\n\nfunction useToolTip(proxy) {\n  function displayTooltip() {\n    proxy.tooltip && (proxy.tooltip.showPopper = true)\n  }\n\n  function hideTooltip() {\n    proxy.tooltip && (proxy.tooltip.showPopper = false)\n  }\n  return {\n    displayTooltip,\n    hideTooltip\n  }\n}\n\nfunction useMouseHover(displayTooltip, hideTooltip) {\n  const hovering = ref(false)\n  function handleMouseEnter() {\n    hovering.value = true\n    displayTooltip()\n  }\n\n  function handleMouseLeave() {\n    hovering.value = false\n    hideTooltip()\n  }\n  return { hovering, handleMouseEnter, handleMouseLeave }\n}\n\nfunction useDragAndKeyDown(\n  parent,\n  proxy,\n  emit,\n  modelValue,\n  vertical,\n  disabled,\n  step,\n  max,\n  min,\n  precision,\n  currentPosition,\n  displayTooltip,\n  hideTooltip\n) {\n  const { resetSize, emitChange } = parent.proxy\n\n  const dragging = ref(false)\n  const isClick = ref(false)\n  const startX = ref(0)\n  const currentX = ref(0)\n  const startY = ref(0)\n  const currentY = ref(0)\n  const startPosition = ref(0)\n  const newPosition = ref(null)\n  const oldValue = ref(unref(modelValue))\n  // watch\n  watch(dragging, (val) => (parent.proxy.dragging = val))\n\n  // eslint-disable-next-line\n  //#region drag methods: onButtonDown, onDragStart, onDragging, onDragEnd\n\n  function onButtonDown(event) {\n    if (unref(disabled)) return\n    event.preventDefault()\n    onDragStart(event)\n    window.addEventListener('mousemove', onDragging)\n    window.addEventListener('touchmove', onDragging)\n    window.addEventListener('mouseup', onDragEnd)\n    window.addEventListener('touchend', onDragEnd)\n    window.addEventListener('contextmenu', onDragEnd)\n  }\n\n  function onDragStart(event) {\n    dragging.value = true\n    isClick.value = true\n    if (event.type === 'touchstart') {\n      event.clientY = event.touches[0].clientY\n      event.clientX = event.touches[0].clientX\n    }\n    if (unref(vertical)) {\n      startY.value = event.clientY\n    } else {\n      startX.value = event.clientX\n    }\n    startPosition.value = parseFloat(unref(currentPosition))\n    newPosition.value = unref(startPosition)\n  }\n\n  function onDragging(event) {\n    if (unref(dragging)) {\n      isClick.value = false\n      displayTooltip()\n      resetSize()\n      let diff = 0\n      if (event.type === 'touchmove') {\n        event.clientY = event.touches[0].clientY\n        event.clientX = event.touches[0].clientX\n      }\n      if (unref(vertical)) {\n        currentY.value = event.clientY\n        diff = ((startY.value - currentY.value) / parent.proxy.sliderSize) * 100\n      } else {\n        currentX.value = event.clientX\n        diff = ((currentX.value - startX.value) / parent.proxy.sliderSize) * 100\n      }\n      newPosition.value = unref(startPosition) + diff\n      setPosition(unref(newPosition))\n    }\n  }\n\n  function onDragEnd() {\n    if (unref(dragging)) {\n      /*\n       * 防止在 mouseup 后立即触发 click，导致滑块有几率产生一小段位移\n       * 不使用 preventDefault 是因为 mouseup 和 click 没有注册在同一个 DOM 上\n       */\n      setTimeout(() => {\n        dragging.value = false\n        hideTooltip()\n        if (!isClick.value) {\n          setPosition(unref(newPosition))\n          emitChange()\n        }\n      }, 0)\n      window.removeEventListener('mousemove', onDragging)\n      window.removeEventListener('touchmove', onDragging)\n      window.removeEventListener('mouseup', onDragEnd)\n      window.removeEventListener('touchend', onDragEnd)\n      window.removeEventListener('contextmenu', onDragEnd)\n    }\n  }\n  // eslint-disable-next-line\n  //#endregion\n\n  // eslint-disable-next-line\n  //#region KeyDown methods: onLeftKeyDown, onRightKeyDown\n\n  function onLeftKeyDown() {\n    if (unref(disabled)) return\n    newPosition.value =\n      parseFloat(unref(currentPosition)) -\n      (unref(step) / (unref(max) - unref(min))) * 100\n    setPosition(unref(newPosition))\n    emitChange()\n  }\n  function onRightKeyDown() {\n    if (unref(disabled)) return\n    newPosition.value =\n      parseFloat(unref(currentPosition)) +\n      (unref(step) / (unref(max) - unref(min))) * 100\n    setPosition(unref(newPosition))\n    emitChange()\n  }\n\n  // eslint-disable-next-line\n  //#endregion\n\n  function setPosition(newPosition) {\n    if (newPosition === null || isNaN(newPosition)) return\n    if (newPosition < 0) {\n      newPosition = 0\n    } else if (newPosition > 100) {\n      newPosition = 100\n    }\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value)\n    const steps = Math.round(newPosition / lengthPerStep)\n    let value =\n      steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value\n    value = parseFloat(value.toFixed(precision.value))\n    emit('update:modelValue', value)\n    nextTick(() => {\n      //console.log(proxy.tooltip);\n      proxy.tooltip && proxy.tooltip.updatePopper()\n    })\n    if (!unref(dragging) && unref(modelValue) !== unref(oldValue)) {\n      oldValue.value = value\n    }\n  }\n\n  return {\n    dragging,\n    isClick,\n    startX,\n    currentX,\n    startY,\n    currentY,\n    startPosition,\n    newPosition,\n    oldValue,\n    // methods\n    setPosition,\n    onButtonDown,\n    onDragStart,\n    onDragging,\n    onDragEnd,\n    onLeftKeyDown,\n    onRightKeyDown\n  }\n}\n\nfunction useComputed(modelValue, vertical) {\n  const { parent } = getCurrentInstance()\n\n  const disabled = computed(() => parent.proxy.sliderDisabled)\n  const max = computed(() => parent.proxy.max)\n  const min = computed(() => parent.proxy.min)\n  const step = computed(() => parent.proxy.step)\n  const showTooltip = computed(() => parent.proxy.showTooltip)\n  const precision = computed(() => parent.proxy.precision)\n  const currentPosition = computed(\n    () =>\n      `${((unref(modelValue) - unref(min)) / (unref(max) - unref(min))) * 100}%`\n  )\n  const enableFormat = computed(\n    () => parent.proxy.formatTooltip instanceof Function\n  )\n  const formatValue = computed(\n    () =>\n      (unref(enableFormat) && parent.proxy.formatTooltip(unref(modelValue))) ||\n      unref(modelValue)\n  )\n  const wrapperStyle = computed(() =>\n    unref(vertical)\n      ? { bottom: unref(currentPosition) }\n      : { left: unref(currentPosition) }\n  )\n  return {\n    disabled,\n    max,\n    min,\n    step,\n    showTooltip,\n    precision,\n    currentPosition,\n    enableFormat,\n    formatValue,\n    wrapperStyle\n  }\n}\n</script>\n","export default {\n  name: 'ElMarker',\n\n  props: {\n    mark: {\n      type: [String, Object]\n    }\n  },\n  render() {\n    const label = typeof this.mark === 'string' ? this.mark : this.mark.label\n\n    return (\n      <div class=\"el-slider__marks-text\" style={this.mark.style || {}}>\n        {label}\n      </div>\n    )\n  }\n}\n","<template>\n  <div\n    class=\"el-slider\"\n    :class=\"{ 'is-vertical': vertical, 'el-slider--with-input': showInput }\"\n    role=\"slider\"\n    :aria-valuemin=\"min\"\n    :aria-valuemax=\"max\"\n    :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\"\n    :aria-disabled=\"sliderDisabled\"\n  >\n    <el-input-number\n      v-model=\"firstValue\"\n      v-if=\"showInput && !range\"\n      class=\"el-slider__input\"\n      ref=\"input\"\n      @change=\"emitChange\"\n      :step=\"step\"\n      :disabled=\"sliderDisabled\"\n      :controls=\"showInputControls\"\n      :min=\"min\"\n      :max=\"max\"\n      :debounce=\"debounce\"\n      :size=\"inputSize\"\n    ></el-input-number>\n    <div\n      class=\"el-slider__runway\"\n      :class=\"{ 'show-input': showInput, disabled: sliderDisabled }\"\n      :style=\"runwayStyle\"\n      @click=\"onSliderClick\"\n      ref=\"slider\"\n    >\n      <div class=\"el-slider__bar\" :style=\"barStyle\"></div>\n      <slider-button\n        v-model=\"firstValue\"\n        :vertical=\"vertical\"\n        :tooltip-class=\"tooltipClass\"\n        ref=\"button1\"\n      ></slider-button>\n      <slider-button\n        :vertical=\"vertical\"\n        v-model=\"secondValue\"\n        :tooltip-class=\"tooltipClass\"\n        ref=\"button2\"\n        v-if=\"range\"\n      ></slider-button>\n      <template v-if=\"showStops\">\n        <div\n          class=\"el-slider__stop\"\n          v-for=\"(item, key) in stops\"\n          :key=\"key\"\n          :style=\"getStopStyle(item)\"\n        ></div>\n      </template>\n      <template v-if=\"markList.length > 0\">\n        <div>\n          <div\n            v-for=\"(item, key) in markList\"\n            :style=\"getStopStyle(item.position)\"\n            class=\"el-slider__stop el-slider__marks-stop\"\n            :key=\"key\"\n          ></div>\n        </div>\n        <div class=\"el-slider__marks\">\n          <slider-marker\n            :mark=\"item.mark\"\n            v-for=\"(item, key) in markList\"\n            :key=\"key\"\n            :style=\"getStopStyle(item.position)\"\n          ></slider-marker>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport ElInputNumber from '../input-number'\nimport SliderButton from './src/button.vue'\nimport SliderMarker from './src/marker'\nimport { useEmitter } from '../../src/use/emitter'\nimport { isUndefined } from '../../src/utils/types'\n\nimport {\n  reactive,\n  inject,\n  computed,\n  toRefs,\n  watch,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onBeforeUnmount,\n  unref\n} from 'vue'\n\nexport default {\n  name: 'ElSlider',\n  props: {\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: 'small'\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: Function,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String\n    },\n    tooltipClass: String,\n    marks: Object\n  },\n\n  components: {\n    ElInputNumber,\n    SliderButton,\n    SliderMarker\n  },\n  emits: ['update:modelValue', 'change'],\n  setup(props, { emit }) {\n    const { proxy } = getCurrentInstance()\n    // data\n    const state = reactive({\n      firstValue: null,\n      secondValue: null,\n      oldValue: null,\n      dragging: false,\n      sliderSize: 1\n    })\n    const { resetSize } = useCommon(props, state, proxy)\n\n    useLifeCycle(props, state, proxy, resetSize)\n\n    const { minValue, maxValue, valueChanged, setValues } = useModel(\n      props,\n      state,\n      emit\n    )\n\n    const {\n      stops,\n      markList,\n      barSize,\n      barStart,\n      precision,\n      runwayStyle,\n      barStyle,\n      sliderDisabled,\n      getStopStyle\n    } = useStyle(props, state, minValue, maxValue)\n\n    const { onSliderClick, emitChange, setPosition } = useEvent(\n      props,\n      state,\n      proxy,\n      emit,\n      minValue,\n      maxValue,\n      sliderDisabled,\n      resetSize\n    )\n\n    return {\n      // data\n      ...toRefs(state),\n      // // computed\n      minValue,\n      maxValue,\n      stops,\n      markList,\n      barSize,\n      barStart,\n      precision,\n      runwayStyle,\n      barStyle,\n      sliderDisabled,\n      // method\n      valueChanged,\n      setValues,\n      setPosition,\n      onSliderClick,\n      resetSize,\n      emitChange,\n      getStopStyle\n    }\n  }\n}\n\nfunction useCommon(props, state, proxy) {\n  const { vertical } = toRefs(props)\n  function resetSize() {\n    const slider = proxy.$refs.slider\n    if (slider) {\n      state.sliderSize = slider[`client${unref(vertical) ? 'Height' : 'Width'}`]\n    }\n  }\n  return {\n    resetSize\n  }\n}\n\nfunction useLifeCycle(props, state, proxy, resetSize) {\n  const { max, min, modelValue, range, label } = props\n  let valuetext\n  if (range) {\n    if (Array.isArray(modelValue)) {\n      state.firstValue = Math.max(min, modelValue[0])\n      state.secondValue = Math.min(max, modelValue[1])\n    } else {\n      state.firstValue = min\n      state.secondValue = max\n    }\n    state.oldValue = [state.firstValue, state.secondValue]\n    valuetext = `${state.firstValue}-${state.secondValue}`\n  } else {\n    if (typeof modelValue !== 'number' || isNaN(modelValue)) {\n      state.firstValue = min\n    } else {\n      state.firstValue = Math.min(max, Math.max(min, modelValue))\n    }\n    state.oldValue = state.firstValue\n    valuetext = state.firstValue\n  }\n  onMounted(() => {\n    proxy.$el.setAttribute('aria-valuetext', valuetext)\n\n    // label screen reader\n    proxy.$el.setAttribute(\n      'aria-label',\n      // eslint-disable-next-line\n      label ? label : `slider between ${min} and ${max}`\n    )\n    resetSize()\n    window.addEventListener('resize', resetSize)\n  })\n  onBeforeUnmount(() => window.removeEventListener('resize', resetSize))\n}\n\nfunction useModel(props, state, emit) {\n  const { dispatch } = useEmitter()\n  const { max, min, modelValue, range } = toRefs(props)\n\n  const minValue = computed(() => Math.min(state.firstValue, state.secondValue))\n  const maxValue = computed(() => Math.max(state.firstValue, state.secondValue))\n\n  // watch\n  watch(modelValue, (val, oldVal) => {\n    if (\n      state.dragging ||\n      (Array.isArray(val) &&\n        Array.isArray(oldVal) &&\n        val.every((item, index) => item === oldVal[index]))\n    ) {\n      return\n    }\n    setValues()\n  })\n  watch(\n    () => state.dragging,\n    (val) => !val && setValues()\n  )\n  watch(\n    () => state.firstValue,\n    (val) =>\n      unref(range)\n        ? emit('update:modelValue', [unref(minValue), unref(maxValue)])\n        : emit('update:modelValue', val)\n  )\n  watch(\n    () => state.secondValue,\n    () =>\n      unref(range) &&\n      emit('update:modelValue', [unref(minValue), unref(maxValue)])\n  )\n  watch(min, () => setValues())\n  watch(max, () => setValues())\n\n  function valueChanged() {\n    if (unref(range)) {\n      return ![minValue, maxValue].every(\n        (item, index) => unref(item) === state.oldValue[index]\n      )\n    } else {\n      return unref(modelValue) !== state.oldValue\n    }\n  }\n\n  function setValues() {\n    const _max = unref(max)\n    const _min = unref(min)\n    if (_min > _max) {\n      console.error(\n        '[Element Error][Slider]min should not be greater than max.'\n      )\n      return\n    }\n    const val = unref(modelValue)\n    if (unref(range) && Array.isArray(val)) {\n      if (val[1] < _min) {\n        emit('update:modelValue', [_min, _min])\n      } else if (val[0] > _max) {\n        emit('update:modelValue', [_max, _max])\n      } else if (val[0] < _min) {\n        emit('update:modelValue', [_min, val[1]])\n      } else if (val[1] > _max) {\n        emit('update:modelValue', [val[0], _max])\n      } else {\n        state.firstValue = val[0]\n        state.secondValue = val[1]\n        if (valueChanged()) {\n          dispatch('ElFormItem', 'el.form.change', [\n            unref(minValue),\n            unref(maxValue)\n          ])\n          state.oldValue = val.slice()\n        }\n      }\n    } else if (!unref(range) && typeof val === 'number' && !isNaN(val)) {\n      if (val < _min) {\n        emit('update:modelValue', _min)\n      } else if (val > _max) {\n        emit('update:modelValue', _max)\n      } else {\n        state.firstValue = val\n        if (valueChanged()) {\n          dispatch('ElFormItem', 'el.form.change', val)\n          state.oldValue = val\n        }\n      }\n    }\n  }\n  return {\n    minValue,\n    maxValue,\n    valueChanged,\n    setValues\n  }\n}\n\nfunction useEvent(\n  props,\n  state,\n  proxy,\n  emit,\n  minValue,\n  maxValue,\n  sliderDisabled,\n  resetSize\n) {\n  // const { emit, proxy, props } = getCurrentInstance()\n  const { modelValue, range, vertical, min, max } = toRefs(props)\n\n  function onSliderClick(event) {\n    if (unref(sliderDisabled) || state.dragging) return\n    resetSize()\n    const slider = proxy.$refs.slider\n    if (unref(vertical)) {\n      const sliderOffsetBottom = slider.getBoundingClientRect().bottom\n      setPosition(\n        ((sliderOffsetBottom - event.clientY) / state.sliderSize) * 100\n      )\n    } else {\n      const sliderOffsetLeft = slider.getBoundingClientRect().left\n      setPosition(((event.clientX - sliderOffsetLeft) / state.sliderSize) * 100)\n    }\n    emitChange()\n  }\n\n  function emitChange() {\n    nextTick(() =>\n      emit(\n        'change',\n        unref(range) ? [unref(minValue), unref(maxValue)] : unref(modelValue)\n      )\n    )\n  }\n\n  function setPosition(percent) {\n    const targetValue = unref(min) + (percent * (unref(max) - unref(min))) / 100\n    if (!unref(range)) {\n      proxy.$refs.button1.setPosition(percent)\n      return\n    }\n    let button\n    if (\n      Math.abs(unref(minValue) - targetValue) <\n      Math.abs(unref(maxValue) - targetValue)\n    ) {\n      button = state.firstValue < state.secondValue ? 'button1' : 'button2'\n    } else {\n      button = state.firstValue > state.secondValue ? 'button1' : 'button2'\n    }\n    proxy.$refs[button].setPosition(percent)\n  }\n\n  return {\n    onSliderClick,\n    emitChange,\n    setPosition\n  }\n}\n\nfunction useStyle(props, state, minValue, maxValue) {\n  const elForm = inject('elFrom', { default: '' })\n  const {\n    disabled,\n    height,\n    showStops,\n    min,\n    max,\n    step,\n    range,\n    marks,\n    vertical\n  } = toRefs(props)\n  const stops = computed(() => {\n    if (!unref(showStops) || unref(min) > unref(max)) return []\n    if (unref(step) === 0) {\n      process.env.NODE_ENV !== 'production' &&\n        console.warn('[Element Warn][Slider]step should not be 0.')\n      return []\n    }\n\n    const stopCount = (unref(max) - unref(min)) / unref(step)\n    const stepWidth = (100 * unref(step)) / (unref(max) - unref(min))\n    const result = []\n    for (let i = 1; i < stopCount; i++) {\n      result.push(i * stepWidth)\n    }\n    if (unref(range)) {\n      return result.filter((step) => {\n        return (\n          step <\n            (100 * (unref(minValue) - unref(min))) /\n              (unref(max) - unref(min)) ||\n          step >\n            (100 * (unref(maxValue) - unref(min))) / (unref(max) - unref(min))\n        )\n      })\n    } else {\n      return result.filter(\n        (step) =>\n          step >\n          (100 * (state.firstValue - unref(min))) / (unref(max) - unref(min))\n      )\n    }\n  })\n  const markList = computed(() => {\n    if (!unref(marks)) {\n      return []\n    }\n\n    const marksKeys = Object.keys(unref(marks))\n    return marksKeys\n      .map(parseFloat)\n      .sort((a, b) => a - b)\n      .filter((point) => point <= unref(max) && point >= unref(min))\n      .map((point) => ({\n        point,\n        position: ((point - unref(min)) * 100) / (unref(max) - unref(min)),\n        mark: marks.value[point]\n      }))\n  })\n  const barSize = computed(() => {\n    return unref(range)\n      ? `${\n          (100 * (unref(maxValue) - unref(minValue))) /\n          (unref(max) - unref(min))\n        }%`\n      : `${\n          (100 * (state.firstValue - unref(min))) / (unref(max) - unref(min))\n        }%`\n  })\n  const barStart = computed(() => {\n    return unref(range)\n      ? `${(100 * (unref(minValue) - unref(min))) / (unref(max) - unref(min))}%`\n      : '0%'\n  })\n  const precision = computed(() => {\n    const precisions = [min, max, step].map((item) => {\n      const decimal = ('' + unref(item)).split('.')[1]\n      return decimal ? decimal.length : 0\n    })\n    return Math.max.apply(null, precisions)\n  })\n  const runwayStyle = computed(() => {\n    if (unref(vertical) && isUndefined(height)) {\n      process.env.NODE_ENV !== 'production' &&\n        console.warn(\n          '[Element Warn][Slider]height must has a value when vertical is true'\n        )\n      return {}\n    }\n    return unref(vertical) ? { height: unref(height) } : {}\n  })\n  const barStyle = computed(() => {\n    return unref(vertical)\n      ? {\n          height: unref(barSize),\n          bottom: unref(barStart)\n        }\n      : {\n          width: unref(barSize),\n          left: unref(barStart)\n        }\n  })\n  const sliderDisabled = computed(() => {\n    return unref(disabled) || (elForm.props || {}).disabled\n  })\n\n  function getStopStyle(position) {\n    return unref(vertical)\n      ? { bottom: position + '%' }\n      : { left: position + '%' }\n  }\n  return {\n    stops,\n    markList,\n    barSize,\n    barStart,\n    precision,\n    runwayStyle,\n    barStyle,\n    sliderDisabled,\n    getStopStyle\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-slider\"\n    :class=\"{ 'is-vertical': vertical, 'el-slider--with-input': showInput }\"\n    role=\"slider\"\n    :aria-valuemin=\"min\"\n    :aria-valuemax=\"max\"\n    :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\"\n    :aria-disabled=\"sliderDisabled\"\n  >\n    <el-input-number\n      v-model=\"firstValue\"\n      v-if=\"showInput && !range\"\n      class=\"el-slider__input\"\n      ref=\"input\"\n      @change=\"emitChange\"\n      :step=\"step\"\n      :disabled=\"sliderDisabled\"\n      :controls=\"showInputControls\"\n      :min=\"min\"\n      :max=\"max\"\n      :debounce=\"debounce\"\n      :size=\"inputSize\"\n    ></el-input-number>\n    <div\n      class=\"el-slider__runway\"\n      :class=\"{ 'show-input': showInput, disabled: sliderDisabled }\"\n      :style=\"runwayStyle\"\n      @click=\"onSliderClick\"\n      ref=\"slider\"\n    >\n      <div class=\"el-slider__bar\" :style=\"barStyle\"></div>\n      <slider-button\n        v-model=\"firstValue\"\n        :vertical=\"vertical\"\n        :tooltip-class=\"tooltipClass\"\n        ref=\"button1\"\n      ></slider-button>\n      <slider-button\n        :vertical=\"vertical\"\n        v-model=\"secondValue\"\n        :tooltip-class=\"tooltipClass\"\n        ref=\"button2\"\n        v-if=\"range\"\n      ></slider-button>\n      <template v-if=\"showStops\">\n        <div\n          class=\"el-slider__stop\"\n          v-for=\"(item, key) in stops\"\n          :key=\"key\"\n          :style=\"getStopStyle(item)\"\n        ></div>\n      </template>\n      <template v-if=\"markList.length > 0\">\n        <div>\n          <div\n            v-for=\"(item, key) in markList\"\n            :style=\"getStopStyle(item.position)\"\n            class=\"el-slider__stop el-slider__marks-stop\"\n            :key=\"key\"\n          ></div>\n        </div>\n        <div class=\"el-slider__marks\">\n          <slider-marker\n            :mark=\"item.mark\"\n            v-for=\"(item, key) in markList\"\n            :key=\"key\"\n            :style=\"getStopStyle(item.position)\"\n          ></slider-marker>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nimport ElInputNumber from '../input-number'\nimport SliderButton from './src/button.vue'\nimport SliderMarker from './src/marker'\nimport { useEmitter } from '../../src/use/emitter'\nimport { isUndefined } from '../../src/utils/types'\n\nimport {\n  reactive,\n  inject,\n  computed,\n  toRefs,\n  watch,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onBeforeUnmount,\n  unref\n} from 'vue'\n\nexport default {\n  name: 'ElSlider',\n  props: {\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: 'small'\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: Function,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String\n    },\n    tooltipClass: String,\n    marks: Object\n  },\n\n  components: {\n    ElInputNumber,\n    SliderButton,\n    SliderMarker\n  },\n  emits: ['update:modelValue', 'change'],\n  setup(props, { emit }) {\n    const { proxy } = getCurrentInstance()\n    // data\n    const state = reactive({\n      firstValue: null,\n      secondValue: null,\n      oldValue: null,\n      dragging: false,\n      sliderSize: 1\n    })\n    const { resetSize } = useCommon(props, state, proxy)\n\n    useLifeCycle(props, state, proxy, resetSize)\n\n    const { minValue, maxValue, valueChanged, setValues } = useModel(\n      props,\n      state,\n      emit\n    )\n\n    const {\n      stops,\n      markList,\n      barSize,\n      barStart,\n      precision,\n      runwayStyle,\n      barStyle,\n      sliderDisabled,\n      getStopStyle\n    } = useStyle(props, state, minValue, maxValue)\n\n    const { onSliderClick, emitChange, setPosition } = useEvent(\n      props,\n      state,\n      proxy,\n      emit,\n      minValue,\n      maxValue,\n      sliderDisabled,\n      resetSize\n    )\n\n    return {\n      // data\n      ...toRefs(state),\n      // // computed\n      minValue,\n      maxValue,\n      stops,\n      markList,\n      barSize,\n      barStart,\n      precision,\n      runwayStyle,\n      barStyle,\n      sliderDisabled,\n      // method\n      valueChanged,\n      setValues,\n      setPosition,\n      onSliderClick,\n      resetSize,\n      emitChange,\n      getStopStyle\n    }\n  }\n}\n\nfunction useCommon(props, state, proxy) {\n  const { vertical } = toRefs(props)\n  function resetSize() {\n    const slider = proxy.$refs.slider\n    if (slider) {\n      state.sliderSize = slider[`client${unref(vertical) ? 'Height' : 'Width'}`]\n    }\n  }\n  return {\n    resetSize\n  }\n}\n\nfunction useLifeCycle(props, state, proxy, resetSize) {\n  const { max, min, modelValue, range, label } = props\n  let valuetext\n  if (range) {\n    if (Array.isArray(modelValue)) {\n      state.firstValue = Math.max(min, modelValue[0])\n      state.secondValue = Math.min(max, modelValue[1])\n    } else {\n      state.firstValue = min\n      state.secondValue = max\n    }\n    state.oldValue = [state.firstValue, state.secondValue]\n    valuetext = `${state.firstValue}-${state.secondValue}`\n  } else {\n    if (typeof modelValue !== 'number' || isNaN(modelValue)) {\n      state.firstValue = min\n    } else {\n      state.firstValue = Math.min(max, Math.max(min, modelValue))\n    }\n    state.oldValue = state.firstValue\n    valuetext = state.firstValue\n  }\n  onMounted(() => {\n    proxy.$el.setAttribute('aria-valuetext', valuetext)\n\n    // label screen reader\n    proxy.$el.setAttribute(\n      'aria-label',\n      // eslint-disable-next-line\n      label ? label : `slider between ${min} and ${max}`\n    )\n    resetSize()\n    window.addEventListener('resize', resetSize)\n  })\n  onBeforeUnmount(() => window.removeEventListener('resize', resetSize))\n}\n\nfunction useModel(props, state, emit) {\n  const { dispatch } = useEmitter()\n  const { max, min, modelValue, range } = toRefs(props)\n\n  const minValue = computed(() => Math.min(state.firstValue, state.secondValue))\n  const maxValue = computed(() => Math.max(state.firstValue, state.secondValue))\n\n  // watch\n  watch(modelValue, (val, oldVal) => {\n    if (\n      state.dragging ||\n      (Array.isArray(val) &&\n        Array.isArray(oldVal) &&\n        val.every((item, index) => item === oldVal[index]))\n    ) {\n      return\n    }\n    setValues()\n  })\n  watch(\n    () => state.dragging,\n    (val) => !val && setValues()\n  )\n  watch(\n    () => state.firstValue,\n    (val) =>\n      unref(range)\n        ? emit('update:modelValue', [unref(minValue), unref(maxValue)])\n        : emit('update:modelValue', val)\n  )\n  watch(\n    () => state.secondValue,\n    () =>\n      unref(range) &&\n      emit('update:modelValue', [unref(minValue), unref(maxValue)])\n  )\n  watch(min, () => setValues())\n  watch(max, () => setValues())\n\n  function valueChanged() {\n    if (unref(range)) {\n      return ![minValue, maxValue].every(\n        (item, index) => unref(item) === state.oldValue[index]\n      )\n    } else {\n      return unref(modelValue) !== state.oldValue\n    }\n  }\n\n  function setValues() {\n    const _max = unref(max)\n    const _min = unref(min)\n    if (_min > _max) {\n      console.error(\n        '[Element Error][Slider]min should not be greater than max.'\n      )\n      return\n    }\n    const val = unref(modelValue)\n    if (unref(range) && Array.isArray(val)) {\n      if (val[1] < _min) {\n        emit('update:modelValue', [_min, _min])\n      } else if (val[0] > _max) {\n        emit('update:modelValue', [_max, _max])\n      } else if (val[0] < _min) {\n        emit('update:modelValue', [_min, val[1]])\n      } else if (val[1] > _max) {\n        emit('update:modelValue', [val[0], _max])\n      } else {\n        state.firstValue = val[0]\n        state.secondValue = val[1]\n        if (valueChanged()) {\n          dispatch('ElFormItem', 'el.form.change', [\n            unref(minValue),\n            unref(maxValue)\n          ])\n          state.oldValue = val.slice()\n        }\n      }\n    } else if (!unref(range) && typeof val === 'number' && !isNaN(val)) {\n      if (val < _min) {\n        emit('update:modelValue', _min)\n      } else if (val > _max) {\n        emit('update:modelValue', _max)\n      } else {\n        state.firstValue = val\n        if (valueChanged()) {\n          dispatch('ElFormItem', 'el.form.change', val)\n          state.oldValue = val\n        }\n      }\n    }\n  }\n  return {\n    minValue,\n    maxValue,\n    valueChanged,\n    setValues\n  }\n}\n\nfunction useEvent(\n  props,\n  state,\n  proxy,\n  emit,\n  minValue,\n  maxValue,\n  sliderDisabled,\n  resetSize\n) {\n  // const { emit, proxy, props } = getCurrentInstance()\n  const { modelValue, range, vertical, min, max } = toRefs(props)\n\n  function onSliderClick(event) {\n    if (unref(sliderDisabled) || state.dragging) return\n    resetSize()\n    const slider = proxy.$refs.slider\n    if (unref(vertical)) {\n      const sliderOffsetBottom = slider.getBoundingClientRect().bottom\n      setPosition(\n        ((sliderOffsetBottom - event.clientY) / state.sliderSize) * 100\n      )\n    } else {\n      const sliderOffsetLeft = slider.getBoundingClientRect().left\n      setPosition(((event.clientX - sliderOffsetLeft) / state.sliderSize) * 100)\n    }\n    emitChange()\n  }\n\n  function emitChange() {\n    nextTick(() =>\n      emit(\n        'change',\n        unref(range) ? [unref(minValue), unref(maxValue)] : unref(modelValue)\n      )\n    )\n  }\n\n  function setPosition(percent) {\n    const targetValue = unref(min) + (percent * (unref(max) - unref(min))) / 100\n    if (!unref(range)) {\n      proxy.$refs.button1.setPosition(percent)\n      return\n    }\n    let button\n    if (\n      Math.abs(unref(minValue) - targetValue) <\n      Math.abs(unref(maxValue) - targetValue)\n    ) {\n      button = state.firstValue < state.secondValue ? 'button1' : 'button2'\n    } else {\n      button = state.firstValue > state.secondValue ? 'button1' : 'button2'\n    }\n    proxy.$refs[button].setPosition(percent)\n  }\n\n  return {\n    onSliderClick,\n    emitChange,\n    setPosition\n  }\n}\n\nfunction useStyle(props, state, minValue, maxValue) {\n  const elForm = inject('elFrom', { default: '' })\n  const {\n    disabled,\n    height,\n    showStops,\n    min,\n    max,\n    step,\n    range,\n    marks,\n    vertical\n  } = toRefs(props)\n  const stops = computed(() => {\n    if (!unref(showStops) || unref(min) > unref(max)) return []\n    if (unref(step) === 0) {\n      process.env.NODE_ENV !== 'production' &&\n        console.warn('[Element Warn][Slider]step should not be 0.')\n      return []\n    }\n\n    const stopCount = (unref(max) - unref(min)) / unref(step)\n    const stepWidth = (100 * unref(step)) / (unref(max) - unref(min))\n    const result = []\n    for (let i = 1; i < stopCount; i++) {\n      result.push(i * stepWidth)\n    }\n    if (unref(range)) {\n      return result.filter((step) => {\n        return (\n          step <\n            (100 * (unref(minValue) - unref(min))) /\n              (unref(max) - unref(min)) ||\n          step >\n            (100 * (unref(maxValue) - unref(min))) / (unref(max) - unref(min))\n        )\n      })\n    } else {\n      return result.filter(\n        (step) =>\n          step >\n          (100 * (state.firstValue - unref(min))) / (unref(max) - unref(min))\n      )\n    }\n  })\n  const markList = computed(() => {\n    if (!unref(marks)) {\n      return []\n    }\n\n    const marksKeys = Object.keys(unref(marks))\n    return marksKeys\n      .map(parseFloat)\n      .sort((a, b) => a - b)\n      .filter((point) => point <= unref(max) && point >= unref(min))\n      .map((point) => ({\n        point,\n        position: ((point - unref(min)) * 100) / (unref(max) - unref(min)),\n        mark: marks.value[point]\n      }))\n  })\n  const barSize = computed(() => {\n    return unref(range)\n      ? `${\n          (100 * (unref(maxValue) - unref(minValue))) /\n          (unref(max) - unref(min))\n        }%`\n      : `${\n          (100 * (state.firstValue - unref(min))) / (unref(max) - unref(min))\n        }%`\n  })\n  const barStart = computed(() => {\n    return unref(range)\n      ? `${(100 * (unref(minValue) - unref(min))) / (unref(max) - unref(min))}%`\n      : '0%'\n  })\n  const precision = computed(() => {\n    const precisions = [min, max, step].map((item) => {\n      const decimal = ('' + unref(item)).split('.')[1]\n      return decimal ? decimal.length : 0\n    })\n    return Math.max.apply(null, precisions)\n  })\n  const runwayStyle = computed(() => {\n    if (unref(vertical) && isUndefined(height)) {\n      process.env.NODE_ENV !== 'production' &&\n        console.warn(\n          '[Element Warn][Slider]height must has a value when vertical is true'\n        )\n      return {}\n    }\n    return unref(vertical) ? { height: unref(height) } : {}\n  })\n  const barStyle = computed(() => {\n    return unref(vertical)\n      ? {\n          height: unref(barSize),\n          bottom: unref(barStart)\n        }\n      : {\n          width: unref(barSize),\n          left: unref(barStart)\n        }\n  })\n  const sliderDisabled = computed(() => {\n    return unref(disabled) || (elForm.props || {}).disabled\n  })\n\n  function getStopStyle(position) {\n    return unref(vertical)\n      ? { bottom: position + '%' }\n      : { left: position + '%' }\n  }\n  return {\n    stops,\n    markList,\n    barSize,\n    barStart,\n    precision,\n    runwayStyle,\n    barStyle,\n    sliderDisabled,\n    getStopStyle\n  }\n}\n</script>\n","import Slider from './Slider'\n\n/* istanbul ignore next */\nSlider.install = function (app) {\n  app.component(Slider.name, Slider)\n}\n\nexport default Slider\n","import { isArray, isNumber, isString, isFunction } from '../../../utils/types'\nimport { isEmpty } from '../../../utils/util'\n\nexport const DEFAULT_COLOR = '#409EFF'\nexport const STATUS_SETTING = {\n  success: {\n    color: '#67c23a',\n    lineIconClass: 'el-icon-circle-check',\n    arcIconClass: 'el-icon-check'\n  },\n  warning: {\n    color: '#e6a23c',\n    lineIconClass: 'el-icon-warning',\n    arcIconClass: 'el-icon-warning'\n  },\n  exception: {\n    color: '#f56c6c',\n    lineIconClass: 'el-icon-circle-close',\n    arcIconClass: 'el-icon-close'\n  }\n}\nexport const STATUSES = Object.keys(STATUS_SETTING)\nexport const TYPES = ['line', 'circle', 'dashboard']\nexport const LINECAPS = ['butt', 'round', 'square']\n\nexport const statusValid = (val) =>\n  isEmpty(val) || (!isEmpty(val) && STATUSES.includes(val))\nexport const percentageValid = (val) => isNumber(val) && val >= 0 && val <= 100\nexport const typeValid = (val) => TYPES.includes(val)\nexport const linecapValid = (val) => LINECAPS.includes(val)\n\nexport const FULL_PERCENT = 100\nexport const DEFAULT_SVG_PX = 126\nexport const DEFAULT_STROKE_PX = 6\nexport const SVG_MAX_SIZE = 100\nexport const SVG_VIEW_BOX = generateViewBox(SVG_MAX_SIZE)\nexport const DEFAULT_FIXED = 1\nexport const RATE_CIRCLE = 1\nexport const DASHBOARD_RATE = 0.75\nexport const TRANSITION = 'stroke-dasharray 0.6s ease 0s, stroke 0.6s ease 0s'\n\nexport const props = {\n  type: {\n    type: String,\n    default: 'line',\n    validator: typeValid\n  },\n  percentage: {\n    type: Number,\n    default: 0,\n    required: true,\n    validator: percentageValid\n  },\n  format: Function,\n  status: {\n    type: String,\n    default: '',\n    required: false,\n    validator: statusValid\n  },\n  color: { type: [String, Function, Array], default: '' },\n  showText: {\n    type: Boolean,\n    default: true\n  },\n  strokeWidth: {\n    type: Number,\n    default: DEFAULT_STROKE_PX\n  },\n  textInside: {\n    type: Boolean,\n    default: false\n  },\n  width: {\n    type: Number,\n    default: DEFAULT_SVG_PX\n  },\n  strokeLinecap: {\n    type: String,\n    default: 'round',\n    validator: linecapValid\n  }\n}\n\nexport function getColorsIndex(colors, percent) {\n  const i = colors.findIndex((c) => percent < c.percentage)\n  return i < 0 ? colors.length - 1 : i\n}\n\nexport function sortByPercentage(pre, next) {\n  return pre.percentage - next.percentage\n}\n\nexport function toPercentageColors(colors) {\n  const span = FULL_PERCENT / colors.length\n  return colors.map((color, i) => {\n    if (isString(color)) {\n      return { color, percentage: span * (i + 1) }\n    }\n    return color\n  })\n}\n\nexport function autoFixPercentage(percentage) {\n  if (percentage < 0) {\n    return 0\n  }\n  if (percentage > FULL_PERCENT) {\n    return FULL_PERCENT\n  }\n  return percentage\n}\n\nexport function generateViewBox(size) {\n  return `0 0 ${size} ${size}`\n}\n\nexport function generateSvgPathD(strokeWidth, type) {\n  const half = SVG_MAX_SIZE / 2\n  const radius = calcSvgRadius(strokeWidth)\n  const diameter = radius * 2\n  const isDashboard = type === 'dashboard'\n  const fromTo = isDashboard ? '' : '-'\n  const toFrom = isDashboard ? '-' : ''\n  const d = `M ${half} ${half} m 0 ${fromTo}${radius} a ${radius} ${radius} 0 1 1 0 ${toFrom}${diameter} a ${radius} ${radius} 0 1 1 0 ${fromTo}${diameter}`\n  return d\n}\n\nexport function genFnToRelativeSvgSize(width) {\n  return (size) => {\n    return (size / width) * SVG_MAX_SIZE\n  }\n}\n\nexport function toFixedStr(f) {\n  return f.toFixed(DEFAULT_FIXED)\n}\n\nexport function calcRelativeSvgSize(size, width) {\n  return toFixedStr(genFnToRelativeSvgSize(width)(size))\n}\n\nexport function calcSvgRadius(strokeWidth) {\n  return SVG_MAX_SIZE / 2 - strokeWidth / 2\n}\n\nexport function calcPerimeter(radius) {\n  return 2 * Math.PI * radius\n}\n\nexport function genTrailPathStyle(perimeter, type = 'circle') {\n  const rate = getRate(type)\n  const offset = toFixedStr(getOffset(perimeter, rate))\n  const range = toFixedStr(perimeter * rate)\n  const all = toFixedStr(perimeter)\n  const strokeDasharray = `${range}px, ${all}px`\n  const strokeDashoffset = `${offset}px`\n  return { strokeDasharray, strokeDashoffset }\n}\n\nexport function getRate(type) {\n  return type === 'dashboard' ? DASHBOARD_RATE : 1\n}\n\nexport function genArcPathStyle(perimeter, percentage = 0, type = 'circle') {\n  const rate = getRate(type)\n  const offset = toFixedStr(getOffset(perimeter, rate))\n  const p = toFixedStr(perimeter * (percentage / FULL_PERCENT) * rate)\n  const s = toFixedStr(perimeter)\n  const strokeDasharray = `${p}px, ${s}px`\n  const strokeDashoffset = `${offset}px`\n  const transition = TRANSITION\n  return { strokeDasharray, strokeDashoffset, transition }\n}\n\nexport function getSvgStrokeColor(status, color, percentage) {\n  if (!isEmpty(color)) {\n    return getColorBy(color, percentage)\n  }\n  if (!isEmpty(status)) {\n    return STATUS_SETTING[status].color\n  }\n  return DEFAULT_COLOR\n}\n\nexport function getOffset(perimeter, rate) {\n  return (-1 * perimeter * (1 - rate)) / 2\n}\n\nexport function getColorBy(color, percentage) {\n  if (isArray(color)) {\n    const cs = toPercentageColors(color).sort(sortByPercentage)\n    const i = getColorsIndex(cs, percentage)\n    return cs[i].color\n  }\n  if (isFunction(color)) {\n    return color(percentage)\n  }\n  if (isString(color)) {\n    return color\n  }\n}\n","<template>\n  <div :class=\"rootClass\">\n    <div class=\"el-progress-bar\" v-if=\"type === 'line'\">\n      <div class=\"el-progress-bar__outer\" :style=\"barOuterStyle\">\n        <div class=\"el-progress-bar__inner\" :style=\"barStyle\">\n          <div class=\"el-progress-bar__innerText\" v-if=\"showText && textInside\">\n            {{ content }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"el-progress-circle\" v-else :style=\"circleStyle\">\n      <svg :viewBox=\"viewBox\">\n        <path\n          class=\"el-progress-circle__track\"\n          stroke=\"#e5e9f2\"\n          :stroke-width=\"svgStrokeWidth\"\n          fill=\"none\"\n          :d=\"svgPathD\"\n          :style=\"trailPathStyle\"\n        ></path>\n        <path\n          class=\"el-progress-circle__path\"\n          :stroke=\"svgStrokeColor\"\n          :stroke-width=\"svgStrokeWidth\"\n          :stroke-linecap=\"strokeLinecap\"\n          fill=\"none\"\n          :d=\"svgPathD\"\n          :style=\"arcPathStyle\"\n        ></path>\n      </svg>\n    </div>\n    <div\n      class=\"el-progress__text\"\n      v-if=\"showText && !textInside\"\n      :style=\"textStyle\"\n    >\n      <template v-if=\"!status\">{{ content }}</template>\n      <i v-else :class=\"iconClass\"></i>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, toRefs, unref } from 'vue'\nimport {\n  props,\n  statusValid,\n  autoFixPercentage,\n  STATUS_SETTING,\n  SVG_VIEW_BOX,\n  calcRelativeSvgSize,\n  generateSvgPathD,\n  genTrailPathStyle,\n  calcPerimeter,\n  calcSvgRadius,\n  genArcPathStyle,\n  getSvgStrokeColor,\n  getColorBy\n} from './props'\n\nexport default defineComponent({\n  name: 'ElProgress',\n  props,\n  setup(props) {\n    const {\n      percentage,\n      format,\n      color,\n      strokeWidth,\n      type,\n      status,\n      showText,\n      textInside,\n      width\n    } = toRefs(props)\n    const barStyle = useBarStyle(percentage, color)\n    const barOuterStyle = useBarOuterStyle(strokeWidth)\n    const content = useContent(format, percentage)\n    const iconClass = useIconClass(status, type)\n    const rootClass = useRootClass(type, status, showText, textInside)\n    const circleStyle = useCircleStyle(width)\n    const viewBox = SVG_VIEW_BOX\n    const svgStrokeWidth = useSvgStrokeWidth(strokeWidth, width)\n    const svgPathD = useSvgPathD(svgStrokeWidth, type)\n    const trailPathStyle = useTrailPathStyle(svgStrokeWidth, type)\n    const arcPathStyle = useArcPathStyle(svgStrokeWidth, percentage, type)\n    const svgStrokeColor = useSvgStrokeColor(status, color, percentage)\n    const textStyle = useTextStyle(type, width)\n    return {\n      barStyle,\n      barOuterStyle,\n      content,\n      iconClass,\n      rootClass,\n      circleStyle,\n      viewBox,\n      svgPathD,\n      svgStrokeWidth,\n      trailPathStyle,\n      arcPathStyle,\n      svgStrokeColor,\n      textStyle\n    }\n  }\n})\n\nconst useRootClass = (type, status, showText, textInside) => {\n  return computed(() => {\n    const valType = unref(type)\n    const valStatus = unref(status)\n    const valShowText = unref(showText)\n    const valTextInside = unref(textInside)\n    const statusClass =\n      valStatus && statusValid(valStatus) ? `is-${valStatus}` : ''\n    return [\n      'el-progress',\n      `el-progress--${valType}`,\n      statusClass,\n      {\n        'el-progress--without-text': !valShowText,\n        'el-progress--text-inside': valTextInside\n      }\n    ]\n  })\n}\n\nconst useBarStyle = (percentage, color) => {\n  return computed(() => {\n    const pv = autoFixPercentage(unref(percentage))\n    const cv = unref(color)\n    const backgroundColor = getColorBy(cv, pv)\n    return { width: `${pv}%`, backgroundColor }\n  })\n}\n\nconst useBarOuterStyle = (strokeWidth) => {\n  return computed(() => {\n    const sw = unref(strokeWidth)\n    return { height: sw + 'px' }\n  })\n}\n\nconst useContent = (format, percentage) => {\n  return computed(() => {\n    const fv = unref(format)\n    const pv = autoFixPercentage(unref(percentage))\n    if (typeof fv === 'function') {\n      return fv(pv) || ''\n    } else {\n      return `${pv}%`\n    }\n  })\n}\n\nconst useIconClass = (status, type) => {\n  return computed(() => {\n    const st = unref(status)\n    const t = unref(type) === 'line' ? 'lineIconClass' : 'arcIconClass'\n    const stat = STATUS_SETTING[st]\n    return (stat && stat[t]) || ''\n  })\n}\n\nconst useCircleStyle = (width) => {\n  return computed(() => {\n    const val = unref(width) + 'px'\n    return { width: val, height: val }\n  })\n}\n\nconst useSvgStrokeWidth = (strokeWidth, width) => {\n  return computed(() => {\n    const sw = unref(strokeWidth)\n    const w = unref(width)\n    return calcRelativeSvgSize(sw, w)\n  })\n}\n\nconst useSvgPathD = (svgStrokeWidth, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const tv = unref(type)\n    return generateSvgPathD(ssw, tv)\n  })\n}\n\nconst useTrailPathStyle = (svgStrokeWidth, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const radius = calcSvgRadius(ssw)\n    const perimeter = calcPerimeter(radius)\n    const tv = unref(type)\n    return genTrailPathStyle(perimeter, tv)\n  })\n}\n\nconst useArcPathStyle = (svgStrokeWidth, percentage, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const radius = calcSvgRadius(ssw)\n    const perimeter = calcPerimeter(radius)\n    const percent = autoFixPercentage(unref(percentage))\n    const tv = unref(type)\n    return genArcPathStyle(perimeter, percent, tv)\n  })\n}\n\nconst useSvgStrokeColor = (status, color, percentage) => {\n  return computed(() => {\n    const s = unref(status)\n    const c = unref(color)\n    const p = autoFixPercentage(unref(percentage))\n    return getSvgStrokeColor(s, c, p)\n  })\n}\n\n/**\n * Only change when type is not 'line'\n */\nconst useTextStyle = (type, width) => {\n  return computed(() => {\n    const t = unref(type)\n    const w = unref(width)\n    const fontSize = (w * 0.11 + 2).toFixed() + 'px'\n    return t === 'line' ? '' : { fontSize }\n  })\n}\n</script>\n\n<style></style>\n","<template>\n  <div :class=\"rootClass\">\n    <div class=\"el-progress-bar\" v-if=\"type === 'line'\">\n      <div class=\"el-progress-bar__outer\" :style=\"barOuterStyle\">\n        <div class=\"el-progress-bar__inner\" :style=\"barStyle\">\n          <div class=\"el-progress-bar__innerText\" v-if=\"showText && textInside\">\n            {{ content }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"el-progress-circle\" v-else :style=\"circleStyle\">\n      <svg :viewBox=\"viewBox\">\n        <path\n          class=\"el-progress-circle__track\"\n          stroke=\"#e5e9f2\"\n          :stroke-width=\"svgStrokeWidth\"\n          fill=\"none\"\n          :d=\"svgPathD\"\n          :style=\"trailPathStyle\"\n        ></path>\n        <path\n          class=\"el-progress-circle__path\"\n          :stroke=\"svgStrokeColor\"\n          :stroke-width=\"svgStrokeWidth\"\n          :stroke-linecap=\"strokeLinecap\"\n          fill=\"none\"\n          :d=\"svgPathD\"\n          :style=\"arcPathStyle\"\n        ></path>\n      </svg>\n    </div>\n    <div\n      class=\"el-progress__text\"\n      v-if=\"showText && !textInside\"\n      :style=\"textStyle\"\n    >\n      <template v-if=\"!status\">{{ content }}</template>\n      <i v-else :class=\"iconClass\"></i>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, toRefs, unref } from 'vue'\nimport {\n  props,\n  statusValid,\n  autoFixPercentage,\n  STATUS_SETTING,\n  SVG_VIEW_BOX,\n  calcRelativeSvgSize,\n  generateSvgPathD,\n  genTrailPathStyle,\n  calcPerimeter,\n  calcSvgRadius,\n  genArcPathStyle,\n  getSvgStrokeColor,\n  getColorBy\n} from './props'\n\nexport default defineComponent({\n  name: 'ElProgress',\n  props,\n  setup(props) {\n    const {\n      percentage,\n      format,\n      color,\n      strokeWidth,\n      type,\n      status,\n      showText,\n      textInside,\n      width\n    } = toRefs(props)\n    const barStyle = useBarStyle(percentage, color)\n    const barOuterStyle = useBarOuterStyle(strokeWidth)\n    const content = useContent(format, percentage)\n    const iconClass = useIconClass(status, type)\n    const rootClass = useRootClass(type, status, showText, textInside)\n    const circleStyle = useCircleStyle(width)\n    const viewBox = SVG_VIEW_BOX\n    const svgStrokeWidth = useSvgStrokeWidth(strokeWidth, width)\n    const svgPathD = useSvgPathD(svgStrokeWidth, type)\n    const trailPathStyle = useTrailPathStyle(svgStrokeWidth, type)\n    const arcPathStyle = useArcPathStyle(svgStrokeWidth, percentage, type)\n    const svgStrokeColor = useSvgStrokeColor(status, color, percentage)\n    const textStyle = useTextStyle(type, width)\n    return {\n      barStyle,\n      barOuterStyle,\n      content,\n      iconClass,\n      rootClass,\n      circleStyle,\n      viewBox,\n      svgPathD,\n      svgStrokeWidth,\n      trailPathStyle,\n      arcPathStyle,\n      svgStrokeColor,\n      textStyle\n    }\n  }\n})\n\nconst useRootClass = (type, status, showText, textInside) => {\n  return computed(() => {\n    const valType = unref(type)\n    const valStatus = unref(status)\n    const valShowText = unref(showText)\n    const valTextInside = unref(textInside)\n    const statusClass =\n      valStatus && statusValid(valStatus) ? `is-${valStatus}` : ''\n    return [\n      'el-progress',\n      `el-progress--${valType}`,\n      statusClass,\n      {\n        'el-progress--without-text': !valShowText,\n        'el-progress--text-inside': valTextInside\n      }\n    ]\n  })\n}\n\nconst useBarStyle = (percentage, color) => {\n  return computed(() => {\n    const pv = autoFixPercentage(unref(percentage))\n    const cv = unref(color)\n    const backgroundColor = getColorBy(cv, pv)\n    return { width: `${pv}%`, backgroundColor }\n  })\n}\n\nconst useBarOuterStyle = (strokeWidth) => {\n  return computed(() => {\n    const sw = unref(strokeWidth)\n    return { height: sw + 'px' }\n  })\n}\n\nconst useContent = (format, percentage) => {\n  return computed(() => {\n    const fv = unref(format)\n    const pv = autoFixPercentage(unref(percentage))\n    if (typeof fv === 'function') {\n      return fv(pv) || ''\n    } else {\n      return `${pv}%`\n    }\n  })\n}\n\nconst useIconClass = (status, type) => {\n  return computed(() => {\n    const st = unref(status)\n    const t = unref(type) === 'line' ? 'lineIconClass' : 'arcIconClass'\n    const stat = STATUS_SETTING[st]\n    return (stat && stat[t]) || ''\n  })\n}\n\nconst useCircleStyle = (width) => {\n  return computed(() => {\n    const val = unref(width) + 'px'\n    return { width: val, height: val }\n  })\n}\n\nconst useSvgStrokeWidth = (strokeWidth, width) => {\n  return computed(() => {\n    const sw = unref(strokeWidth)\n    const w = unref(width)\n    return calcRelativeSvgSize(sw, w)\n  })\n}\n\nconst useSvgPathD = (svgStrokeWidth, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const tv = unref(type)\n    return generateSvgPathD(ssw, tv)\n  })\n}\n\nconst useTrailPathStyle = (svgStrokeWidth, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const radius = calcSvgRadius(ssw)\n    const perimeter = calcPerimeter(radius)\n    const tv = unref(type)\n    return genTrailPathStyle(perimeter, tv)\n  })\n}\n\nconst useArcPathStyle = (svgStrokeWidth, percentage, type) => {\n  return computed(() => {\n    const ssw = unref(svgStrokeWidth)\n    const radius = calcSvgRadius(ssw)\n    const perimeter = calcPerimeter(radius)\n    const percent = autoFixPercentage(unref(percentage))\n    const tv = unref(type)\n    return genArcPathStyle(perimeter, percent, tv)\n  })\n}\n\nconst useSvgStrokeColor = (status, color, percentage) => {\n  return computed(() => {\n    const s = unref(status)\n    const c = unref(color)\n    const p = autoFixPercentage(unref(percentage))\n    return getSvgStrokeColor(s, c, p)\n  })\n}\n\n/**\n * Only change when type is not 'line'\n */\nconst useTextStyle = (type, width) => {\n  return computed(() => {\n    const t = unref(type)\n    const w = unref(width)\n    const fontSize = (w * 0.11 + 2).toFixed() + 'px'\n    return t === 'line' ? '' : { fontSize }\n  })\n}\n</script>\n\n<style></style>\n","import ElProgress from './src/Progress.vue'\n\nElProgress.install = function (app) {\n  app.component(ElProgress.name, ElProgress)\n}\n\nexport { ElProgress }\n","<template>\n  <transition-group\n    tag=\"ul\"\n    :class=\"[\n      'el-upload-list',\n      'el-upload-list--' + listType,\n      { 'is-disabled': disabled }\n    ]\"\n    name=\"el-list\"\n  >\n    <li\n      v-for=\"file in files\"\n      :class=\"[\n        'el-upload-list__item',\n        'is-' + file.status,\n        focusing ? 'focusing' : ''\n      ]\"\n      :key=\"file.uid\"\n      tabindex=\"0\"\n      @keydown.delete=\"!disabled && $emit('remove', file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"focusing = false\"\n    >\n      <slot :file=\"file\">\n        <img\n          class=\"el-upload-list__item-thumbnail\"\n          v-if=\"\n            file.status !== 'uploading' &&\n            ['picture-card', 'picture'].indexOf(listType) > -1\n          \"\n          :src=\"file.url\"\n          alt=\"\"\n        />\n        <a class=\"el-upload-list__item-name\" @click=\"handleClick(file)\">\n          <i class=\"el-icon-document\"></i>{{ file.name }}\n        </a>\n        <label class=\"el-upload-list__item-status-label\">\n          <i\n            :class=\"{\n              'el-icon-upload-success': true,\n              'el-icon-circle-check': listType === 'text',\n              'el-icon-check':\n                ['picture-card', 'picture'].indexOf(listType) > -1\n            }\"\n          ></i>\n        </label>\n        <i\n          class=\"el-icon-close\"\n          v-if=\"!disabled\"\n          @click=\"$emit('remove', file)\"\n        ></i>\n        <i class=\"el-icon-close-tip\" v-if=\"!disabled\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <!--因为close按钮只在li:focus的时候 display, li blur后就不存在了，所以键盘导航时永远无法 focus到 close按钮上-->\n        <el-progress\n          v-if=\"file.status === 'uploading'\"\n          :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n          :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n          :percentage=\"parsePercentage(file.percentage)\"\n        >\n        </el-progress>\n        <span\n          class=\"el-upload-list__item-actions\"\n          v-if=\"listType === 'picture-card'\"\n        >\n          <span\n            class=\"el-upload-list__item-preview\"\n            v-if=\"handlePreview && listType === 'picture-card'\"\n            @click=\"handlePreview(file)\"\n          >\n            <i class=\"el-icon-zoom-in\"></i>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            class=\"el-upload-list__item-delete\"\n            @click=\"$emit('remove', file)\"\n          >\n            <i class=\"el-icon-delete\"></i>\n          </span>\n        </span>\n      </slot>\n    </li>\n  </transition-group>\n</template>\n<script>\nimport Locale from '../../../src/mixins/locale'\nimport { ElProgress } from '../../../src/components/Progress'\nimport { ref } from 'vue'\n\nexport default {\n  name: 'ElUploadList',\n\n  mixins: [Locale],\n\n  components: { ElProgress },\n  emits: ['remove'],\n  props: {\n    files: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    handlePreview: Function,\n    listType: String\n  },\n  setup(props, { emit }) {\n    const focusing = ref(false)\n    const parsePercentage = (val) => {\n      return parseInt(val, 10)\n    }\n    const handleClick = (file) => {\n      props.handlePreview && props.handlePreview(file)\n    }\n    return {\n      focusing,\n      parsePercentage,\n      handleClick,\n      emit\n    }\n  }\n}\n</script>\n","<template>\n  <transition-group\n    tag=\"ul\"\n    :class=\"[\n      'el-upload-list',\n      'el-upload-list--' + listType,\n      { 'is-disabled': disabled }\n    ]\"\n    name=\"el-list\"\n  >\n    <li\n      v-for=\"file in files\"\n      :class=\"[\n        'el-upload-list__item',\n        'is-' + file.status,\n        focusing ? 'focusing' : ''\n      ]\"\n      :key=\"file.uid\"\n      tabindex=\"0\"\n      @keydown.delete=\"!disabled && $emit('remove', file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"focusing = false\"\n    >\n      <slot :file=\"file\">\n        <img\n          class=\"el-upload-list__item-thumbnail\"\n          v-if=\"\n            file.status !== 'uploading' &&\n            ['picture-card', 'picture'].indexOf(listType) > -1\n          \"\n          :src=\"file.url\"\n          alt=\"\"\n        />\n        <a class=\"el-upload-list__item-name\" @click=\"handleClick(file)\">\n          <i class=\"el-icon-document\"></i>{{ file.name }}\n        </a>\n        <label class=\"el-upload-list__item-status-label\">\n          <i\n            :class=\"{\n              'el-icon-upload-success': true,\n              'el-icon-circle-check': listType === 'text',\n              'el-icon-check':\n                ['picture-card', 'picture'].indexOf(listType) > -1\n            }\"\n          ></i>\n        </label>\n        <i\n          class=\"el-icon-close\"\n          v-if=\"!disabled\"\n          @click=\"$emit('remove', file)\"\n        ></i>\n        <i class=\"el-icon-close-tip\" v-if=\"!disabled\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <!--因为close按钮只在li:focus的时候 display, li blur后就不存在了，所以键盘导航时永远无法 focus到 close按钮上-->\n        <el-progress\n          v-if=\"file.status === 'uploading'\"\n          :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n          :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n          :percentage=\"parsePercentage(file.percentage)\"\n        >\n        </el-progress>\n        <span\n          class=\"el-upload-list__item-actions\"\n          v-if=\"listType === 'picture-card'\"\n        >\n          <span\n            class=\"el-upload-list__item-preview\"\n            v-if=\"handlePreview && listType === 'picture-card'\"\n            @click=\"handlePreview(file)\"\n          >\n            <i class=\"el-icon-zoom-in\"></i>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            class=\"el-upload-list__item-delete\"\n            @click=\"$emit('remove', file)\"\n          >\n            <i class=\"el-icon-delete\"></i>\n          </span>\n        </span>\n      </slot>\n    </li>\n  </transition-group>\n</template>\n<script>\nimport Locale from '../../../src/mixins/locale'\nimport { ElProgress } from '../../../src/components/Progress'\nimport { ref } from 'vue'\n\nexport default {\n  name: 'ElUploadList',\n\n  mixins: [Locale],\n\n  components: { ElProgress },\n  emits: ['remove'],\n  props: {\n    files: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    handlePreview: Function,\n    listType: String\n  },\n  setup(props, { emit }) {\n    const focusing = ref(false)\n    const parsePercentage = (val) => {\n      return parseInt(val, 10)\n    }\n    const handleClick = (file) => {\n      props.handlePreview && props.handlePreview(file)\n    }\n    return {\n      focusing,\n      parsePercentage,\n      handleClick,\n      emit\n    }\n  }\n}\n</script>\n","function getError(action, option, xhr) {\n  let msg\n  if (xhr.response) {\n    msg = `${xhr.response.error || xhr.response}`\n  } else if (xhr.responseText) {\n    msg = `${xhr.responseText}`\n  } else {\n    msg = `fail to post ${action} ${xhr.status}`\n  }\n\n  const err = new Error(msg)\n  err.status = xhr.status\n  err.method = 'post'\n  err.url = action\n  return err\n}\n\nfunction getBody(xhr) {\n  const text = xhr.responseText || xhr.response\n  if (!text) {\n    return text\n  }\n\n  try {\n    return JSON.parse(text)\n  } catch (e) {\n    return text\n  }\n}\n\nexport default function upload(option) {\n  if (typeof XMLHttpRequest === 'undefined') {\n    return\n  }\n\n  const xhr = new XMLHttpRequest()\n  const action = option.action\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = (e.loaded / e.total) * 100\n      }\n      option.onProgress(e)\n    }\n  }\n\n  const formData = new FormData()\n\n  if (option.data) {\n    Object.keys(option.data).forEach((key) => {\n      formData.append(key, option.data[key])\n    })\n  }\n\n  formData.append(option.filename, option.file, option.file.name)\n\n  xhr.onerror = function error(e) {\n    option.onError(e)\n  }\n\n  xhr.onload = function onload() {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr))\n    }\n\n    option.onSuccess(getBody(xhr))\n  }\n\n  xhr.open('post', action, true)\n\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true\n  }\n\n  const headers = option.headers || {}\n\n  for (const item in headers) {\n    if (Object.hasOwnProperty.call(headers, item) && headers[item] !== null) {\n      xhr.setRequestHeader(item, headers[item])\n    }\n  }\n  xhr.send(formData)\n  return xhr\n}\n","<template>\n  <div\n    class=\"el-upload-dragger\"\n    :class=\"{\n      'is-dragover': dragover\n    }\"\n    @drop.prevent=\"onDrop\"\n    @dragover.prevent=\"onDragover\"\n    @dragleave.prevent=\"dragover = false\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { inject, toRefs, ref } from 'vue'\nexport default {\n  name: 'ElUploadDrag',\n  props: {\n    disabled: Boolean\n  },\n  emits: ['file'],\n  inject: ['uploader'],\n  setup(props, { emit }) {\n    const uploader = inject('uploader', {})\n    const { disabled } = toRefs(props)\n    const dragover = ref(false)\n\n    const onDragover = () => {\n      if (!disabled.value) {\n        dragover.value = true\n      }\n    }\n\n    const onDrop = (e) => {\n      if (disabled.value || !uploader) return\n      const accept = uploader.accept\n      dragover.value = false\n      if (!accept) {\n        emit('file', e.dataTransfer.files)\n        return\n      }\n      emit(\n        'file',\n        [].slice.call(e.dataTransfer.files).filter((file) => {\n          const { type, name } = file\n          const extension =\n            name.indexOf('.') > -1 ? `.${name.split('.').pop()}` : ''\n          const baseType = type.replace(/\\/.*$/, '')\n          return accept\n            .split(',')\n            .map((type) => type.trim())\n            .filter((type) => type)\n            .some((acceptedType) => {\n              if (/\\..+$/.test(acceptedType)) {\n                return extension === acceptedType\n              }\n              if (/\\/\\*$/.test(acceptedType)) {\n                return baseType === acceptedType.replace(/\\/\\*$/, '')\n              }\n              // eslint-disable-next-line no-useless-escape\n              if (/^[^\\/]+\\/[^\\/]+$/.test(acceptedType)) {\n                return type === acceptedType\n              }\n              return false\n            })\n        })\n      )\n    }\n    return {\n      onDragover,\n      onDrop,\n      dragover\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-upload-dragger\"\n    :class=\"{\n      'is-dragover': dragover\n    }\"\n    @drop.prevent=\"onDrop\"\n    @dragover.prevent=\"onDragover\"\n    @dragleave.prevent=\"dragover = false\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { inject, toRefs, ref } from 'vue'\nexport default {\n  name: 'ElUploadDrag',\n  props: {\n    disabled: Boolean\n  },\n  emits: ['file'],\n  inject: ['uploader'],\n  setup(props, { emit }) {\n    const uploader = inject('uploader', {})\n    const { disabled } = toRefs(props)\n    const dragover = ref(false)\n\n    const onDragover = () => {\n      if (!disabled.value) {\n        dragover.value = true\n      }\n    }\n\n    const onDrop = (e) => {\n      if (disabled.value || !uploader) return\n      const accept = uploader.accept\n      dragover.value = false\n      if (!accept) {\n        emit('file', e.dataTransfer.files)\n        return\n      }\n      emit(\n        'file',\n        [].slice.call(e.dataTransfer.files).filter((file) => {\n          const { type, name } = file\n          const extension =\n            name.indexOf('.') > -1 ? `.${name.split('.').pop()}` : ''\n          const baseType = type.replace(/\\/.*$/, '')\n          return accept\n            .split(',')\n            .map((type) => type.trim())\n            .filter((type) => type)\n            .some((acceptedType) => {\n              if (/\\..+$/.test(acceptedType)) {\n                return extension === acceptedType\n              }\n              if (/\\/\\*$/.test(acceptedType)) {\n                return baseType === acceptedType.replace(/\\/\\*$/, '')\n              }\n              // eslint-disable-next-line no-useless-escape\n              if (/^[^\\/]+\\/[^\\/]+$/.test(acceptedType)) {\n                return type === acceptedType\n              }\n              return false\n            })\n        })\n      )\n    }\n    return {\n      onDragover,\n      onDrop,\n      dragover\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-upload\"\n    :class=\"{ [`el-upload--${listType}`]: true }\"\n    @click=\"handleClick\"\n    @keydown=\"handleKeydown\"\n    tabindex=\"0\"\n  >\n    <upload-dragger v-if=\"drag\" :disabled=\"disabled\" @file=\"uploadFiles\">\n      <slot></slot>\n    </upload-dragger>\n    <slot v-else></slot>\n    <input\n      class=\"el-upload__input\"\n      type=\"file\"\n      ref=\"input\"\n      :name=\"name\"\n      @change=\"handleChange\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n    />\n  </div>\n</template>\n<script>\nimport ajax from './ajax'\nimport UploadDragger from './upload-dragger.vue'\nimport { ref, reactive, toRefs, unref } from 'vue'\n\nexport default {\n  inject: ['uploader'],\n  components: {\n    UploadDragger\n  },\n  props: {\n    type: String,\n    action: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      default: 'file'\n    },\n    data: Object,\n    headers: Object,\n    withCredentials: Boolean,\n    multiple: Boolean,\n    accept: String,\n    onStart: Function,\n    onProgress: Function,\n    onSuccess: Function,\n    onError: Function,\n    beforeUpload: Function,\n    drag: Boolean,\n    onPreview: {\n      type: Function,\n      default: function () {}\n    },\n    onRemove: {\n      type: Function,\n      default: function () {}\n    },\n    fileList: Array,\n    autoUpload: Boolean,\n    listType: String,\n    httpRequest: {\n      type: Function,\n      default: ajax\n    },\n    disabled: Boolean,\n    limit: Number,\n    onExceed: Function\n  },\n\n  setup(props) {\n    const { limit, fileList, onExceed, multiple, autoUpload } = toRefs(props)\n    // eslint-disable-next-line vue/no-setup-props-destructure\n    const {\n      onStart,\n      beforeUpload,\n      httpRequest,\n      onProgress,\n      onSuccess,\n      onError,\n      disabled,\n      onRemove\n    } = props\n    const mouseover = ref(false)\n    const reqs = reactive({})\n    const input = ref(null)\n    const isImage = (str) => {\n      return str.indexOf('image') !== -1\n    }\n    const handleChange = (ev) => {\n      const files = ev.target.files\n      if (!files) return\n      uploadFiles(files)\n    }\n    const uploadFiles = (files) => {\n      if (limit.value && fileList.length + files.length > limit.value) {\n        onExceed && onExceed(files, fileList)\n        return\n      }\n\n      let postFiles = Array.prototype.slice.call(files)\n      if (!multiple.value) {\n        postFiles = postFiles.slice(0, 1)\n      }\n\n      if (postFiles.length === 0) {\n        return\n      }\n\n      postFiles.forEach((rawFile) => {\n        onStart(rawFile)\n        if (autoUpload.value) upload(rawFile)\n      })\n    }\n    const upload = (rawFile) => {\n      input.value.value = null\n\n      if (!beforeUpload) {\n        return post(rawFile)\n      }\n\n      const before = beforeUpload(rawFile)\n      if (before && before.then) {\n        before.then(\n          (processedFile) => {\n            const fileType = Object.prototype.toString.call(processedFile)\n\n            if (fileType === '[object File]' || fileType === '[object Blob]') {\n              if (fileType === '[object Blob]') {\n                processedFile = new File([processedFile], rawFile.name, {\n                  type: rawFile.type\n                })\n              }\n              for (const p in rawFile) {\n                if (Object.hasOwnProperty.call(rawFile, p)) {\n                  processedFile[p] = rawFile[p]\n                }\n              }\n              post(processedFile)\n            } else {\n              post(rawFile)\n            }\n          },\n          () => {\n            onRemove(null, rawFile)\n          }\n        )\n      } else if (before !== false) {\n        post(rawFile)\n      } else {\n        onRemove(null, rawFile)\n      }\n    }\n    const abort = (file) => {\n      if (file) {\n        let uid = file\n        if (file.uid) uid = file.uid\n        if (reqs[uid]) {\n          reqs[uid].abort()\n        }\n      } else {\n        Object.keys(reqs).forEach((uid) => {\n          if (reqs[uid]) reqs[uid].abort()\n          delete reqs[uid]\n        })\n      }\n    }\n    const post = (rawFile) => {\n      const { uid } = rawFile\n      const options = {\n        headers: props.headers,\n        withCredentials: props.withCredentials,\n        file: rawFile,\n        data: props.data,\n        filename: props.name,\n        action: props.action,\n        onProgress: (e) => {\n          onProgress(e, rawFile)\n        },\n        onSuccess: (res) => {\n          onSuccess(res, rawFile)\n          delete reqs[uid]\n        },\n        onError: (err) => {\n          onError(err, rawFile)\n          delete reqs[uid]\n        }\n      }\n      const req = httpRequest(options)\n      reqs[uid] = req\n      if (req && req.then) {\n        req.then(options.onSuccess, options.onError)\n      }\n    }\n    const handleClick = () => {\n      if (!unref(disabled)) {\n        input.value.value = null\n        input.value.click()\n      }\n    }\n    const handleKeydown = (e) => {\n      if (e.target !== e.currentTarget) return\n      if (e.keyCode === 13 || e.keyCode === 32) {\n        handleClick()\n      }\n    }\n    return {\n      mouseover,\n      isImage,\n      handleChange,\n      uploadFiles,\n      handleClick,\n      handleKeydown,\n      post,\n      upload,\n      input,\n      reqs,\n      abort\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-upload\"\n    :class=\"{ [`el-upload--${listType}`]: true }\"\n    @click=\"handleClick\"\n    @keydown=\"handleKeydown\"\n    tabindex=\"0\"\n  >\n    <upload-dragger v-if=\"drag\" :disabled=\"disabled\" @file=\"uploadFiles\">\n      <slot></slot>\n    </upload-dragger>\n    <slot v-else></slot>\n    <input\n      class=\"el-upload__input\"\n      type=\"file\"\n      ref=\"input\"\n      :name=\"name\"\n      @change=\"handleChange\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n    />\n  </div>\n</template>\n<script>\nimport ajax from './ajax'\nimport UploadDragger from './upload-dragger.vue'\nimport { ref, reactive, toRefs, unref } from 'vue'\n\nexport default {\n  inject: ['uploader'],\n  components: {\n    UploadDragger\n  },\n  props: {\n    type: String,\n    action: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      default: 'file'\n    },\n    data: Object,\n    headers: Object,\n    withCredentials: Boolean,\n    multiple: Boolean,\n    accept: String,\n    onStart: Function,\n    onProgress: Function,\n    onSuccess: Function,\n    onError: Function,\n    beforeUpload: Function,\n    drag: Boolean,\n    onPreview: {\n      type: Function,\n      default: function () {}\n    },\n    onRemove: {\n      type: Function,\n      default: function () {}\n    },\n    fileList: Array,\n    autoUpload: Boolean,\n    listType: String,\n    httpRequest: {\n      type: Function,\n      default: ajax\n    },\n    disabled: Boolean,\n    limit: Number,\n    onExceed: Function\n  },\n\n  setup(props) {\n    const { limit, fileList, onExceed, multiple, autoUpload } = toRefs(props)\n    // eslint-disable-next-line vue/no-setup-props-destructure\n    const {\n      onStart,\n      beforeUpload,\n      httpRequest,\n      onProgress,\n      onSuccess,\n      onError,\n      disabled,\n      onRemove\n    } = props\n    const mouseover = ref(false)\n    const reqs = reactive({})\n    const input = ref(null)\n    const isImage = (str) => {\n      return str.indexOf('image') !== -1\n    }\n    const handleChange = (ev) => {\n      const files = ev.target.files\n      if (!files) return\n      uploadFiles(files)\n    }\n    const uploadFiles = (files) => {\n      if (limit.value && fileList.length + files.length > limit.value) {\n        onExceed && onExceed(files, fileList)\n        return\n      }\n\n      let postFiles = Array.prototype.slice.call(files)\n      if (!multiple.value) {\n        postFiles = postFiles.slice(0, 1)\n      }\n\n      if (postFiles.length === 0) {\n        return\n      }\n\n      postFiles.forEach((rawFile) => {\n        onStart(rawFile)\n        if (autoUpload.value) upload(rawFile)\n      })\n    }\n    const upload = (rawFile) => {\n      input.value.value = null\n\n      if (!beforeUpload) {\n        return post(rawFile)\n      }\n\n      const before = beforeUpload(rawFile)\n      if (before && before.then) {\n        before.then(\n          (processedFile) => {\n            const fileType = Object.prototype.toString.call(processedFile)\n\n            if (fileType === '[object File]' || fileType === '[object Blob]') {\n              if (fileType === '[object Blob]') {\n                processedFile = new File([processedFile], rawFile.name, {\n                  type: rawFile.type\n                })\n              }\n              for (const p in rawFile) {\n                if (Object.hasOwnProperty.call(rawFile, p)) {\n                  processedFile[p] = rawFile[p]\n                }\n              }\n              post(processedFile)\n            } else {\n              post(rawFile)\n            }\n          },\n          () => {\n            onRemove(null, rawFile)\n          }\n        )\n      } else if (before !== false) {\n        post(rawFile)\n      } else {\n        onRemove(null, rawFile)\n      }\n    }\n    const abort = (file) => {\n      if (file) {\n        let uid = file\n        if (file.uid) uid = file.uid\n        if (reqs[uid]) {\n          reqs[uid].abort()\n        }\n      } else {\n        Object.keys(reqs).forEach((uid) => {\n          if (reqs[uid]) reqs[uid].abort()\n          delete reqs[uid]\n        })\n      }\n    }\n    const post = (rawFile) => {\n      const { uid } = rawFile\n      const options = {\n        headers: props.headers,\n        withCredentials: props.withCredentials,\n        file: rawFile,\n        data: props.data,\n        filename: props.name,\n        action: props.action,\n        onProgress: (e) => {\n          onProgress(e, rawFile)\n        },\n        onSuccess: (res) => {\n          onSuccess(res, rawFile)\n          delete reqs[uid]\n        },\n        onError: (err) => {\n          onError(err, rawFile)\n          delete reqs[uid]\n        }\n      }\n      const req = httpRequest(options)\n      reqs[uid] = req\n      if (req && req.then) {\n        req.then(options.onSuccess, options.onError)\n      }\n    }\n    const handleClick = () => {\n      if (!unref(disabled)) {\n        input.value.value = null\n        input.value.click()\n      }\n    }\n    const handleKeydown = (e) => {\n      if (e.target !== e.currentTarget) return\n      if (e.keyCode === 13 || e.keyCode === 32) {\n        handleClick()\n      }\n    }\n    return {\n      mouseover,\n      isImage,\n      handleChange,\n      uploadFiles,\n      handleClick,\n      handleKeydown,\n      post,\n      upload,\n      input,\n      reqs,\n      abort\n    }\n  }\n}\n</script>\n","import { kebabCase } from '../utils/util'\n/**\n * Show migrating guide in browser console.\n *\n * Usage:\n * import Migrating from 'element-ui/src/mixins/migrating';\n *\n * mixins: [Migrating]\n *\n * add getMigratingConfig method for your component.\n *  getMigratingConfig() {\n *    return {\n *      props: {\n *        'allow-no-selection': 'allow-no-selection is removed.',\n *        'selection-mode': 'selection-mode is removed.'\n *      },\n *      events: {\n *        selectionchange: 'selectionchange is renamed to selection-change.'\n *      }\n *    };\n *  },\n */\nexport default {\n  mounted() {\n    if (process.env.NODE_ENV === 'production') return\n    if (!this.$vnode) return\n    const { props = {}, events = {} } = this.getMigratingConfig()\n    const { data, componentOptions } = this.$vnode\n    const definedProps = data.attrs || {}\n    const definedEvents = componentOptions.listeners || {}\n\n    for (let propName in definedProps) {\n      propName = kebabCase(propName) // compatible with camel case\n      if (props[propName]) {\n        console.warn(\n          `[Element Migrating][${this.$options.name}][Attribute]: ${props[propName]}`\n        )\n      }\n    }\n\n    for (let eventName in definedEvents) {\n      eventName = kebabCase(eventName) // compatible with camel case\n      if (events[eventName]) {\n        console.warn(\n          `[Element Migrating][${this.$options.name}][Event]: ${events[eventName]}`\n        )\n      }\n    }\n  },\n  methods: {\n    getMigratingConfig() {\n      return {\n        props: {},\n        events: {}\n      }\n    }\n  }\n}\n","<template>\n  <div>\n    <UploadList\n      :disabled=\"uploadDisabled\"\n      :listType=\"listType\"\n      :files=\"uploadFiles\"\n      @remove=\"handleRemove\"\n      :handlePreview=\"onPreview\"\n      v-if=\"listType === 'picture-card' && showFileList\"\n    >\n      <template v-if=\"$slots.file\" #default=\"props\">\n        <slot name=\"file\" :file=\"props.file\"></slot>\n      </template>\n    </UploadList>\n\n    <div v-if=\"$slots.trigger\">\n      <upload\n        :type=\"type\"\n        :drag=\"drag\"\n        :action=\"action\"\n        :multiple=\"multiple\"\n        :before-upload=\"beforeUpload\"\n        :with-credentials=\"withCredentials\"\n        :headers=\"headers\"\n        :name=\"name\"\n        :data=\"data\"\n        :accept=\"accept\"\n        :fileList=\"uploadFiles\"\n        :autoUpload=\"autoUpload\"\n        :listType=\"listType\"\n        :disabled=\"uploadDisabled\"\n        :limit=\"limit\"\n        @exceed=\"onExceed\"\n        @start=\"handleStart\"\n        @progress=\"handleProgress\"\n        @success=\"handleSuccess\"\n        @error=\"handleError\"\n        @preview=\"onPreview\"\n        @remove=\"handleRemove\"\n        :http-request=\"httpRequest\"\n        ref=\"uploadInner\"\n      >\n        <slot name=\"trigger\"></slot>\n      </upload>\n      <slot></slot>\n    </div>\n    <upload\n      :type=\"type\"\n      :drag=\"drag\"\n      :action=\"action\"\n      :multiple=\"multiple\"\n      :before-upload=\"beforeUpload\"\n      :with-credentials=\"withCredentials\"\n      :headers=\"headers\"\n      :name=\"name\"\n      :data=\"data\"\n      :accept=\"accept\"\n      :fileList=\"uploadFiles\"\n      :autoUpload=\"autoUpload\"\n      :listType=\"listType\"\n      :disabled=\"uploadDisabled\"\n      :limit=\"limit\"\n      @exceed=\"onExceed\"\n      @start=\"handleStart\"\n      @progress=\"handleProgress\"\n      @success=\"handleSuccess\"\n      @error=\"handleError\"\n      @preview=\"onPreview\"\n      @remove=\"handleRemove\"\n      :http-request=\"httpRequest\"\n      ref=\"uploadInner\"\n      v-else\n    >\n      <slot name=\"trigger\"></slot>\n      <slot></slot>\n    </upload>\n\n    <slot name=\"tip\"></slot>\n\n    <UploadList\n      :disabled=\"uploadDisabled\"\n      :listType=\"listType\"\n      :files=\"uploadFiles\"\n      @remove=\"handleRemove\"\n      :handlePreview=\"onPreview\"\n      v-if=\"listType !== 'picture-card' && showFileList\"\n    >\n      <template v-if=\"$slots.file\" #default=\"props\">\n        <slot name=\"file\" :file=\"props.file\"></slot>\n      </template>\n    </UploadList>\n  </div>\n</template>\n\n<script>\nimport UploadList from './upload-list'\nimport Upload from './upload'\nimport Migrating from '../../../src/mixins/migrating'\nimport {\n  ref,\n  unref,\n  reactive,\n  toRefs,\n  inject,\n  computed,\n  watch,\n  onUnmounted\n} from 'vue'\n\nfunction noop() {}\n\nexport default {\n  name: 'ElUpload',\n\n  mixins: [Migrating],\n\n  components: {\n    UploadList,\n    Upload\n  },\n\n  provide() {\n    return {\n      uploader: this\n    }\n  },\n\n  inject: {\n    elForm: {\n      default: ''\n    }\n  },\n\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    headers: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    data: Object,\n    multiple: Boolean,\n    name: {\n      type: String,\n      default: 'file'\n    },\n    drag: Boolean,\n    dragger: Boolean,\n    withCredentials: Boolean,\n    showFileList: {\n      type: Boolean,\n      default: true\n    },\n    accept: String,\n    type: {\n      type: String,\n      default: 'select'\n    },\n    beforeUpload: Function,\n    beforeRemove: Function,\n    onRemove: {\n      type: Function,\n      default: noop\n    },\n    onChange: {\n      type: Function,\n      default: noop\n    },\n    onPreview: {\n      type: Function\n    },\n    onSuccess: {\n      type: Function,\n      default: noop\n    },\n    onProgress: {\n      type: Function,\n      default: noop\n    },\n    onError: {\n      type: Function,\n      default: noop\n    },\n    fileList: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: 'text' // text,picture,picture-card\n    },\n    httpRequest: Function,\n    disabled: Boolean,\n    limit: Number,\n    onExceed: {\n      type: Function,\n      default: noop\n    }\n  },\n\n  setup(props) {\n    const { disabled, listType, fileList } = toRefs(props)\n    // eslint-disable-next-line vue/no-setup-props-destructure\n    const {\n      onRemove,\n      beforeRemove,\n      onProgress,\n      onSuccess,\n      onError,\n      onChange\n    } = props\n    let tempIndex = 1\n    let uploadFiles = reactive(\n      fileList.value.map((item) => {\n        item.uid = item.uid || Date.now() + tempIndex++\n        item.status = item.status || 'success'\n        return item\n      })\n    )\n    const dragOver = ref(false)\n    const draging = ref(false)\n    const uploadInner = ref(null)\n    const uploadDisabled = computed(() => {\n      const elForm = inject('elForm', {})\n      return disabled.value || unref((elForm || {}).disabled)\n    })\n\n    watch(listType, (type) => {\n      if (type === 'picture-card' || type === 'picture') {\n        uploadFiles.forEach((file) => {\n          if (!file.url && file.raw) {\n            try {\n              file.url = URL.createObjectURL(file.raw)\n            } catch (err) {\n              console.error('[Element Error][Upload]', err)\n            }\n          }\n        })\n      }\n    })\n\n    onUnmounted(() => {\n      uploadFiles.forEach((file) => {\n        if (file.url && file.url.indexOf('blob:') === 0) {\n          URL.revokeObjectURL(file.url)\n        }\n      })\n    })\n\n    const abort = (file) => {\n      uploadInner.value.abort(file)\n    }\n\n    const getFile = (rawFile) => {\n      const fileList = uploadFiles\n      let target\n      fileList.every((item) => {\n        target = rawFile.uid === item.uid ? item : null\n        return !target\n      })\n      return target\n    }\n\n    const handleRemove = (file, raw) => {\n      if (raw) {\n        file = getFile(raw)\n      }\n      const doRemove = () => {\n        abort(file)\n        const fileList = uploadFiles\n        fileList.splice(fileList.indexOf(file), 1)\n        onRemove(file, fileList)\n      }\n\n      if (!beforeRemove) {\n        doRemove()\n      } else if (typeof beforeRemove === 'function') {\n        const before = beforeRemove(file, uploadFiles)\n        if (before && before.then) {\n          before.then(() => {\n            doRemove()\n          }, noop)\n        } else if (before !== false) {\n          doRemove()\n        }\n      }\n    }\n\n    const handleProgress = (ev, rawFile) => {\n      const file = getFile(rawFile)\n      onProgress(ev, file, uploadFiles)\n      file.status = 'uploading'\n      file.percentage = ev.percent || 0\n    }\n\n    const handleSuccess = (res, rawFile) => {\n      const file = getFile(rawFile)\n\n      if (file) {\n        file.status = 'success'\n        file.response = res\n\n        onSuccess(res, file, uploadFiles)\n        onChange(file, uploadFiles)\n      }\n    }\n\n    const handleError = (err, rawFile) => {\n      const file = getFile(rawFile)\n      const fileList = uploadFiles\n\n      file.status = 'fail'\n\n      fileList.splice(fileList.indexOf(file), 1)\n\n      onError(err, file, uploadFiles)\n      onChange(file, uploadFiles)\n    }\n\n    const handleStart = (rawFile) => {\n      rawFile.uid = Date.now() + tempIndex++\n\n      const file = {\n        status: 'ready',\n        name: rawFile.name,\n        size: rawFile.size,\n        percentage: 0,\n        uid: rawFile.uid,\n        raw: rawFile\n      }\n\n      if (unref(listType) === 'picture-card' || unref(listType) === 'picture') {\n        try {\n          file.url = URL.createObjectURL(rawFile)\n        } catch (err) {\n          console.error('[Element Error][Upload]', err)\n          return\n        }\n      }\n\n      uploadFiles.push(file)\n      onChange(file, uploadFiles)\n    }\n\n    const clearFiles = () => {\n      uploadFiles = []\n    }\n\n    const submit = () => {\n      uploadFiles\n        .filter((file) => file.status === 'ready')\n        .forEach((file) => {\n          uploadInner.value.upload(file.raw)\n        })\n    }\n\n    const getMigratingConfig = () => {\n      return {\n        props: {\n          'default-file-list': 'default-file-list is renamed to file-list.',\n          'show-upload-list': 'show-upload-list is renamed to show-file-list.',\n          'thumbnail-mode':\n            'thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan'\n        }\n      }\n    }\n\n    return {\n      uploadFiles,\n      uploadInner,\n      dragOver,\n      draging,\n      uploadDisabled,\n      handleRemove,\n      abort,\n      handleStart,\n      handleProgress,\n      handleSuccess,\n      handleError,\n      clearFiles,\n      submit,\n      getMigratingConfig\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <UploadList\n      :disabled=\"uploadDisabled\"\n      :listType=\"listType\"\n      :files=\"uploadFiles\"\n      @remove=\"handleRemove\"\n      :handlePreview=\"onPreview\"\n      v-if=\"listType === 'picture-card' && showFileList\"\n    >\n      <template v-if=\"$slots.file\" #default=\"props\">\n        <slot name=\"file\" :file=\"props.file\"></slot>\n      </template>\n    </UploadList>\n\n    <div v-if=\"$slots.trigger\">\n      <upload\n        :type=\"type\"\n        :drag=\"drag\"\n        :action=\"action\"\n        :multiple=\"multiple\"\n        :before-upload=\"beforeUpload\"\n        :with-credentials=\"withCredentials\"\n        :headers=\"headers\"\n        :name=\"name\"\n        :data=\"data\"\n        :accept=\"accept\"\n        :fileList=\"uploadFiles\"\n        :autoUpload=\"autoUpload\"\n        :listType=\"listType\"\n        :disabled=\"uploadDisabled\"\n        :limit=\"limit\"\n        @exceed=\"onExceed\"\n        @start=\"handleStart\"\n        @progress=\"handleProgress\"\n        @success=\"handleSuccess\"\n        @error=\"handleError\"\n        @preview=\"onPreview\"\n        @remove=\"handleRemove\"\n        :http-request=\"httpRequest\"\n        ref=\"uploadInner\"\n      >\n        <slot name=\"trigger\"></slot>\n      </upload>\n      <slot></slot>\n    </div>\n    <upload\n      :type=\"type\"\n      :drag=\"drag\"\n      :action=\"action\"\n      :multiple=\"multiple\"\n      :before-upload=\"beforeUpload\"\n      :with-credentials=\"withCredentials\"\n      :headers=\"headers\"\n      :name=\"name\"\n      :data=\"data\"\n      :accept=\"accept\"\n      :fileList=\"uploadFiles\"\n      :autoUpload=\"autoUpload\"\n      :listType=\"listType\"\n      :disabled=\"uploadDisabled\"\n      :limit=\"limit\"\n      @exceed=\"onExceed\"\n      @start=\"handleStart\"\n      @progress=\"handleProgress\"\n      @success=\"handleSuccess\"\n      @error=\"handleError\"\n      @preview=\"onPreview\"\n      @remove=\"handleRemove\"\n      :http-request=\"httpRequest\"\n      ref=\"uploadInner\"\n      v-else\n    >\n      <slot name=\"trigger\"></slot>\n      <slot></slot>\n    </upload>\n\n    <slot name=\"tip\"></slot>\n\n    <UploadList\n      :disabled=\"uploadDisabled\"\n      :listType=\"listType\"\n      :files=\"uploadFiles\"\n      @remove=\"handleRemove\"\n      :handlePreview=\"onPreview\"\n      v-if=\"listType !== 'picture-card' && showFileList\"\n    >\n      <template v-if=\"$slots.file\" #default=\"props\">\n        <slot name=\"file\" :file=\"props.file\"></slot>\n      </template>\n    </UploadList>\n  </div>\n</template>\n\n<script>\nimport UploadList from './upload-list'\nimport Upload from './upload'\nimport Migrating from '../../../src/mixins/migrating'\nimport {\n  ref,\n  unref,\n  reactive,\n  toRefs,\n  inject,\n  computed,\n  watch,\n  onUnmounted\n} from 'vue'\n\nfunction noop() {}\n\nexport default {\n  name: 'ElUpload',\n\n  mixins: [Migrating],\n\n  components: {\n    UploadList,\n    Upload\n  },\n\n  provide() {\n    return {\n      uploader: this\n    }\n  },\n\n  inject: {\n    elForm: {\n      default: ''\n    }\n  },\n\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    headers: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    data: Object,\n    multiple: Boolean,\n    name: {\n      type: String,\n      default: 'file'\n    },\n    drag: Boolean,\n    dragger: Boolean,\n    withCredentials: Boolean,\n    showFileList: {\n      type: Boolean,\n      default: true\n    },\n    accept: String,\n    type: {\n      type: String,\n      default: 'select'\n    },\n    beforeUpload: Function,\n    beforeRemove: Function,\n    onRemove: {\n      type: Function,\n      default: noop\n    },\n    onChange: {\n      type: Function,\n      default: noop\n    },\n    onPreview: {\n      type: Function\n    },\n    onSuccess: {\n      type: Function,\n      default: noop\n    },\n    onProgress: {\n      type: Function,\n      default: noop\n    },\n    onError: {\n      type: Function,\n      default: noop\n    },\n    fileList: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    autoUpload: {\n      type: Boolean,\n      default: true\n    },\n    listType: {\n      type: String,\n      default: 'text' // text,picture,picture-card\n    },\n    httpRequest: Function,\n    disabled: Boolean,\n    limit: Number,\n    onExceed: {\n      type: Function,\n      default: noop\n    }\n  },\n\n  setup(props) {\n    const { disabled, listType, fileList } = toRefs(props)\n    // eslint-disable-next-line vue/no-setup-props-destructure\n    const {\n      onRemove,\n      beforeRemove,\n      onProgress,\n      onSuccess,\n      onError,\n      onChange\n    } = props\n    let tempIndex = 1\n    let uploadFiles = reactive(\n      fileList.value.map((item) => {\n        item.uid = item.uid || Date.now() + tempIndex++\n        item.status = item.status || 'success'\n        return item\n      })\n    )\n    const dragOver = ref(false)\n    const draging = ref(false)\n    const uploadInner = ref(null)\n    const uploadDisabled = computed(() => {\n      const elForm = inject('elForm', {})\n      return disabled.value || unref((elForm || {}).disabled)\n    })\n\n    watch(listType, (type) => {\n      if (type === 'picture-card' || type === 'picture') {\n        uploadFiles.forEach((file) => {\n          if (!file.url && file.raw) {\n            try {\n              file.url = URL.createObjectURL(file.raw)\n            } catch (err) {\n              console.error('[Element Error][Upload]', err)\n            }\n          }\n        })\n      }\n    })\n\n    onUnmounted(() => {\n      uploadFiles.forEach((file) => {\n        if (file.url && file.url.indexOf('blob:') === 0) {\n          URL.revokeObjectURL(file.url)\n        }\n      })\n    })\n\n    const abort = (file) => {\n      uploadInner.value.abort(file)\n    }\n\n    const getFile = (rawFile) => {\n      const fileList = uploadFiles\n      let target\n      fileList.every((item) => {\n        target = rawFile.uid === item.uid ? item : null\n        return !target\n      })\n      return target\n    }\n\n    const handleRemove = (file, raw) => {\n      if (raw) {\n        file = getFile(raw)\n      }\n      const doRemove = () => {\n        abort(file)\n        const fileList = uploadFiles\n        fileList.splice(fileList.indexOf(file), 1)\n        onRemove(file, fileList)\n      }\n\n      if (!beforeRemove) {\n        doRemove()\n      } else if (typeof beforeRemove === 'function') {\n        const before = beforeRemove(file, uploadFiles)\n        if (before && before.then) {\n          before.then(() => {\n            doRemove()\n          }, noop)\n        } else if (before !== false) {\n          doRemove()\n        }\n      }\n    }\n\n    const handleProgress = (ev, rawFile) => {\n      const file = getFile(rawFile)\n      onProgress(ev, file, uploadFiles)\n      file.status = 'uploading'\n      file.percentage = ev.percent || 0\n    }\n\n    const handleSuccess = (res, rawFile) => {\n      const file = getFile(rawFile)\n\n      if (file) {\n        file.status = 'success'\n        file.response = res\n\n        onSuccess(res, file, uploadFiles)\n        onChange(file, uploadFiles)\n      }\n    }\n\n    const handleError = (err, rawFile) => {\n      const file = getFile(rawFile)\n      const fileList = uploadFiles\n\n      file.status = 'fail'\n\n      fileList.splice(fileList.indexOf(file), 1)\n\n      onError(err, file, uploadFiles)\n      onChange(file, uploadFiles)\n    }\n\n    const handleStart = (rawFile) => {\n      rawFile.uid = Date.now() + tempIndex++\n\n      const file = {\n        status: 'ready',\n        name: rawFile.name,\n        size: rawFile.size,\n        percentage: 0,\n        uid: rawFile.uid,\n        raw: rawFile\n      }\n\n      if (unref(listType) === 'picture-card' || unref(listType) === 'picture') {\n        try {\n          file.url = URL.createObjectURL(rawFile)\n        } catch (err) {\n          console.error('[Element Error][Upload]', err)\n          return\n        }\n      }\n\n      uploadFiles.push(file)\n      onChange(file, uploadFiles)\n    }\n\n    const clearFiles = () => {\n      uploadFiles = []\n    }\n\n    const submit = () => {\n      uploadFiles\n        .filter((file) => file.status === 'ready')\n        .forEach((file) => {\n          uploadInner.value.upload(file.raw)\n        })\n    }\n\n    const getMigratingConfig = () => {\n      return {\n        props: {\n          'default-file-list': 'default-file-list is renamed to file-list.',\n          'show-upload-list': 'show-upload-list is renamed to show-file-list.',\n          'thumbnail-mode':\n            'thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan'\n        }\n      }\n    }\n\n    return {\n      uploadFiles,\n      uploadInner,\n      dragOver,\n      draging,\n      uploadDisabled,\n      handleRemove,\n      abort,\n      handleStart,\n      handleProgress,\n      handleSuccess,\n      handleError,\n      clearFiles,\n      submit,\n      getMigratingConfig\n    }\n  }\n}\n</script>\n","import Upload from './src'\n\n/* istanbul ignore next */\nUpload.install = function (app) {\n  app.component(Upload.name, Upload)\n}\n\nexport default Upload\n","<template>\n  <div\n    class=\"el-rate\"\n    @keydown=\"handleKey\"\n    role=\"slider\"\n    :aria-valuenow=\"modelValue\"\n    :aria-valuetext=\"text\"\n    aria-valuemin=\"0\"\n    :aria-valuemax=\"max\"\n    tabindex=\"0\"\n  >\n    <span\n      v-for=\"(item, key) in max\"\n      class=\"el-rate__item\"\n      @mousemove=\"setCurrentValue(item, $event)\"\n      @mouseleave=\"resetCurrentValue\"\n      @click=\"selectValue(item)\"\n      :style=\"{ cursor: rateDisabled ? 'auto' : 'pointer' }\"\n      :key=\"key\"\n    >\n      <i\n        class=\"el-rate__icon\"\n        :class=\"[classes[item - 1], { hover: hoverIndex === item }]\"\n        :style=\"getIconStyle(item)\"\n      >\n        <i\n          class=\"el-rate__decimal\"\n          v-if=\"showDecimalIcon(item)\"\n          :class=\"decimalIconClass\"\n          :style=\"decimalStyle\"\n        ></i>\n      </i>\n    </span>\n    <span\n      v-if=\"showText || showScore\"\n      class=\"el-rate__text\"\n      :style=\"{ color: textColor }\"\n      >{{ text }}</span\n    >\n  </div>\n</template>\n\n<script>\nimport {\n  inject,\n  toRefs,\n  computed,\n  unref,\n  ref,\n  watch,\n  getCurrentInstance\n} from 'vue'\nimport { hasClass } from '../../src/utils/dom'\nimport { migrating } from '../../src/use/migrating'\n\nexport default {\n  name: 'ElRate',\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    lowThreshold: {\n      type: Number,\n      default: 2\n    },\n    highThreshold: {\n      type: Number,\n      default: 4\n    },\n    max: {\n      type: Number,\n      default: 5\n    },\n    colors: {\n      type: [Array, Object],\n      default() {\n        return ['#F7BA2A', '#F7BA2A', '#F7BA2A']\n      }\n    },\n    voidColor: {\n      type: String,\n      default: '#C6D1DE'\n    },\n    disabledVoidColor: {\n      type: String,\n      default: '#EFF2F7'\n    },\n    iconClasses: {\n      type: [Array, Object],\n      default() {\n        return ['el-icon-star-on', 'el-icon-star-on', 'el-icon-star-on']\n      }\n    },\n    voidIconClass: {\n      type: String,\n      default: 'el-icon-star-off'\n    },\n    disabledVoidIconClass: {\n      type: String,\n      default: 'el-icon-star-on'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    allowHalf: {\n      type: Boolean,\n      default: false\n    },\n    showText: {\n      type: Boolean,\n      default: false\n    },\n    showScore: {\n      type: Boolean,\n      default: false\n    },\n    textColor: {\n      type: String,\n      default: '#1f2d3d'\n    },\n    texts: {\n      type: Array,\n      default() {\n        return ['极差', '失望', '一般', '满意', '惊喜']\n      }\n    },\n    scoreTemplate: {\n      type: String,\n      default: '{value}'\n    }\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props, { emit }) {\n    const {\n      modelValue,\n      disabled,\n      allowHalf,\n      disabledVoidIconClass,\n      voidIconClass,\n      iconClasses,\n      max,\n      lowThreshold,\n      highThreshold,\n      texts,\n      colors,\n      voidColor,\n      disabledVoidColor,\n      showScore,\n      scoreTemplate,\n      showText\n    } = toRefs(props)\n\n    migrating({\n      'text-template': 'text-template is renamed to score-template.'\n    })\n\n    modelValue || emit('update:modelValue', 0)\n\n    const elForm = inject('elForm', {})\n\n    const rateDisabled = useDisabled(disabled, elForm)\n\n    const {\n      currentValue,\n      hoverIndex,\n      pointerAtLeftHalf,\n      setCurrentValue,\n      resetCurrentValue,\n      selectValue,\n      handleKey\n    } = useCurrentValue({\n      modelValue,\n      allowHalf,\n      rateDisabled,\n      max\n    })\n\n    const { classMap, colorMap } = useMaps({\n      colors,\n      iconClasses,\n      lowThreshold,\n      highThreshold,\n      max\n    })\n\n    const { classes, decimalIconClass } = useClasses({\n      currentValue,\n      modelValue,\n      classMap,\n      allowHalf,\n      max,\n      rateDisabled,\n      disabledVoidIconClass,\n      voidIconClass\n    })\n\n    const { activeColor, getIconStyle } = useColor({\n      currentValue,\n      colorMap,\n      rateDisabled,\n      disabledVoidColor,\n      voidColorProp: voidColor\n    })\n\n    const { decimalStyle, showDecimalIcon } = useDecimal({\n      currentValue,\n      modelValue,\n      allowHalf,\n      rateDisabled,\n      pointerAtLeftHalf,\n      activeColor\n    })\n\n    const text = computed(() => {\n      let result = ''\n      if (showScore.value) {\n        result = scoreTemplate.value.replace(\n          /\\{\\s*value\\s*\\}/,\n          unref(rateDisabled) ? modelValue.value : currentValue.value\n        )\n      } else if (showText.value) {\n        result = texts.value[Math.ceil(currentValue.value) - 1]\n      }\n      return result\n    })\n\n    return {\n      // state\n      rateDisabled,\n      classMap,\n      classes,\n      text,\n      hoverIndex,\n      decimalStyle,\n      decimalIconClass,\n      // methods\n      getIconStyle,\n      setCurrentValue,\n      resetCurrentValue,\n      selectValue,\n      handleKey,\n      showDecimalIcon\n    }\n  }\n}\n\nconst getValueFromMap = (value, map) => {\n  map = unref(map)\n  const matchedKeys = Object.keys(map)\n    .filter((key) => {\n      const val = map[key]\n      const excluded = val instanceof Object ? val.excluded : false\n      return excluded ? value < key : value <= key\n    })\n    .sort((a, b) => a - b)\n  const matchedValue = map[matchedKeys[0]]\n  return matchedValue instanceof Object\n    ? matchedValue.value\n    : matchedValue || ''\n}\n\nconst useDisabled = (disabled, elForm) => {\n  return computed(() => disabled.value || elForm.disabled)\n}\n\nconst useMaps = ({ colors, iconClasses, lowThreshold, highThreshold, max }) => {\n  const useMap = (mapData, { lowThreshold, highThreshold, max }) => {\n    return computed(() =>\n      Array.isArray(mapData)\n        ? {\n            [lowThreshold.value]: mapData[0],\n            [highThreshold.value]: { value: mapData[1], excluded: true },\n            [max.value]: mapData[2]\n          }\n        : mapData\n    )\n  }\n  return {\n    classMap: useMap(unref(iconClasses), { lowThreshold, highThreshold, max }),\n    colorMap: useMap(unref(colors), { lowThreshold, highThreshold, max })\n  }\n}\n\nconst useClasses = ({\n  currentValue,\n  modelValue,\n  classMap,\n  allowHalf,\n  max,\n  rateDisabled,\n  disabledVoidIconClass,\n  voidIconClass\n}) => {\n  const activeClass = computed(() =>\n    getValueFromMap(currentValue.value, unref(classMap))\n  )\n  const voidClass = computed(() =>\n    unref(rateDisabled) ? disabledVoidIconClass.value : voidIconClass.value\n  )\n  const decimalIconClass = computed(() =>\n    getValueFromMap(modelValue.value, unref(classMap))\n  )\n\n  const classes = computed(() => {\n    const result = []\n    let i = 0\n    let threshold = currentValue.value\n    if (\n      allowHalf.value &&\n      currentValue.value !== Math.floor(currentValue.value)\n    ) {\n      threshold--\n    }\n    for (; i < threshold; i++) {\n      result.push(activeClass.value)\n    }\n    for (; i < max.value; i++) {\n      result.push(voidClass.value)\n    }\n    return result\n  })\n\n  return {\n    classes,\n    decimalIconClass\n  }\n}\n\nconst useColor = ({\n  currentValue,\n  colorMap,\n  rateDisabled,\n  disabledVoidColor,\n  voidColorProp\n}) => {\n  const activeColor = computed(() =>\n    getValueFromMap(currentValue.value, colorMap)\n  )\n  const getIconStyle = (item) => {\n    const voidColor = rateDisabled.value\n      ? disabledVoidColor.value\n      : voidColorProp.value\n    return {\n      color: unref(item <= currentValue.value ? activeColor.value : voidColor)\n    }\n  }\n  return {\n    activeColor,\n    getIconStyle\n  }\n}\n\nconst useDecimal = ({\n  currentValue,\n  modelValue,\n  allowHalf,\n  rateDisabled,\n  pointerAtLeftHalf,\n  activeColor\n}) => {\n  const valueDecimal = computed(\n    () => modelValue.value * 100 - Math.floor(modelValue.value) * 100\n  )\n  const decimalStyle = computed(() => {\n    let width = ''\n    if (unref(rateDisabled)) {\n      width = `${valueDecimal.value}%`\n    } else if (allowHalf.value) {\n      width = '50%'\n    }\n    return {\n      color: activeColor.value,\n      width\n    }\n  })\n\n  const showDecimalIcon = (item) => {\n    const showWhenDisabled =\n      unref(rateDisabled) &&\n      valueDecimal.value > 0 &&\n      item - 1 < modelValue.value &&\n      item > modelValue.value\n    /* istanbul ignore next */\n    const showWhenAllowHalf =\n      allowHalf.value &&\n      pointerAtLeftHalf &&\n      item - 0.5 <= currentValue.value &&\n      item > currentValue.value\n    return showWhenDisabled || showWhenAllowHalf\n  }\n\n  return {\n    decimalStyle,\n    showDecimalIcon\n  }\n}\n\nconst useCurrentValue = ({ modelValue, allowHalf, rateDisabled, max }) => {\n  const { emit } = getCurrentInstance()\n  const currentValue = ref(modelValue.value)\n  const pointerAtLeftHalf = ref(false)\n  const hoverIndex = ref(-1)\n  watch(modelValue, (v) => {\n    currentValue.value = v\n  })\n\n  const setCurrentValue = (value, event) => {\n    if (rateDisabled.value) {\n      return\n    }\n    /* istanbul ignore if */\n    if (allowHalf.value) {\n      let target = event.target\n      if (hasClass(target, 'el-rate__item')) {\n        target = target.querySelector('.el-rate__icon')\n      }\n      if (hasClass(target, 'el-rate__decimal')) {\n        target = target.parentNode\n      }\n      pointerAtLeftHalf.value = event.offsetX * 2 <= target.clientWidth\n      currentValue.value = pointerAtLeftHalf.value ? value - 0.5 : value\n    } else {\n      currentValue.value = value\n    }\n    hoverIndex.value = value\n  }\n\n  const resetCurrentValue = () => {\n    if (rateDisabled.value) {\n      return\n    }\n    if (allowHalf.value) {\n      pointerAtLeftHalf.value =\n        modelValue.value !== Math.floor(modelValue.value)\n    }\n    currentValue.value = modelValue.value\n    hoverIndex.value = -1\n  }\n\n  const selectValue = (value) => {\n    if (rateDisabled.value) {\n      return\n    }\n    if (allowHalf.value && pointerAtLeftHalf.value) {\n      emit('update:modelValue', currentValue.value)\n      emit('change', currentValue.value)\n    } else {\n      emit('update:modelValue', value)\n      emit('change', value)\n    }\n  }\n\n  const handleKey = (e) => {\n    if (rateDisabled.value) {\n      return\n    }\n    let value = currentValue.value\n    const keyCode = e.keyCode\n    if (keyCode === 38 || keyCode === 39) {\n      // left / down\n      if (allowHalf.value) {\n        value += 0.5\n      } else {\n        value += 1\n      }\n      e.stopPropagation()\n      e.preventDefault()\n    } else if (keyCode === 37 || keyCode === 40) {\n      if (allowHalf.value) {\n        value -= 0.5\n      } else {\n        value -= 1\n      }\n      e.stopPropagation()\n      e.preventDefault()\n    }\n    value = value < 0 ? 0 : value\n    value = value > max.value ? max.value : value\n\n    emit('update:modelValue', value)\n    emit('change', value)\n  }\n\n  return {\n    currentValue,\n    hoverIndex,\n    pointerAtLeftHalf,\n    setCurrentValue,\n    resetCurrentValue,\n    selectValue,\n    handleKey\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-rate\"\n    @keydown=\"handleKey\"\n    role=\"slider\"\n    :aria-valuenow=\"modelValue\"\n    :aria-valuetext=\"text\"\n    aria-valuemin=\"0\"\n    :aria-valuemax=\"max\"\n    tabindex=\"0\"\n  >\n    <span\n      v-for=\"(item, key) in max\"\n      class=\"el-rate__item\"\n      @mousemove=\"setCurrentValue(item, $event)\"\n      @mouseleave=\"resetCurrentValue\"\n      @click=\"selectValue(item)\"\n      :style=\"{ cursor: rateDisabled ? 'auto' : 'pointer' }\"\n      :key=\"key\"\n    >\n      <i\n        class=\"el-rate__icon\"\n        :class=\"[classes[item - 1], { hover: hoverIndex === item }]\"\n        :style=\"getIconStyle(item)\"\n      >\n        <i\n          class=\"el-rate__decimal\"\n          v-if=\"showDecimalIcon(item)\"\n          :class=\"decimalIconClass\"\n          :style=\"decimalStyle\"\n        ></i>\n      </i>\n    </span>\n    <span\n      v-if=\"showText || showScore\"\n      class=\"el-rate__text\"\n      :style=\"{ color: textColor }\"\n      >{{ text }}</span\n    >\n  </div>\n</template>\n\n<script>\nimport {\n  inject,\n  toRefs,\n  computed,\n  unref,\n  ref,\n  watch,\n  getCurrentInstance\n} from 'vue'\nimport { hasClass } from '../../src/utils/dom'\nimport { migrating } from '../../src/use/migrating'\n\nexport default {\n  name: 'ElRate',\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    lowThreshold: {\n      type: Number,\n      default: 2\n    },\n    highThreshold: {\n      type: Number,\n      default: 4\n    },\n    max: {\n      type: Number,\n      default: 5\n    },\n    colors: {\n      type: [Array, Object],\n      default() {\n        return ['#F7BA2A', '#F7BA2A', '#F7BA2A']\n      }\n    },\n    voidColor: {\n      type: String,\n      default: '#C6D1DE'\n    },\n    disabledVoidColor: {\n      type: String,\n      default: '#EFF2F7'\n    },\n    iconClasses: {\n      type: [Array, Object],\n      default() {\n        return ['el-icon-star-on', 'el-icon-star-on', 'el-icon-star-on']\n      }\n    },\n    voidIconClass: {\n      type: String,\n      default: 'el-icon-star-off'\n    },\n    disabledVoidIconClass: {\n      type: String,\n      default: 'el-icon-star-on'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    allowHalf: {\n      type: Boolean,\n      default: false\n    },\n    showText: {\n      type: Boolean,\n      default: false\n    },\n    showScore: {\n      type: Boolean,\n      default: false\n    },\n    textColor: {\n      type: String,\n      default: '#1f2d3d'\n    },\n    texts: {\n      type: Array,\n      default() {\n        return ['极差', '失望', '一般', '满意', '惊喜']\n      }\n    },\n    scoreTemplate: {\n      type: String,\n      default: '{value}'\n    }\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props, { emit }) {\n    const {\n      modelValue,\n      disabled,\n      allowHalf,\n      disabledVoidIconClass,\n      voidIconClass,\n      iconClasses,\n      max,\n      lowThreshold,\n      highThreshold,\n      texts,\n      colors,\n      voidColor,\n      disabledVoidColor,\n      showScore,\n      scoreTemplate,\n      showText\n    } = toRefs(props)\n\n    migrating({\n      'text-template': 'text-template is renamed to score-template.'\n    })\n\n    modelValue || emit('update:modelValue', 0)\n\n    const elForm = inject('elForm', {})\n\n    const rateDisabled = useDisabled(disabled, elForm)\n\n    const {\n      currentValue,\n      hoverIndex,\n      pointerAtLeftHalf,\n      setCurrentValue,\n      resetCurrentValue,\n      selectValue,\n      handleKey\n    } = useCurrentValue({\n      modelValue,\n      allowHalf,\n      rateDisabled,\n      max\n    })\n\n    const { classMap, colorMap } = useMaps({\n      colors,\n      iconClasses,\n      lowThreshold,\n      highThreshold,\n      max\n    })\n\n    const { classes, decimalIconClass } = useClasses({\n      currentValue,\n      modelValue,\n      classMap,\n      allowHalf,\n      max,\n      rateDisabled,\n      disabledVoidIconClass,\n      voidIconClass\n    })\n\n    const { activeColor, getIconStyle } = useColor({\n      currentValue,\n      colorMap,\n      rateDisabled,\n      disabledVoidColor,\n      voidColorProp: voidColor\n    })\n\n    const { decimalStyle, showDecimalIcon } = useDecimal({\n      currentValue,\n      modelValue,\n      allowHalf,\n      rateDisabled,\n      pointerAtLeftHalf,\n      activeColor\n    })\n\n    const text = computed(() => {\n      let result = ''\n      if (showScore.value) {\n        result = scoreTemplate.value.replace(\n          /\\{\\s*value\\s*\\}/,\n          unref(rateDisabled) ? modelValue.value : currentValue.value\n        )\n      } else if (showText.value) {\n        result = texts.value[Math.ceil(currentValue.value) - 1]\n      }\n      return result\n    })\n\n    return {\n      // state\n      rateDisabled,\n      classMap,\n      classes,\n      text,\n      hoverIndex,\n      decimalStyle,\n      decimalIconClass,\n      // methods\n      getIconStyle,\n      setCurrentValue,\n      resetCurrentValue,\n      selectValue,\n      handleKey,\n      showDecimalIcon\n    }\n  }\n}\n\nconst getValueFromMap = (value, map) => {\n  map = unref(map)\n  const matchedKeys = Object.keys(map)\n    .filter((key) => {\n      const val = map[key]\n      const excluded = val instanceof Object ? val.excluded : false\n      return excluded ? value < key : value <= key\n    })\n    .sort((a, b) => a - b)\n  const matchedValue = map[matchedKeys[0]]\n  return matchedValue instanceof Object\n    ? matchedValue.value\n    : matchedValue || ''\n}\n\nconst useDisabled = (disabled, elForm) => {\n  return computed(() => disabled.value || elForm.disabled)\n}\n\nconst useMaps = ({ colors, iconClasses, lowThreshold, highThreshold, max }) => {\n  const useMap = (mapData, { lowThreshold, highThreshold, max }) => {\n    return computed(() =>\n      Array.isArray(mapData)\n        ? {\n            [lowThreshold.value]: mapData[0],\n            [highThreshold.value]: { value: mapData[1], excluded: true },\n            [max.value]: mapData[2]\n          }\n        : mapData\n    )\n  }\n  return {\n    classMap: useMap(unref(iconClasses), { lowThreshold, highThreshold, max }),\n    colorMap: useMap(unref(colors), { lowThreshold, highThreshold, max })\n  }\n}\n\nconst useClasses = ({\n  currentValue,\n  modelValue,\n  classMap,\n  allowHalf,\n  max,\n  rateDisabled,\n  disabledVoidIconClass,\n  voidIconClass\n}) => {\n  const activeClass = computed(() =>\n    getValueFromMap(currentValue.value, unref(classMap))\n  )\n  const voidClass = computed(() =>\n    unref(rateDisabled) ? disabledVoidIconClass.value : voidIconClass.value\n  )\n  const decimalIconClass = computed(() =>\n    getValueFromMap(modelValue.value, unref(classMap))\n  )\n\n  const classes = computed(() => {\n    const result = []\n    let i = 0\n    let threshold = currentValue.value\n    if (\n      allowHalf.value &&\n      currentValue.value !== Math.floor(currentValue.value)\n    ) {\n      threshold--\n    }\n    for (; i < threshold; i++) {\n      result.push(activeClass.value)\n    }\n    for (; i < max.value; i++) {\n      result.push(voidClass.value)\n    }\n    return result\n  })\n\n  return {\n    classes,\n    decimalIconClass\n  }\n}\n\nconst useColor = ({\n  currentValue,\n  colorMap,\n  rateDisabled,\n  disabledVoidColor,\n  voidColorProp\n}) => {\n  const activeColor = computed(() =>\n    getValueFromMap(currentValue.value, colorMap)\n  )\n  const getIconStyle = (item) => {\n    const voidColor = rateDisabled.value\n      ? disabledVoidColor.value\n      : voidColorProp.value\n    return {\n      color: unref(item <= currentValue.value ? activeColor.value : voidColor)\n    }\n  }\n  return {\n    activeColor,\n    getIconStyle\n  }\n}\n\nconst useDecimal = ({\n  currentValue,\n  modelValue,\n  allowHalf,\n  rateDisabled,\n  pointerAtLeftHalf,\n  activeColor\n}) => {\n  const valueDecimal = computed(\n    () => modelValue.value * 100 - Math.floor(modelValue.value) * 100\n  )\n  const decimalStyle = computed(() => {\n    let width = ''\n    if (unref(rateDisabled)) {\n      width = `${valueDecimal.value}%`\n    } else if (allowHalf.value) {\n      width = '50%'\n    }\n    return {\n      color: activeColor.value,\n      width\n    }\n  })\n\n  const showDecimalIcon = (item) => {\n    const showWhenDisabled =\n      unref(rateDisabled) &&\n      valueDecimal.value > 0 &&\n      item - 1 < modelValue.value &&\n      item > modelValue.value\n    /* istanbul ignore next */\n    const showWhenAllowHalf =\n      allowHalf.value &&\n      pointerAtLeftHalf &&\n      item - 0.5 <= currentValue.value &&\n      item > currentValue.value\n    return showWhenDisabled || showWhenAllowHalf\n  }\n\n  return {\n    decimalStyle,\n    showDecimalIcon\n  }\n}\n\nconst useCurrentValue = ({ modelValue, allowHalf, rateDisabled, max }) => {\n  const { emit } = getCurrentInstance()\n  const currentValue = ref(modelValue.value)\n  const pointerAtLeftHalf = ref(false)\n  const hoverIndex = ref(-1)\n  watch(modelValue, (v) => {\n    currentValue.value = v\n  })\n\n  const setCurrentValue = (value, event) => {\n    if (rateDisabled.value) {\n      return\n    }\n    /* istanbul ignore if */\n    if (allowHalf.value) {\n      let target = event.target\n      if (hasClass(target, 'el-rate__item')) {\n        target = target.querySelector('.el-rate__icon')\n      }\n      if (hasClass(target, 'el-rate__decimal')) {\n        target = target.parentNode\n      }\n      pointerAtLeftHalf.value = event.offsetX * 2 <= target.clientWidth\n      currentValue.value = pointerAtLeftHalf.value ? value - 0.5 : value\n    } else {\n      currentValue.value = value\n    }\n    hoverIndex.value = value\n  }\n\n  const resetCurrentValue = () => {\n    if (rateDisabled.value) {\n      return\n    }\n    if (allowHalf.value) {\n      pointerAtLeftHalf.value =\n        modelValue.value !== Math.floor(modelValue.value)\n    }\n    currentValue.value = modelValue.value\n    hoverIndex.value = -1\n  }\n\n  const selectValue = (value) => {\n    if (rateDisabled.value) {\n      return\n    }\n    if (allowHalf.value && pointerAtLeftHalf.value) {\n      emit('update:modelValue', currentValue.value)\n      emit('change', currentValue.value)\n    } else {\n      emit('update:modelValue', value)\n      emit('change', value)\n    }\n  }\n\n  const handleKey = (e) => {\n    if (rateDisabled.value) {\n      return\n    }\n    let value = currentValue.value\n    const keyCode = e.keyCode\n    if (keyCode === 38 || keyCode === 39) {\n      // left / down\n      if (allowHalf.value) {\n        value += 0.5\n      } else {\n        value += 1\n      }\n      e.stopPropagation()\n      e.preventDefault()\n    } else if (keyCode === 37 || keyCode === 40) {\n      if (allowHalf.value) {\n        value -= 0.5\n      } else {\n        value -= 1\n      }\n      e.stopPropagation()\n      e.preventDefault()\n    }\n    value = value < 0 ? 0 : value\n    value = value > max.value ? max.value : value\n\n    emit('update:modelValue', value)\n    emit('change', value)\n  }\n\n  return {\n    currentValue,\n    hoverIndex,\n    pointerAtLeftHalf,\n    setCurrentValue,\n    resetCurrentValue,\n    selectValue,\n    handleKey\n  }\n}\n</script>\n","import Rate from './Rate'\n\n/* istanbul ignore next */\nRate.install = function (app) {\n  app.component(Rate.name, Rate)\n}\n\nexport default Rate\n","/* eslint-disable no-case-declarations */\n/* eslint-disable prefer-const */\nconst hsv2hsl = function (hue, sat, val) {\n  return [\n    hue,\n    (sat * val) / ((hue = (2 - sat) * val) < 1 ? hue : 2 - hue) || 0,\n    hue / 2\n  ]\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nconst isOnePointZero = function (n) {\n  return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1\n}\n\nconst isPercentage = function (n) {\n  return typeof n === 'string' && n.indexOf('%') !== -1\n}\n\n// Take input from [0, n] and return it as [0, 1]\nconst bound01 = function (value, max) {\n  if (isOnePointZero(value)) value = '100%'\n\n  const processPercent = isPercentage(value)\n  value = Math.min(max, Math.max(0, parseFloat(value)))\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    value = parseInt(value * max, 10) / 100\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(value - max) < 0.000001) {\n    return 1\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return (value % max) / parseFloat(max)\n}\n\nconst INT_HEX_MAP = { 10: 'A', 11: 'B', 12: 'C', 13: 'D', 14: 'E', 15: 'F' }\n\nconst toHex = function ({ r, g, b }) {\n  const hexOne = function (value) {\n    value = Math.min(Math.round(value), 255)\n    const high = Math.floor(value / 16)\n    const low = value % 16\n    return '' + (INT_HEX_MAP[high] || high) + (INT_HEX_MAP[low] || low)\n  }\n\n  if (isNaN(r) || isNaN(g) || isNaN(b)) return ''\n\n  return '#' + hexOne(r) + hexOne(g) + hexOne(b)\n}\n\nconst HEX_INT_MAP = { A: 10, B: 11, C: 12, D: 13, E: 14, F: 15 }\n\nconst parseHexChannel = function (hex) {\n  if (hex.length === 2) {\n    return (\n      (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 +\n      (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1])\n    )\n  }\n\n  return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]\n}\n\nconst hsl2hsv = function (hue, sat, light) {\n  sat = sat / 100\n  light = light / 100\n  let smin = sat\n  const lmin = Math.max(light, 0.01)\n  let sv\n  let v\n\n  light *= 2\n  sat *= light <= 1 ? light : 2 - light\n  smin *= lmin <= 1 ? lmin : 2 - lmin\n  v = (light + sat) / 2\n  sv = light === 0 ? (2 * smin) / (lmin + smin) : (2 * sat) / (light + sat)\n\n  return {\n    h: hue,\n    s: sv * 100,\n    v: v * 100\n  }\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nconst rgb2hsv = function (r, g, b) {\n  r = bound01(r, 255)\n  g = bound01(g, 255)\n  b = bound01(b, 255)\n\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n  let h, s\n  const v = max\n\n  const d = max - min\n  s = max === 0 ? 0 : d / max\n\n  if (max === min) {\n    h = 0 // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / d + 2\n        break\n      case b:\n        h = (r - g) / d + 4\n        break\n    }\n    h /= 6\n  }\n\n  return { h: h * 360, s: s * 100, v: v * 100 }\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nconst hsv2rgb = function (h, s, v) {\n  h = bound01(h, 360) * 6\n  s = bound01(s, 100)\n  v = bound01(v, 100)\n\n  const i = Math.floor(h)\n  const f = h - i\n  const p = v * (1 - s)\n  const q = v * (1 - f * s)\n  const t = v * (1 - (1 - f) * s)\n  const mod = i % 6\n  const r = [v, q, p, p, t, v][mod]\n  const g = [t, v, v, q, p, p][mod]\n  const b = [p, p, t, v, v, q][mod]\n\n  return {\n    r: Math.round(r * 255),\n    g: Math.round(g * 255),\n    b: Math.round(b * 255)\n  }\n}\n\nexport default class Color {\n  constructor(options) {\n    this._hue = 0\n    this._saturation = 100\n    this._value = 100\n    this._alpha = 100\n\n    this.enableAlpha = false\n    this.format = 'hex'\n    this.value = ''\n\n    options = options || {}\n\n    for (const option in options) {\n      if (Object.hasOwnProperty.call(options, option)) {\n        this[option] = options[option]\n      }\n    }\n\n    this.doOnChange()\n  }\n\n  set(prop, value) {\n    if (arguments.length === 1 && typeof prop === 'object') {\n      for (const p in prop) {\n        if (Object.hasOwnProperty.call(prop, p)) {\n          this.set(p, prop[p])\n        }\n      }\n\n      return\n    }\n\n    this['_' + prop] = value\n    this.doOnChange()\n  }\n\n  get(prop) {\n    return this['_' + prop]\n  }\n\n  toRgb() {\n    return hsv2rgb(this._hue, this._saturation, this._value)\n  }\n\n  fromString(value) {\n    if (!value) {\n      this._hue = 0\n      this._saturation = 100\n      this._value = 100\n\n      this.doOnChange()\n      return\n    }\n\n    const fromHSV = (h, s, v) => {\n      this._hue = Math.max(0, Math.min(360, h))\n      this._saturation = Math.max(0, Math.min(100, s))\n      this._value = Math.max(0, Math.min(100, v))\n\n      this.doOnChange()\n    }\n\n    if (value.indexOf('hsl') !== -1) {\n      const parts = value\n        .replace(/hsla|hsl|\\(|\\)/gm, '')\n        .split(/\\s|,/g)\n        .filter((val) => val !== '')\n        .map((val, index) => (index > 2 ? parseFloat(val) : parseInt(val, 10)))\n\n      if (parts.length === 4) {\n        this._alpha = Math.floor(parseFloat(parts[3]) * 100)\n      } else if (parts.length === 3) {\n        this._alpha = 100\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = hsl2hsv(parts[0], parts[1], parts[2])\n        fromHSV(h, s, v)\n      }\n    } else if (value.indexOf('hsv') !== -1) {\n      const parts = value\n        .replace(/hsva|hsv|\\(|\\)/gm, '')\n        .split(/\\s|,/g)\n        .filter((val) => val !== '')\n        .map((val, index) => (index > 2 ? parseFloat(val) : parseInt(val, 10)))\n\n      if (parts.length === 4) {\n        this._alpha = Math.floor(parseFloat(parts[3]) * 100)\n      } else if (parts.length === 3) {\n        this._alpha = 100\n      }\n      if (parts.length >= 3) {\n        fromHSV(parts[0], parts[1], parts[2])\n      }\n    } else if (value.indexOf('rgb') !== -1) {\n      const parts = value\n        .replace(/rgba|rgb|\\(|\\)/gm, '')\n        .split(/\\s|,/g)\n        .filter((val) => val !== '')\n        .map((val, index) => (index > 2 ? parseFloat(val) : parseInt(val, 10)))\n\n      if (parts.length === 4) {\n        this._alpha = Math.floor(parseFloat(parts[3]) * 100)\n      } else if (parts.length === 3) {\n        this._alpha = 100\n      }\n      if (parts.length >= 3) {\n        const { h, s, v } = rgb2hsv(parts[0], parts[1], parts[2])\n        fromHSV(h, s, v)\n      }\n    } else if (value.indexOf('#') !== -1) {\n      const hex = value.replace('#', '').trim()\n      if (!/^(?:[0-9a-fA-F]{3}){1,2}$/.test(hex)) return\n      let r, g, b\n\n      if (hex.length === 3) {\n        r = parseHexChannel(hex[0] + hex[0])\n        g = parseHexChannel(hex[1] + hex[1])\n        b = parseHexChannel(hex[2] + hex[2])\n      } else if (hex.length === 6 || hex.length === 8) {\n        r = parseHexChannel(hex.substring(0, 2))\n        g = parseHexChannel(hex.substring(2, 4))\n        b = parseHexChannel(hex.substring(4, 6))\n      }\n\n      if (hex.length === 8) {\n        this._alpha = Math.floor(\n          (parseHexChannel(hex.substring(6)) / 255) * 100\n        )\n      } else if (hex.length === 3 || hex.length === 6) {\n        this._alpha = 100\n      }\n\n      const { h, s, v } = rgb2hsv(r, g, b)\n      fromHSV(h, s, v)\n    }\n  }\n\n  compare(color) {\n    return (\n      Math.abs(color._hue - this._hue) < 2 &&\n      Math.abs(color._saturation - this._saturation) < 1 &&\n      Math.abs(color._value - this._value) < 1 &&\n      Math.abs(color._alpha - this._alpha) < 1\n    )\n  }\n\n  doOnChange() {\n    const { _hue, _saturation, _value, _alpha, format } = this\n\n    if (this.enableAlpha) {\n      switch (format) {\n        case 'hsl':\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100)\n          this.value = `hsla(${_hue}, ${Math.round(\n            hsl[1] * 100\n          )}%, ${Math.round(hsl[2] * 100)}%, ${_alpha / 100})`\n          break\n        case 'hsv':\n          this.value = `hsva(${_hue}, ${Math.round(_saturation)}%, ${Math.round(\n            _value\n          )}%, ${_alpha / 100})`\n          break\n        default:\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value)\n          this.value = `rgba(${r}, ${g}, ${b}, ${_alpha / 100})`\n      }\n    } else {\n      switch (format) {\n        case 'hsl':\n          const hsl = hsv2hsl(_hue, _saturation / 100, _value / 100)\n          this.value = `hsl(${_hue}, ${Math.round(hsl[1] * 100)}%, ${Math.round(\n            hsl[2] * 100\n          )}%)`\n          break\n        case 'hsv':\n          this.value = `hsv(${_hue}, ${Math.round(_saturation)}%, ${Math.round(\n            _value\n          )}%)`\n          break\n        case 'rgb':\n          const { r, g, b } = hsv2rgb(_hue, _saturation, _value)\n          this.value = `rgb(${r}, ${g}, ${b})`\n          break\n        default:\n          this.value = toHex(hsv2rgb(_hue, _saturation, _value))\n      }\n    }\n  }\n}\n","let isDragging = false\n\nexport default function (element, options) {\n  // if (Vue.prototype.$isServer) return\n  const moveFn = function (event) {\n    if (options.drag) {\n      options.drag(event)\n    }\n  }\n  const upFn = function (event) {\n    document.removeEventListener('mousemove', moveFn)\n    document.removeEventListener('mouseup', upFn)\n    document.onselectstart = null\n    document.ondragstart = null\n\n    isDragging = false\n\n    if (options.end) {\n      options.end(event)\n    }\n  }\n  element.addEventListener('mousedown', function (event) {\n    if (isDragging) return\n    document.onselectstart = function () {\n      return false\n    }\n    document.ondragstart = function () {\n      return false\n    }\n\n    document.addEventListener('mousemove', moveFn)\n    document.addEventListener('mouseup', upFn)\n    isDragging = true\n\n    if (options.start) {\n      options.start(event)\n    }\n  })\n}\n","<template>\n  <div\n    class=\"el-color-svpanel\"\n    ref=\"panel\"\n    :style=\"{\n      backgroundColor: background\n    }\"\n  >\n    <div class=\"el-color-svpanel__white\"></div>\n    <div class=\"el-color-svpanel__black\"></div>\n    <div\n      class=\"el-color-svpanel__cursor\"\n      :style=\"{\n        top: cursorTop + 'px',\n        left: cursorLeft + 'px'\n      }\"\n    >\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  onMounted,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-sl-panel',\n\n  props: {\n    color: {\n      required: true\n    }\n  },\n\n  setup(props) {\n    const state = reactive({\n      cursorTop: 0,\n      cursorLeft: 0,\n      background: 'hsl(0, 100%, 50%)'\n    })\n\n    const instance = getCurrentInstance()\n\n    const colorValue = computed(() => {\n      const hue = props.color.get('hue')\n      const value = props.color.get('value')\n      return { hue, value }\n    })\n\n    watch(colorValue, update)\n\n    onMounted(() => {\n      draggable(instance.refs.panel, {\n        drag: handleDrag,\n        end: handleDrag\n      })\n      update()\n    })\n    function update() {\n      const saturation = props.color.get('saturation')\n      const value = props.color.get('value')\n\n      const el = instance.refs.panel\n      const { clientWidth: width, clientHeight: height } = el\n\n      state.cursorLeft = (saturation * width) / 100\n      state.cursorTop = ((100 - value) * height) / 100\n\n      state.background = 'hsl(' + props.color.get('hue') + ', 100%, 50%)'\n    }\n\n    function handleDrag(event) {\n      const el = instance.refs.panel\n      const rect = el.getBoundingClientRect()\n\n      let left = event.clientX - rect.left\n      let top = event.clientY - rect.top\n      left = Math.max(0, left)\n      left = Math.min(left, rect.width)\n\n      top = Math.max(0, top)\n      top = Math.min(top, rect.height)\n\n      state.cursorLeft = left\n      state.cursorTop = top\n      props.color.set({\n        saturation: (left / rect.width) * 100,\n        value: 100 - (top / rect.height) * 100\n      })\n    }\n    return { ...toRefs(state), handleDrag, update }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-color-svpanel\"\n    ref=\"panel\"\n    :style=\"{\n      backgroundColor: background\n    }\"\n  >\n    <div class=\"el-color-svpanel__white\"></div>\n    <div class=\"el-color-svpanel__black\"></div>\n    <div\n      class=\"el-color-svpanel__cursor\"\n      :style=\"{\n        top: cursorTop + 'px',\n        left: cursorLeft + 'px'\n      }\"\n    >\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  onMounted,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-sl-panel',\n\n  props: {\n    color: {\n      required: true\n    }\n  },\n\n  setup(props) {\n    const state = reactive({\n      cursorTop: 0,\n      cursorLeft: 0,\n      background: 'hsl(0, 100%, 50%)'\n    })\n\n    const instance = getCurrentInstance()\n\n    const colorValue = computed(() => {\n      const hue = props.color.get('hue')\n      const value = props.color.get('value')\n      return { hue, value }\n    })\n\n    watch(colorValue, update)\n\n    onMounted(() => {\n      draggable(instance.refs.panel, {\n        drag: handleDrag,\n        end: handleDrag\n      })\n      update()\n    })\n    function update() {\n      const saturation = props.color.get('saturation')\n      const value = props.color.get('value')\n\n      const el = instance.refs.panel\n      const { clientWidth: width, clientHeight: height } = el\n\n      state.cursorLeft = (saturation * width) / 100\n      state.cursorTop = ((100 - value) * height) / 100\n\n      state.background = 'hsl(' + props.color.get('hue') + ', 100%, 50%)'\n    }\n\n    function handleDrag(event) {\n      const el = instance.refs.panel\n      const rect = el.getBoundingClientRect()\n\n      let left = event.clientX - rect.left\n      let top = event.clientY - rect.top\n      left = Math.max(0, left)\n      left = Math.min(left, rect.width)\n\n      top = Math.max(0, top)\n      top = Math.min(top, rect.height)\n\n      state.cursorLeft = left\n      state.cursorTop = top\n      props.color.set({\n        saturation: (left / rect.width) * 100,\n        value: 100 - (top / rect.height) * 100\n      })\n    }\n    return { ...toRefs(state), handleDrag, update }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-color-hue-slider\" :class=\"{ 'is-vertical': vertical }\">\n    <div class=\"el-color-hue-slider__bar\" @click=\"handleClick\" ref=\"bar\"></div>\n    <div\n      class=\"el-color-hue-slider__thumb\"\n      :style=\"{\n        left: thumbLeft + 'px',\n        top: thumbTop + 'px'\n      }\"\n      ref=\"thumb\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  onMounted,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-color-hue-slider',\n\n  props: {\n    color: {\n      required: true\n    },\n\n    vertical: Boolean\n  },\n  setup(props) {\n    const instance = getCurrentInstance()\n\n    const state = reactive({\n      thumbLeft: 0,\n      thumbTop: 0\n    })\n\n    const hueValue = computed(() => {\n      return props.color.get('hue')\n    })\n\n    watch(hueValue, update)\n\n    function handleClick(event) {\n      const { thumb } = state\n      const target = event.target\n      if (target !== thumb) {\n        handleDrag(event)\n      }\n    }\n\n    function handleDrag(event) {\n      const rect = instance.proxy.$el.getBoundingClientRect()\n      const { thumb } = instance.refs\n      let hue\n\n      if (!props.vertical) {\n        let left = event.clientX - rect.left\n        left = Math.min(left, rect.width - thumb.offsetWidth / 2)\n        left = Math.max(thumb.offsetWidth / 2, left)\n\n        hue = Math.round(\n          ((left - thumb.offsetWidth / 2) / (rect.width - thumb.offsetWidth)) *\n            360\n        )\n      } else {\n        let top = event.clientY - rect.top\n        top = Math.min(top, rect.height - thumb.offsetHeight / 2)\n        top = Math.max(thumb.offsetHeight / 2, top)\n\n        hue = Math.round(\n          ((top - thumb.offsetHeight / 2) /\n            (rect.height - thumb.offsetHeight)) *\n            360\n        )\n      }\n\n      props.color.set('hue', hue)\n    }\n\n    function getThumbLeft() {\n      if (props.vertical) return 0\n      const el = instance.proxy.$el\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round((hue * (el.offsetWidth - thumb.offsetWidth / 2)) / 360)\n    }\n\n    function getThumbTop() {\n      if (!props.vertical) return 0\n      const el = instance.proxy.$el\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (hue * (el.offsetHeight - thumb.offsetHeight / 2)) / 360\n      )\n    }\n    function update() {\n      state.thumbLeft = getThumbLeft()\n      state.thumbTop = getThumbTop()\n    }\n\n    onMounted(() => {\n      const { bar, thumb } = instance.refs\n      const dragConfig = {\n        drag: (event) => handleDrag(event),\n        end: (event) => handleDrag(event)\n      }\n\n      draggable(bar, dragConfig)\n      draggable(thumb, dragConfig)\n      update()\n    })\n    return { ...toRefs(state), handleClick, update }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-color-hue-slider\" :class=\"{ 'is-vertical': vertical }\">\n    <div class=\"el-color-hue-slider__bar\" @click=\"handleClick\" ref=\"bar\"></div>\n    <div\n      class=\"el-color-hue-slider__thumb\"\n      :style=\"{\n        left: thumbLeft + 'px',\n        top: thumbTop + 'px'\n      }\"\n      ref=\"thumb\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  onMounted,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-color-hue-slider',\n\n  props: {\n    color: {\n      required: true\n    },\n\n    vertical: Boolean\n  },\n  setup(props) {\n    const instance = getCurrentInstance()\n\n    const state = reactive({\n      thumbLeft: 0,\n      thumbTop: 0\n    })\n\n    const hueValue = computed(() => {\n      return props.color.get('hue')\n    })\n\n    watch(hueValue, update)\n\n    function handleClick(event) {\n      const { thumb } = state\n      const target = event.target\n      if (target !== thumb) {\n        handleDrag(event)\n      }\n    }\n\n    function handleDrag(event) {\n      const rect = instance.proxy.$el.getBoundingClientRect()\n      const { thumb } = instance.refs\n      let hue\n\n      if (!props.vertical) {\n        let left = event.clientX - rect.left\n        left = Math.min(left, rect.width - thumb.offsetWidth / 2)\n        left = Math.max(thumb.offsetWidth / 2, left)\n\n        hue = Math.round(\n          ((left - thumb.offsetWidth / 2) / (rect.width - thumb.offsetWidth)) *\n            360\n        )\n      } else {\n        let top = event.clientY - rect.top\n        top = Math.min(top, rect.height - thumb.offsetHeight / 2)\n        top = Math.max(thumb.offsetHeight / 2, top)\n\n        hue = Math.round(\n          ((top - thumb.offsetHeight / 2) /\n            (rect.height - thumb.offsetHeight)) *\n            360\n        )\n      }\n\n      props.color.set('hue', hue)\n    }\n\n    function getThumbLeft() {\n      if (props.vertical) return 0\n      const el = instance.proxy.$el\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round((hue * (el.offsetWidth - thumb.offsetWidth / 2)) / 360)\n    }\n\n    function getThumbTop() {\n      if (!props.vertical) return 0\n      const el = instance.proxy.$el\n      const hue = props.color.get('hue')\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (hue * (el.offsetHeight - thumb.offsetHeight / 2)) / 360\n      )\n    }\n    function update() {\n      state.thumbLeft = getThumbLeft()\n      state.thumbTop = getThumbTop()\n    }\n\n    onMounted(() => {\n      const { bar, thumb } = instance.refs\n      const dragConfig = {\n        drag: (event) => handleDrag(event),\n        end: (event) => handleDrag(event)\n      }\n\n      draggable(bar, dragConfig)\n      draggable(thumb, dragConfig)\n      update()\n    })\n    return { ...toRefs(state), handleClick, update }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-color-alpha-slider\" :class=\"{ 'is-vertical': vertical }\">\n    <div\n      class=\"el-color-alpha-slider__bar\"\n      @click=\"handleClick\"\n      ref=\"bar\"\n      :style=\"{\n        background: background\n      }\"\n    ></div>\n    <div\n      class=\"el-color-alpha-slider__thumb\"\n      ref=\"thumb\"\n      :style=\"{\n        left: thumbLeft + 'px',\n        top: thumbTop + 'px'\n      }\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { getCurrentInstance, onMounted, reactive, toRefs, watch } from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-color-alpha-slider',\n\n  props: {\n    color: {\n      required: true\n    },\n    vertical: Boolean\n  },\n\n  setup(props) {\n    const state = reactive({\n      thumbLeft: 0,\n      thumbTop: 0,\n      background: null\n    })\n    const instance = getCurrentInstance()\n\n    watch(props.color, update)\n\n    // watch(() => props.color.value, update)\n\n    onMounted(() => {\n      const { bar, thumb } = instance.refs\n\n      const dragConfig = {\n        drag: (event) => {\n          handleDrag(event)\n        },\n        end: (event) => {\n          handleDrag(event)\n        }\n      }\n\n      draggable(bar, dragConfig)\n      draggable(thumb, dragConfig)\n      update()\n    })\n    function handleClick(event) {\n      const thumb = instance.refs.thumb\n      const target = event.target\n\n      if (target !== thumb) {\n        handleDrag(event)\n      }\n    }\n\n    function handleDrag(event) {\n      const rect = instance.proxy.$el.getBoundingClientRect()\n      const { thumb } = instance.refs\n\n      if (!props.vertical) {\n        let left = event.clientX - rect.left\n        left = Math.max(thumb.offsetWidth / 2, left)\n        left = Math.min(left, rect.width - thumb.offsetWidth / 2)\n\n        props.color.set(\n          'alpha',\n          Math.round(\n            ((left - thumb.offsetWidth / 2) /\n              (rect.width - thumb.offsetWidth)) *\n              100\n          )\n        )\n      } else {\n        let top = event.clientY - rect.top\n        top = Math.max(thumb.offsetHeight / 2, top)\n        top = Math.min(top, rect.height - thumb.offsetHeight / 2)\n\n        props.color.set(\n          'alpha',\n          Math.round(\n            ((top - thumb.offsetHeight / 2) /\n              (rect.height - thumb.offsetHeight)) *\n              100\n          )\n        )\n      }\n    }\n\n    function getThumbLeft() {\n      if (props.vertical) return 0\n      const el = instance.proxy.$el\n      const alpha = props.color._alpha\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (alpha * (el.offsetWidth - thumb.offsetWidth / 2)) / 100\n      )\n    }\n\n    function getThumbTop() {\n      if (!props.vertical) return 0\n      const el = instance.proxy.$el\n      const alpha = props.color._alpha\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (alpha * (el.offsetHeight - thumb.offsetHeight / 2)) / 100\n      )\n    }\n\n    function getBackground() {\n      if (props.color && props.color.value) {\n        const { r, g, b } = props.color.toRgb()\n        return `linear-gradient(to right, rgba(${r}, ${g}, ${b}, 0) 0%, rgba(${r}, ${g}, ${b}, 1) 100%)`\n      }\n      return null\n    }\n\n    function update() {\n      state.thumbLeft = getThumbLeft()\n      state.thumbTop = getThumbTop()\n      state.background = getBackground()\n    }\n\n    return { ...toRefs(state), handleClick, update }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-color-alpha-slider\" :class=\"{ 'is-vertical': vertical }\">\n    <div\n      class=\"el-color-alpha-slider__bar\"\n      @click=\"handleClick\"\n      ref=\"bar\"\n      :style=\"{\n        background: background\n      }\"\n    ></div>\n    <div\n      class=\"el-color-alpha-slider__thumb\"\n      ref=\"thumb\"\n      :style=\"{\n        left: thumbLeft + 'px',\n        top: thumbTop + 'px'\n      }\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { getCurrentInstance, onMounted, reactive, toRefs, watch } from 'vue'\nimport draggable from '../draggable'\n\nexport default {\n  name: 'el-color-alpha-slider',\n\n  props: {\n    color: {\n      required: true\n    },\n    vertical: Boolean\n  },\n\n  setup(props) {\n    const state = reactive({\n      thumbLeft: 0,\n      thumbTop: 0,\n      background: null\n    })\n    const instance = getCurrentInstance()\n\n    watch(props.color, update)\n\n    // watch(() => props.color.value, update)\n\n    onMounted(() => {\n      const { bar, thumb } = instance.refs\n\n      const dragConfig = {\n        drag: (event) => {\n          handleDrag(event)\n        },\n        end: (event) => {\n          handleDrag(event)\n        }\n      }\n\n      draggable(bar, dragConfig)\n      draggable(thumb, dragConfig)\n      update()\n    })\n    function handleClick(event) {\n      const thumb = instance.refs.thumb\n      const target = event.target\n\n      if (target !== thumb) {\n        handleDrag(event)\n      }\n    }\n\n    function handleDrag(event) {\n      const rect = instance.proxy.$el.getBoundingClientRect()\n      const { thumb } = instance.refs\n\n      if (!props.vertical) {\n        let left = event.clientX - rect.left\n        left = Math.max(thumb.offsetWidth / 2, left)\n        left = Math.min(left, rect.width - thumb.offsetWidth / 2)\n\n        props.color.set(\n          'alpha',\n          Math.round(\n            ((left - thumb.offsetWidth / 2) /\n              (rect.width - thumb.offsetWidth)) *\n              100\n          )\n        )\n      } else {\n        let top = event.clientY - rect.top\n        top = Math.max(thumb.offsetHeight / 2, top)\n        top = Math.min(top, rect.height - thumb.offsetHeight / 2)\n\n        props.color.set(\n          'alpha',\n          Math.round(\n            ((top - thumb.offsetHeight / 2) /\n              (rect.height - thumb.offsetHeight)) *\n              100\n          )\n        )\n      }\n    }\n\n    function getThumbLeft() {\n      if (props.vertical) return 0\n      const el = instance.proxy.$el\n      const alpha = props.color._alpha\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (alpha * (el.offsetWidth - thumb.offsetWidth / 2)) / 100\n      )\n    }\n\n    function getThumbTop() {\n      if (!props.vertical) return 0\n      const el = instance.proxy.$el\n      const alpha = props.color._alpha\n\n      if (!el) return 0\n      const thumb = instance.refs.thumb\n      return Math.round(\n        (alpha * (el.offsetHeight - thumb.offsetHeight / 2)) / 100\n      )\n    }\n\n    function getBackground() {\n      if (props.color && props.color.value) {\n        const { r, g, b } = props.color.toRgb()\n        return `linear-gradient(to right, rgba(${r}, ${g}, ${b}, 0) 0%, rgba(${r}, ${g}, ${b}, 1) 100%)`\n      }\n      return null\n    }\n\n    function update() {\n      state.thumbLeft = getThumbLeft()\n      state.thumbTop = getThumbTop()\n      state.background = getBackground()\n    }\n\n    return { ...toRefs(state), handleClick, update }\n  }\n}\n</script>\n","<!--\n * @Author: Mr Chang\n * @Date: 2020-09-02 10:30:20\n * @LastEditTime: 2020-09-18 15:12:00\n * @LastEditors: Mr Chang\n * @Description: \n * @FilePath: \\element3\\packages\\color-picker\\src\\components\\predefine.vue\n-->\n<template>\n  <div class=\"el-color-predefine\">\n    <div class=\"el-color-predefine__colors\">\n      <div\n        class=\"el-color-predefine__color-selector\"\n        :class=\"{ selected: item.selected, 'is-alpha': item._alpha < 100 }\"\n        v-for=\"(item, index) in rgbaColors\"\n        :key=\"colors[index]\"\n        @click=\"handleSelect(index)\"\n      >\n        <div :style=\"{ 'background-color': item.value }\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { inject, reactive, toRefs, watch } from 'vue'\nimport Color from '../color'\n\nexport default {\n  props: {\n    colors: { type: Array, required: true },\n    color: { required: true }\n  },\n  setup(props) {\n    const state = reactive({\n      rgbaColors: parseColors(props.colors, props.color)\n    })\n\n    const currentColor = inject('currentColor')\n    watch(currentColor, (val) => {\n      const color = new Color()\n      color.fromString(val)\n\n      state.rgbaColors.forEach((item) => {\n        item.selected = color.compare(item)\n      })\n    })\n\n    watch(props.colors, (newVal) => {\n      state.rgbaColors = parseColors(newVal, props.color)\n    })\n\n    watch(props.color, (newVal) => {\n      state.rgbaColors = parseColors(props.colors, newVal)\n    })\n    function handleSelect(index) {\n      props.color.fromString(props.colors[index])\n    }\n\n    function parseColors(colors, color) {\n      return colors.map((value) => {\n        const c = new Color()\n        c.enableAlpha = true\n        c.format = 'rgba'\n        c.fromString(value)\n        c.selected = c.value === color.value\n        return c\n      })\n    }\n    return { ...toRefs(state), handleSelect }\n  }\n}\n</script>\n","<!--\n * @Author: Mr Chang\n * @Date: 2020-09-02 10:30:20\n * @LastEditTime: 2020-09-18 15:12:00\n * @LastEditors: Mr Chang\n * @Description: \n * @FilePath: \\element3\\packages\\color-picker\\src\\components\\predefine.vue\n-->\n<template>\n  <div class=\"el-color-predefine\">\n    <div class=\"el-color-predefine__colors\">\n      <div\n        class=\"el-color-predefine__color-selector\"\n        :class=\"{ selected: item.selected, 'is-alpha': item._alpha < 100 }\"\n        v-for=\"(item, index) in rgbaColors\"\n        :key=\"colors[index]\"\n        @click=\"handleSelect(index)\"\n      >\n        <div :style=\"{ 'background-color': item.value }\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { inject, reactive, toRefs, watch } from 'vue'\nimport Color from '../color'\n\nexport default {\n  props: {\n    colors: { type: Array, required: true },\n    color: { required: true }\n  },\n  setup(props) {\n    const state = reactive({\n      rgbaColors: parseColors(props.colors, props.color)\n    })\n\n    const currentColor = inject('currentColor')\n    watch(currentColor, (val) => {\n      const color = new Color()\n      color.fromString(val)\n\n      state.rgbaColors.forEach((item) => {\n        item.selected = color.compare(item)\n      })\n    })\n\n    watch(props.colors, (newVal) => {\n      state.rgbaColors = parseColors(newVal, props.color)\n    })\n\n    watch(props.color, (newVal) => {\n      state.rgbaColors = parseColors(props.colors, newVal)\n    })\n    function handleSelect(index) {\n      props.color.fromString(props.colors[index])\n    }\n\n    function parseColors(colors, color) {\n      return colors.map((value) => {\n        const c = new Color()\n        c.enableAlpha = true\n        c.format = 'rgba'\n        c.fromString(value)\n        c.selected = c.value === color.value\n        return c\n      })\n    }\n    return { ...toRefs(state), handleSelect }\n  }\n}\n</script>\n","<template>\n  <teleport to=\"body\">\n    <transition name=\"el-zoom-in-top\" @after-leave-from=\"doDestroy\">\n      <div\n        class=\"el-color-dropdown\"\n        :class=\"['el-color-picker__panel', popperClass || '']\"\n        ref=\"popperElm\"\n        v-show=\"showPopper\"\n      >\n        <div class=\"el-color-dropdown__main-wrapper\">\n          <hue-slider\n            ref=\"hue\"\n            :color=\"color\"\n            vertical\n            style=\"float: right\"\n          ></hue-slider>\n          <sv-panel ref=\"sl\" :color=\"color\"></sv-panel>\n        </div>\n        <alpha-slider\n          v-if=\"showAlpha\"\n          ref=\"alpha\"\n          :color=\"color\"\n        ></alpha-slider>\n        <predefine\n          v-if=\"predefine\"\n          :color=\"color\"\n          :colors=\"predefine\"\n        ></predefine>\n        <div class=\"el-color-dropdown__btns\">\n          <span class=\"el-color-dropdown__value\">\n            <el-input\n              v-model=\"customInput\"\n              @keyup.enter=\"handleConfirm\"\n              @blur=\"handleConfirm\"\n              :validate-event=\"false\"\n              size=\"mini\"\n            >\n            </el-input>\n          </span>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            class=\"el-color-dropdown__link-btn\"\n            @click=\"$emit('clear')\"\n          >\n            {{ t('el.colorpicker.clear') }}\n          </el-button>\n          <el-button\n            plain\n            size=\"mini\"\n            class=\"el-color-dropdown__btn\"\n            @click=\"confirmValue\"\n          >\n            {{ t('el.colorpicker.confirm') }}\n          </el-button>\n        </div>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  onMounted,\n  provide,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\n\nimport { popperProps, usePopper } from '../../../../src/use/popper.js'\nimport { useLocale } from '../../../../src/use/locale.js'\nimport SvPanel from './sv-panel'\nimport HueSlider from './hue-slider'\nimport AlphaSlider from './alpha-slider'\nimport Predefine from './predefine'\n// import Popper from '../../../../src/utils/vue-popper'\n// import Locale from '../../../../src/mixins/locale'\nimport { ElInput } from '../../../../src/components/Input'\nimport { ElButton } from '../../../../src/components/Button'\n\nexport default {\n  name: 'el-color-picker-dropdown',\n\n  // mixins: [Popper, Locale],\n\n  components: {\n    SvPanel,\n    HueSlider,\n    AlphaSlider,\n    ElInput,\n    ElButton,\n    Predefine\n  },\n\n  emits: ['pick', 'clear', 'update:modelValue', 'created'],\n  props: {\n    ...popperProps,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      required: true\n    },\n    showAlpha: Boolean,\n    predefine: Array,\n    popperClass: String\n  },\n\n  setup(props, context) {\n    const instance = getCurrentInstance()\n    const state = reactive({\n      customInput: '',\n      popperElm: null,\n      referenceElm: null,\n      alpha: null\n    })\n\n    const referenceState = inject('referenceState')\n    const popperState = usePopper(props, context, { ...toRefs(state) })\n    const currentColor = computed(() => {\n      const parent = instance.parent\n      return !parent || !parent.proxy.showPanelColor\n        ? ''\n        : parent.proxy.color.value\n    })\n\n    provide('currentColor', currentColor)\n    watch(popperState.showPopper, (val) => {\n      if (val === true) {\n        nextTick(() => {\n          const { sl, hue, alpha } = instance.refs\n          sl && sl.update()\n          hue && hue.update()\n          alpha && alpha.update()\n        })\n      }\n    })\n\n    watch(\n      currentColor,\n      (val) => {\n        state.customInput = val\n      },\n      {\n        immediate: true\n      }\n    )\n    onMounted(() => {\n      referenceState.popperElm = state.popperElm\n      state.referenceElm = referenceState.referenceElm\n    })\n\n    function confirmValue() {\n      context.emit('pick')\n    }\n\n    function handleConfirm() {\n      props.color.fromString(state.customInput)\n    }\n    const t = useLocale()\n\n    return {\n      ...popperState,\n      ...toRefs(state),\n      confirmValue,\n      handleConfirm,\n      t\n    }\n  }\n}\n</script>\n","<template>\n  <teleport to=\"body\">\n    <transition name=\"el-zoom-in-top\" @after-leave-from=\"doDestroy\">\n      <div\n        class=\"el-color-dropdown\"\n        :class=\"['el-color-picker__panel', popperClass || '']\"\n        ref=\"popperElm\"\n        v-show=\"showPopper\"\n      >\n        <div class=\"el-color-dropdown__main-wrapper\">\n          <hue-slider\n            ref=\"hue\"\n            :color=\"color\"\n            vertical\n            style=\"float: right\"\n          ></hue-slider>\n          <sv-panel ref=\"sl\" :color=\"color\"></sv-panel>\n        </div>\n        <alpha-slider\n          v-if=\"showAlpha\"\n          ref=\"alpha\"\n          :color=\"color\"\n        ></alpha-slider>\n        <predefine\n          v-if=\"predefine\"\n          :color=\"color\"\n          :colors=\"predefine\"\n        ></predefine>\n        <div class=\"el-color-dropdown__btns\">\n          <span class=\"el-color-dropdown__value\">\n            <el-input\n              v-model=\"customInput\"\n              @keyup.enter=\"handleConfirm\"\n              @blur=\"handleConfirm\"\n              :validate-event=\"false\"\n              size=\"mini\"\n            >\n            </el-input>\n          </span>\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            class=\"el-color-dropdown__link-btn\"\n            @click=\"$emit('clear')\"\n          >\n            {{ t('el.colorpicker.clear') }}\n          </el-button>\n          <el-button\n            plain\n            size=\"mini\"\n            class=\"el-color-dropdown__btn\"\n            @click=\"confirmValue\"\n          >\n            {{ t('el.colorpicker.confirm') }}\n          </el-button>\n        </div>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script>\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  onMounted,\n  provide,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\n\nimport { popperProps, usePopper } from '../../../../src/use/popper.js'\nimport { useLocale } from '../../../../src/use/locale.js'\nimport SvPanel from './sv-panel'\nimport HueSlider from './hue-slider'\nimport AlphaSlider from './alpha-slider'\nimport Predefine from './predefine'\n// import Popper from '../../../../src/utils/vue-popper'\n// import Locale from '../../../../src/mixins/locale'\nimport { ElInput } from '../../../../src/components/Input'\nimport { ElButton } from '../../../../src/components/Button'\n\nexport default {\n  name: 'el-color-picker-dropdown',\n\n  // mixins: [Popper, Locale],\n\n  components: {\n    SvPanel,\n    HueSlider,\n    AlphaSlider,\n    ElInput,\n    ElButton,\n    Predefine\n  },\n\n  emits: ['pick', 'clear', 'update:modelValue', 'created'],\n  props: {\n    ...popperProps,\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      required: true\n    },\n    showAlpha: Boolean,\n    predefine: Array,\n    popperClass: String\n  },\n\n  setup(props, context) {\n    const instance = getCurrentInstance()\n    const state = reactive({\n      customInput: '',\n      popperElm: null,\n      referenceElm: null,\n      alpha: null\n    })\n\n    const referenceState = inject('referenceState')\n    const popperState = usePopper(props, context, { ...toRefs(state) })\n    const currentColor = computed(() => {\n      const parent = instance.parent\n      return !parent || !parent.proxy.showPanelColor\n        ? ''\n        : parent.proxy.color.value\n    })\n\n    provide('currentColor', currentColor)\n    watch(popperState.showPopper, (val) => {\n      if (val === true) {\n        nextTick(() => {\n          const { sl, hue, alpha } = instance.refs\n          sl && sl.update()\n          hue && hue.update()\n          alpha && alpha.update()\n        })\n      }\n    })\n\n    watch(\n      currentColor,\n      (val) => {\n        state.customInput = val\n      },\n      {\n        immediate: true\n      }\n    )\n    onMounted(() => {\n      referenceState.popperElm = state.popperElm\n      state.referenceElm = referenceState.referenceElm\n    })\n\n    function confirmValue() {\n      context.emit('pick')\n    }\n\n    function handleConfirm() {\n      props.color.fromString(state.customInput)\n    }\n    const t = useLocale()\n\n    return {\n      ...popperState,\n      ...toRefs(state),\n      confirmValue,\n      handleConfirm,\n      t\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"[\n      'el-color-picker',\n      colorDisabled ? 'is-disabled' : '',\n      colorSize ? `el-color-picker--${colorSize}` : ''\n    ]\"\n    ref=\"referenceElm\"\n    v-clickoutside=\"hide\"\n  >\n    <div class=\"el-color-picker__mask\" v-if=\"colorDisabled\"></div>\n    <div class=\"el-color-picker__trigger\" @click=\"handleTrigger\">\n      <span class=\"el-color-picker__color\" :class=\"{ 'is-alpha': showAlpha }\">\n        <span\n          class=\"el-color-picker__color-inner\"\n          :style=\"{\n            backgroundColor: displayedColor\n          }\"\n        ></span>\n        <span\n          class=\"el-color-picker__empty el-icon-close\"\n          v-if=\"!modelValue && !showPanelColor\"\n        ></span>\n      </span>\n      <span\n        class=\"el-color-picker__icon el-icon-arrow-down\"\n        v-show=\"modelValue || showPanelColor\"\n      ></span>\n    </div>\n    <picker-dropdown\n      ref=\"dropdown\"\n      :popperClass=\"popperClass\"\n      v-model=\"showPicker\"\n      @pick=\"confirmValue\"\n      @clear=\"clearValue\"\n      :color=\"color\"\n      :show-alpha=\"showAlpha\"\n      :predefine=\"predefine\"\n    >\n    </picker-dropdown>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n  inject,\n  toRefs,\n  onMounted,\n  computed,\n  watch,\n  nextTick,\n  provide\n} from 'vue'\n\nimport Color from './color'\nimport PickerDropdown from './components/picker-dropdown.vue'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElColorPicker',\n\n  props: {\n    modelValue: String,\n    showAlpha: Boolean,\n    colorFormat: String,\n    disabled: Boolean,\n    size: String,\n    popperClass: String,\n    predefine: Array\n  },\n  emits: ['active-change', 'input', 'change', 'update:modelValue'],\n  setup(props, context) {\n    const color = new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat\n    })\n    const state = reactive({\n      color,\n      showPicker: false,\n      showPanelColor: false,\n      popperElm: null,\n      referenceElm: null\n    })\n\n    provide('referenceState', state)\n\n    inject('elForm', {})\n    const { dispatch } = useEmitter()\n    const elFormItem = inject('elFormItem', {})\n    const elForm = inject('elForm', {})\n\n    const displayedColor = computed(() => {\n      if (!props.modelValue && !state.showPanelColor) {\n        return 'transparent'\n      }\n      return displayedRgb(state.color, props.showAlpha)\n    })\n\n    const _elFormItemSize = computed(() => {\n      return (elFormItem || {}).elFormItemSize\n    })\n\n    const colorSize = computed(() => {\n      return (\n        props.size || _elFormItemSize.value || (context.$ELEMENT || {}).size\n      )\n    })\n\n    const colorDisabled = computed(() => {\n      return props.disabled || (elForm || {}).disabled\n    })\n\n    watch(\n      () => props.modelValue,\n      (val) => {\n        if (!val) {\n          state.showPanelColor = false\n        } else if (val && val !== state.color.value) {\n          state.color.fromString(val)\n        }\n      }\n    )\n\n    watch(state.color, () => (state.showPanelColor = true), {\n      deep: true\n    })\n\n    watch(displayedColor, (val) => {\n      if (!state.showPicker) return\n      const currentValueColor = new Color({\n        enableAlpha: props.showAlpha,\n        format: props.colorFormat\n      })\n      if (val !== currentValueColor) {\n        context.emit('active-change', val)\n      }\n    })\n    onMounted(() => {\n      const value = props.modelValue\n      if (value) {\n        state.color.fromString(value)\n      }\n    })\n\n    function displayedRgb(color, showAlpha) {\n      if (!(color instanceof Color)) {\n        throw Error('color should be instance of Color Class')\n      }\n\n      const { r, g, b } = color.toRgb()\n      return showAlpha\n        ? `rgba(${r}, ${g}, ${b}, ${color.get('alpha') / 100})`\n        : `rgb(${r}, ${g}, ${b})`\n    }\n    const handleTrigger = () => {\n      if (colorDisabled.value) return\n      state.showPicker = !state.showPicker\n    }\n\n    const confirmValue = () => {\n      const value = state.color.value\n      context.emit('update:modelValue', value)\n      context.emit('change', value)\n      dispatch('ElFormItem', 'el.form.change', value)\n      state.showPicker = false\n    }\n\n    const clearValue = () => {\n      context.emit('update:modelValue', null)\n      context.emit('change', null)\n      if (props.modelValue !== null) {\n        dispatch('ElFormItem', 'el.form.change', null)\n      }\n      state.showPanelColor = false\n      state.showPicker = false\n      resetColor()\n    }\n\n    const hide = () => {\n      state.showPicker = false\n      resetColor()\n    }\n    const resetColor = () => {\n      nextTick(() => {\n        if (props.modelValue) {\n          state.color.fromString(props.modelValue)\n        } else {\n          state.showPanelColor = false\n        }\n      })\n    }\n    return {\n      ...toRefs(state),\n      handleTrigger,\n      confirmValue,\n      clearValue,\n      hide,\n      displayedRgb,\n      colorSize,\n      colorDisabled,\n      displayedColor\n    }\n  },\n\n  directives: { Clickoutside },\n\n  components: {\n    PickerDropdown\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"[\n      'el-color-picker',\n      colorDisabled ? 'is-disabled' : '',\n      colorSize ? `el-color-picker--${colorSize}` : ''\n    ]\"\n    ref=\"referenceElm\"\n    v-clickoutside=\"hide\"\n  >\n    <div class=\"el-color-picker__mask\" v-if=\"colorDisabled\"></div>\n    <div class=\"el-color-picker__trigger\" @click=\"handleTrigger\">\n      <span class=\"el-color-picker__color\" :class=\"{ 'is-alpha': showAlpha }\">\n        <span\n          class=\"el-color-picker__color-inner\"\n          :style=\"{\n            backgroundColor: displayedColor\n          }\"\n        ></span>\n        <span\n          class=\"el-color-picker__empty el-icon-close\"\n          v-if=\"!modelValue && !showPanelColor\"\n        ></span>\n      </span>\n      <span\n        class=\"el-color-picker__icon el-icon-arrow-down\"\n        v-show=\"modelValue || showPanelColor\"\n      ></span>\n    </div>\n    <picker-dropdown\n      ref=\"dropdown\"\n      :popperClass=\"popperClass\"\n      v-model=\"showPicker\"\n      @pick=\"confirmValue\"\n      @clear=\"clearValue\"\n      :color=\"color\"\n      :show-alpha=\"showAlpha\"\n      :predefine=\"predefine\"\n    >\n    </picker-dropdown>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n  inject,\n  toRefs,\n  onMounted,\n  computed,\n  watch,\n  nextTick,\n  provide\n} from 'vue'\n\nimport Color from './color'\nimport PickerDropdown from './components/picker-dropdown.vue'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElColorPicker',\n\n  props: {\n    modelValue: String,\n    showAlpha: Boolean,\n    colorFormat: String,\n    disabled: Boolean,\n    size: String,\n    popperClass: String,\n    predefine: Array\n  },\n  emits: ['active-change', 'input', 'change', 'update:modelValue'],\n  setup(props, context) {\n    const color = new Color({\n      enableAlpha: props.showAlpha,\n      format: props.colorFormat\n    })\n    const state = reactive({\n      color,\n      showPicker: false,\n      showPanelColor: false,\n      popperElm: null,\n      referenceElm: null\n    })\n\n    provide('referenceState', state)\n\n    inject('elForm', {})\n    const { dispatch } = useEmitter()\n    const elFormItem = inject('elFormItem', {})\n    const elForm = inject('elForm', {})\n\n    const displayedColor = computed(() => {\n      if (!props.modelValue && !state.showPanelColor) {\n        return 'transparent'\n      }\n      return displayedRgb(state.color, props.showAlpha)\n    })\n\n    const _elFormItemSize = computed(() => {\n      return (elFormItem || {}).elFormItemSize\n    })\n\n    const colorSize = computed(() => {\n      return (\n        props.size || _elFormItemSize.value || (context.$ELEMENT || {}).size\n      )\n    })\n\n    const colorDisabled = computed(() => {\n      return props.disabled || (elForm || {}).disabled\n    })\n\n    watch(\n      () => props.modelValue,\n      (val) => {\n        if (!val) {\n          state.showPanelColor = false\n        } else if (val && val !== state.color.value) {\n          state.color.fromString(val)\n        }\n      }\n    )\n\n    watch(state.color, () => (state.showPanelColor = true), {\n      deep: true\n    })\n\n    watch(displayedColor, (val) => {\n      if (!state.showPicker) return\n      const currentValueColor = new Color({\n        enableAlpha: props.showAlpha,\n        format: props.colorFormat\n      })\n      if (val !== currentValueColor) {\n        context.emit('active-change', val)\n      }\n    })\n    onMounted(() => {\n      const value = props.modelValue\n      if (value) {\n        state.color.fromString(value)\n      }\n    })\n\n    function displayedRgb(color, showAlpha) {\n      if (!(color instanceof Color)) {\n        throw Error('color should be instance of Color Class')\n      }\n\n      const { r, g, b } = color.toRgb()\n      return showAlpha\n        ? `rgba(${r}, ${g}, ${b}, ${color.get('alpha') / 100})`\n        : `rgb(${r}, ${g}, ${b})`\n    }\n    const handleTrigger = () => {\n      if (colorDisabled.value) return\n      state.showPicker = !state.showPicker\n    }\n\n    const confirmValue = () => {\n      const value = state.color.value\n      context.emit('update:modelValue', value)\n      context.emit('change', value)\n      dispatch('ElFormItem', 'el.form.change', value)\n      state.showPicker = false\n    }\n\n    const clearValue = () => {\n      context.emit('update:modelValue', null)\n      context.emit('change', null)\n      if (props.modelValue !== null) {\n        dispatch('ElFormItem', 'el.form.change', null)\n      }\n      state.showPanelColor = false\n      state.showPicker = false\n      resetColor()\n    }\n\n    const hide = () => {\n      state.showPicker = false\n      resetColor()\n    }\n    const resetColor = () => {\n      nextTick(() => {\n        if (props.modelValue) {\n          state.color.fromString(props.modelValue)\n        } else {\n          state.showPanelColor = false\n        }\n      })\n    }\n    return {\n      ...toRefs(state),\n      handleTrigger,\n      confirmValue,\n      clearValue,\n      hide,\n      displayedRgb,\n      colorSize,\n      colorDisabled,\n      displayedColor\n    }\n  },\n\n  directives: { Clickoutside },\n\n  components: {\n    PickerDropdown\n  }\n}\n</script>\n","import ColorPicker from './src/main'\n\n/* istanbul ignore next */\nColorPicker.install = function (app) {\n  app.component(ColorPicker.name, ColorPicker)\n}\n\nexport default ColorPicker\n","<script>\nimport { inject, h } from 'vue'\n\nexport default {\n  name: 'OptionContent',\n  props: {\n    option: Object,\n    renderContent: Function,\n    labelProp: String,\n    keyProp: String\n  },\n  setup() {\n    const defaultScopedSlots = inject('defaultScopedSlots')\n\n    return {\n      defaultScopedSlots\n    }\n  },\n  render() {\n    return this.renderContent\n      ? this.renderContent(h, this.option)\n      : this.defaultScopedSlots\n      ? this.defaultScopedSlots({ option: this.option })\n      : h('span', this.option[this.labelProp] || this.option[this.keyProp])\n  }\n}\n</script>\n","<template>\n  <div class=\"el-transfer-panel\">\n    <p class=\"el-transfer-panel__header\">\n      <el-checkbox\n        v-model=\"allChecked\"\n        @change=\"handleAllCheckedChange\"\n        :indeterminate=\"isIndeterminate\"\n      >\n        {{ title }}\n        <span>{{ checkedSummary }}</span>\n      </el-checkbox>\n    </p>\n\n    <div\n      :class=\"['el-transfer-panel__body', hasFooter ? 'is-with-footer' : '']\"\n    >\n      <div class=\"el-transfer-panel__filter\">\n        <el-input\n          v-model=\"query\"\n          size=\"small\"\n          clearable\n          :placeholder=\"placeholder\"\n          v-if=\"filterable\"\n        >\n          <template #prefix>\n            <i :class=\"['el-input__icon', 'el-icon-search']\"></i>\n          </template>\n        </el-input>\n      </div>\n      <el-checkbox-group\n        v-model=\"checked\"\n        v-show=\"!hasNoMatch && data.length > 0\"\n        :class=\"{ 'is-filterable': filterable }\"\n        class=\"el-transfer-panel__list\"\n      >\n        <el-checkbox\n          class=\"el-transfer-panel__item\"\n          :label=\"item[keyProp]\"\n          :disabled=\"item[disabledProp]\"\n          :key=\"item[keyProp]\"\n          v-for=\"item in filteredData\"\n        >\n          <option-content\n            :option=\"item\"\n            :render-content=\"renderContent\"\n            :label-prop=\"labelProp\"\n            :key-prop=\"keyProp\"\n          />\n        </el-checkbox>\n      </el-checkbox-group>\n      <p class=\"el-transfer-panel__empty\" v-show=\"hasNoMatch\">\n        {{ t('el.transfer.noMatch') }}\n      </p>\n      <p\n        class=\"el-transfer-panel__empty\"\n        v-show=\"data.length === 0 && !hasNoMatch\"\n      >\n        {{ t('el.transfer.noData') }}\n      </p>\n    </div>\n    <p class=\"el-transfer-panel__footer\" v-if=\"hasFooter\">\n      <slot></slot>\n    </p>\n  </div>\n</template>\n\n<script>\nimport ElCheckboxGroup from '../../checkbox-group'\nimport ElCheckbox from '../../checkbox'\nimport { ElInput } from '../../../src/components/Input'\nimport OptionContent from './OptionContent.vue'\nimport { useLocale } from '../../../src/use/locale'\nimport { reactive, toRefs, computed, watch } from 'vue'\n\nexport default {\n  name: 'ElTransferPanel',\n\n  componentName: 'ElTransferPanel',\n\n  emits: ['checked-change'],\n\n  components: {\n    ElCheckboxGroup,\n    ElCheckbox,\n    ElInput,\n    OptionContent\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    renderContent: Function,\n    placeholder: String,\n    title: String,\n    filterable: Boolean,\n    format: Object,\n    filterMethod: Function,\n    defaultChecked: Array,\n    props: Object\n  },\n\n  setup(props, { emit, slots }) {\n    const t = useLocale()\n\n    const state = reactive({\n      checked: [],\n      allChecked: false,\n      query: '',\n      checkChangeByUser: true\n    })\n\n    const {\n      filteredData,\n      labelProp,\n      keyProp,\n      checkableData,\n      checkedSummary,\n      isIndeterminate,\n      hasNoMatch,\n      disabledProp,\n      hasFooter\n    } = useTransferPanelData(props, state, slots, emit)\n\n    const handleAllCheckedChange = (value) => {\n      state.checked = value\n        ? checkableData.value.map((item) => item[keyProp.value])\n        : []\n    }\n\n    return {\n      t,\n      ...toRefs(state),\n      filteredData,\n      labelProp,\n      keyProp,\n      checkedSummary,\n      isIndeterminate,\n      hasNoMatch,\n      disabledProp,\n      hasFooter,\n      handleAllCheckedChange\n    }\n  }\n}\n\nconst useTransferPanelData = (props, state, slots, emit) => {\n  const filteredData = computed(() => {\n    const { data, filterMethod } = props\n    return data.filter((item) => {\n      if (typeof filterMethod === 'function') {\n        return filterMethod(state.query, item)\n      } else {\n        const label = item[labelProp.value] || item[keyProp.value].toString()\n        return label.toLowerCase().indexOf(state.query.toLowerCase()) > -1\n      }\n    })\n  })\n\n  const labelProp = computed(() => {\n    const { props: p } = props\n    return p.label || 'label'\n  })\n\n  const keyProp = computed(() => {\n    const { props: p } = props\n    return p.key || 'key'\n  })\n\n  const checkableData = computed(() =>\n    filteredData.value.filter((item) => !item[disabledProp.value])\n  )\n\n  const checkedSummary = computed(() => {\n    const { data, format } = props\n    const checkedLength = state.checked.length\n    const dataLength = data.length\n    const { noChecked, hasChecked } = format\n    if (noChecked && hasChecked) {\n      return checkedLength > 0\n        ? hasChecked\n            .replace(/\\${checked}/g, checkedLength)\n            .replace(/\\${total}/g, dataLength)\n        : noChecked.replace(/\\${total}/g, dataLength)\n    } else {\n      return `${checkedLength}/${dataLength}`\n    }\n  })\n\n  const isIndeterminate = computed(() => {\n    const checkedLength = state.checked.length\n    return checkedLength > 0 && checkedLength < checkableData.value.length\n  })\n\n  const hasNoMatch = computed(\n    () => state.query.length > 0 && filteredData.value.length === 0\n  )\n\n  const disabledProp = computed(() => props.props.disabled || 'disabled')\n\n  const hasFooter = computed(() => !!slots.default()[0].children.length)\n\n  const updateAllChecked = () => {\n    const checkableDataKeys = checkableData.value.map(\n      (item) => item[keyProp.value]\n    )\n    state.allChecked =\n      checkableDataKeys.length > 0 &&\n      checkableDataKeys.every((item) => state.checked.indexOf(item) > -1)\n  }\n\n  watch(\n    () => checkableData.value,\n    () => updateAllChecked()\n  )\n\n  watch(\n    () => props.data,\n    () => {\n      const checked = []\n      const filteredDataKeys = filteredData.value.map(\n        (item) => item[keyProp.value]\n      )\n      state.checked.forEach((item) => {\n        if (filteredDataKeys.indexOf(item) > -1) {\n          checked.push(item)\n        }\n      })\n      state.checkChangeByUser = false\n      state.checked = checked\n    }\n  )\n\n  watch(\n    () => state.checked,\n    (val, oldVal) => {\n      updateAllChecked()\n      if (state.checkChangeByUser) {\n        const movedKeys = val\n          .concat(oldVal)\n          .filter((v) => val.indexOf(v) === -1 || oldVal.indexOf(v) === -1)\n        emit('checked-change', val, movedKeys)\n      } else {\n        emit('checked-change', val)\n        state.checkChangeByUser = true\n      }\n    },\n    {\n      deep: true\n    }\n  )\n\n  watch(\n    () => props.defaultChecked,\n    (val, oldVal) => {\n      if (\n        oldVal &&\n        val.length === oldVal.length &&\n        val.every((item) => oldVal.indexOf(item) > -1)\n      )\n        return\n      const checked = []\n      const checkableDataKeys = checkableData.value.map(\n        (item) => item[keyProp.value]\n      )\n      val.forEach((item) => {\n        if (checkableDataKeys.indexOf(item) > -1) {\n          checked.push(item)\n        }\n      })\n      state.checkChangeByUser = false\n      state.checked = checked\n    },\n    {\n      immediate: true\n    }\n  )\n\n  return {\n    filteredData,\n    labelProp,\n    keyProp,\n    checkableData,\n    checkedSummary,\n    isIndeterminate,\n    hasNoMatch,\n    disabledProp,\n    hasFooter,\n    updateAllChecked\n  }\n}\n</script>\n","<template>\n  <div class=\"el-transfer-panel\">\n    <p class=\"el-transfer-panel__header\">\n      <el-checkbox\n        v-model=\"allChecked\"\n        @change=\"handleAllCheckedChange\"\n        :indeterminate=\"isIndeterminate\"\n      >\n        {{ title }}\n        <span>{{ checkedSummary }}</span>\n      </el-checkbox>\n    </p>\n\n    <div\n      :class=\"['el-transfer-panel__body', hasFooter ? 'is-with-footer' : '']\"\n    >\n      <div class=\"el-transfer-panel__filter\">\n        <el-input\n          v-model=\"query\"\n          size=\"small\"\n          clearable\n          :placeholder=\"placeholder\"\n          v-if=\"filterable\"\n        >\n          <template #prefix>\n            <i :class=\"['el-input__icon', 'el-icon-search']\"></i>\n          </template>\n        </el-input>\n      </div>\n      <el-checkbox-group\n        v-model=\"checked\"\n        v-show=\"!hasNoMatch && data.length > 0\"\n        :class=\"{ 'is-filterable': filterable }\"\n        class=\"el-transfer-panel__list\"\n      >\n        <el-checkbox\n          class=\"el-transfer-panel__item\"\n          :label=\"item[keyProp]\"\n          :disabled=\"item[disabledProp]\"\n          :key=\"item[keyProp]\"\n          v-for=\"item in filteredData\"\n        >\n          <option-content\n            :option=\"item\"\n            :render-content=\"renderContent\"\n            :label-prop=\"labelProp\"\n            :key-prop=\"keyProp\"\n          />\n        </el-checkbox>\n      </el-checkbox-group>\n      <p class=\"el-transfer-panel__empty\" v-show=\"hasNoMatch\">\n        {{ t('el.transfer.noMatch') }}\n      </p>\n      <p\n        class=\"el-transfer-panel__empty\"\n        v-show=\"data.length === 0 && !hasNoMatch\"\n      >\n        {{ t('el.transfer.noData') }}\n      </p>\n    </div>\n    <p class=\"el-transfer-panel__footer\" v-if=\"hasFooter\">\n      <slot></slot>\n    </p>\n  </div>\n</template>\n\n<script>\nimport ElCheckboxGroup from '../../checkbox-group'\nimport ElCheckbox from '../../checkbox'\nimport { ElInput } from '../../../src/components/Input'\nimport OptionContent from './OptionContent.vue'\nimport { useLocale } from '../../../src/use/locale'\nimport { reactive, toRefs, computed, watch } from 'vue'\n\nexport default {\n  name: 'ElTransferPanel',\n\n  componentName: 'ElTransferPanel',\n\n  emits: ['checked-change'],\n\n  components: {\n    ElCheckboxGroup,\n    ElCheckbox,\n    ElInput,\n    OptionContent\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    renderContent: Function,\n    placeholder: String,\n    title: String,\n    filterable: Boolean,\n    format: Object,\n    filterMethod: Function,\n    defaultChecked: Array,\n    props: Object\n  },\n\n  setup(props, { emit, slots }) {\n    const t = useLocale()\n\n    const state = reactive({\n      checked: [],\n      allChecked: false,\n      query: '',\n      checkChangeByUser: true\n    })\n\n    const {\n      filteredData,\n      labelProp,\n      keyProp,\n      checkableData,\n      checkedSummary,\n      isIndeterminate,\n      hasNoMatch,\n      disabledProp,\n      hasFooter\n    } = useTransferPanelData(props, state, slots, emit)\n\n    const handleAllCheckedChange = (value) => {\n      state.checked = value\n        ? checkableData.value.map((item) => item[keyProp.value])\n        : []\n    }\n\n    return {\n      t,\n      ...toRefs(state),\n      filteredData,\n      labelProp,\n      keyProp,\n      checkedSummary,\n      isIndeterminate,\n      hasNoMatch,\n      disabledProp,\n      hasFooter,\n      handleAllCheckedChange\n    }\n  }\n}\n\nconst useTransferPanelData = (props, state, slots, emit) => {\n  const filteredData = computed(() => {\n    const { data, filterMethod } = props\n    return data.filter((item) => {\n      if (typeof filterMethod === 'function') {\n        return filterMethod(state.query, item)\n      } else {\n        const label = item[labelProp.value] || item[keyProp.value].toString()\n        return label.toLowerCase().indexOf(state.query.toLowerCase()) > -1\n      }\n    })\n  })\n\n  const labelProp = computed(() => {\n    const { props: p } = props\n    return p.label || 'label'\n  })\n\n  const keyProp = computed(() => {\n    const { props: p } = props\n    return p.key || 'key'\n  })\n\n  const checkableData = computed(() =>\n    filteredData.value.filter((item) => !item[disabledProp.value])\n  )\n\n  const checkedSummary = computed(() => {\n    const { data, format } = props\n    const checkedLength = state.checked.length\n    const dataLength = data.length\n    const { noChecked, hasChecked } = format\n    if (noChecked && hasChecked) {\n      return checkedLength > 0\n        ? hasChecked\n            .replace(/\\${checked}/g, checkedLength)\n            .replace(/\\${total}/g, dataLength)\n        : noChecked.replace(/\\${total}/g, dataLength)\n    } else {\n      return `${checkedLength}/${dataLength}`\n    }\n  })\n\n  const isIndeterminate = computed(() => {\n    const checkedLength = state.checked.length\n    return checkedLength > 0 && checkedLength < checkableData.value.length\n  })\n\n  const hasNoMatch = computed(\n    () => state.query.length > 0 && filteredData.value.length === 0\n  )\n\n  const disabledProp = computed(() => props.props.disabled || 'disabled')\n\n  const hasFooter = computed(() => !!slots.default()[0].children.length)\n\n  const updateAllChecked = () => {\n    const checkableDataKeys = checkableData.value.map(\n      (item) => item[keyProp.value]\n    )\n    state.allChecked =\n      checkableDataKeys.length > 0 &&\n      checkableDataKeys.every((item) => state.checked.indexOf(item) > -1)\n  }\n\n  watch(\n    () => checkableData.value,\n    () => updateAllChecked()\n  )\n\n  watch(\n    () => props.data,\n    () => {\n      const checked = []\n      const filteredDataKeys = filteredData.value.map(\n        (item) => item[keyProp.value]\n      )\n      state.checked.forEach((item) => {\n        if (filteredDataKeys.indexOf(item) > -1) {\n          checked.push(item)\n        }\n      })\n      state.checkChangeByUser = false\n      state.checked = checked\n    }\n  )\n\n  watch(\n    () => state.checked,\n    (val, oldVal) => {\n      updateAllChecked()\n      if (state.checkChangeByUser) {\n        const movedKeys = val\n          .concat(oldVal)\n          .filter((v) => val.indexOf(v) === -1 || oldVal.indexOf(v) === -1)\n        emit('checked-change', val, movedKeys)\n      } else {\n        emit('checked-change', val)\n        state.checkChangeByUser = true\n      }\n    },\n    {\n      deep: true\n    }\n  )\n\n  watch(\n    () => props.defaultChecked,\n    (val, oldVal) => {\n      if (\n        oldVal &&\n        val.length === oldVal.length &&\n        val.every((item) => oldVal.indexOf(item) > -1)\n      )\n        return\n      const checked = []\n      const checkableDataKeys = checkableData.value.map(\n        (item) => item[keyProp.value]\n      )\n      val.forEach((item) => {\n        if (checkableDataKeys.indexOf(item) > -1) {\n          checked.push(item)\n        }\n      })\n      state.checkChangeByUser = false\n      state.checked = checked\n    },\n    {\n      immediate: true\n    }\n  )\n\n  return {\n    filteredData,\n    labelProp,\n    keyProp,\n    checkableData,\n    checkedSummary,\n    isIndeterminate,\n    hasNoMatch,\n    disabledProp,\n    hasFooter,\n    updateAllChecked\n  }\n}\n</script>\n","<template>\n  <div class=\"el-transfer\">\n    <transfer-panel\n      v-bind=\"$props\"\n      ref=\"leftPanel\"\n      :data=\"sourceData\"\n      :title=\"leftTransferPanelTitle\"\n      :default-checked=\"leftDefaultChecked\"\n      :placeholder=\"panelFilterPlaceholder\"\n      @checked-change=\"onSourceCheckedChange\"\n    >\n      <template #default>\n        <slot name=\"left-footer\"></slot>\n      </template>\n    </transfer-panel>\n    <div class=\"el-transfer__buttons\">\n      <el-button\n        type=\"primary\"\n        :class=\"['el-transfer__button', hasButtonTexts ? 'is-with-texts' : '']\"\n        @click=\"addToLeft\"\n        :disabled=\"rightChecked.length === 0\"\n      >\n        <i class=\"el-icon-arrow-left\"></i>\n        <span v-if=\"buttonTexts[0] !== undefined\">{{ buttonTexts[0] }}</span>\n      </el-button>\n      <el-button\n        type=\"primary\"\n        :class=\"['el-transfer__button', hasButtonTexts ? 'is-with-texts' : '']\"\n        @click=\"addToRight\"\n        :disabled=\"leftChecked.length === 0\"\n      >\n        <span v-if=\"buttonTexts[1] !== undefined\">{{ buttonTexts[1] }}</span>\n        <i class=\"el-icon-arrow-right\"></i>\n      </el-button>\n    </div>\n    <transfer-panel\n      v-bind=\"$props\"\n      ref=\"rightPanel\"\n      :data=\"targetData\"\n      :title=\"rightTransferPanelTitle\"\n      :default-checked=\"rightDefaultChecked\"\n      :placeholder=\"panelFilterPlaceholder\"\n      @checked-change=\"onTargetCheckedChange\"\n    >\n      <template #default>\n        <slot name=\"right-footer\"></slot>\n      </template>\n    </transfer-panel>\n  </div>\n</template>\n\n<script>\nimport TransferPanel from './TransferPanel.vue'\nimport { ElButton } from '../../../src/components/Button'\nimport { useLocale } from '../../../src/use/locale'\nimport { ref, computed, watch, provide } from 'vue'\n\nexport default {\n  name: 'ElTransfer',\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'left-check-change',\n    'right-check-change'\n  ],\n\n  components: {\n    TransferPanel,\n    ElButton\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    titles: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    buttonTexts: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    filterPlaceholder: {\n      type: String,\n      default: ''\n    },\n    filterMethod: Function,\n    leftDefaultChecked: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    rightDefaultChecked: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    renderContent: Function,\n    modelValue: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    format: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    filterable: Boolean,\n    props: {\n      type: Object,\n      default() {\n        return {\n          label: 'label',\n          key: 'key',\n          disabled: 'disabled'\n        }\n      }\n    },\n    targetOrder: {\n      type: String,\n      default: 'original'\n    }\n  },\n  setup(props, { emit, slots }) {\n    const t = useLocale()\n\n    const leftChecked = ref([])\n    const rightChecked = ref([])\n\n    // $refs\n    const leftPanel = ref(null)\n    const rightPanel = ref(null)\n\n    const hasButtonTexts = computed(() => props.buttonTexts.length === 2)\n\n    const clearQuery = (which) => {\n      if (which === 'left') {\n        leftPanel.value.query = ''\n      } else if (which === 'right') {\n        rightPanel.value.query = ''\n      }\n    }\n\n    watch(props.modelValue, (val) => emit('update:modelValue', val))\n\n    provide(\n      'defaultScopedSlots',\n      computed(() => slots.default)\n    )\n\n    const {\n      leftTransferPanelTitle,\n      rightTransferPanelTitle,\n      panelFilterPlaceholder,\n      sourceData,\n      targetData\n    } = useTransferData(props, t)\n\n    const {\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight\n    } = useTransferCheckedChange(props, emit, leftChecked, rightChecked)\n\n    return {\n      leftChecked,\n      rightChecked,\n      hasButtonTexts,\n      sourceData,\n      targetData,\n      leftTransferPanelTitle,\n      rightTransferPanelTitle,\n      panelFilterPlaceholder,\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight,\n      clearQuery\n    }\n  }\n}\n\nconst useTransferData = (props, t) => {\n  const leftTransferPanelTitle = computed(\n    () => props.titles[0] || t('el.transfer.titles.0')\n  )\n\n  const rightTransferPanelTitle = computed(\n    () => props.titles[1] || t('el.transfer.titles.1')\n  )\n\n  const panelFilterPlaceholder = computed(\n    () => props.filterPlaceholder || t('el.transfer.filterPlaceholder')\n  )\n\n  const dataObj = computed(() => {\n    const { props: p, data } = props\n    const key = p.key\n    return data.reduce((o, cur) => (o[cur[key]] = cur) && o, {})\n  })\n\n  const sourceData = computed(() => {\n    const { data, modelValue, props: p } = props\n    return data.filter((item) => modelValue.indexOf(item[p.key]) === -1)\n  })\n\n  const targetData = computed(() => {\n    const { data, modelValue, props: p, targetOrder } = props\n    if (targetOrder === 'original') {\n      return data.filter((item) => modelValue.indexOf(item[p.key]) > -1)\n    } else {\n      return modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur]\n        if (val) {\n          arr.push(val)\n        }\n        return arr\n      }, [])\n    }\n  })\n\n  return {\n    dataObj,\n    sourceData,\n    targetData,\n    leftTransferPanelTitle,\n    rightTransferPanelTitle,\n    panelFilterPlaceholder\n  }\n}\n\nconst useTransferCheckedChange = (props, emit, leftChecked, rightChecked) => {\n  const onSourceCheckedChange = (val, movedKeys) => {\n    leftChecked.value = val\n    if (movedKeys === undefined) return\n    emit('left-check-change', val, movedKeys)\n  }\n\n  const onTargetCheckedChange = (val, movedKeys) => {\n    rightChecked.value = val\n    if (movedKeys === undefined) return\n    emit('right-check-change', val, movedKeys)\n  }\n\n  const addToLeft = () => {\n    const currentValue = props.modelValue.slice()\n    rightChecked.value.forEach((item) => {\n      const index = currentValue.indexOf(item)\n      if (index > -1) {\n        currentValue.splice(index, 1)\n      }\n    })\n    emit('update:modelValue', currentValue)\n    emit('change', currentValue, 'left', rightChecked.value)\n  }\n\n  const addToRight = () => {\n    const { modelValue, props: p, data, targetOrder } = props\n    let currentValue = modelValue.slice()\n    const itemsToBeMoved = []\n    const key = p.key\n    data.forEach((item) => {\n      const itemKey = item[key]\n      if (\n        leftChecked.value.indexOf(itemKey) > -1 &&\n        modelValue.indexOf(itemKey) === -1\n      ) {\n        itemsToBeMoved.push(itemKey)\n      }\n    })\n    currentValue =\n      targetOrder === 'unshift'\n        ? itemsToBeMoved.concat(currentValue)\n        : currentValue.concat(itemsToBeMoved)\n    emit('update:modelValue', currentValue)\n    emit('change', currentValue, 'right', leftChecked.value)\n  }\n\n  return {\n    onSourceCheckedChange,\n    onTargetCheckedChange,\n    addToLeft,\n    addToRight\n  }\n}\n</script>\n","<template>\n  <div class=\"el-transfer\">\n    <transfer-panel\n      v-bind=\"$props\"\n      ref=\"leftPanel\"\n      :data=\"sourceData\"\n      :title=\"leftTransferPanelTitle\"\n      :default-checked=\"leftDefaultChecked\"\n      :placeholder=\"panelFilterPlaceholder\"\n      @checked-change=\"onSourceCheckedChange\"\n    >\n      <template #default>\n        <slot name=\"left-footer\"></slot>\n      </template>\n    </transfer-panel>\n    <div class=\"el-transfer__buttons\">\n      <el-button\n        type=\"primary\"\n        :class=\"['el-transfer__button', hasButtonTexts ? 'is-with-texts' : '']\"\n        @click=\"addToLeft\"\n        :disabled=\"rightChecked.length === 0\"\n      >\n        <i class=\"el-icon-arrow-left\"></i>\n        <span v-if=\"buttonTexts[0] !== undefined\">{{ buttonTexts[0] }}</span>\n      </el-button>\n      <el-button\n        type=\"primary\"\n        :class=\"['el-transfer__button', hasButtonTexts ? 'is-with-texts' : '']\"\n        @click=\"addToRight\"\n        :disabled=\"leftChecked.length === 0\"\n      >\n        <span v-if=\"buttonTexts[1] !== undefined\">{{ buttonTexts[1] }}</span>\n        <i class=\"el-icon-arrow-right\"></i>\n      </el-button>\n    </div>\n    <transfer-panel\n      v-bind=\"$props\"\n      ref=\"rightPanel\"\n      :data=\"targetData\"\n      :title=\"rightTransferPanelTitle\"\n      :default-checked=\"rightDefaultChecked\"\n      :placeholder=\"panelFilterPlaceholder\"\n      @checked-change=\"onTargetCheckedChange\"\n    >\n      <template #default>\n        <slot name=\"right-footer\"></slot>\n      </template>\n    </transfer-panel>\n  </div>\n</template>\n\n<script>\nimport TransferPanel from './TransferPanel.vue'\nimport { ElButton } from '../../../src/components/Button'\nimport { useLocale } from '../../../src/use/locale'\nimport { ref, computed, watch, provide } from 'vue'\n\nexport default {\n  name: 'ElTransfer',\n\n  emits: [\n    'update:modelValue',\n    'change',\n    'left-check-change',\n    'right-check-change'\n  ],\n\n  components: {\n    TransferPanel,\n    ElButton\n  },\n\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    titles: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    buttonTexts: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    filterPlaceholder: {\n      type: String,\n      default: ''\n    },\n    filterMethod: Function,\n    leftDefaultChecked: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    rightDefaultChecked: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    renderContent: Function,\n    modelValue: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    format: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    filterable: Boolean,\n    props: {\n      type: Object,\n      default() {\n        return {\n          label: 'label',\n          key: 'key',\n          disabled: 'disabled'\n        }\n      }\n    },\n    targetOrder: {\n      type: String,\n      default: 'original'\n    }\n  },\n  setup(props, { emit, slots }) {\n    const t = useLocale()\n\n    const leftChecked = ref([])\n    const rightChecked = ref([])\n\n    // $refs\n    const leftPanel = ref(null)\n    const rightPanel = ref(null)\n\n    const hasButtonTexts = computed(() => props.buttonTexts.length === 2)\n\n    const clearQuery = (which) => {\n      if (which === 'left') {\n        leftPanel.value.query = ''\n      } else if (which === 'right') {\n        rightPanel.value.query = ''\n      }\n    }\n\n    watch(props.modelValue, (val) => emit('update:modelValue', val))\n\n    provide(\n      'defaultScopedSlots',\n      computed(() => slots.default)\n    )\n\n    const {\n      leftTransferPanelTitle,\n      rightTransferPanelTitle,\n      panelFilterPlaceholder,\n      sourceData,\n      targetData\n    } = useTransferData(props, t)\n\n    const {\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight\n    } = useTransferCheckedChange(props, emit, leftChecked, rightChecked)\n\n    return {\n      leftChecked,\n      rightChecked,\n      hasButtonTexts,\n      sourceData,\n      targetData,\n      leftTransferPanelTitle,\n      rightTransferPanelTitle,\n      panelFilterPlaceholder,\n      onSourceCheckedChange,\n      onTargetCheckedChange,\n      addToLeft,\n      addToRight,\n      clearQuery\n    }\n  }\n}\n\nconst useTransferData = (props, t) => {\n  const leftTransferPanelTitle = computed(\n    () => props.titles[0] || t('el.transfer.titles.0')\n  )\n\n  const rightTransferPanelTitle = computed(\n    () => props.titles[1] || t('el.transfer.titles.1')\n  )\n\n  const panelFilterPlaceholder = computed(\n    () => props.filterPlaceholder || t('el.transfer.filterPlaceholder')\n  )\n\n  const dataObj = computed(() => {\n    const { props: p, data } = props\n    const key = p.key\n    return data.reduce((o, cur) => (o[cur[key]] = cur) && o, {})\n  })\n\n  const sourceData = computed(() => {\n    const { data, modelValue, props: p } = props\n    return data.filter((item) => modelValue.indexOf(item[p.key]) === -1)\n  })\n\n  const targetData = computed(() => {\n    const { data, modelValue, props: p, targetOrder } = props\n    if (targetOrder === 'original') {\n      return data.filter((item) => modelValue.indexOf(item[p.key]) > -1)\n    } else {\n      return modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur]\n        if (val) {\n          arr.push(val)\n        }\n        return arr\n      }, [])\n    }\n  })\n\n  return {\n    dataObj,\n    sourceData,\n    targetData,\n    leftTransferPanelTitle,\n    rightTransferPanelTitle,\n    panelFilterPlaceholder\n  }\n}\n\nconst useTransferCheckedChange = (props, emit, leftChecked, rightChecked) => {\n  const onSourceCheckedChange = (val, movedKeys) => {\n    leftChecked.value = val\n    if (movedKeys === undefined) return\n    emit('left-check-change', val, movedKeys)\n  }\n\n  const onTargetCheckedChange = (val, movedKeys) => {\n    rightChecked.value = val\n    if (movedKeys === undefined) return\n    emit('right-check-change', val, movedKeys)\n  }\n\n  const addToLeft = () => {\n    const currentValue = props.modelValue.slice()\n    rightChecked.value.forEach((item) => {\n      const index = currentValue.indexOf(item)\n      if (index > -1) {\n        currentValue.splice(index, 1)\n      }\n    })\n    emit('update:modelValue', currentValue)\n    emit('change', currentValue, 'left', rightChecked.value)\n  }\n\n  const addToRight = () => {\n    const { modelValue, props: p, data, targetOrder } = props\n    let currentValue = modelValue.slice()\n    const itemsToBeMoved = []\n    const key = p.key\n    data.forEach((item) => {\n      const itemKey = item[key]\n      if (\n        leftChecked.value.indexOf(itemKey) > -1 &&\n        modelValue.indexOf(itemKey) === -1\n      ) {\n        itemsToBeMoved.push(itemKey)\n      }\n    })\n    currentValue =\n      targetOrder === 'unshift'\n        ? itemsToBeMoved.concat(currentValue)\n        : currentValue.concat(itemsToBeMoved)\n    emit('update:modelValue', currentValue)\n    emit('change', currentValue, 'right', leftChecked.value)\n  }\n\n  return {\n    onSourceCheckedChange,\n    onTargetCheckedChange,\n    addToLeft,\n    addToRight\n  }\n}\n</script>\n","import Transfer from './src/Transfer.vue'\n\n/* istanbul ignore next */\nTransfer.install = function (app) {\n  app.component(Transfer.name, Transfer)\n}\n\nexport default Transfer\n","<template>\n  <form\n    class=\"el-form\"\n    :class=\"[\n      labelPosition ? 'el-form--label-' + labelPosition : '',\n      { 'el-form--inline': inline }\n    ]\"\n  >\n    <slot></slot>\n  </form>\n</template>\n<script>\nimport { reactive, computed, watch, toRefs, unref, provide } from 'vue'\nimport { useEmitter } from '../../src/use/emitter'\nimport objectAssign from '../../src/utils/merge'\n\nexport default {\n  name: 'ElForm',\n\n  componentName: 'ElForm',\n\n  props: {\n    model: Object,\n    rules: Object,\n    labelPosition: String,\n    labelWidth: String,\n    labelSuffix: {\n      type: String,\n      default: ''\n    },\n    inline: Boolean,\n    inlineMessage: Boolean,\n    statusIcon: Boolean,\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String,\n    disabled: Boolean,\n    validateOnRuleChange: {\n      type: Boolean,\n      default: true\n    },\n    hideRequiredAsterisk: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['validate'],\n\n  setup(props, { emit }) {\n    const { model, rules, validateOnRuleChange, ...rest } = toRefs(props)\n    const {\n      autoLabelWidth,\n      registerLabelWidth,\n      deregisterLabelWidth\n    } = useLabelWidth()\n\n    const { fields, resetFields } = useFileds(model)\n    const { validateField, validate, clearValidate } = useValidate(\n      rules,\n      model,\n      fields,\n      validateOnRuleChange\n    )\n\n    provide(\n      'elForm',\n      reactive({\n        name: 'ElForm',\n        ...rest,\n        model,\n        rules,\n        autoLabelWidth,\n        registerLabelWidth,\n        deregisterLabelWidth,\n        resetFields,\n        validateField,\n        validate,\n        clearValidate,\n        emit\n      })\n    )\n\n    return {\n      validate,\n      validateField,\n      resetFields,\n      clearValidate\n    }\n  }\n}\n\nconst useLabelWidth = () => {\n  const potentialLabelWidthArr = reactive([])\n\n  const autoLabelWidth = computed(() => {\n    if (!potentialLabelWidthArr.length) return 0\n    const max = Math.max(...potentialLabelWidthArr)\n    return max ? `${max}px` : ''\n  })\n\n  const getLabelWidthIndex = (width) => {\n    const index = potentialLabelWidthArr.indexOf(width)\n    // it's impossible\n    if (index === -1) {\n      throw new Error('[ElementForm]unpected width ', width)\n    }\n    return index\n  }\n\n  const registerLabelWidth = (val, oldVal) => {\n    if (val && oldVal) {\n      const index = getLabelWidthIndex(oldVal)\n      potentialLabelWidthArr.splice(index, 1, val)\n    } else if (val) {\n      potentialLabelWidthArr.push(val)\n    }\n  }\n\n  const deregisterLabelWidth = (val) => {\n    const index = getLabelWidthIndex(val)\n    potentialLabelWidthArr.splice(index, 1)\n  }\n\n  return { autoLabelWidth, registerLabelWidth, deregisterLabelWidth }\n}\n\nconst useFileds = (model) => {\n  const fields = reactive([])\n  const { on } = useEmitter()\n\n  on('el.form.addField', (field) => {\n    if (field) {\n      fields.push(field)\n    }\n  })\n\n  on('el.form.removeField', (field) => {\n    if (field.prop) {\n      fields.splice(fields.indexOf(field), 1)\n    }\n  })\n\n  const resetFields = () => {\n    if (!unref(model)) {\n      console.warn(\n        '[Element Warn][Form]model is required for resetFields to work.'\n      )\n      return\n    }\n\n    fields.forEach((field) => {\n      field.resetField()\n    })\n  }\n\n  return { fields, resetFields }\n}\n\nconst useValidate = (rules, model, fields, validateOnRuleChange) => {\n  const clearValidate = (props = []) => {\n    const clearableFiles = props.length\n      ? typeof props === 'string'\n        ? fields.filter((field) => props === field.prop)\n        : fields.filter((field) => props.includes(field.prop))\n      : fields\n    clearableFiles.forEach((field) => {\n      field.clearValidate()\n    })\n  }\n\n  const validate = (callback) => {\n    if (!model) {\n      console.warn(\n        '[Element Warn][Form]model is required for validate to work!'\n      )\n      return\n    }\n\n    let promise\n    // if no callback, return promise\n    if (typeof callback !== 'function') {\n      promise = new window.Promise((resolve, reject) => {\n        callback = function (valid) {\n          valid ? resolve(valid) : reject(valid)\n        }\n      })\n    }\n\n    let valid = true\n    let count = 0\n    // 如果需要验证的fields为空，调用验证时立刻返回callback\n    if (fields.length === 0 && callback) {\n      callback(valid)\n    }\n    let invalidFields = {}\n    fields.forEach((field) => {\n      field.validate('', (message, field) => {\n        if (message) {\n          valid = false\n        }\n        invalidFields = objectAssign({}, invalidFields, field)\n        if (typeof callback === 'function' && ++count === fields.length) {\n          callback(valid, invalidFields)\n        }\n      })\n    })\n\n    if (promise) {\n      return promise\n    }\n  }\n\n  const validateField = (props, cb) => {\n    props = [].concat(props)\n    const validateFields = fields.filter((field) => props.includes(field.prop))\n    if (!validateFields.length) {\n      console.warn('[Element Warn]please pass correct props!')\n      return\n    }\n\n    validateFields.forEach((field) => {\n      field.validate('', cb)\n    })\n  }\n\n  if (rules) {\n    watch(rules, () => {\n      // remove then add event listeners on form-item after form rules change\n      fields.forEach((field) => {\n        field.removeValidateEvents()\n        field.addValidateEvents()\n      })\n\n      if (unref(validateOnRuleChange)) {\n        validate(() => {})\n      }\n    })\n  }\n\n  return { validateField, validate, clearValidate }\n}\n</script>\n","<template>\n  <form\n    class=\"el-form\"\n    :class=\"[\n      labelPosition ? 'el-form--label-' + labelPosition : '',\n      { 'el-form--inline': inline }\n    ]\"\n  >\n    <slot></slot>\n  </form>\n</template>\n<script>\nimport { reactive, computed, watch, toRefs, unref, provide } from 'vue'\nimport { useEmitter } from '../../src/use/emitter'\nimport objectAssign from '../../src/utils/merge'\n\nexport default {\n  name: 'ElForm',\n\n  componentName: 'ElForm',\n\n  props: {\n    model: Object,\n    rules: Object,\n    labelPosition: String,\n    labelWidth: String,\n    labelSuffix: {\n      type: String,\n      default: ''\n    },\n    inline: Boolean,\n    inlineMessage: Boolean,\n    statusIcon: Boolean,\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String,\n    disabled: Boolean,\n    validateOnRuleChange: {\n      type: Boolean,\n      default: true\n    },\n    hideRequiredAsterisk: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['validate'],\n\n  setup(props, { emit }) {\n    const { model, rules, validateOnRuleChange, ...rest } = toRefs(props)\n    const {\n      autoLabelWidth,\n      registerLabelWidth,\n      deregisterLabelWidth\n    } = useLabelWidth()\n\n    const { fields, resetFields } = useFileds(model)\n    const { validateField, validate, clearValidate } = useValidate(\n      rules,\n      model,\n      fields,\n      validateOnRuleChange\n    )\n\n    provide(\n      'elForm',\n      reactive({\n        name: 'ElForm',\n        ...rest,\n        model,\n        rules,\n        autoLabelWidth,\n        registerLabelWidth,\n        deregisterLabelWidth,\n        resetFields,\n        validateField,\n        validate,\n        clearValidate,\n        emit\n      })\n    )\n\n    return {\n      validate,\n      validateField,\n      resetFields,\n      clearValidate\n    }\n  }\n}\n\nconst useLabelWidth = () => {\n  const potentialLabelWidthArr = reactive([])\n\n  const autoLabelWidth = computed(() => {\n    if (!potentialLabelWidthArr.length) return 0\n    const max = Math.max(...potentialLabelWidthArr)\n    return max ? `${max}px` : ''\n  })\n\n  const getLabelWidthIndex = (width) => {\n    const index = potentialLabelWidthArr.indexOf(width)\n    // it's impossible\n    if (index === -1) {\n      throw new Error('[ElementForm]unpected width ', width)\n    }\n    return index\n  }\n\n  const registerLabelWidth = (val, oldVal) => {\n    if (val && oldVal) {\n      const index = getLabelWidthIndex(oldVal)\n      potentialLabelWidthArr.splice(index, 1, val)\n    } else if (val) {\n      potentialLabelWidthArr.push(val)\n    }\n  }\n\n  const deregisterLabelWidth = (val) => {\n    const index = getLabelWidthIndex(val)\n    potentialLabelWidthArr.splice(index, 1)\n  }\n\n  return { autoLabelWidth, registerLabelWidth, deregisterLabelWidth }\n}\n\nconst useFileds = (model) => {\n  const fields = reactive([])\n  const { on } = useEmitter()\n\n  on('el.form.addField', (field) => {\n    if (field) {\n      fields.push(field)\n    }\n  })\n\n  on('el.form.removeField', (field) => {\n    if (field.prop) {\n      fields.splice(fields.indexOf(field), 1)\n    }\n  })\n\n  const resetFields = () => {\n    if (!unref(model)) {\n      console.warn(\n        '[Element Warn][Form]model is required for resetFields to work.'\n      )\n      return\n    }\n\n    fields.forEach((field) => {\n      field.resetField()\n    })\n  }\n\n  return { fields, resetFields }\n}\n\nconst useValidate = (rules, model, fields, validateOnRuleChange) => {\n  const clearValidate = (props = []) => {\n    const clearableFiles = props.length\n      ? typeof props === 'string'\n        ? fields.filter((field) => props === field.prop)\n        : fields.filter((field) => props.includes(field.prop))\n      : fields\n    clearableFiles.forEach((field) => {\n      field.clearValidate()\n    })\n  }\n\n  const validate = (callback) => {\n    if (!model) {\n      console.warn(\n        '[Element Warn][Form]model is required for validate to work!'\n      )\n      return\n    }\n\n    let promise\n    // if no callback, return promise\n    if (typeof callback !== 'function') {\n      promise = new window.Promise((resolve, reject) => {\n        callback = function (valid) {\n          valid ? resolve(valid) : reject(valid)\n        }\n      })\n    }\n\n    let valid = true\n    let count = 0\n    // 如果需要验证的fields为空，调用验证时立刻返回callback\n    if (fields.length === 0 && callback) {\n      callback(valid)\n    }\n    let invalidFields = {}\n    fields.forEach((field) => {\n      field.validate('', (message, field) => {\n        if (message) {\n          valid = false\n        }\n        invalidFields = objectAssign({}, invalidFields, field)\n        if (typeof callback === 'function' && ++count === fields.length) {\n          callback(valid, invalidFields)\n        }\n      })\n    })\n\n    if (promise) {\n      return promise\n    }\n  }\n\n  const validateField = (props, cb) => {\n    props = [].concat(props)\n    const validateFields = fields.filter((field) => props.includes(field.prop))\n    if (!validateFields.length) {\n      console.warn('[Element Warn]please pass correct props!')\n      return\n    }\n\n    validateFields.forEach((field) => {\n      field.validate('', cb)\n    })\n  }\n\n  if (rules) {\n    watch(rules, () => {\n      // remove then add event listeners on form-item after form rules change\n      fields.forEach((field) => {\n        field.removeValidateEvents()\n        field.addValidateEvents()\n      })\n\n      if (unref(validateOnRuleChange)) {\n        validate(() => {})\n      }\n    })\n  }\n\n  return { validateField, validate, clearValidate }\n}\n</script>\n","import ElForm from './Form.vue'\n\n/* istanbul ignore next */\nElForm.install = function (app) {\n  app.component(ElForm.name, ElForm)\n}\n\nexport default ElForm\n","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\n/* eslint no-console:0 */\nvar formatRegExp = /%[sdj%]/g;\nvar warning = function warning() {}; // don't print warning message when in production env or node runtime\n\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nfunction convertFieldsError(errors) {\n  if (!errors || !errors.length) return null;\n  var fields = {};\n  errors.forEach(function (error) {\n    var field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n\n      if (i >= len) {\n        return x;\n      }\n\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n\n        case '%d':\n          return Number(args[i++]);\n\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n\n          break;\n\n        default:\n          return x;\n      }\n    });\n    return str;\n  }\n\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'date' || type === 'pattern';\n}\n\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n\n    var original = index;\n    index = index + 1;\n\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nvar AsyncValidationError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(AsyncValidationError, _Error);\n\n  function AsyncValidationError(errors, fields) {\n    var _this;\n\n    _this = _Error.call(this, 'Async Validation Error') || this;\n    _this.errors = errors;\n    _this.fields = fields;\n    return _this;\n  }\n\n  return AsyncValidationError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nfunction asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var _pending = new Promise(function (resolve, reject) {\n      var next = function next(errors) {\n        callback(errors);\n        return errors.length ? reject(new AsyncValidationError(errors, convertFieldsError(errors))) : resolve();\n      };\n\n      var flattenArr = flattenObjArr(objArr);\n      asyncSerialArray(flattenArr, func, next);\n    });\n\n    _pending[\"catch\"](function (e) {\n      return e;\n    });\n\n    return _pending;\n  }\n\n  var firstFields = option.firstFields || [];\n\n  if (firstFields === true) {\n    firstFields = Object.keys(objArr);\n  }\n\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var pending = new Promise(function (resolve, reject) {\n    var next = function next(errors) {\n      results.push.apply(results, errors);\n      total++;\n\n      if (total === objArrLength) {\n        callback(results);\n        return results.length ? reject(new AsyncValidationError(results, convertFieldsError(results))) : resolve();\n      }\n    };\n\n    if (!objArrKeys.length) {\n      callback(results);\n      resolve();\n    }\n\n    objArrKeys.forEach(function (key) {\n      var arr = objArr[key];\n\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending[\"catch\"](function (e) {\n    return e;\n  });\n  return pending;\n}\nfunction complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n\n        if (typeof value === 'object' && typeof target[s] === 'object') {\n          target[s] = _extends(_extends({}, target[s]), value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\n/**\n *  Rule for validating required fields.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction required(rule, value, source, errors, options, type) {\n  if (rule.required && (!source.hasOwnProperty(rule.field) || isEmptyValue(value, type || rule.type))) {\n    errors.push(format(options.messages.required, rule.fullField));\n  }\n}\n\n/**\n *  Rule for validating whitespace.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction whitespace(rule, value, source, errors, options) {\n  if (/^\\s+$/.test(value) || value === '') {\n    errors.push(format(options.messages.whitespace, rule.fullField));\n  }\n}\n\n/* eslint max-len:0 */\n\nvar pattern = {\n  // http://emailregex.com/\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n  url: new RegExp(\"^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$\", 'i'),\n  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i\n};\nvar types = {\n  integer: function integer(value) {\n    return types.number(value) && parseInt(value, 10) === value;\n  },\n  \"float\": function float(value) {\n    return types.number(value) && !types.integer(value);\n  },\n  array: function array(value) {\n    return Array.isArray(value);\n  },\n  regexp: function regexp(value) {\n    if (value instanceof RegExp) {\n      return true;\n    }\n\n    try {\n      return !!new RegExp(value);\n    } catch (e) {\n      return false;\n    }\n  },\n  date: function date(value) {\n    return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear === 'function' && !isNaN(value.getTime());\n  },\n  number: function number(value) {\n    if (isNaN(value)) {\n      return false;\n    }\n\n    return typeof value === 'number';\n  },\n  object: function object(value) {\n    return typeof value === 'object' && !types.array(value);\n  },\n  method: function method(value) {\n    return typeof value === 'function';\n  },\n  email: function email(value) {\n    return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;\n  },\n  url: function url(value) {\n    return typeof value === 'string' && !!value.match(pattern.url);\n  },\n  hex: function hex(value) {\n    return typeof value === 'string' && !!value.match(pattern.hex);\n  }\n};\n/**\n *  Rule for validating the type of a value.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction type(rule, value, source, errors, options) {\n  if (rule.required && value === undefined) {\n    required(rule, value, source, errors, options);\n    return;\n  }\n\n  var custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'];\n  var ruleType = rule.type;\n\n  if (custom.indexOf(ruleType) > -1) {\n    if (!types[ruleType](value)) {\n      errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));\n    } // straight typeof check\n\n  } else if (ruleType && typeof value !== rule.type) {\n    errors.push(format(options.messages.types[ruleType], rule.fullField, rule.type));\n  }\n}\n\n/**\n *  Rule for validating minimum and maximum allowed values.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction range(rule, value, source, errors, options) {\n  var len = typeof rule.len === 'number';\n  var min = typeof rule.min === 'number';\n  var max = typeof rule.max === 'number'; // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）\n\n  var spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var val = value;\n  var key = null;\n  var num = typeof value === 'number';\n  var str = typeof value === 'string';\n  var arr = Array.isArray(value);\n\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  } // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n\n\n  if (!key) {\n    return false;\n  }\n\n  if (arr) {\n    val = value.length;\n  }\n\n  if (str) {\n    // 处理码点大于U+010000的文字length属性不准确的bug，如\"𠮷𠮷𠮷\".lenght !== 3\n    val = value.replace(spRegexp, '_').length;\n  }\n\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n  }\n}\n\nvar ENUM = 'enum';\n/**\n *  Rule for validating a value exists in an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction enumerable(rule, value, source, errors, options) {\n  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];\n\n  if (rule[ENUM].indexOf(value) === -1) {\n    errors.push(format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')));\n  }\n}\n\n/**\n *  Rule for validating a regular expression pattern.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction pattern$1(rule, value, source, errors, options) {\n  if (rule.pattern) {\n    if (rule.pattern instanceof RegExp) {\n      // if a RegExp instance is passed, reset `lastIndex` in case its `global`\n      // flag is accidentally set to `true`, which in a validation scenario\n      // is not necessary and the result might be misleading\n      rule.pattern.lastIndex = 0;\n\n      if (!rule.pattern.test(value)) {\n        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    } else if (typeof rule.pattern === 'string') {\n      var _pattern = new RegExp(rule.pattern);\n\n      if (!_pattern.test(value)) {\n        errors.push(format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    }\n  }\n}\n\nvar rules = {\n  required: required,\n  whitespace: whitespace,\n  type: type,\n  range: range,\n  \"enum\": enumerable,\n  pattern: pattern$1\n};\n\n/**\n *  Performs validation for string types.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction string(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options, 'string');\n\n    if (!isEmptyValue(value, 'string')) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n      rules.pattern(rule, value, source, errors, options);\n\n      if (rule.whitespace === true) {\n        rules.whitespace(rule, value, source, errors, options);\n      }\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a function.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction method(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction number(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (value === '') {\n      value = undefined;\n    }\n\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a boolean.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction _boolean(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates the regular expression type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction regexp(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (!isEmptyValue(value)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a number is an integer.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction integer(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a number is a floating point number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction floatFn(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates an array.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction array(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if ((value === undefined || value === null) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options, 'array');\n\n    if (value !== undefined && value !== null) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates an object.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction object(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\nvar ENUM$1 = 'enum';\n/**\n *  Validates an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction enumerable$1(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (value !== undefined) {\n      rules[ENUM$1](rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Validates a regular expression pattern.\n *\n *  Performs validation when a rule only contains\n *  a pattern property but is not declared as a string type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction pattern$2(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (!isEmptyValue(value, 'string')) {\n      rules.pattern(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\nfunction date(rule, value, callback, source, options) {\n  // console.log('integer rule called %j', rule);\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field); // console.log('validate on %s value', value);\n\n  if (validate) {\n    if (isEmptyValue(value, 'date') && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n\n    if (!isEmptyValue(value, 'date')) {\n      var dateObject;\n\n      if (value instanceof Date) {\n        dateObject = value;\n      } else {\n        dateObject = new Date(value);\n      }\n\n      rules.type(rule, dateObject, source, errors, options);\n\n      if (dateObject) {\n        rules.range(rule, dateObject.getTime(), source, errors, options);\n      }\n    }\n  }\n\n  callback(errors);\n}\n\nfunction required$1(rule, value, callback, source, options) {\n  var errors = [];\n  var type = Array.isArray(value) ? 'array' : typeof value;\n  rules.required(rule, value, source, errors, options, type);\n  callback(errors);\n}\n\nfunction type$1(rule, value, callback, source, options) {\n  var ruleType = rule.type;\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value, ruleType) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options, ruleType);\n\n    if (!isEmptyValue(value, ruleType)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n\n  callback(errors);\n}\n\n/**\n *  Performs validation for any type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\n\nfunction any(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n\n    rules.required(rule, value, source, errors, options);\n  }\n\n  callback(errors);\n}\n\nvar validators = {\n  string: string,\n  method: method,\n  number: number,\n  \"boolean\": _boolean,\n  regexp: regexp,\n  integer: integer,\n  \"float\": floatFn,\n  array: array,\n  object: object,\n  \"enum\": enumerable$1,\n  pattern: pattern$2,\n  date: date,\n  url: type$1,\n  hex: type$1,\n  email: type$1,\n  required: required$1,\n  any: any\n};\n\nfunction newMessages() {\n  return {\n    \"default\": 'Validation error on field %s',\n    required: '%s is required',\n    \"enum\": '%s must be one of %s',\n    whitespace: '%s cannot be empty',\n    date: {\n      format: '%s date %s is invalid for format %s',\n      parse: '%s date could not be parsed, %s is invalid ',\n      invalid: '%s date %s is invalid'\n    },\n    types: {\n      string: '%s is not a %s',\n      method: '%s is not a %s (function)',\n      array: '%s is not an %s',\n      object: '%s is not an %s',\n      number: '%s is not a %s',\n      date: '%s is not a %s',\n      \"boolean\": '%s is not a %s',\n      integer: '%s is not an %s',\n      \"float\": '%s is not a %s',\n      regexp: '%s is not a valid %s',\n      email: '%s is not a valid %s',\n      url: '%s is not a valid %s',\n      hex: '%s is not a valid %s'\n    },\n    string: {\n      len: '%s must be exactly %s characters',\n      min: '%s must be at least %s characters',\n      max: '%s cannot be longer than %s characters',\n      range: '%s must be between %s and %s characters'\n    },\n    number: {\n      len: '%s must equal %s',\n      min: '%s cannot be less than %s',\n      max: '%s cannot be greater than %s',\n      range: '%s must be between %s and %s'\n    },\n    array: {\n      len: '%s must be exactly %s in length',\n      min: '%s cannot be less than %s in length',\n      max: '%s cannot be greater than %s in length',\n      range: '%s must be between %s and %s in length'\n    },\n    pattern: {\n      mismatch: '%s value %s does not match pattern %s'\n    },\n    clone: function clone() {\n      var cloned = JSON.parse(JSON.stringify(this));\n      cloned.clone = this.clone;\n      return cloned;\n    }\n  };\n}\nvar messages = newMessages();\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\n\nfunction Schema(descriptor) {\n  this.rules = null;\n  this._messages = messages;\n  this.define(descriptor);\n}\n\nSchema.prototype = {\n  messages: function messages(_messages) {\n    if (_messages) {\n      this._messages = deepMerge(newMessages(), _messages);\n    }\n\n    return this._messages;\n  },\n  define: function define(rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n\n    if (typeof rules !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n\n    this.rules = {};\n    var z;\n    var item;\n\n    for (z in rules) {\n      if (rules.hasOwnProperty(z)) {\n        item = rules[z];\n        this.rules[z] = Array.isArray(item) ? item : [item];\n      }\n    }\n  },\n  validate: function validate(source_, o, oc) {\n    var _this = this;\n\n    if (o === void 0) {\n      o = {};\n    }\n\n    if (oc === void 0) {\n      oc = function oc() {};\n    }\n\n    var source = source_;\n    var options = o;\n    var callback = oc;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback();\n      }\n\n      return Promise.resolve();\n    }\n\n    function complete(results) {\n      var i;\n      var errors = [];\n      var fields = {};\n\n      function add(e) {\n        if (Array.isArray(e)) {\n          var _errors;\n\n          errors = (_errors = errors).concat.apply(_errors, e);\n        } else {\n          errors.push(e);\n        }\n      }\n\n      for (i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n\n      if (!errors.length) {\n        errors = null;\n        fields = null;\n      } else {\n        fields = convertFieldsError(errors);\n      }\n\n      callback(errors, fields);\n    }\n\n    if (options.messages) {\n      var messages$1 = this.messages();\n\n      if (messages$1 === messages) {\n        messages$1 = newMessages();\n      }\n\n      deepMerge(messages$1, options.messages);\n      options.messages = messages$1;\n    } else {\n      options.messages = this.messages();\n    }\n\n    var arr;\n    var value;\n    var series = {};\n    var keys = options.keys || Object.keys(this.rules);\n    keys.forEach(function (z) {\n      arr = _this.rules[z];\n      value = source[z];\n      arr.forEach(function (r) {\n        var rule = r;\n\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = _extends({}, source);\n          }\n\n          value = source[z] = rule.transform(value);\n        }\n\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule\n          };\n        } else {\n          rule = _extends({}, rule);\n        }\n\n        rule.validator = _this.getValidationMethod(rule);\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = _this.getType(rule);\n\n        if (!rule.validator) {\n          return;\n        }\n\n        series[z] = series[z] || [];\n        series[z].push({\n          rule: rule,\n          value: value,\n          source: source,\n          field: z\n        });\n      });\n    });\n    var errorFields = {};\n    return asyncMap(series, options, function (data, doIt) {\n      var rule = data.rule;\n      var deep = (rule.type === 'object' || rule.type === 'array') && (typeof rule.fields === 'object' || typeof rule.defaultField === 'object');\n      deep = deep && (rule.required || !rule.required && data.value);\n      rule.field = data.field;\n\n      function addFullfield(key, schema) {\n        return _extends(_extends({}, schema), {}, {\n          fullField: rule.fullField + \".\" + key\n        });\n      }\n\n      function cb(e) {\n        if (e === void 0) {\n          e = [];\n        }\n\n        var errors = e;\n\n        if (!Array.isArray(errors)) {\n          errors = [errors];\n        }\n\n        if (!options.suppressWarning && errors.length) {\n          Schema.warning('async-validator:', errors);\n        }\n\n        if (errors.length && rule.message !== undefined) {\n          errors = [].concat(rule.message);\n        }\n\n        errors = errors.map(complementError(rule));\n\n        if (options.first && errors.length) {\n          errorFields[rule.field] = 1;\n          return doIt(errors);\n        }\n\n        if (!deep) {\n          doIt(errors);\n        } else {\n          // if rule is required but the target object\n          // does not exist fail at the rule level and don't\n          // go deeper\n          if (rule.required && !data.value) {\n            if (rule.message !== undefined) {\n              errors = [].concat(rule.message).map(complementError(rule));\n            } else if (options.error) {\n              errors = [options.error(rule, format(options.messages.required, rule.field))];\n            }\n\n            return doIt(errors);\n          }\n\n          var fieldsSchema = {};\n\n          if (rule.defaultField) {\n            for (var k in data.value) {\n              if (data.value.hasOwnProperty(k)) {\n                fieldsSchema[k] = rule.defaultField;\n              }\n            }\n          }\n\n          fieldsSchema = _extends(_extends({}, fieldsSchema), data.rule.fields);\n\n          for (var f in fieldsSchema) {\n            if (fieldsSchema.hasOwnProperty(f)) {\n              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];\n              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));\n            }\n          }\n\n          var schema = new Schema(fieldsSchema);\n          schema.messages(options.messages);\n\n          if (data.rule.options) {\n            data.rule.options.messages = options.messages;\n            data.rule.options.error = options.error;\n          }\n\n          schema.validate(data.value, data.rule.options || options, function (errs) {\n            var finalErrors = [];\n\n            if (errors && errors.length) {\n              finalErrors.push.apply(finalErrors, errors);\n            }\n\n            if (errs && errs.length) {\n              finalErrors.push.apply(finalErrors, errs);\n            }\n\n            doIt(finalErrors.length ? finalErrors : null);\n          });\n        }\n      }\n\n      var res;\n\n      if (rule.asyncValidator) {\n        res = rule.asyncValidator(rule, data.value, cb, data.source, options);\n      } else if (rule.validator) {\n        res = rule.validator(rule, data.value, cb, data.source, options);\n\n        if (res === true) {\n          cb();\n        } else if (res === false) {\n          cb(rule.message || rule.field + \" fails\");\n        } else if (res instanceof Array) {\n          cb(res);\n        } else if (res instanceof Error) {\n          cb(res.message);\n        }\n      }\n\n      if (res && res.then) {\n        res.then(function () {\n          return cb();\n        }, function (e) {\n          return cb(e);\n        });\n      }\n    }, function (results) {\n      complete(results);\n    });\n  },\n  getType: function getType(rule) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n\n    if (typeof rule.validator !== 'function' && rule.type && !validators.hasOwnProperty(rule.type)) {\n      throw new Error(format('Unknown rule type %s', rule.type));\n    }\n\n    return rule.type || 'string';\n  },\n  getValidationMethod: function getValidationMethod(rule) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n\n    var keys = Object.keys(rule);\n    var messageIndex = keys.indexOf('message');\n\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n\n    if (keys.length === 1 && keys[0] === 'required') {\n      return validators.required;\n    }\n\n    return validators[this.getType(rule)] || false;\n  }\n};\n\nSchema.register = function register(type, validator) {\n  if (typeof validator !== 'function') {\n    throw new Error('Cannot register a validator by type, validator is not a function');\n  }\n\n  validators[type] = validator;\n};\n\nSchema.warning = warning;\nSchema.messages = messages;\nSchema.validators = validators;\n\nexport default Schema;\n//# sourceMappingURL=index.js.map\n","<script lang=\"jsx\">\nimport {\n  computed,\n  ref,\n  onMounted,\n  onUpdated,\n  onBeforeUnmount,\n  inject,\n  watch,\n  unref\n} from 'vue'\n\nexport default {\n  props: {\n    isAutoWidth: Boolean,\n    updateAll: Boolean\n  },\n  setup(props, { slots }) {\n    const { labelStyle, labelRef } = useLabelWidth(props, slots)\n\n    return () => {\n      if (!slots.default) return null\n      if (props.isAutoWidth) {\n        return (\n          <div\n            ref={labelRef}\n            class=\"el-form-item__label-wrap\"\n            style={labelStyle}\n          >\n            {slots.default()}\n          </div>\n        )\n      } else {\n        return slots.default()\n      }\n    }\n  }\n}\n\nfunction useLabelWidth(props, slots) {\n  const computedWidth = ref(0)\n  const labelRef = ref(null)\n  const _elForm = inject('elForm')\n  const _elFormItem = inject('elFormItem')\n\n  const getLabelWidth = () => {\n    const $el = unref(labelRef)\n    if ($el && $el.firstElementChild) {\n      const { width } = window.getComputedStyle($el.firstElementChild)\n      return Math.ceil(parseFloat(width))\n    } else {\n      return 0\n    }\n  }\n\n  const updateLabelWidth = (action = 'update') => {\n    const $el = unref(labelRef)\n    if (slots.default && props.isAutoWidth && $el.firstElementChild) {\n      if (action === 'update') {\n        computedWidth.value = getLabelWidth()\n      } else if (action === 'remove') {\n        _elForm.deregisterLabelWidth(unref(computedWidth))\n      }\n    }\n  }\n\n  watch(computedWidth, (val, oldVal) => {\n    if (props.updateAll) {\n      _elForm.registerLabelWidth(val, oldVal)\n      _elFormItem.updateComputedLabelWidth(val)\n    }\n  })\n\n  const labelStyle = computed(() => {\n    const autoLabelWidth = _elForm.autoLabelWidth\n    const style = {}\n    if (autoLabelWidth && autoLabelWidth !== 'auto') {\n      const marginLeft = parseInt(autoLabelWidth, 10) - unref(computedWidth)\n      if (marginLeft) {\n        style.marginLeft = marginLeft + 'px'\n      }\n    }\n    return style\n  })\n\n  onMounted(() => {\n    updateLabelWidth('update')\n  })\n\n  onUpdated(() => {\n    updateLabelWidth('update')\n  })\n\n  onBeforeUnmount(() => {\n    updateLabelWidth('remove')\n  })\n\n  return {\n    labelStyle,\n    labelRef\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-form-item\"\n    :class=\"[\n      {\n        'el-form-item--feedback': elForm && elForm.statusIcon,\n        'is-error': validateState === 'error',\n        'is-validating': validateState === 'validating',\n        'is-success': validateState === 'success',\n        'is-required': isRequired || required,\n        'is-no-asterisk': elForm && elForm.hideRequiredAsterisk\n      },\n      sizeClass ? 'el-form-item--' + sizeClass : ''\n    ]\"\n  >\n    <label-wrap\n      :is-auto-width=\"labelStyle && labelStyle.width === 'auto'\"\n      :update-all=\"elForm.labelWidth === 'auto'\"\n    >\n      <label\n        :for=\"labelFor\"\n        class=\"el-form-item__label\"\n        :style=\"labelStyle\"\n        v-if=\"label || $slots.label\"\n      >\n        <slot name=\"label\">{{ label + elForm.labelSuffix }}</slot>\n      </label>\n    </label-wrap>\n    <div class=\"el-form-item__content\" :style=\"contentStyle\">\n      <slot></slot>\n      <transition name=\"el-zoom-in-top\">\n        <slot\n          v-if=\"validateState === 'error' && showMessage && elForm.showMessage\"\n          name=\"error\"\n          :error=\"validateMessage\"\n        >\n          <div\n            class=\"el-form-item__error\"\n            :class=\"{\n              'el-form-item__error--inline':\n                typeof inlineMessage === 'boolean'\n                  ? inlineMessage\n                  : (elForm && elForm.inlineMessage) || false\n            }\"\n          >\n            {{ validateMessage }}\n          </div>\n        </slot>\n      </transition>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  computed,\n  provide,\n  reactive,\n  inject,\n  ref,\n  unref,\n  getCurrentInstance,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n  watch\n} from 'vue'\n\nimport AsyncValidator from 'async-validator'\nimport { useEmitter } from '../../src/use/emitter'\nimport objectAssign from '../../src/utils/merge'\nimport { noop, getPropByPath } from '../../src/utils/util'\nimport LabelWrap from './LabelWrap.vue'\nexport default {\n  name: 'ElFormItem',\n\n  componentName: 'ElFormItem',\n\n  props: {\n    label: String,\n    labelWidth: String,\n    prop: String,\n    required: {\n      type: Boolean,\n      default: undefined\n    },\n    rules: [Object, Array],\n    error: String,\n    validateStatus: String,\n    for: String,\n    inlineMessage: {\n      type: [String, Boolean],\n      default: ''\n    },\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String\n  },\n  components: {\n    // use this component to calculate auto width\n    LabelWrap\n  },\n\n  setup(props) {\n    const isNested = ref(false)\n    const elForm = inject('elForm', {})\n    const elFormItem = inject('elFormItem', null)\n    isNested.value = !!elFormItem\n\n    useDispatchFiled(props)\n    const {\n      labelFor,\n      labelStyle,\n      computedLabelWidth,\n      updateComputedLabelWidth\n    } = useLabel(props, elForm)\n\n    const { elFormItemSize, sizeClass } = useFontSize(props, elForm)\n    const { getRules, getFilteredRule } = useRules(props, elForm)\n    const { contentStyle } = useContentStyle(\n      props,\n      elForm,\n      isNested,\n      computedLabelWidth\n    )\n    const isRequired = useIsRequired(getRules)\n\n    const {\n      validateState,\n      validateMessage,\n      validateDisabled,\n      validate,\n      clearValidate,\n      resetField\n    } = useValidate(props, elForm, getFilteredRule, getRules)\n\n    const { removeValidateEvents, addValidateEvents } = useValidateEvent(\n      props,\n      validate,\n      getRules,\n      validateDisabled\n    )\n\n    provide(\n      'elFormItem',\n      reactive({\n        name: 'ElFormItem',\n        elFormItemSize,\n        updateComputedLabelWidth,\n        validateState\n      })\n    )\n\n    return {\n      labelFor,\n      labelStyle,\n      sizeClass,\n      contentStyle,\n      isRequired,\n      validate,\n      validateState,\n      validateMessage,\n      resetField,\n      clearValidate,\n      removeValidateEvents,\n      addValidateEvents,\n      elForm\n    }\n  }\n}\n\nfunction useLabel(props, elForm) {\n  const computedLabelWidth = ref('')\n\n  const labelFor = computed(() => props.for || props.prop)\n\n  const labelStyle = computed(() => {\n    const ret = {}\n    if (elForm.labelPosition === 'top') return ret\n    const labelWidth = props.labelWidth || elForm.labelWidth\n    if (labelWidth) {\n      ret.width = labelWidth\n    }\n    return ret\n  })\n\n  const updateComputedLabelWidth = (width) => {\n    computedLabelWidth.value = width ? `${width}px` : ''\n  }\n\n  return {\n    labelFor,\n    labelStyle,\n    computedLabelWidth,\n    updateComputedLabelWidth\n  }\n}\nfunction useFontSize(props, elForm) {\n  const _this = getCurrentInstance()\n\n  const elFormItemSize = computed(() => {\n    return props.size || unref(elForm.size)\n  })\n\n  const sizeClass = computed(() => {\n    return unref(elFormItemSize) || (_this.$ELEMENT || {}).size\n  })\n\n  return {\n    elFormItemSize,\n    sizeClass\n  }\n}\n\nfunction useContentStyle(props, elForm, isNested, computedLabelWidth) {\n  const contentStyle = computed(() => {\n    const ret = {}\n    const label = props.label\n\n    if (elForm.labelPosition === 'top' || elForm.inline) return ret\n    if (!label && !props.labelWidth && unref(isNested)) return ret\n\n    const labelWidth = props.labelWidth || elForm.labelWidth\n    if (labelWidth === 'auto') {\n      if (props.labelWidth === 'auto') {\n        ret.marginLeft = unref(computedLabelWidth)\n      } else if (elForm.labelWidth === 'auto') {\n        ret.marginLeft = elForm.autoLabelWidth\n      }\n    } else {\n      ret.marginLeft = labelWidth\n    }\n    return ret\n  })\n\n  return {\n    contentStyle\n  }\n}\n\nfunction useFieldValue(props, elForm) {\n  const initialValue = ref()\n  const fieldValue = computed(() => {\n    const model = elForm.model\n    if (!model || !props.prop) {\n      return\n    }\n\n    let path = props.prop\n    if (path.indexOf(':') !== -1) {\n      path = path.replace(/:/, '.')\n    }\n\n    return getPropByPath(model, path, true).v\n  })\n\n  onMounted(function () {\n    if (props.prop) {\n      initialValue.value = unref(fieldValue)\n      if (Array.isArray(initialValue.value)) {\n        initialValue.value = initialValue.value.slice()\n      }\n    }\n  })\n\n  return {\n    fieldValue,\n    initialValue\n  }\n}\n\nfunction useDispatchFiled(props) {\n  const { dispatch } = useEmitter()\n  const { proxy } = getCurrentInstance()\n\n  onMounted(() => {\n    if (props.prop) {\n      dispatch('el.form.addField', proxy)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    dispatch('el.form.removeField', proxy)\n  })\n}\n\nfunction useValidateEvent(props, validate, getRules, validateDisabled) {\n  const { on, off } = useEmitter()\n\n  const onFieldBlur = () => {\n    validate('blur')\n  }\n\n  const onFieldChange = () => {\n    if (unref(validateDisabled)) {\n      validateDisabled.value = false\n      return\n    }\n\n    validate('change')\n  }\n\n  const addValidateEvents = () => {\n    const rules = getRules()\n\n    if (rules.length || props.required !== undefined) {\n      on('el.form.blur', onFieldBlur)\n      on('el.form.change', onFieldChange)\n    }\n  }\n\n  onMounted(() => {\n    if (props.prop) {\n      addValidateEvents()\n    }\n  })\n\n  return {\n    removeValidateEvents: off,\n    addValidateEvents\n  }\n}\n\nconst useIsRequired = (getRules) => {\n  return computed(() => {\n    const rules = getRules()\n    let isRequired = false\n\n    if (rules && rules.length) {\n      rules.every((rule) => {\n        if (rule.required) {\n          isRequired = true\n          return false\n        }\n        return true\n      })\n    }\n\n    return isRequired\n  })\n}\n\nconst useRules = (props, elForm) => {\n  const getRules = () => {\n    let formRules = elForm.rules\n    const selfRules = props.rules\n    const requiredRule =\n      props.required !== undefined ? { required: !!props.required } : []\n\n    const prop = getPropByPath(formRules, props.prop || '')\n    formRules = formRules ? prop.o[props.prop || ''] || prop.v : []\n\n    return [].concat(selfRules || formRules || []).concat(requiredRule)\n  }\n\n  const getFilteredRule = (trigger) => {\n    const rules = getRules()\n    return rules\n      .filter((rule) => {\n        if (!rule.trigger || trigger === '') return true\n        if (Array.isArray(rule.trigger)) {\n          return rule.trigger.indexOf(trigger) > -1\n        } else {\n          return rule.trigger === trigger\n        }\n      })\n      .map((rule) => objectAssign({}, rule))\n  }\n\n  return {\n    getRules,\n    getFilteredRule\n  }\n}\n\nfunction useValidate(props, elForm, getFilteredRule) {\n  const { fieldValue, initialValue } = useFieldValue(props, elForm)\n  const { broadcast } = useEmitter()\n  const validateState = ref('')\n  const validateMessage = ref('')\n  const validateDisabled = ref(false)\n\n  watch(\n    () => props.error,\n    (value) => {\n      validateMessage.value = value\n      validateState.value = value ? 'error' : ''\n    },\n    { immediate: true }\n  )\n\n  watch(\n    () => props.validateStatus,\n    (value) => (validateState.value = value)\n  )\n\n  const validate = (trigger, callback = noop) => {\n    validateDisabled.value = false\n    const rules = getFilteredRule(trigger)\n    validateState.value = 'validating'\n    if ((!rules || rules.length === 0) && props.required === undefined) {\n      callback()\n      return true\n    }\n\n    const descriptor = {}\n    if (rules && rules.length > 0) {\n      rules.forEach((rule) => {\n        delete rule.trigger\n      })\n    }\n    descriptor[props.prop] = rules\n\n    const validator = new AsyncValidator(descriptor)\n    const model = {}\n    model[props.prop] = unref(fieldValue)\n    validator.validate(\n      model,\n      { firstFields: true },\n      (errors, invalidFields) => {\n        validateState.value = !errors ? 'success' : 'error'\n        validateMessage.value = errors ? errors[0].message : ''\n\n        callback(validateMessage.value, invalidFields)\n        elForm &&\n          elForm.emit(\n            'validate',\n            props.prop,\n            !errors,\n            validateMessage.value || null\n          )\n      }\n    )\n  }\n\n  const clearValidate = () => {\n    validateState.value = ''\n    validateMessage.value = ''\n    validateDisabled.value = false\n  }\n\n  const resetField = () => {\n    validateState.value = ''\n    validateMessage.value = ''\n\n    const model = elForm.model\n    const value = unref(fieldValue)\n    let path = props.prop\n    if (path.indexOf(':') !== -1) {\n      path = path.replace(/:/, '.')\n    }\n\n    const prop = getPropByPath(model, path, true)\n\n    validateDisabled.value = true\n    if (Array.isArray(value)) {\n      prop.o[prop.k] = [].concat(initialValue.value)\n    } else {\n      prop.o[prop.k] = initialValue.value\n    }\n\n    // reset validateDisabled after onFieldChange triggered\n    nextTick(() => {\n      validateDisabled.value = false\n    })\n\n    broadcast('fieldReset', initialValue.value)\n  }\n\n  return {\n    validateState,\n    validateMessage,\n    validateDisabled,\n    validate,\n    clearValidate,\n    resetField\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-form-item\"\n    :class=\"[\n      {\n        'el-form-item--feedback': elForm && elForm.statusIcon,\n        'is-error': validateState === 'error',\n        'is-validating': validateState === 'validating',\n        'is-success': validateState === 'success',\n        'is-required': isRequired || required,\n        'is-no-asterisk': elForm && elForm.hideRequiredAsterisk\n      },\n      sizeClass ? 'el-form-item--' + sizeClass : ''\n    ]\"\n  >\n    <label-wrap\n      :is-auto-width=\"labelStyle && labelStyle.width === 'auto'\"\n      :update-all=\"elForm.labelWidth === 'auto'\"\n    >\n      <label\n        :for=\"labelFor\"\n        class=\"el-form-item__label\"\n        :style=\"labelStyle\"\n        v-if=\"label || $slots.label\"\n      >\n        <slot name=\"label\">{{ label + elForm.labelSuffix }}</slot>\n      </label>\n    </label-wrap>\n    <div class=\"el-form-item__content\" :style=\"contentStyle\">\n      <slot></slot>\n      <transition name=\"el-zoom-in-top\">\n        <slot\n          v-if=\"validateState === 'error' && showMessage && elForm.showMessage\"\n          name=\"error\"\n          :error=\"validateMessage\"\n        >\n          <div\n            class=\"el-form-item__error\"\n            :class=\"{\n              'el-form-item__error--inline':\n                typeof inlineMessage === 'boolean'\n                  ? inlineMessage\n                  : (elForm && elForm.inlineMessage) || false\n            }\"\n          >\n            {{ validateMessage }}\n          </div>\n        </slot>\n      </transition>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  computed,\n  provide,\n  reactive,\n  inject,\n  ref,\n  unref,\n  getCurrentInstance,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n  watch\n} from 'vue'\n\nimport AsyncValidator from 'async-validator'\nimport { useEmitter } from '../../src/use/emitter'\nimport objectAssign from '../../src/utils/merge'\nimport { noop, getPropByPath } from '../../src/utils/util'\nimport LabelWrap from './LabelWrap.vue'\nexport default {\n  name: 'ElFormItem',\n\n  componentName: 'ElFormItem',\n\n  props: {\n    label: String,\n    labelWidth: String,\n    prop: String,\n    required: {\n      type: Boolean,\n      default: undefined\n    },\n    rules: [Object, Array],\n    error: String,\n    validateStatus: String,\n    for: String,\n    inlineMessage: {\n      type: [String, Boolean],\n      default: ''\n    },\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String\n  },\n  components: {\n    // use this component to calculate auto width\n    LabelWrap\n  },\n\n  setup(props) {\n    const isNested = ref(false)\n    const elForm = inject('elForm', {})\n    const elFormItem = inject('elFormItem', null)\n    isNested.value = !!elFormItem\n\n    useDispatchFiled(props)\n    const {\n      labelFor,\n      labelStyle,\n      computedLabelWidth,\n      updateComputedLabelWidth\n    } = useLabel(props, elForm)\n\n    const { elFormItemSize, sizeClass } = useFontSize(props, elForm)\n    const { getRules, getFilteredRule } = useRules(props, elForm)\n    const { contentStyle } = useContentStyle(\n      props,\n      elForm,\n      isNested,\n      computedLabelWidth\n    )\n    const isRequired = useIsRequired(getRules)\n\n    const {\n      validateState,\n      validateMessage,\n      validateDisabled,\n      validate,\n      clearValidate,\n      resetField\n    } = useValidate(props, elForm, getFilteredRule, getRules)\n\n    const { removeValidateEvents, addValidateEvents } = useValidateEvent(\n      props,\n      validate,\n      getRules,\n      validateDisabled\n    )\n\n    provide(\n      'elFormItem',\n      reactive({\n        name: 'ElFormItem',\n        elFormItemSize,\n        updateComputedLabelWidth,\n        validateState\n      })\n    )\n\n    return {\n      labelFor,\n      labelStyle,\n      sizeClass,\n      contentStyle,\n      isRequired,\n      validate,\n      validateState,\n      validateMessage,\n      resetField,\n      clearValidate,\n      removeValidateEvents,\n      addValidateEvents,\n      elForm\n    }\n  }\n}\n\nfunction useLabel(props, elForm) {\n  const computedLabelWidth = ref('')\n\n  const labelFor = computed(() => props.for || props.prop)\n\n  const labelStyle = computed(() => {\n    const ret = {}\n    if (elForm.labelPosition === 'top') return ret\n    const labelWidth = props.labelWidth || elForm.labelWidth\n    if (labelWidth) {\n      ret.width = labelWidth\n    }\n    return ret\n  })\n\n  const updateComputedLabelWidth = (width) => {\n    computedLabelWidth.value = width ? `${width}px` : ''\n  }\n\n  return {\n    labelFor,\n    labelStyle,\n    computedLabelWidth,\n    updateComputedLabelWidth\n  }\n}\nfunction useFontSize(props, elForm) {\n  const _this = getCurrentInstance()\n\n  const elFormItemSize = computed(() => {\n    return props.size || unref(elForm.size)\n  })\n\n  const sizeClass = computed(() => {\n    return unref(elFormItemSize) || (_this.$ELEMENT || {}).size\n  })\n\n  return {\n    elFormItemSize,\n    sizeClass\n  }\n}\n\nfunction useContentStyle(props, elForm, isNested, computedLabelWidth) {\n  const contentStyle = computed(() => {\n    const ret = {}\n    const label = props.label\n\n    if (elForm.labelPosition === 'top' || elForm.inline) return ret\n    if (!label && !props.labelWidth && unref(isNested)) return ret\n\n    const labelWidth = props.labelWidth || elForm.labelWidth\n    if (labelWidth === 'auto') {\n      if (props.labelWidth === 'auto') {\n        ret.marginLeft = unref(computedLabelWidth)\n      } else if (elForm.labelWidth === 'auto') {\n        ret.marginLeft = elForm.autoLabelWidth\n      }\n    } else {\n      ret.marginLeft = labelWidth\n    }\n    return ret\n  })\n\n  return {\n    contentStyle\n  }\n}\n\nfunction useFieldValue(props, elForm) {\n  const initialValue = ref()\n  const fieldValue = computed(() => {\n    const model = elForm.model\n    if (!model || !props.prop) {\n      return\n    }\n\n    let path = props.prop\n    if (path.indexOf(':') !== -1) {\n      path = path.replace(/:/, '.')\n    }\n\n    return getPropByPath(model, path, true).v\n  })\n\n  onMounted(function () {\n    if (props.prop) {\n      initialValue.value = unref(fieldValue)\n      if (Array.isArray(initialValue.value)) {\n        initialValue.value = initialValue.value.slice()\n      }\n    }\n  })\n\n  return {\n    fieldValue,\n    initialValue\n  }\n}\n\nfunction useDispatchFiled(props) {\n  const { dispatch } = useEmitter()\n  const { proxy } = getCurrentInstance()\n\n  onMounted(() => {\n    if (props.prop) {\n      dispatch('el.form.addField', proxy)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    dispatch('el.form.removeField', proxy)\n  })\n}\n\nfunction useValidateEvent(props, validate, getRules, validateDisabled) {\n  const { on, off } = useEmitter()\n\n  const onFieldBlur = () => {\n    validate('blur')\n  }\n\n  const onFieldChange = () => {\n    if (unref(validateDisabled)) {\n      validateDisabled.value = false\n      return\n    }\n\n    validate('change')\n  }\n\n  const addValidateEvents = () => {\n    const rules = getRules()\n\n    if (rules.length || props.required !== undefined) {\n      on('el.form.blur', onFieldBlur)\n      on('el.form.change', onFieldChange)\n    }\n  }\n\n  onMounted(() => {\n    if (props.prop) {\n      addValidateEvents()\n    }\n  })\n\n  return {\n    removeValidateEvents: off,\n    addValidateEvents\n  }\n}\n\nconst useIsRequired = (getRules) => {\n  return computed(() => {\n    const rules = getRules()\n    let isRequired = false\n\n    if (rules && rules.length) {\n      rules.every((rule) => {\n        if (rule.required) {\n          isRequired = true\n          return false\n        }\n        return true\n      })\n    }\n\n    return isRequired\n  })\n}\n\nconst useRules = (props, elForm) => {\n  const getRules = () => {\n    let formRules = elForm.rules\n    const selfRules = props.rules\n    const requiredRule =\n      props.required !== undefined ? { required: !!props.required } : []\n\n    const prop = getPropByPath(formRules, props.prop || '')\n    formRules = formRules ? prop.o[props.prop || ''] || prop.v : []\n\n    return [].concat(selfRules || formRules || []).concat(requiredRule)\n  }\n\n  const getFilteredRule = (trigger) => {\n    const rules = getRules()\n    return rules\n      .filter((rule) => {\n        if (!rule.trigger || trigger === '') return true\n        if (Array.isArray(rule.trigger)) {\n          return rule.trigger.indexOf(trigger) > -1\n        } else {\n          return rule.trigger === trigger\n        }\n      })\n      .map((rule) => objectAssign({}, rule))\n  }\n\n  return {\n    getRules,\n    getFilteredRule\n  }\n}\n\nfunction useValidate(props, elForm, getFilteredRule) {\n  const { fieldValue, initialValue } = useFieldValue(props, elForm)\n  const { broadcast } = useEmitter()\n  const validateState = ref('')\n  const validateMessage = ref('')\n  const validateDisabled = ref(false)\n\n  watch(\n    () => props.error,\n    (value) => {\n      validateMessage.value = value\n      validateState.value = value ? 'error' : ''\n    },\n    { immediate: true }\n  )\n\n  watch(\n    () => props.validateStatus,\n    (value) => (validateState.value = value)\n  )\n\n  const validate = (trigger, callback = noop) => {\n    validateDisabled.value = false\n    const rules = getFilteredRule(trigger)\n    validateState.value = 'validating'\n    if ((!rules || rules.length === 0) && props.required === undefined) {\n      callback()\n      return true\n    }\n\n    const descriptor = {}\n    if (rules && rules.length > 0) {\n      rules.forEach((rule) => {\n        delete rule.trigger\n      })\n    }\n    descriptor[props.prop] = rules\n\n    const validator = new AsyncValidator(descriptor)\n    const model = {}\n    model[props.prop] = unref(fieldValue)\n    validator.validate(\n      model,\n      { firstFields: true },\n      (errors, invalidFields) => {\n        validateState.value = !errors ? 'success' : 'error'\n        validateMessage.value = errors ? errors[0].message : ''\n\n        callback(validateMessage.value, invalidFields)\n        elForm &&\n          elForm.emit(\n            'validate',\n            props.prop,\n            !errors,\n            validateMessage.value || null\n          )\n      }\n    )\n  }\n\n  const clearValidate = () => {\n    validateState.value = ''\n    validateMessage.value = ''\n    validateDisabled.value = false\n  }\n\n  const resetField = () => {\n    validateState.value = ''\n    validateMessage.value = ''\n\n    const model = elForm.model\n    const value = unref(fieldValue)\n    let path = props.prop\n    if (path.indexOf(':') !== -1) {\n      path = path.replace(/:/, '.')\n    }\n\n    const prop = getPropByPath(model, path, true)\n\n    validateDisabled.value = true\n    if (Array.isArray(value)) {\n      prop.o[prop.k] = [].concat(initialValue.value)\n    } else {\n      prop.o[prop.k] = initialValue.value\n    }\n\n    // reset validateDisabled after onFieldChange triggered\n    nextTick(() => {\n      validateDisabled.value = false\n    })\n\n    broadcast('fieldReset', initialValue.value)\n  }\n\n  return {\n    validateState,\n    validateMessage,\n    validateDisabled,\n    validate,\n    clearValidate,\n    resetField\n  }\n}\n</script>\n","import ElFormItem from './FormItem.vue'\n\n/* istanbul ignore next */\nElFormItem.install = function (app) {\n  app.component(ElFormItem.name, ElFormItem)\n}\n\nexport default ElFormItem\n","import { getValueByPath } from '../../../src/utils/util'\n\nexport const getCell = function (event) {\n  let cell = event.target\n\n  while (cell && cell.tagName.toUpperCase() !== 'HTML') {\n    if (cell.tagName.toUpperCase() === 'TD') {\n      return cell\n    }\n    cell = cell.parentNode\n  }\n\n  return null\n}\n\nconst isObject = function (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nexport const orderBy = function (array, sortKey, reverse, sortMethod, sortBy) {\n  if (\n    !sortKey &&\n    !sortMethod &&\n    (!sortBy || (Array.isArray(sortBy) && !sortBy.length))\n  ) {\n    return array\n  }\n  if (typeof reverse === 'string') {\n    reverse = reverse === 'descending' ? -1 : 1\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1\n  }\n  const getKey = sortMethod\n    ? null\n    : function (value, index) {\n        if (sortBy) {\n          if (!Array.isArray(sortBy)) {\n            sortBy = [sortBy]\n          }\n          return sortBy.map(function (by) {\n            if (typeof by === 'string') {\n              return getValueByPath(value, by)\n            } else {\n              return by(value, index, array)\n            }\n          })\n        }\n        if (sortKey !== '$key') {\n          if (isObject(value) && '$value' in value) value = value.$value\n        }\n        return [isObject(value) ? getValueByPath(value, sortKey) : value]\n      }\n  const compare = function (a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value)\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1\n      }\n    }\n    return 0\n  }\n  return array\n    .map(function (value, index) {\n      return {\n        value: value,\n        index: index,\n        key: getKey ? getKey(value, index) : null\n      }\n    })\n    .sort(function (a, b) {\n      let order = compare(a, b)\n      if (!order) {\n        // make stable https://en.wikipedia.org/wiki/Sorting_algorithm#Stability\n        order = a.index - b.index\n      }\n      return order * reverse\n    })\n    .map((item) => item.value)\n}\n\nexport const getColumnById = function (table, columnId) {\n  let column = null\n  table.columns.forEach(function (item) {\n    if (item.id === columnId) {\n      column = item\n    }\n  })\n  return column\n}\n\nexport const getColumnByKey = function (table, columnKey) {\n  let column = null\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i]\n    if (item.columnKey === columnKey) {\n      column = item\n      break\n    }\n  }\n  return column\n}\n\nexport const getColumnByCell = function (table, cell) {\n  const matches = (cell.className || '').match(/el-table_[^\\s]+/gm)\n  if (matches) {\n    return getColumnById(table, matches[0])\n  }\n  return null\n}\n\nexport const getRowIdentity = (row, rowKey) => {\n  if (!row) throw new Error('row is required when get row identity')\n  if (typeof rowKey === 'string') {\n    if (rowKey.indexOf('.') < 0) {\n      return row[rowKey]\n    }\n    const key = rowKey.split('.')\n    let current = row\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]]\n    }\n    return current\n  } else if (typeof rowKey === 'function') {\n    return rowKey.call(null, row)\n  }\n}\n\nexport const getKeysMap = function (array, rowKey) {\n  const arrayMap = {}\n  ;(array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index }\n  })\n  return arrayMap\n}\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key)\n}\n\nexport function mergeOptions(defaults, config) {\n  const options = {}\n  let key\n  for (key in defaults) {\n    options[key] = defaults[key]\n  }\n  for (key in config) {\n    if (hasOwn(config, key)) {\n      const value = config[key]\n      if (typeof value !== 'undefined') {\n        options[key] = value\n      }\n    }\n  }\n  return options\n}\n\nexport function parseWidth(width) {\n  if (width !== undefined) {\n    width = parseInt(width, 10)\n    if (isNaN(width)) {\n      width = null\n    }\n  }\n  return width\n}\n\nexport function parseMinWidth(minWidth) {\n  if (typeof minWidth !== 'undefined') {\n    minWidth = parseWidth(minWidth)\n    if (isNaN(minWidth)) {\n      minWidth = 80\n    }\n  }\n  return minWidth\n}\n\nexport function parseHeight(height) {\n  if (typeof height === 'number') {\n    return height\n  }\n  if (typeof height === 'string') {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10)\n    } else {\n      return height\n    }\n  }\n  return null\n}\n\n// https://github.com/reduxjs/redux/blob/master/src/compose.js\nexport function compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg\n  }\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}\n\nexport function toggleRowStatus(statusArr, row, newVal) {\n  let changed = false\n  const index = statusArr.indexOf(row)\n  const included = index !== -1\n\n  const addRow = () => {\n    statusArr.push(row)\n    changed = true\n  }\n  const removeRow = () => {\n    statusArr.splice(index, 1)\n    changed = true\n  }\n\n  if (typeof newVal === 'boolean') {\n    if (newVal && !included) {\n      addRow()\n    } else if (!newVal && included) {\n      removeRow()\n    }\n  } else {\n    if (included) {\n      removeRow()\n    } else {\n      addRow()\n    }\n  }\n  return changed\n}\n\nexport function walkTreeNode(\n  root,\n  cb,\n  childrenKey = 'children',\n  lazyKey = 'hasChildren'\n) {\n  const isNil = (array) => !(Array.isArray(array) && array.length)\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level)\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1)\n        return\n      }\n      const children = item[childrenKey]\n      if (!isNil(children)) {\n        _walker(item, children, level + 1)\n      }\n    })\n  }\n\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0)\n      return\n    }\n    const children = item[childrenKey]\n    if (!isNil(children)) {\n      _walker(item, children, 0)\n    }\n  })\n}\n","import { ref, getCurrentInstance } from 'vue'\nimport { toggleRowStatus, getKeysMap, getRowIdentity } from '../util'\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance()\n  const defaultExpandAll = ref(false)\n  const expandRows = ref([])\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice()\n    } else if (rowKey) {\n      // TODO：这里的代码可以优化\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey)\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey)\n        const rowInfo = expandRowsMap[rowId]\n        if (rowInfo) {\n          prev.push(row)\n        }\n        return prev\n      }, [])\n    } else {\n      expandRows.value = []\n    }\n  }\n\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded)\n    if (changed) {\n      instance.emit('expand-change', row, expandRows.value.slice())\n      instance.store.scheduleLayout()\n    }\n  }\n\n  const setExpandRowKeys = (rowKeys) => {\n    instance.store.assertRowKey()\n    // TODO：这里的代码可以优化\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    const keysMap = getKeysMap(data, rowKey)\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur]\n      if (info) {\n        prev.push(info.row)\n      }\n      return prev\n    }, [])\n  }\n\n  const isRowExpanded = (row) => {\n    const rowKey = watcherData.rowKey.value\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey)\n      return !!expandMap[getRowIdentity(row, rowKey)]\n    }\n    return expandRows.value.indexOf(row) !== -1\n  }\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  }\n}\n\nexport default useExpand\n","import { arrayFind } from '../../../../src/utils/util'\nimport { getRowIdentity } from '../util'\nimport { ref, getCurrentInstance, unref } from 'vue'\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance()\n  const _currentRowKey = ref(null)\n  const currentRow = ref(null)\n\n  const setCurrentRowKey = (key) => {\n    instance.store.assertRowKey()\n    _currentRowKey.value = key\n    setCurrentRowByKey(key)\n  }\n\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null\n  }\n\n  const setCurrentRowByKey = (key) => {\n    const { data = [], rowKey } = watcherData\n    let _currentRow = null\n    if (rowKey.value) {\n      _currentRow = arrayFind(\n        unref(data),\n        (item) => getRowIdentity(item, rowKey.value) === key\n      )\n    }\n    currentRow.value = _currentRow\n  }\n\n  const updateCurrentRow = (_currentRow) => {\n    const oldCurrentRow = currentRow.value\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow\n      instance.emit('current-change', currentRow.value, oldCurrentRow)\n      return\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null\n      instance.emit('current-change', null, oldCurrentRow)\n    }\n  }\n\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value\n    // data 为 null 时，解构时的默认值会被忽略\n    const data = watcherData.data.value || []\n    const oldCurrentRow = currentRow.value\n\n    // 当 currentRow 不在 data 中时尝试更新数据\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey)\n        setCurrentRowByKey(currentRowKey)\n      } else {\n        currentRow.value = null\n      }\n      if (currentRow.value === null) {\n        instance.emit('current-change', null, oldCurrentRow)\n      }\n    } else if (_currentRowKey.value) {\n      // 把初始时下设置的 rowKey 转化成 rowData\n      setCurrentRowByKey(_currentRowKey.value)\n      restoreCurrentRowKey()\n    }\n  }\n\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  }\n}\n\nexport default useCurrent\n","import { walkTreeNode, getRowIdentity } from '../util'\nimport { ref, computed, watch, getCurrentInstance, unref } from 'vue'\n\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([])\n  const treeData = ref({})\n  const indent = ref(16)\n  const lazy = ref(false)\n  const lazyTreeNodeMap = ref({})\n  const lazyColumnIdentifier = ref('hasChildren')\n  const childrenColumnName = ref('children')\n  const instance = getCurrentInstance()\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value) return {}\n    const data = watcherData.data.value || []\n    return normalize(data)\n  })\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value\n    const keys = Object.keys(lazyTreeNodeMap.value)\n    const res = {}\n    if (!keys.length) return res\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] }\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey)\n          item.children.push(currentRowKey)\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] }\n          }\n        })\n        res[key] = item\n      }\n    })\n    return res\n  })\n\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value\n    const res = {}\n    walkTreeNode(\n      data,\n      (parent, children, level) => {\n        const parentId = getRowIdentity(parent, rowKey)\n        if (Array.isArray(children)) {\n          res[parentId] = {\n            children: children.map((row) => getRowIdentity(row, rowKey)),\n            level\n          }\n        } else if (lazy.value) {\n          // 当 children 不存在且 lazy 为 true，该节点即为懒加载的节点\n          res[parentId] = {\n            children: [],\n            lazy: true,\n            level\n          }\n        }\n      },\n      childrenColumnName.value,\n      lazyColumnIdentifier.value\n    )\n    return res\n  }\n\n  const updateTreeData = () => {\n    const nested = normalizedData.value\n    const normalizedLazyNode_ = normalizedLazyNode.value\n    const keys = Object.keys(nested)\n    const newTreeData = {}\n    if (keys.length) {\n      const oldTreeData = unref(treeData)\n      const defaultExpandAll = instance.store?.states.defaultExpandAll.value\n      const rootLazyRowKeys = []\n      const getExpanded = (oldValue, key) => {\n        const included =\n          defaultExpandAll ||\n          (expandRowKeys.value && expandRowKeys.value.indexOf(key) !== -1)\n        return !!((oldValue && oldValue.expanded) || included)\n      }\n      // 合并 expanded 与 display，确保数据刷新后，状态不变\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key]\n        const newValue = { ...nested[key] }\n        newValue.expanded = getExpanded(oldValue, key)\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {}\n          newValue.loaded = !!loaded\n          newValue.loading = !!loading\n          rootLazyRowKeys.push(key)\n        }\n        newTreeData[key] = newValue\n      })\n      // 根据懒加载数据更新 treeData\n      const lazyKeys = Object.keys(normalizedLazyNode_)\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key]\n          const lazyNodeChildren = normalizedLazyNode_[key].children\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            // 懒加载的 root 节点，更新一下原有的数据，原来的 children 一定是空数组\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error('[ElTable]children must be an empty array.')\n            }\n            newTreeData[key].children = lazyNodeChildren\n          } else {\n            const { loaded = false, loading = false } = oldValue || {}\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: ''\n            }\n          }\n        })\n      }\n    }\n    treeData.value = newTreeData\n    instance.store?.updateTableScrollY()\n  }\n\n  watch(() => normalizedData.value, updateTreeData)\n  watch(() => normalizedLazyNode.value, updateTreeData)\n\n  const updateTreeExpandKeys = (value) => {\n    expandRowKeys.value = value\n    updateTreeData()\n  }\n\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey()\n\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = id && treeData.value[id]\n    if (id && data && 'expanded' in data) {\n      const oldExpanded = data.expanded\n      expanded = typeof expanded === 'undefined' ? !data.expanded : expanded\n      treeData.value[id].expanded = expanded\n      if (oldExpanded !== expanded) {\n        instance.emit('expand-change', row, expanded)\n      }\n      instance.store.updateTableScrollY()\n    }\n  }\n\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey()\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = treeData.value[id]\n    if (lazy.value && data && 'loaded' in data && !data.loaded) {\n      loadData(row, id, data)\n    } else {\n      toggleTreeExpansion(row, undefined)\n    }\n  }\n\n  const loadData = (row, key, treeNode) => {\n    const { load } = instance.props\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new Error('[ElTable] data must be an array')\n        }\n        treeData.value[key].loading = false\n        treeData.value[key].loaded = true\n        treeData.value[key].expanded = true\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data\n        }\n        instance.emit('expand-change', row, true)\n      })\n    }\n  }\n\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  }\n}\n\nexport default useTree\n","import { ref, getCurrentInstance, unref } from 'vue'\nimport merge from '../../../../src/utils/merge'\nimport {\n  getKeysMap,\n  getRowIdentity,\n  getColumnById,\n  getColumnByKey,\n  orderBy,\n  toggleRowStatus\n} from '../util'\nimport useExpand from './expand'\nimport useCurrent from './current'\nimport useTree from './tree'\n\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn\n  if (!sortingColumn || typeof sortingColumn.sortable === 'string') {\n    return data\n  }\n  return orderBy(\n    data,\n    states.sortProp,\n    states.sortOrder,\n    sortingColumn.sortMethod,\n    sortingColumn.sortBy\n  )\n}\n\nconst doFlattenColumns = (columns) => {\n  const result = []\n  columns.forEach((column) => {\n    if (column.children) {\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, doFlattenColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nfunction useWatcher() {\n  const instance = getCurrentInstance()\n  const rowKey = ref(null)\n  const data = ref([])\n  const _data = ref([])\n  const isComplex = ref(false)\n  const _columns = ref([])\n  const originColumns = ref([])\n  const columns = ref([])\n  const fixedColumns = ref([])\n  const rightFixedColumns = ref([])\n  const leafColumns = ref([])\n  const fixedLeafColumns = ref([])\n  const rightFixedLeafColumns = ref([])\n  const leafColumnsLength = ref(0)\n  const fixedLeafColumnsLength = ref(0)\n  const rightFixedLeafColumnsLength = ref(0)\n  const isAllSelected = ref(false)\n  const selection = ref([])\n  const reserveSelection = ref(false)\n  const selectOnIndeterminate = ref(false)\n  const selectable = ref(null)\n  const filters = ref({})\n  const filteredData = ref(null)\n  const sortingColumn = ref(null)\n  const sortProp = ref(null)\n  const sortOrder = ref(null)\n  const hoverRow = ref(null)\n\n  // 检查 rowKey 是否存在\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error('[ElTable] prop row-key is required')\n  }\n\n  // 更新列\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === true || column.fixed === 'left'\n    )\n    rightFixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === 'right'\n    )\n    if (\n      fixedColumns.value.length > 0 &&\n      _columns.value[0] &&\n      _columns.value[0].type === 'selection' &&\n      !_columns.value[0].fixed\n    ) {\n      _columns.value[0].fixed = true\n      fixedColumns.value.unshift(_columns.value[0])\n    }\n\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed)\n    originColumns.value = []\n      .concat(fixedColumns.value)\n      .concat(notFixedColumns)\n      .concat(rightFixedColumns.value)\n\n    const leafColumns = doFlattenColumns(notFixedColumns)\n    const fixedLeafColumns = doFlattenColumns(fixedColumns.value)\n    const rightFixedLeafColumns = doFlattenColumns(rightFixedColumns.value)\n\n    leafColumnsLength.value = leafColumns.length\n    fixedLeafColumnsLength.value = fixedLeafColumns.length\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns.length\n\n    columns.value = []\n      .concat(fixedLeafColumns)\n      .concat(leafColumns)\n      .concat(rightFixedLeafColumns)\n    isComplex.value =\n      fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0\n  }\n\n  // 更新 DOM\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns()\n    }\n    if (immediate) {\n      instance.state.doLayout()\n    } else {\n      instance.state.debouncedUpdateLayout()\n    }\n  }\n\n  // 选择\n  const isSelected = (row) => {\n    return selection.value.indexOf(row) > -1\n  }\n\n  const clearSelection = () => {\n    isAllSelected.value = false\n    const oldSelection = selection.value\n    if (oldSelection.length) {\n      selection.value = []\n      instance.emit('selection-change', [])\n    }\n  }\n\n  const cleanSelection = () => {\n    let deleted\n    if (rowKey.value) {\n      deleted = []\n      const selectedMap = getKeysMap(selection.value, rowKey.value)\n      const dataMap = getKeysMap(data.value, rowKey.value)\n      for (const key in selectedMap) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (selectedMap.hasOwnProperty(key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row)\n        }\n      }\n    } else {\n      deleted = selection.value.filter(\n        (item) => data.value.indexOf(item) === -1\n      )\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter(\n        (item) => deleted.indexOf(item) === -1\n      )\n      selection.value = newSelection\n      instance.emit('selection-change', newSelection.slice())\n    }\n  }\n\n  const toggleRowSelection = (row, selected, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected)\n    if (changed) {\n      const newSelection = (selection.value || []).slice()\n      // 调用 API 修改选中值，不触发 select 事件\n      if (emitChange) {\n        instance.emit('select', newSelection, row)\n      }\n      instance.emit('selection-change', newSelection)\n    }\n  }\n\n  const _toggleAllSelection = () => {\n    // when only some rows are selected (but not all), select or deselect all of them\n    // depending on the value of selectOnIndeterminate\n    const value = selectOnIndeterminate.value\n      ? !isAllSelected.value\n      : !(isAllSelected.value || selection.value.length)\n    isAllSelected.value = value\n\n    let selectionChanged = false\n    data.value.forEach((row, index) => {\n      if (selectable.value) {\n        if (\n          selectable.value.call(null, row, index) &&\n          toggleRowStatus(selection.value, row, value)\n        ) {\n          selectionChanged = true\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true\n        }\n      }\n    })\n\n    if (selectionChanged) {\n      instance.emit(\n        'selection-change',\n        selection.value ? selection.value.slice() : []\n      )\n    }\n    instance.emit('select-all', selection.value)\n  }\n\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value)\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value)\n      const rowInfo = selectedMap[rowId]\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row\n      }\n    })\n  }\n\n  const updateAllSelected = () => {\n    // data 为 null 时，解构时的默认值会被忽略\n    if (data.value?.length === 0) {\n      isAllSelected.value = false\n      return\n    }\n\n    let selectedMap\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value)\n    }\n    const isSelected = function (row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)]\n      } else {\n        return selection.value.indexOf(row) !== -1\n      }\n    }\n    let isAllSelected_ = true\n    let selectedCount = 0\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const item = data.value[i]\n      const isRowSelectable =\n        selectable.value && selectable.value.call(null, item, i)\n      if (!isSelected(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false\n          break\n        }\n      } else {\n        selectedCount++\n      }\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false\n    isAllSelected.value = isAllSelected_\n  }\n\n  // 过滤与排序\n  const updateFilters = (columns, values) => {\n    if (!Array.isArray(columns)) {\n      columns = [columns]\n    }\n    const filters_ = {}\n    columns.forEach((col) => {\n      filters.value[col.id] = values\n      filters_[col.columnKey || col.id] = values\n    })\n    return filters_\n  }\n\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null\n    }\n    sortingColumn.value = column\n    sortProp.value = prop\n    sortOrder.value = order\n  }\n\n  const execFilter = () => {\n    let sourceData = unref(_data)\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId]\n      if (!values || values.length === 0) return\n      const column = getColumnById(\n        {\n          columns: columns.value\n        },\n        columnId\n      )\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) =>\n            column.filterMethod.call(null, value, row, column)\n          )\n        })\n      }\n    })\n\n    filteredData.value = sourceData\n  }\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    })\n  }\n\n  // 根据 filters 与 sort 去过滤 data\n  const execQuery = (ignore) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter()\n    }\n    execSort()\n  }\n\n  const clearFilter = (columnKeys) => {\n    const {\n      tableHeader,\n      fixedTableHeader,\n      rightFixedTableHeader\n    } = instance.refs\n    let panels = {}\n    if (tableHeader) panels = merge(panels, tableHeader.filterPanels)\n    if (fixedTableHeader) panels = merge(panels, fixedTableHeader.filterPanels)\n    if (rightFixedTableHeader)\n      panels = merge(panels, rightFixedTableHeader.filterPanels)\n\n    const keys = Object.keys(panels)\n    if (!keys.length) return\n\n    if (typeof columnKeys === 'string') {\n      columnKeys = [columnKeys]\n    }\n\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) =>\n        getColumnByKey(\n          {\n            columns: columns.value\n          },\n          key\n        )\n      )\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n      instance.store.commit('filterChange', {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      })\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n\n      filters.value = {}\n      instance.store.commit('filterChange', {\n        column: {},\n        values: [],\n        silent: true\n      })\n    }\n  }\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return\n\n    updateSort(null, null, null)\n    instance.store.commit('changeSortCondition', {\n      silent: true\n    })\n  }\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  })\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  })\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  })\n  // 适配层，expand-row-keys 在 Expand 与 TreeTable 中都有使用\n  const setExpandRowKeysAdapter = (val) => {\n    // 这里会触发额外的计算，但为了兼容性，暂时这么做\n    setExpandRowKeys(val)\n    updateTreeExpandKeys(val)\n  }\n\n  // 展开行与 TreeTable 都要使用\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded)\n    } else {\n      toggleTreeExpansion(row, expanded)\n    }\n  }\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    states: {\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow,\n      ...expandStates,\n      ...treeStates,\n      ...currentData\n    }\n  }\n}\n\nexport default useWatcher\n","import { nextTick, getCurrentInstance, unref } from 'vue'\nimport { arrayFind } from '../../../../src/utils/util'\nimport useWatcher from './watcher'\n\nfunction replaceColumn(array, column) {\n  return array.map((item) => {\n    if (item.id === column.id) {\n      return column\n    } else if (item.children?.length > 0) {\n      item.children = replaceColumn(item.children, column)\n    }\n    return item\n  })\n}\n\nfunction useStore() {\n  const instance = getCurrentInstance()\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data\n      states.data.value = data\n      states._data.value = data\n      instance.store.execQuery()\n      // 数据变化，更新部分数据。\n      // 没有使用 computed，而是手动更新部分数据 https://github.com/vuejs/vue/issues/6660#issuecomment-331417140\n      instance.store.updateCurrentRowData()\n      instance.store.updateExpandRows()\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey()\n        instance.store.updateSelectionByRowKey()\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection()\n        } else {\n          instance.store.cleanSelection()\n        }\n      }\n      instance.store.updateAllSelected()\n\n      instance.store.updateTableScrollY()\n    },\n\n    insertColumn(states, column, index, parent) {\n      if (index < -1) return\n      const array = unref(states._columns)\n\n      if (!parent) {\n        array.splice(index, 0, column)\n        states._columns.value = array\n      } else {\n        if (parent && !parent.children) {\n          parent.children = []\n        }\n        parent.children.push(column)\n        const newColumns = replaceColumn(array, parent)\n        states._columns.value = newColumns\n      }\n      if (column.type === 'selection') {\n        states.selectable.value = column.selectable\n        states.reserveSelection.value = column.reserveSelection\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics insert column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || []\n      if (parent) {\n        parent.children.splice(\n          parent.children.findIndex((item) => item.id === column.id),\n          1\n        )\n        states._columns.value = replaceColumn(array, parent)\n      } else {\n        array.splice(array.indexOf(column), 1)\n        states._columns.value = array\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics remove column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    sort(states, options) {\n      const { prop, order, init } = options\n      if (prop) {\n        const column = arrayFind(\n          unref(states.columns),\n          (column) => column.property === prop\n        )\n        if (column) {\n          column.order = order\n          instance.store.updateSort(column, prop, order)\n          instance.store.commit('changeSortCondition', { init })\n        }\n      }\n    },\n\n    changeSortCondition(states, options) {\n      // 修复 pr https://github.com/ElemeFE/element/pull/15012 导致的 bug\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states\n      if (unref(order) === null) {\n        states.sortingColumn.value = null\n        states.sortProp.value = null\n      }\n      const ingore = { filter: true }\n      instance.store.execQuery(ingore)\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit('sort-change', {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        })\n      }\n\n      instance.store.updateTableScrollY()\n    },\n\n    filterChange(states, options) {\n      const { column, values, silent } = options\n      const newFilters = instance.store.updateFilters(column, values)\n      instance.store.execQuery()\n\n      if (!silent) {\n        instance.emit('filter-change', newFilters)\n      }\n      instance.store.updateTableScrollY()\n    },\n\n    toggleAllSelection() {\n      instance.store.toggleAllSelection()\n    },\n\n    rowSelectedChanged(states, row) {\n      instance.store.toggleRowSelection(row)\n      instance.store.updateAllSelected()\n    },\n\n    setHoverRow(states, row) {\n      states.hoverRow.value = row\n    },\n\n    setCurrentRow(states, row) {\n      instance.store.updateCurrentRow(row)\n    }\n  }\n  const commit = function (name, ...args) {\n    const mutations = instance.store.mutations\n    if (mutations[name]) {\n      mutations[name].apply(instance, [instance.store.states].concat(args))\n    } else {\n      throw new Error(`Action not found: ${name}`)\n    }\n  }\n  const updateTableScrollY = function () {\n    nextTick(instance.layout.updateScrollY.apply(instance.layout))\n  }\n  const watcher = useWatcher()\n  return {\n    ...watcher,\n    mutations,\n    commit,\n    updateTableScrollY\n  }\n}\n\nexport default useStore\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","import Store from './index'\nimport { debounce } from 'lodash-es'\n\nexport function createStore(table, initialState = {}) {\n  if (!table) {\n    throw new Error('Table is required.')\n  }\n\n  const store = Store()\n  // fix https://github.com/ElemeFE/element/issues/14075\n  // related pr https://github.com/ElemeFE/element/pull/14146\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10)\n  Object.keys(initialState).forEach((key) => {\n    store.states[key].value = initialState[key]\n  })\n  return store\n}\n\nexport function mapStates(mapper) {\n  const res = {}\n  Object.keys(mapper).forEach((key) => {\n    const value = mapper[key]\n    let fn\n    if (typeof value === 'string') {\n      fn = function () {\n        return this.store.states[value]\n      }\n    } else if (typeof value === 'function') {\n      fn = function () {\n        return value.call(this, this.store.states)\n      }\n    } else {\n      console.error('invalid value type')\n    }\n    if (fn) {\n      res[key] = fn\n    }\n  })\n  return res\n}\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule UserAgent_DEPRECATED\n */\n\n/**\n *  Provides entirely client-side User Agent and OS detection. You should prefer\n *  the non-deprecated UserAgent module when possible, which exposes our\n *  authoritative server-side PHP-based detection to the client.\n *\n *  Usage is straightforward:\n *\n *    if (UserAgent_DEPRECATED.ie()) {\n *      //  IE\n *    }\n *\n *  You can also do version checks:\n *\n *    if (UserAgent_DEPRECATED.ie() >= 7) {\n *      //  IE7 or better\n *    }\n *\n *  The browser functions will return NaN if the browser does not match, so\n *  you can also do version compares the other way:\n *\n *    if (UserAgent_DEPRECATED.ie() < 7) {\n *      //  IE6 or worse\n *    }\n *\n *  Note that the version is a float and may include a minor version number,\n *  so you should always use range operators to perform comparisons, not\n *  strict equality.\n *\n *  **Note:** You should **strongly** prefer capability detection to browser\n *  version detection where it's reasonable:\n *\n *    http://www.quirksmode.org/js/support.html\n *\n *  Further, we have a large number of mature wrapper functions and classes\n *  which abstract away many browser irregularities. Check the documentation,\n *  grep for things, or ask on javascript@lists.facebook.com before writing yet\n *  another copy of \"event || window.event\".\n *\n */\n\nvar _populated = false;\n\n// Browsers\nvar _ie, _firefox, _opera, _webkit, _chrome;\n\n// Actual IE browser for compatibility mode\nvar _ie_real_version;\n\n// Platforms\nvar _osx, _windows, _linux, _android;\n\n// Architectures\nvar _win64;\n\n// Devices\nvar _iphone, _ipad, _native;\n\nvar _mobile;\n\nfunction _populate() {\n  if (_populated) {\n    return;\n  }\n\n  _populated = true;\n\n  // To work around buggy JS libraries that can't handle multi-digit\n  // version numbers, Opera 10's user agent string claims it's Opera\n  // 9, then later includes a Version/X.Y field:\n  //\n  // Opera/9.80 (foo) Presto/2.2.15 Version/10.10\n  var uas = navigator.userAgent;\n  var agent = /(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(uas);\n  var os    = /(Mac OS X)|(Windows)|(Linux)/.exec(uas);\n\n  _iphone = /\\b(iPhone|iP[ao]d)/.exec(uas);\n  _ipad = /\\b(iP[ao]d)/.exec(uas);\n  _android = /Android/i.exec(uas);\n  _native = /FBAN\\/\\w+;/i.exec(uas);\n  _mobile = /Mobile/i.exec(uas);\n\n  // Note that the IE team blog would have you believe you should be checking\n  // for 'Win64; x64'.  But MSDN then reveals that you can actually be coming\n  // from either x64 or ia64;  so ultimately, you should just check for Win64\n  // as in indicator of whether you're in 64-bit IE.  32-bit IE on 64-bit\n  // Windows will send 'WOW64' instead.\n  _win64 = !!(/Win64/.exec(uas));\n\n  if (agent) {\n    _ie = agent[1] ? parseFloat(agent[1]) : (\n          agent[5] ? parseFloat(agent[5]) : NaN);\n    // IE compatibility mode\n    if (_ie && document && document.documentMode) {\n      _ie = document.documentMode;\n    }\n    // grab the \"true\" ie version from the trident token if available\n    var trident = /(?:Trident\\/(\\d+.\\d+))/.exec(uas);\n    _ie_real_version = trident ? parseFloat(trident[1]) + 4 : _ie;\n\n    _firefox = agent[2] ? parseFloat(agent[2]) : NaN;\n    _opera   = agent[3] ? parseFloat(agent[3]) : NaN;\n    _webkit  = agent[4] ? parseFloat(agent[4]) : NaN;\n    if (_webkit) {\n      // We do not add the regexp to the above test, because it will always\n      // match 'safari' only since 'AppleWebKit' appears before 'Chrome' in\n      // the userAgent string.\n      agent = /(?:Chrome\\/(\\d+\\.\\d+))/.exec(uas);\n      _chrome = agent && agent[1] ? parseFloat(agent[1]) : NaN;\n    } else {\n      _chrome = NaN;\n    }\n  } else {\n    _ie = _firefox = _opera = _chrome = _webkit = NaN;\n  }\n\n  if (os) {\n    if (os[1]) {\n      // Detect OS X version.  If no version number matches, set _osx to true.\n      // Version examples:  10, 10_6_1, 10.7\n      // Parses version number as a float, taking only first two sets of\n      // digits.  If only one set of digits is found, returns just the major\n      // version number.\n      var ver = /(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(uas);\n\n      _osx = ver ? parseFloat(ver[1].replace('_', '.')) : true;\n    } else {\n      _osx = false;\n    }\n    _windows = !!os[2];\n    _linux   = !!os[3];\n  } else {\n    _osx = _windows = _linux = false;\n  }\n}\n\nvar UserAgent_DEPRECATED = {\n\n  /**\n   *  Check if the UA is Internet Explorer.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  ie: function() {\n    return _populate() || _ie;\n  },\n\n  /**\n   * Check if we're in Internet Explorer compatibility mode.\n   *\n   * @return bool true if in compatibility mode, false if\n   * not compatibility mode or not ie\n   */\n  ieCompatibilityMode: function() {\n    return _populate() || (_ie_real_version > _ie);\n  },\n\n\n  /**\n   * Whether the browser is 64-bit IE.  Really, this is kind of weak sauce;  we\n   * only need this because Skype can't handle 64-bit IE yet.  We need to remove\n   * this when we don't need it -- tracked by #601957.\n   */\n  ie64: function() {\n    return UserAgent_DEPRECATED.ie() && _win64;\n  },\n\n  /**\n   *  Check if the UA is Firefox.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  firefox: function() {\n    return _populate() || _firefox;\n  },\n\n\n  /**\n   *  Check if the UA is Opera.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  opera: function() {\n    return _populate() || _opera;\n  },\n\n\n  /**\n   *  Check if the UA is WebKit.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  webkit: function() {\n    return _populate() || _webkit;\n  },\n\n  /**\n   *  For Push\n   *  WILL BE REMOVED VERY SOON. Use UserAgent_DEPRECATED.webkit\n   */\n  safari: function() {\n    return UserAgent_DEPRECATED.webkit();\n  },\n\n  /**\n   *  Check if the UA is a Chrome browser.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  chrome : function() {\n    return _populate() || _chrome;\n  },\n\n\n  /**\n   *  Check if the user is running Windows.\n   *\n   *  @return bool `true' if the user's OS is Windows.\n   */\n  windows: function() {\n    return _populate() || _windows;\n  },\n\n\n  /**\n   *  Check if the user is running Mac OS X.\n   *\n   *  @return float|bool   Returns a float if a version number is detected,\n   *                       otherwise true/false.\n   */\n  osx: function() {\n    return _populate() || _osx;\n  },\n\n  /**\n   * Check if the user is running Linux.\n   *\n   * @return bool `true' if the user's OS is some flavor of Linux.\n   */\n  linux: function() {\n    return _populate() || _linux;\n  },\n\n  /**\n   * Check if the user is running on an iPhone or iPod platform.\n   *\n   * @return bool `true' if the user is running some flavor of the\n   *    iPhone OS.\n   */\n  iphone: function() {\n    return _populate() || _iphone;\n  },\n\n  mobile: function() {\n    return _populate() || (_iphone || _ipad || _android || _mobile);\n  },\n\n  nativeApp: function() {\n    // webviews inside of the native apps\n    return _populate() || _native;\n  },\n\n  android: function() {\n    return _populate() || _android;\n  },\n\n  ipad: function() {\n    return _populate() || _ipad;\n  }\n};\n\nmodule.exports = UserAgent_DEPRECATED;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n/*jslint evil: true */\n\n'use strict';\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners:\n    canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventSupported\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature =\n    document.implementation &&\n    document.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (!ExecutionEnvironment.canUseDOM ||\n      capture && !('addEventListener' in document)) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nmodule.exports = isEventSupported;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\n'use strict';\n\nvar UserAgent_DEPRECATED = require('./UserAgent_DEPRECATED');\n\nvar isEventSupported = require('./isEventSupported');\n\n\n// Reasonable defaults\nvar PIXEL_STEP  = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0, sY = 0,       // spinX, spinY\n      pX = 0, pY = 0;       // pixelX, pixelY\n\n  // Legacy\n  if ('detail'      in event) { sY = event.detail; }\n  if ('wheelDelta'  in event) { sY = -event.wheelDelta / 120; }\n  if ('wheelDeltaY' in event) { sY = -event.wheelDeltaY / 120; }\n  if ('wheelDeltaX' in event) { sX = -event.wheelDeltaX / 120; }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) { pY = event.deltaY; }\n  if ('deltaX' in event) { pX = event.deltaX; }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {          // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {                             // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) { sX = (pX < 1) ? -1 : 1; }\n  if (pY && !sY) { sY = (pY < 1) ? -1 : 1; }\n\n  return { spinX  : sX,\n           spinY  : sY,\n           pixelX : pX,\n           pixelY : pY };\n}\n\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function() /*string*/ {\n  return (UserAgent_DEPRECATED.firefox())\n           ? 'DOMMouseScroll'\n           : (isEventSupported('wheel'))\n               ? 'wheel'\n               : 'mousewheel';\n};\n\nmodule.exports = normalizeWheel;\n","module.exports = require('./src/normalizeWheel.js');\n","import normalizeWheel from 'normalize-wheel'\nimport { isFirefox } from '../utils/util'\n\nconst mousewheelEventName = isFirefox() ? 'DOMMouseScroll' : 'mousewheel'\n\nconst mousewheel = function (element, callback) {\n  if (element && element.addEventListener) {\n    element.addEventListener(\n      mousewheelEventName,\n      function (event) {\n        const normalized = normalizeWheel(event)\n        callback && callback(event, normalized)\n      },\n      { passive: true }\n    )\n  }\n}\n\nexport default {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value)\n  }\n}\n","import { nextTick, ref, isRef } from 'vue'\nimport scrollbarWidth from '../../../src/utils/scrollbar-width'\nimport { parseHeight } from './util'\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = []\n    this.table = null\n    this.store = null\n    this.columns = []\n    this.fit = true\n    this.showHeader = true\n    this.height = ref(null)\n    this.scrollX = ref(false)\n    this.scrollY = ref(false)\n    this.bodyWidth = ref(null)\n    this.fixedWidth = ref(null)\n    this.rightFixedWidth = ref(null)\n    this.tableHeight = ref(null)\n    this.headerHeight = ref(44)\n    this.appendHeight = ref(0)\n    this.footerHeight = ref(44)\n    this.viewportHeight = ref(null)\n    this.bodyHeight = ref(null)\n    this.fixedBodyHeight = ref(null)\n    this.gutterWidth = scrollbarWidth()\n    for (const name in options) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (options.hasOwnProperty(name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name]\n        } else {\n          this[name] = options[name]\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error('table is required for Table Layout')\n    }\n    if (!this.store) {\n      throw new Error('store is required for Table Layout')\n    }\n  }\n\n  updateScrollY() {\n    const height = this.height.value\n    if (height === null) return false\n    const bodyWrapper = this.table.refs.bodyWrapper\n    if (this.table.vnode.el && bodyWrapper) {\n      const body = bodyWrapper.querySelector('.el-table__body')\n      const prevScrollY = this.scrollY.value\n      const scrollY = body.offsetHeight > this.bodyHeight.value\n      this.scrollY.value = scrollY\n      return prevScrollY !== scrollY\n    }\n    return false\n  }\n\n  setHeight(value, prop = 'height') {\n    if (typeof window === undefined) return\n    const el = this.table.vnode.el\n    value = parseHeight(value)\n    this.height.value = Number(value)\n\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop))\n\n    if (typeof value === 'number') {\n      el.style[prop] = value + 'px'\n      this.updateElsHeight()\n    } else if (typeof value === 'string') {\n      el.style[prop] = value\n      this.updateElsHeight()\n    }\n  }\n\n  setMaxHeight(value) {\n    this.setHeight(value, 'max-height')\n  }\n\n  getFlattenColumns() {\n    const flattenColumns = []\n    const columns = this.table.store.states.columns.value\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        // eslint-disable-next-line prefer-spread\n        flattenColumns.push.apply(flattenColumns, column.columns)\n      } else {\n        flattenColumns.push(column)\n      }\n    })\n\n    return flattenColumns\n  }\n\n  updateElsHeight() {\n    if (!this.table.$ready) return nextTick(() => this.updateElsHeight())\n    const { headerWrapper, appendWrapper, footerWrapper } = this.table.refs\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0\n\n    if (this.showHeader && !headerWrapper) return\n\n    // fix issue (https://github.com/ElemeFE/element/pull/16956)\n    const headerTrElm = headerWrapper\n      ? headerWrapper.querySelector('.el-table__header tr')\n      : null\n    const noneHeader = this.headerDisplayNone(headerTrElm)\n\n    const headerHeight = (this.headerHeight.value = !this.showHeader\n      ? 0\n      : headerWrapper.offsetHeight)\n    if (\n      this.showHeader &&\n      !noneHeader &&\n      headerWrapper.offsetWidth > 0 &&\n      (this.table.store.states.columns.value || []).length > 0 &&\n      headerHeight < 2\n    ) {\n      return nextTick(() => this.updateElsHeight())\n    }\n    const tableHeight = (this.tableHeight.value = this.table.vnode.el.clientHeight)\n    const footerHeight = (this.footerHeight.value = footerWrapper\n      ? footerWrapper.offsetHeight\n      : 0)\n    if (this.height.value !== null) {\n      this.bodyHeight.value =\n        tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0)\n    }\n    this.fixedBodyHeight.value = this.scrollX.value\n      ? this.bodyHeight.value - this.gutterWidth\n      : this.bodyHeight.value\n\n    const noData = !(\n      this.store.states.data.value && this.store.states.data.value.length\n    )\n    this.viewportHeight.value = this.scrollX.value\n      ? tableHeight - (noData ? 0 : this.gutterWidth)\n      : tableHeight\n\n    this.updateScrollY()\n    this.notifyObservers('scrollable')\n  }\n\n  headerDisplayNone(elm) {\n    if (!elm) return true\n    let headerChild = elm\n    while (headerChild.tagName !== 'DIV') {\n      if (getComputedStyle(headerChild).display === 'none') {\n        return true\n      }\n      headerChild = headerChild.parentElement\n    }\n    return false\n  }\n\n  updateColumnsWidth() {\n    if (typeof window === undefined) return\n    const fit = this.fit\n    const bodyWidth = this.table.vnode.el.clientWidth\n    let bodyMinWidth = 0\n\n    const flattenColumns = this.getFlattenColumns()\n    const flexColumns = flattenColumns.filter(\n      (column) => typeof column.width !== 'number'\n    )\n    flattenColumns.forEach((column) => {\n      // Clean those columns whose width changed from flex to unflex\n      if (typeof column.width === 'number' && column.realWidth)\n        column.realWidth = null\n    })\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += column.width || column.minWidth || 80\n      })\n\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0\n\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        // DON'T HAVE SCROLL BAR\n        this.scrollX.value = false\n\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth\n\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth =\n            (flexColumns[0].minWidth || 80) + totalFlexWidth\n        } else {\n          const allColumnsWidth = flexColumns.reduce(\n            (prev, column) => prev + (column.minWidth || 80),\n            0\n          )\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth\n          let noneFirstWidth = 0\n\n          flexColumns.forEach((column, index) => {\n            if (index === 0) return\n            const flexWidth = Math.floor(\n              (column.minWidth || 80) * flexWidthPerPixel\n            )\n            noneFirstWidth += flexWidth\n            column.realWidth = (column.minWidth || 80) + flexWidth\n          })\n\n          flexColumns[0].realWidth =\n            (flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth\n        }\n      } else {\n        // HAVE HORIZONTAL SCROLL BAR\n        this.scrollX.value = true\n        flexColumns.forEach(function (column) {\n          column.realWidth = column.minWidth\n        })\n      }\n\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth)\n      this.table.state.resizeState.value.width = this.bodyWidth.value\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80\n        } else {\n          column.realWidth = column.width || column.minWidth\n        }\n        bodyMinWidth += column.realWidth\n      })\n      this.scrollX.value = bodyMinWidth > bodyWidth\n\n      this.bodyWidth.value = bodyMinWidth\n    }\n\n    const fixedColumns = this.store.states.fixedColumns.value\n\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0\n      fixedColumns.forEach(function (column) {\n        fixedWidth += column.realWidth || column.width\n      })\n\n      this.fixedWidth.value = fixedWidth\n    }\n\n    const rightFixedColumns = this.store.states.rightFixedColumns.value\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0\n      rightFixedColumns.forEach(function (column) {\n        rightFixedWidth += column.realWidth || column.width\n      })\n\n      this.rightFixedWidth.value = rightFixedWidth\n    }\n\n    this.notifyObservers('columns')\n    this.updateElsHeight()\n  }\n\n  addObserver(observer) {\n    this.observers.push(observer)\n  }\n\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer)\n    if (index !== -1) {\n      this.observers.splice(index, 1)\n    }\n  }\n\n  notifyObservers(event) {\n    const observers = this.observers\n    observers.forEach((observer) => {\n      switch (event) {\n        case 'columns':\n          observer.state?.onColumnsChange(this)\n          break\n        case 'scrollable':\n          observer.state?.onScrollableChange(this)\n          break\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`)\n      }\n    })\n  }\n}\n\nexport default TableLayout\n","var dropdowns = []\n\n!(typeof window === 'undefined') &&\n  document.addEventListener('click', function (event) {\n    dropdowns.forEach(function (dropdown) {\n      var target = event.target\n      if (!dropdown || !dropdown.$el) return\n      if (target === dropdown.$el || dropdown.$el.contains(target)) {\n        return\n      }\n      dropdown.handleOutsideClick && dropdown.handleOutsideClick(event)\n    })\n  })\n\nexport default {\n  open(instance) {\n    if (instance) {\n      dropdowns.push(instance)\n    }\n  },\n\n  close(instance) {\n    var index = dropdowns.indexOf(instance)\n    if (index !== -1) {\n      dropdowns.splice(instance, 1)\n    }\n  }\n}\n","<template>\n  <transition name=\"el-zoom-in-top\">\n    <div\n      class=\"el-table-filter\"\n      v-if=\"multiple\"\n      v-clickoutside=\"handleOutsideClick\"\n      v-show=\"showPopper\"\n    >\n      <div class=\"el-table-filter__content\">\n        <el-scrollbar wrap-class=\"el-table-filter__wrap\">\n          <el-checkbox-group\n            class=\"el-table-filter__checkbox-group\"\n            v-model=\"filteredValue\"\n          >\n            <el-checkbox\n              v-for=\"filter in filters\"\n              :key=\"filter.value\"\n              :label=\"filter.value\"\n              >{{ filter.text }}</el-checkbox\n            >\n          </el-checkbox-group>\n        </el-scrollbar>\n      </div>\n      <div class=\"el-table-filter__bottom\">\n        <button\n          @click=\"handleConfirm\"\n          :class=\"{ 'is-disabled': filteredValue.length === 0 }\"\n          :disabled=\"filteredValue.length === 0\"\n        >\n          {{ t('el.table.confirmFilter') }}\n        </button>\n        <button @click=\"handleReset\">{{ t('el.table.resetFilter') }}</button>\n      </div>\n    </div>\n    <div\n      class=\"el-table-filter\"\n      v-else\n      v-clickoutside=\"handleOutsideClick\"\n      v-show=\"showPopper\"\n    >\n      <ul class=\"el-table-filter__list\">\n        <li\n          class=\"el-table-filter__list-item\"\n          :class=\"{\n            'is-active': filterValue === undefined || filterValue === null\n          }\"\n          @click=\"handleSelect(null)\"\n        >\n          {{ t('el.table.clearFilter') }}\n        </li>\n        <li\n          class=\"el-table-filter__list-item\"\n          v-for=\"filter in filters\"\n          :label=\"filter.value\"\n          :key=\"filter.value\"\n          :class=\"{ 'is-active': isActive(filter) }\"\n          @click=\"handleSelect(filter.value)\"\n        >\n          {{ filter.text }}\n        </li>\n      </ul>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport Popper from '../../../src/utils/vue-popper'\nimport { PopupManager } from '../../../src/utils/popup'\nimport Locale from '../../../src/mixins/locale'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport Dropdown from './dropdown'\nimport ElCheckbox from '../../../packages/checkbox'\nimport ElCheckboxGroup from '../../../packages/checkbox-group'\nimport ElScrollbar from '../../../packages/scrollbar'\n\nexport default {\n  name: 'ElTableFilterPanel',\n  mixins: [Popper, Locale],\n  directives: {\n    Clickoutside\n  },\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar\n  },\n  props: {\n    placement: {\n      type: String,\n      default: 'bottom-end'\n    }\n  },\n  methods: {\n    isActive(filter) {\n      return filter.value === this.filterValue\n    },\n    handleOutsideClick() {\n      setTimeout(() => {\n        this.showPopper = false\n      }, 16)\n    },\n    handleConfirm() {\n      this.confirmFilter(this.filteredValue)\n      this.handleOutsideClick()\n    },\n    handleReset() {\n      this.filteredValue = []\n      this.confirmFilter(this.filteredValue)\n      this.handleOutsideClick()\n    },\n    handleSelect(filterValue) {\n      this.filterValue = filterValue\n      if (typeof filterValue !== 'undefined' && filterValue !== null) {\n        this.confirmFilter(this.filteredValue)\n      } else {\n        this.confirmFilter([])\n      }\n      this.handleOutsideClick()\n    },\n    confirmFilter(filteredValue) {\n      this.table.store.commit('filterChange', {\n        column: this.column,\n        values: filteredValue\n      })\n      this.table.store.updateAllSelected()\n    }\n  },\n  data() {\n    return {\n      table: null,\n      cell: null,\n      column: null\n    }\n  },\n  computed: {\n    filters() {\n      return this.column && this.column.filters\n    },\n    filterValue: {\n      get() {\n        return (this.column.filteredValue || [])[0]\n      },\n      set(value) {\n        if (this.filteredValue) {\n          if (typeof value !== 'undefined' && value !== null) {\n            this.filteredValue.splice(0, 1, value)\n          } else {\n            this.filteredValue.splice(0, 1)\n          }\n        }\n      }\n    },\n    filteredValue: {\n      get() {\n        if (this.column) {\n          return this.column.filteredValue || []\n        }\n        return []\n      },\n      set(value) {\n        if (this.column) {\n          this.column.filteredValue = value\n        }\n      }\n    },\n    multiple() {\n      if (this.column) {\n        return this.column.filterMultiple\n      }\n      return true\n    }\n  },\n  mounted() {\n    this.popperElm = this.$el\n    this.referenceElm = this.cell\n    this.table.bodyWrapper.addEventListener('scroll', () => {\n      this.updatePopper()\n    })\n    this.$watch('showPopper', (value) => {\n      if (this.column) this.column.filterOpened = value\n      if (value) {\n        Dropdown.open(this)\n      } else {\n        Dropdown.close(this)\n      }\n    })\n  },\n  watch: {\n    showPopper(val) {\n      if (\n        val === true &&\n        parseInt(this.popperJS._popper.style.zIndex, 10) < PopupManager.zIndex\n      ) {\n        this.popperJS._popper.style.zIndex = PopupManager.nextZIndex()\n      }\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-zoom-in-top\">\n    <div\n      class=\"el-table-filter\"\n      v-if=\"multiple\"\n      v-clickoutside=\"handleOutsideClick\"\n      v-show=\"showPopper\"\n    >\n      <div class=\"el-table-filter__content\">\n        <el-scrollbar wrap-class=\"el-table-filter__wrap\">\n          <el-checkbox-group\n            class=\"el-table-filter__checkbox-group\"\n            v-model=\"filteredValue\"\n          >\n            <el-checkbox\n              v-for=\"filter in filters\"\n              :key=\"filter.value\"\n              :label=\"filter.value\"\n              >{{ filter.text }}</el-checkbox\n            >\n          </el-checkbox-group>\n        </el-scrollbar>\n      </div>\n      <div class=\"el-table-filter__bottom\">\n        <button\n          @click=\"handleConfirm\"\n          :class=\"{ 'is-disabled': filteredValue.length === 0 }\"\n          :disabled=\"filteredValue.length === 0\"\n        >\n          {{ t('el.table.confirmFilter') }}\n        </button>\n        <button @click=\"handleReset\">{{ t('el.table.resetFilter') }}</button>\n      </div>\n    </div>\n    <div\n      class=\"el-table-filter\"\n      v-else\n      v-clickoutside=\"handleOutsideClick\"\n      v-show=\"showPopper\"\n    >\n      <ul class=\"el-table-filter__list\">\n        <li\n          class=\"el-table-filter__list-item\"\n          :class=\"{\n            'is-active': filterValue === undefined || filterValue === null\n          }\"\n          @click=\"handleSelect(null)\"\n        >\n          {{ t('el.table.clearFilter') }}\n        </li>\n        <li\n          class=\"el-table-filter__list-item\"\n          v-for=\"filter in filters\"\n          :label=\"filter.value\"\n          :key=\"filter.value\"\n          :class=\"{ 'is-active': isActive(filter) }\"\n          @click=\"handleSelect(filter.value)\"\n        >\n          {{ filter.text }}\n        </li>\n      </ul>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport Popper from '../../../src/utils/vue-popper'\nimport { PopupManager } from '../../../src/utils/popup'\nimport Locale from '../../../src/mixins/locale'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport Dropdown from './dropdown'\nimport ElCheckbox from '../../../packages/checkbox'\nimport ElCheckboxGroup from '../../../packages/checkbox-group'\nimport ElScrollbar from '../../../packages/scrollbar'\n\nexport default {\n  name: 'ElTableFilterPanel',\n  mixins: [Popper, Locale],\n  directives: {\n    Clickoutside\n  },\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar\n  },\n  props: {\n    placement: {\n      type: String,\n      default: 'bottom-end'\n    }\n  },\n  methods: {\n    isActive(filter) {\n      return filter.value === this.filterValue\n    },\n    handleOutsideClick() {\n      setTimeout(() => {\n        this.showPopper = false\n      }, 16)\n    },\n    handleConfirm() {\n      this.confirmFilter(this.filteredValue)\n      this.handleOutsideClick()\n    },\n    handleReset() {\n      this.filteredValue = []\n      this.confirmFilter(this.filteredValue)\n      this.handleOutsideClick()\n    },\n    handleSelect(filterValue) {\n      this.filterValue = filterValue\n      if (typeof filterValue !== 'undefined' && filterValue !== null) {\n        this.confirmFilter(this.filteredValue)\n      } else {\n        this.confirmFilter([])\n      }\n      this.handleOutsideClick()\n    },\n    confirmFilter(filteredValue) {\n      this.table.store.commit('filterChange', {\n        column: this.column,\n        values: filteredValue\n      })\n      this.table.store.updateAllSelected()\n    }\n  },\n  data() {\n    return {\n      table: null,\n      cell: null,\n      column: null\n    }\n  },\n  computed: {\n    filters() {\n      return this.column && this.column.filters\n    },\n    filterValue: {\n      get() {\n        return (this.column.filteredValue || [])[0]\n      },\n      set(value) {\n        if (this.filteredValue) {\n          if (typeof value !== 'undefined' && value !== null) {\n            this.filteredValue.splice(0, 1, value)\n          } else {\n            this.filteredValue.splice(0, 1)\n          }\n        }\n      }\n    },\n    filteredValue: {\n      get() {\n        if (this.column) {\n          return this.column.filteredValue || []\n        }\n        return []\n      },\n      set(value) {\n        if (this.column) {\n          this.column.filteredValue = value\n        }\n      }\n    },\n    multiple() {\n      if (this.column) {\n        return this.column.filterMultiple\n      }\n      return true\n    }\n  },\n  mounted() {\n    this.popperElm = this.$el\n    this.referenceElm = this.cell\n    this.table.bodyWrapper.addEventListener('scroll', () => {\n      this.updatePopper()\n    })\n    this.$watch('showPopper', (value) => {\n      if (this.column) this.column.filterOpened = value\n      if (value) {\n        Dropdown.open(this)\n      } else {\n        Dropdown.close(this)\n      }\n    })\n  },\n  watch: {\n    showPopper(val) {\n      if (\n        val === true &&\n        parseInt(this.popperJS._popper.style.zIndex, 10) < PopupManager.zIndex\n      ) {\n        this.popperJS._popper.style.zIndex = PopupManager.nextZIndex()\n      }\n    }\n  }\n}\n</script>\n","import {\n  onBeforeMount,\n  onUnmounted,\n  onMounted,\n  onUpdated,\n  computed,\n  getCurrentInstance,\n  nextTick\n} from 'vue'\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance()\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance)\n  })\n  onMounted(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance)\n  })\n  const tableLayout = computed(() => {\n    const layout = root.layout\n    if (!layout) {\n      throw new Error('Can not find table layout.')\n    }\n    return layout\n  })\n  const onColumnsChange = (layout) => {\n    nextTick(() => {\n      const cols = root.vnode.el?.querySelectorAll('colgroup > col')\n      if (!cols || !cols.length) return\n      const flattenColumns = layout.getFlattenColumns()\n      const columnsMap = {}\n      flattenColumns.forEach((column) => {\n        columnsMap[column.id] = column\n      })\n      for (let i = 0, j = cols.length; i < j; i++) {\n        const col = cols[i]\n        const name = col.getAttribute('name')\n        const column = columnsMap[name]\n        if (column) {\n          col.setAttribute('width', column.realWidth || column.width)\n        }\n      }\n    })\n  }\n\n  const onScrollableChange = (layout) => {\n    nextTick(() => {\n      const cols = root.vnode.el?.querySelectorAll(\n        'colgroup > col[name=gutter]'\n      )\n      for (let i = 0, j = cols.length; i < j; i++) {\n        const col = cols[i]\n        col.setAttribute(\n          'width',\n          layout.scrollY.value ? layout.gutterWidth : '0'\n        )\n      }\n      const ths = root.vnode.el.querySelectorAll('th.gutter')\n      for (let i = 0, j = ths.length; i < j; i++) {\n        const th = ths[i]\n        th.style.width = layout.scrollY.value ? layout.gutterWidth + 'px' : '0'\n        th.style.display = layout.scrollY.value ? '' : 'none'\n      }\n    })\n  }\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  }\n}\n\nexport default useLayoutObserver\n","import { getCurrentInstance, ref } from 'vue'\nimport { hasClass, addClass, removeClass } from '../../../../src/utils/dom'\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const handleFilterClick = (event) => {\n    event.stopPropagation()\n    return\n  }\n\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false)\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event)\n    }\n    parent.emit('header-click', column, event)\n  }\n\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit('header-contextmenu', column, event)\n  }\n  const draggingColumn = ref(null)\n  const dragging = ref(false)\n  const dragState = ref({})\n  const handleMouseDown = (event, column) => {\n    if (typeof window === undefined) return\n    if (column.children && column.children.length > 0) return\n    /* istanbul ignore if */\n    if (draggingColumn.value && props.border) {\n      dragging.value = true\n\n      const table = parent\n      emit('set-drag-visible', true)\n      const tableEl = table.vnode.el\n      const tableLeft = tableEl.getBoundingClientRect().left\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`)\n      const columnRect = columnEl.getBoundingClientRect()\n      const minLeft = columnRect.left - tableLeft + 30\n\n      addClass(columnEl, 'noclick')\n\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      }\n      const resizeProxy = table.refs.resizeProxy\n      resizeProxy.style.left = dragState.value.startLeft + 'px'\n\n      document.onselectstart = function () {\n        return false\n      }\n      document.ondragstart = function () {\n        return false\n      }\n\n      const handleMouseMove = (event) => {\n        const deltaLeft = event.clientX - dragState.value.startMouseLeft\n        const proxyLeft = dragState.value.startLeft + deltaLeft\n\n        resizeProxy.style.left = Math.max(minLeft, proxyLeft) + 'px'\n      }\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value\n          const finalLeft = parseInt(resizeProxy.style.left, 10)\n          const columnWidth = finalLeft - startColumnLeft\n          column.width = column.realWidth = columnWidth\n          table.emit(\n            'header-dragend',\n            column.width,\n            startLeft - startColumnLeft,\n            column,\n            event\n          )\n          props.store.scheduleLayout(false, true)\n\n          document.body.style.cursor = ''\n          dragging.value = false\n          draggingColumn.value = null\n          dragState.value = {}\n          emit('set-drag-visible', false)\n        }\n\n        document.removeEventListener('mousemove', handleMouseMove)\n        document.removeEventListener('mouseup', handleMouseUp)\n        document.onselectstart = null\n        document.ondragstart = null\n\n        setTimeout(function () {\n          removeClass(columnEl, 'noclick')\n        }, 0)\n      }\n\n      document.addEventListener('mousemove', handleMouseMove)\n      document.addEventListener('mouseup', handleMouseUp)\n    }\n  }\n\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0) return\n    let target = event.target\n    while (target && target.tagName !== 'TH') {\n      target = target.parentNode\n    }\n\n    if (!column || !column.resizable) return\n\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect()\n\n      const bodyStyle = document.body.style\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = 'col-resize'\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'col-resize'\n        }\n        draggingColumn.value = column\n      } else if (!dragging.value) {\n        bodyStyle.cursor = ''\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'pointer'\n        }\n        draggingColumn.value = null\n      }\n    }\n  }\n\n  const handleMouseOut = () => {\n    if (typeof window === undefined) return\n    document.body.style.cursor = ''\n  }\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === '') return sortOrders[0]\n    const index = sortOrders.indexOf(order || null)\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1]\n  }\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation()\n    const order =\n      column.order === givenOrder ? null : givenOrder || toggleOrder(column)\n\n    let target = event.target\n    while (target && target.tagName !== 'TH') {\n      target = target.parentNode\n    }\n\n    if (target && target.tagName === 'TH') {\n      if (hasClass(target, 'noclick')) {\n        removeClass(target, 'noclick')\n        return\n      }\n    }\n\n    if (!column.sortable) return\n\n    const states = props.store.states\n    let sortProp = states.sortProp.value\n    let sortOrder\n    const sortingColumn = states.sortingColumn.value\n\n    if (\n      sortingColumn !== column ||\n      (sortingColumn === column && sortingColumn.order === null)\n    ) {\n      if (sortingColumn) {\n        sortingColumn.order = null\n      }\n      states.sortingColumn.value = column\n      sortProp = column.property\n    }\n    if (!order) {\n      sortOrder = column.order = null\n    } else {\n      sortOrder = column.order = order\n    }\n\n    states.sortProp.value = sortProp\n    states.sortOrder.value = sortOrder\n\n    parent.store.commit('changeSortCondition')\n  }\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  }\n}\n\nexport default useEvent\n","import { getCurrentInstance } from 'vue'\n\nfunction useStyle(props) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const storeData = parent.store.states\n  const isCellHidden = (index, columns) => {\n    let start = 0\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan\n    }\n    const after = start + columns[index].colSpan - 1\n    if (props.fixed === 'left') {\n      return after >= storeData.fixedLeafColumnsLength.value\n    } else if (props.fixed === 'right') {\n      return (\n        start <\n        storeData.columns.value.length -\n          storeData.rightFixedLeafColumnsLength.value\n      )\n    } else {\n      return (\n        after < storeData.fixedLeafColumnsLength.value ||\n        start >=\n          storeData.columns.value.length -\n            storeData.rightFixedLeafColumnsLength.value\n      )\n    }\n  }\n\n  const getHeaderRowStyle = (rowIndex) => {\n    const headerRowStyle = parent.props.headerRowStyle\n    if (typeof headerRowStyle === 'function') {\n      return headerRowStyle.call(null, { rowIndex })\n    }\n    return headerRowStyle\n  }\n\n  const getHeaderRowClass = (rowIndex) => {\n    const classes = []\n    const headerRowClassName = parent.props.headerRowClassName\n    if (typeof headerRowClassName === 'string') {\n      classes.push(headerRowClassName)\n    } else if (typeof headerRowClassName === 'function') {\n      classes.push(headerRowClassName.call(null, { rowIndex }))\n    }\n\n    return classes.join(' ')\n  }\n\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle\n    if (typeof headerCellStyle === 'function') {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      })\n    }\n    return headerCellStyle\n  }\n\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName\n    ]\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push('is-hidden')\n    }\n\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n\n    if (column.sortable) {\n      classes.push('is-sortable')\n    }\n\n    const headerCellClassName = parent.props.headerCellClassName\n    if (typeof headerCellClassName === 'string') {\n      classes.push(headerCellClassName)\n    } else if (typeof headerCellClassName === 'function') {\n      classes.push(\n        headerCellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column\n        })\n      )\n    }\n\n    return classes.join(' ')\n  }\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  }\n}\n\nexport default useStyle\n","import { getCurrentInstance, computed } from 'vue'\n\nconst getAllColumns = (columns) => {\n  const result = []\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column)\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, getAllColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nconst convertToRows = (originColumns) => {\n  let maxLevel = 1\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1\n      if (maxLevel < column.level) {\n        maxLevel = column.level\n      }\n    }\n    if (column.children) {\n      let colSpan = 0\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column)\n        colSpan += subColumn.colSpan\n      })\n      column.colSpan = colSpan\n    } else {\n      column.colSpan = 1\n    }\n  }\n\n  originColumns.forEach((column) => {\n    column.level = 1\n    traverse(column, undefined)\n  })\n\n  const rows = []\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([])\n  }\n\n  const allColumns = getAllColumns(originColumns)\n\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1\n    } else {\n      column.rowSpan = 1\n    }\n    rows[column.level - 1].push(column)\n  })\n\n  return rows\n}\n\nfunction useUtils(props) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value)\n  })\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1\n    if (result) parent.state.isGroup.value = true\n    return result\n  })\n  const toggleAllSelection = (event) => {\n    event.stopPropagation()\n    parent.store.commit('toggleAllSelection')\n  }\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  }\n}\n\nexport default useUtils\n","import { h } from 'vue'\n\nexport function hGutter() {\n  return h('col', {\n    name: 'gutter'\n  })\n}\n\nexport function hColgroup(columns, hasGutter) {\n  return h('colgroup', {}, [\n    ...columns.map((column) =>\n      h('col', {\n        name: column.id,\n        key: column.id\n      })\n    ),\n    hasGutter && hGutter()\n  ])\n}\n","import { getCurrentInstance, computed, onMounted, nextTick, ref, h } from 'vue'\nimport ElCheckbox from '../../../checkbox'\nimport FilterPanel from '../filter-panel.vue'\nimport useLayoutObserver from '../layout-observer'\nimport useEvent from './event-helper'\nimport useStyle from './style.helper'\nimport useUtils from './utils-helper'\nimport { hColgroup } from '../h-helper'\n\nexport default {\n  name: 'ElTableHeader',\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: ''\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default() {\n        return {\n          prop: '',\n          order: ''\n        }\n      }\n    }\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n    const parent = instance.parent\n    const storeData = parent.store.states\n    const filterPanels = ref({})\n    const {\n      tableLayout,\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent)\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth\n    })\n    onMounted(() => {\n      nextTick(() => {\n        const { prop, order } = props.defaultSort\n        const init = true\n        parent.store.commit('sort', { prop, order, init })\n      })\n    })\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit)\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle(props)\n    const { isGroup, toggleAllSelection, columnRows } = useUtils(props)\n\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    }\n    // eslint-disable-next-line\n    instance.filterPanels = filterPanels\n\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    }\n  },\n  render() {\n    return h(\n      'table',\n      {\n        border: '0',\n        cellpadding: '0',\n        cellspacing: '0',\n        class: 'el-table__header'\n      },\n      [\n        hColgroup(this.columns, this.hasGutter),\n        h(\n          'thead',\n          {\n            class: { 'is-group': this.isGroup, 'has-gutter': this.hasGutter }\n          },\n          this.columnRows.map((subColumns, rowIndex) =>\n            h(\n              'tr',\n              {\n                class: this.getHeaderRowClass(rowIndex),\n                key: rowIndex,\n                style: this.getHeaderRowStyle(rowIndex)\n              },\n              subColumns.map((column, cellIndex) =>\n                h(\n                  'th',\n                  {\n                    class: this.getHeaderCellClass(\n                      rowIndex,\n                      cellIndex,\n                      subColumns,\n                      column\n                    ),\n                    colspan: column.colSpan,\n                    key: `${column.id}-thead`,\n                    rowSpan: column.rowSpan,\n                    style: this.getHeaderCellStyle(\n                      rowIndex,\n                      cellIndex,\n                      subColumns,\n                      column\n                    ),\n                    onClick: ($event) => this.handleHeaderClick($event, column),\n                    onContextmenu: ($event) =>\n                      this.handleHeaderContextMenu($event, column),\n                    onMousedown: ($event) =>\n                      this.handleMouseDown($event, column),\n                    onMouseMove: ($event) =>\n                      this.handleMouseMove($event, column),\n                    onMouseout: this.handleMouseOut\n                  },\n                  [\n                    h(\n                      'div',\n                      {\n                        class: [\n                          'cell',\n                          column.filteredValue &&\n                          column.filteredValue.length > 0\n                            ? 'highlight'\n                            : '',\n                          column.labelClassName\n                        ]\n                      },\n                      [\n                        column.renderHeader\n                          ? column.renderHeader({\n                              column,\n                              index_: cellIndex,\n                              store: this.store,\n                              _self: this.$parent\n                            })\n                          : column.label,\n                        column.sortable &&\n                          h(\n                            'span',\n                            {\n                              onClick: ($event) =>\n                                this.handleSortClick($event, column),\n                              class: 'caret-wrapper'\n                            },\n                            [\n                              h('i', {\n                                onClick: ($event) =>\n                                  this.handleSortClick(\n                                    $event,\n                                    column,\n                                    'ascending'\n                                  ),\n                                class: 'sort-caret ascending'\n                              }),\n                              h('i', {\n                                onClick: ($event) =>\n                                  this.handleSortClick(\n                                    $event,\n                                    column,\n                                    'descending'\n                                  ),\n                                class: 'sort-caret descending'\n                              })\n                            ]\n                          ),\n                        column.filterable &&\n                          h(FilterPanel, {\n                            table: this.$parent,\n                            store: this.$parent.store,\n                            placement: column.filterPlacement || 'bottom-start',\n                            column: column,\n                            upDataColumn: (key, value) => {\n                              column[key] = value\n                            }\n                          })\n                      ]\n                    )\n                  ]\n                )\n              )\n            )\n          )\n        )\n      ]\n    )\n  }\n}\n","import { getCurrentInstance, ref, h } from 'vue'\nimport { getStyle, hasClass } from '../../../../src/utils/dom'\nimport { getCell, getColumnByCell } from '../util'\nimport { debounce } from 'lodash-es'\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const tooltipVisible = ref(false)\n  const tooltipContent = ref('')\n  const tooltipTrigger = ref(h('div'))\n  const handleEvent = (event, row, name) => {\n    const table = parent\n    const cell = getCell(event)\n    let column\n    if (cell) {\n      column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value\n        },\n        cell\n      )\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event)\n      }\n    }\n    table.emit(`row-${name}`, row, column, event)\n  }\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, 'dblclick')\n  }\n  const handleClick = (event, row) => {\n    props.store.commit('setCurrentRow', row)\n    handleEvent(event, row, 'click')\n  }\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, 'contextmenu')\n  }\n  const handleMouseEnter = debounce(function (index) {\n    props.store.commit('setHoverRow', index)\n  }, 30)\n  const handleMouseLeave = debounce(function () {\n    props.store.commit('setHoverRow', null)\n  }, 30)\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent\n    const cell = getCell(event)\n\n    if (cell) {\n      const column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value\n        },\n        cell\n      )\n      const hoverState = (table.hoverState = { cell, column, row })\n      table.emit(\n        'cell-mouse-enter',\n        hoverState.row,\n        hoverState.column,\n        hoverState.cell,\n        event\n      )\n    }\n\n    // 判断是否text-overflow, 如果是就显示tooltip\n    const cellChild = event.target.querySelector('.cell')\n    if (!(hasClass(cellChild, 'el-tooltip') && cellChild.childNodes.length)) {\n      return\n    }\n    // use range width instead of scrollWidth to determine whether the text is overflowing\n    // to address a potential FireFox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1074543#c3\n    const range = document.createRange()\n    range.setStart(cellChild, 0)\n    range.setEnd(cellChild, cellChild.childNodes.length)\n    const rangeWidth = range.getBoundingClientRect().width\n    const padding =\n      (parseInt(getStyle(cellChild, 'paddingLeft'), 10) || 0) +\n      (parseInt(getStyle(cellChild, 'paddingRight'), 10) || 0)\n    if (\n      rangeWidth + padding > cellChild.offsetWidth ||\n      cellChild.scrollWidth > cellChild.offsetWidth\n    ) {\n      // TODO 会引起整个 Table 的重新渲染，需要优化\n      tooltipContent.value = cell.innerText || cell.textContent\n      tooltipVisible.value = true\n      // TODO 动态绑定触发的元素会导致开发模式下产生警告\n      tooltipTrigger.value = cell\n    }\n  }\n  const handleCellMouseLeave = (event) => {\n    tooltipVisible.value = false\n    const cell = getCell(event)\n    if (!cell) return\n\n    const oldHoverState = parent.hoverState\n    parent.emit(\n      'cell-mouse-leave',\n      oldHoverState?.row,\n      oldHoverState?.column,\n      oldHoverState?.cell,\n      event\n    )\n  }\n\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipVisible,\n    tooltipContent,\n    tooltipTrigger\n  }\n}\n\nexport default useEvents\n","import { getCurrentInstance } from 'vue'\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const isColumnHidden = (index) => {\n    if (props.fixed === 'left') {\n      return index >= props.store.states.fixedLeafColumnsLength.value\n    } else if (props.fixed === 'right') {\n      return (\n        index <\n        props.store.states.columns.value.length -\n          props.store.states.rightFixedLeafColumnsLength.value\n      )\n    } else {\n      return (\n        index < props.store.states.fixedLeafColumnsLength.value ||\n        index >=\n          props.store.states.columns.value.length -\n            props.store.states.rightFixedLeafColumnsLength.value\n      )\n    }\n  }\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle\n    if (typeof rowStyle === 'function') {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      })\n    }\n    return rowStyle || null\n  }\n\n  const getRowClass = (row, rowIndex) => {\n    const classes = ['el-table__row']\n    if (\n      parent.props.highlightCurrentRow &&\n      row === props.store.states.currentRow.value\n    ) {\n      classes.push('current-row')\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push('el-table__row--striped')\n    }\n    const rowClassName = parent.props.rowClassName\n    if (typeof rowClassName === 'string') {\n      classes.push(rowClassName)\n    } else if (typeof rowClassName === 'function') {\n      classes.push(\n        rowClassName.call(null, {\n          row,\n          rowIndex\n        })\n      )\n    }\n\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push('expanded')\n    }\n\n    return classes\n  }\n\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle\n    if (typeof cellStyle === 'function') {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      })\n    }\n    return cellStyle\n  }\n\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className]\n\n    if (isColumnHidden(columnIndex)) {\n      classes.push('is-hidden')\n    }\n\n    const cellClassName = parent.props.cellClassName\n    if (typeof cellClassName === 'string') {\n      classes.push(cellClassName)\n    } else if (typeof cellClassName === 'function') {\n      classes.push(\n        cellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column\n        })\n      )\n    }\n\n    return classes.join(' ')\n  }\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1\n    let colspan = 1\n    const fn = parent.props.spanMethod\n    if (typeof fn === 'function') {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      })\n      if (Array.isArray(result)) {\n        rowspan = result[0]\n        colspan = result[1]\n      } else if (typeof result === 'object') {\n        rowspan = result.rowspan\n        colspan = result.colspan\n      }\n    }\n    return { rowspan, colspan }\n  }\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth\n    }\n    const widthArr = columns\n      .map(({ realWidth }) => realWidth)\n      .slice(index, index + colspan)\n    return widthArr.reduce((acc, width) => acc + width, -1)\n  }\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  }\n}\n\nexport default useStyles\n","import { h, getCurrentInstance, computed } from 'vue'\nimport useEvents from './events-helper'\nimport useStyles from './styles-helper'\nimport { arrayFindIndex } from '../../../../src/utils/util'\nimport { getRowIdentity } from '../util'\n\nfunction useRender(props) {\n  const instance = getCurrentInstance()\n  const parent = instance.parent\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipVisible,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props)\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props)\n  const firstDefaultColumnIndex = computed(() => {\n    return arrayFindIndex(\n      props.store.states.columns.value,\n      ({ type }) => type === 'default'\n    )\n  })\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey\n    if (rowKey) {\n      return getRowIdentity(row, rowKey)\n    }\n    return index\n  }\n  const rowRender = (row, index_, treeRowData) => {\n    const { indent, columns } = props.store.states\n    const rowClasses = getRowClass(row, index_)\n    let display = true\n    if (treeRowData) {\n      rowClasses.push('el-table__row--level-' + treeRowData.level)\n      display = treeRowData.display\n    }\n    const displayStyle = display\n      ? null\n      : {\n          display: 'none'\n        }\n    return h(\n      'tr',\n      {\n        style: [displayStyle, getRowStyle(row, index_)],\n        class: rowClasses,\n        key: getKeyOfRow(row, index_),\n        onDblclick: ($event) => handleDoubleClick($event, row),\n        onClick: ($event) => handleClick($event, row),\n        onContextmenu: ($event) => handleContextMenu($event, row),\n        onMouseenter: () => handleMouseEnter(index_),\n        onMouseleave: handleMouseLeave\n      },\n      columns.value.map((column, cellIndex) => {\n        const { rowspan, colspan } = getSpan(row, column, index_, cellIndex)\n        if (!rowspan || !colspan) {\n          return null\n        }\n        const columnData = { ...column }\n        columnData.realWidth = getColspanRealWidth(\n          columns.value,\n          colspan,\n          cellIndex\n        )\n        // debugger;\n        const data = {\n          store: props.store,\n          _self: props.context || parent,\n          column: columnData,\n          row,\n          index_\n        }\n        if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n          data.treeNode = {\n            indent: treeRowData.level * indent.value,\n            level: treeRowData.level\n          }\n          if (typeof treeRowData.expanded === 'boolean') {\n            data.treeNode.expanded = treeRowData.expanded\n            // 表明是懒加载\n            if ('loading' in treeRowData) {\n              data.treeNode.loading = treeRowData.loading\n            }\n            if ('noLazyChildren' in treeRowData) {\n              data.treeNode.noLazyChildren = treeRowData.noLazyChildren\n            }\n          }\n        }\n        return h(\n          'td',\n          {\n            style: getCellStyle(index_, cellIndex, row, column),\n            class: getCellClass(index_, cellIndex, row, column),\n            rowspan,\n            colspan,\n            onMouseenter: ($event) => handleCellMouseEnter($event, row),\n            onMouseleave: handleCellMouseLeave\n          },\n          [column.renderCell(data)]\n        )\n      })\n    )\n  }\n  const wrappedRowRender = (row, index_) => {\n    const store = props.store\n    const { isRowExpanded, assertRowKey } = store\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states\n    const hasExpandColumn = store.states.columns.value.some(\n      ({ type }) => type === 'expand'\n    )\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded\n      const tr = rowRender(row, index_, undefined)\n      if (!renderExpanded) {\n        console.error('[Element Error]renderExpanded is required.')\n        return tr\n      }\n      // 使用二维数组，避免修改 index_\n      return [\n        [\n          tr,\n          h(\n            'tr',\n            {\n              key: 'expanded-row__' + tr.key\n            },\n            [\n              h(\n                'td',\n                {\n                  colspan: store.states.columns.value.length,\n                  class: 'el-table__expanded-cell'\n                },\n                [renderExpanded({ row, index_, store })]\n              )\n            ]\n          )\n        ]\n      ]\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey()\n      // TreeTable 时，rowKey 必须由用户设定，不使用 getKeyOfRow 计算\n      // 在调用 rowRender 函数时，仍然会计算 rowKey，不太好的操作\n      const key = getRowIdentity(row, rowKey.value)\n      let cur = treeData.value[key]\n      let treeRowData = null\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        }\n        if (typeof cur.lazy === 'boolean') {\n          if (typeof cur.loaded === 'boolean' && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length)\n          }\n          treeRowData.loading = cur.loading\n        }\n      }\n      const tmp = [rowRender(row, index_, treeRowData)]\n      // 渲染嵌套数据\n      if (cur) {\n        // currentRow 记录的是 index，所以还需主动增加 TreeTable 的 index\n        let i = 0\n        const traverse = (children, parent) => {\n          if (!(children && children.length && parent)) return\n          children.forEach((node) => {\n            // 父节点的 display 状态影响子节点的显示状态\n            const innerTreeRowData = {\n              display: parent.display && parent.expanded,\n              level: parent.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            }\n            const childKey = getRowIdentity(node, rowKey.value)\n            if (childKey === undefined || childKey === null) {\n              throw new Error('for nested data item, row-key is required.')\n            }\n            cur = { ...treeData.value[childKey] }\n            // 对于当前节点，分成有无子节点两种情况。\n            // 如果包含子节点的，设置 expanded 属性。\n            // 对于它子节点的 display 属性由它本身的 expanded 与 display 共同决定。\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded\n              // 懒加载的某些节点，level 未知\n              cur.level = cur.level || innerTreeRowData.level\n              cur.display = !!(cur.expanded && innerTreeRowData.display)\n              if (typeof cur.lazy === 'boolean') {\n                if (typeof cur.loaded === 'boolean' && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(\n                    cur.children && cur.children.length\n                  )\n                }\n                innerTreeRowData.loading = cur.loading\n              }\n            }\n            i++\n            tmp.push(rowRender(node, index_ + i, innerTreeRowData))\n            if (cur) {\n              const nodes =\n                lazyTreeNodeMap.value[childKey] ||\n                node[childrenColumnName.value]\n              traverse(nodes, cur)\n            }\n          })\n        }\n        // 对于 root 节点，display 一定为 true\n        cur.display = true\n        const nodes =\n          lazyTreeNodeMap.value[key] || row[childrenColumnName.value]\n        traverse(nodes, cur)\n      }\n      return tmp\n    } else {\n      return rowRender(row, index_, undefined)\n    }\n  }\n\n  return {\n    wrappedRowRender,\n    tooltipVisible,\n    tooltipContent,\n    tooltipTrigger\n  }\n}\n\nexport default useRender\n","import ElTooltip from '../../../tooltip'\nimport { addClass, removeClass } from '../../../../src/utils/dom'\nimport { getCurrentInstance, h, watch } from 'vue'\nimport { hColgroup } from '../h-helper'\nimport useLayoutObserver from '../layout-observer'\nimport useRender from './render-helper'\nexport default {\n  name: 'ElTableBody',\n  props: {\n    store: {\n      required: true,\n      type: Object\n    },\n    stripe: Boolean,\n    context: {\n      default: () => ({}),\n      type: Object\n    },\n    rowClassName: [String, Function],\n    rowStyle: [Object, Function],\n    fixed: {\n      type: String,\n      default: ''\n    },\n    highlight: Boolean\n  },\n  setup(props) {\n    const instance = getCurrentInstance()\n    const parent = instance.parent\n\n    const {\n      wrappedRowRender,\n      tooltipVisible,\n      tooltipContent,\n      tooltipTrigger\n    } = useRender(props)\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent)\n\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || typeof window === 'undefined')\n        return\n      let raf = window.requestAnimationFrame\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16)\n      }\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll('.el-table__row')\n        const oldRow = rows[oldVal]\n        const newRow = rows[newVal]\n        if (oldRow) {\n          removeClass(oldRow, 'hover-row')\n        }\n        if (newRow) {\n          addClass(newRow, 'hover-row')\n        }\n      })\n    })\n\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipVisible,\n      tooltipContent,\n      tooltipTrigger\n    }\n  },\n  render() {\n    const data = this.store.states.data.value || []\n    return h(\n      'table',\n      {\n        class: 'el-table__body',\n        cellspacing: '0',\n        cellpadding: '0',\n        border: '0'\n      },\n      [\n        hColgroup(this.store.states.columns.value),\n        h('tbody', {}, [\n          data.reduce((acc, row) => {\n            return acc.concat(this.wrappedRowRender(row, acc.length))\n          }, []),\n          h(\n            ElTooltip,\n            {\n              modelValue: this.tooltipVisible,\n              content: this.tooltipContent,\n              manual: true,\n              effect: this.$parent.tooltipEffect,\n              placement: 'top'\n            },\n            {\n              default: () => this.tooltipTrigger\n            }\n          )\n        ])\n      ]\n    )\n  }\n}\n","import { computed, getCurrentInstance } from 'vue'\n\nfunction useMapState() {\n  const instance = getCurrentInstance()\n  const table = instance.parent\n  const store = table.store\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value\n  })\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length\n  })\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length\n  })\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  }\n}\n\nexport default useMapState\n","import { computed, getCurrentInstance } from 'vue'\nimport useMapState from './mapState-helper'\n\nfunction useStyle(props) {\n  const instance = getCurrentInstance()\n  const table = instance.parent\n  const store = table.store\n\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState()\n\n  const hasGutter = computed(() => {\n    return !props.fixed && table.layout.gutterWidth\n  })\n  const isCellHidden = (index, columns, column) => {\n    if (props.fixed || props.fixed === 'left') {\n      return index >= leftFixedLeafCount.value\n    } else if (props.fixed === 'right') {\n      let before = 0\n      for (let i = 0; i < index; i++) {\n        before += columns[i].colSpan\n      }\n      return before < columnsCount.value - rightFixedLeafCount.value\n    } else if (!props.fixed && column.fixed) {\n      // hide cell when footer instance is not fixed and column is fixed\n      return true\n    } else {\n      return (\n        index < leftFixedCount.value ||\n        index >= columnsCount.value - rightFixedCount.value\n      )\n    }\n  }\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName]\n    if (column.className) {\n      classes.push(column.className)\n    }\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push('is-hidden')\n    }\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n    return classes\n  }\n\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  }\n}\n\nexport default useStyle\n","import { h } from 'vue'\nimport { hGutter, hColgroup } from '../h-helper'\nimport useStyle from './style-helper'\n\nexport default {\n  name: 'ElTableFooter',\n\n  props: {\n    fixed: {\n      type: String,\n      default: ''\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default() {\n        return {\n          prop: '',\n          order: ''\n        }\n      }\n    }\n  },\n  setup(props) {\n    const { hasGutter, getRowClasses, columns } = useStyle(props)\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    }\n  },\n  render() {\n    let sums = []\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      })\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText\n          return\n        }\n        const values = this.store.states.data.value.map((item) =>\n          Number(item[column.property])\n        )\n        const precisions = []\n        let notNumber = true\n        values.forEach((value) => {\n          if (!isNaN(value)) {\n            notNumber = false\n            const decimal = ('' + value).split('.')[1]\n            precisions.push(decimal ? decimal.length : 0)\n          }\n        })\n        const precision = Math.max.apply(null, precisions)\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr)\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)))\n            } else {\n              return prev\n            }\n          }, 0)\n        } else {\n          sums[index] = ''\n        }\n      })\n    }\n    return h(\n      'table',\n      {\n        class: 'el-table__footer',\n        cellspacing: '0',\n        cellpadding: '0',\n        border: '0'\n      },\n      [\n        hColgroup(this.columns, this.hasGutter),\n        h(\n          'tbody',\n          {\n            class: [{ 'has-gutter': this.hasGutter }]\n          },\n          [\n            h('tr', {}, [\n              ...this.columns.map((column, cellIndex) =>\n                h(\n                  'td',\n                  {\n                    key: cellIndex,\n                    colspan: column.colSpan,\n                    rowspan: column.rowSpan,\n                    class: this.getRowClasses(column, cellIndex)\n                  },\n                  [\n                    h(\n                      'div',\n                      {\n                        class: ['cell', column.labelClassName]\n                      },\n                      [sums[cellIndex]]\n                    )\n                  ]\n                )\n              ),\n              this.hasGutter && hGutter()\n            ])\n          ]\n        )\n      ]\n    )\n  }\n}\n","function useUtils(store, layout, shouldUpdateHeight) {\n  const setCurrentRow = (row) => {\n    store.commit('setCurrentRow', row)\n  }\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false)\n    store.updateAllSelected()\n  }\n  const clearSelection = () => {\n    store.clearSelection()\n  }\n  const clearFilter = (columnKeys) => {\n    store.clearFilter(columnKeys)\n  }\n  const toggleAllSelection = () => {\n    store.commit('toggleAllSelection')\n  }\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded)\n  }\n  const clearSort = () => {\n    store.clearSort()\n  }\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight()\n    }\n    layout.updateColumnsWidth()\n  }\n  const sort = (prop, order) => {\n    store.commit('sort', { prop, order })\n  }\n\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    doLayout,\n    sort\n  }\n}\n\nexport default useUtils\n","import { onMounted, onUnmounted, computed, ref, watchEffect, watch } from 'vue'\nimport {\n  addResizeListener,\n  removeResizeListener\n} from '../../../../src/utils/resize-event'\nimport { throttle } from 'lodash-es'\nimport { parseHeight } from '../util'\n\nfunction useStyle(props, layout, store, table, doLayout) {\n  const isHidden = ref(false)\n  const renderExpanded = ref(null)\n  const resizeProxyVisible = ref(false)\n  const setDragVisible = (visible) => {\n    resizeProxyVisible.value = visible\n  }\n  const resizeState = ref({\n    width: null,\n    height: null\n  })\n  const isGroup = ref(false)\n  const scrollPosition = ref('left')\n\n  watchEffect(() => {\n    layout.setHeight(props.height)\n  })\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight)\n  })\n  watchEffect(() => {\n    if (!store.states.rowKey.value) return\n    store.setCurrentRowKey(props.currentRowKey)\n  })\n  watch(\n    () => props.data,\n    () => {\n      table.store.commit('setData', props.data)\n    },\n    {\n      immediate: true\n    }\n  )\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys)\n    }\n  })\n\n  const handleMouseLeave = () => {\n    table.store.commit('setHoverRow', null)\n    if (table.hoverState) table.hoverState = null\n  }\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5\n    }\n  }\n\n  const shouldUpdateHeight = computed(() => {\n    return (\n      props.height ||\n      props.maxHeight ||\n      store.states.fixedColumns.value.length > 0 ||\n      store.states.rightFixedColumns.value.length > 0\n    )\n  })\n  onMounted(() => {\n    bindEvents()\n    store.updateColumns()\n    doLayout()\n\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    }\n\n    // init filters\n    store.states.columns.value.forEach((column) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit('filterChange', {\n          column,\n          values: column.filteredValue,\n          silent: true\n        })\n      }\n    })\n    table.$ready = true\n  })\n  const syncPostion = throttle(function () {\n    const {\n      scrollLeft,\n      scrollTop,\n      offsetWidth,\n      scrollWidth\n    } = table.refs.bodyWrapper\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft\n    if (fixedBodyWrapper) fixedBodyWrapper.scrollTop = scrollTop\n    if (rightFixedBodyWrapper) rightFixedBodyWrapper.scrollTop = scrollTop\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1\n    if (scrollLeft >= maxScrollLeftPosition) {\n      scrollPosition.value = 'right'\n    } else if (scrollLeft === 0) {\n      scrollPosition.value = 'left'\n    } else {\n      scrollPosition.value = 'middle'\n    }\n  }, 20)\n  const bindEvents = () => {\n    table.refs.bodyWrapper.addEventListener('scroll', syncPostion, {\n      passive: true\n    })\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener)\n    }\n  }\n  onUnmounted(() => {\n    unbindEvents()\n  })\n  const unbindEvents = () => {\n    table.refs.bodyWrapper?.removeEventListener('scroll', syncPostion, true)\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener)\n    }\n  }\n  const resizeListener = () => {\n    if (!table.$ready) return\n    let shouldUpdateLayout = false\n    const el = table.vnode.el\n    const { width: oldWidth, height: oldHeight } = resizeState.value\n\n    const width = el.offsetWidth\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true\n    }\n\n    const height = el.offsetHeight\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      }\n      doLayout()\n    }\n  }\n  const tableSize = computed(() => {\n    return props.size\n  })\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout\n    return bodyWidth_.value\n      ? bodyWidth_.value - (scrollY.value ? gutterWidth : 0) + 'px'\n      : ''\n  })\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0\n    const bodyHeight = layout.bodyHeight.value\n    const footerHeight = layout.footerHeight.value || 0\n    if (props.height) {\n      return {\n        height: bodyHeight ? bodyHeight + 'px' : ''\n      }\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight)\n      if (typeof maxHeight === 'number') {\n        return {\n          'max-height':\n            maxHeight -\n            footerHeight -\n            (props.showHeader ? headerHeight : 0) +\n            'px'\n        }\n      }\n    }\n    return {}\n  })\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null\n    let height = '100%'\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`\n    }\n    return {\n      width: bodyWidth.value,\n      height\n    }\n  })\n  /**\n   * fix layout\n   */\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault()\n      }\n      if (\n        data.pixelY > 0 &&\n        bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop\n      ) {\n        event.preventDefault()\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5)\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5)\n    }\n  }\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        }\n      }\n      return {\n        bottom:\n          layout.scrollX.value && props.data.length\n            ? layout.gutterWidth + 'px'\n            : ''\n      }\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value\n            ? layout.tableHeight.value + 'px'\n            : ''\n        }\n      }\n      return {\n        height: layout.viewportHeight.value\n          ? layout.viewportHeight.value + 'px'\n          : ''\n      }\n    }\n  })\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value\n          ? layout.fixedBodyHeight.value + 'px'\n          : ''\n      }\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight)\n      if (typeof maxHeight === 'number') {\n        maxHeight = layout.scrollX.value\n          ? maxHeight - layout.gutterWidth\n          : maxHeight\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value\n        }\n        maxHeight -= layout.footerHeight.value\n        return {\n          'max-height': maxHeight + 'px'\n        }\n      }\n    }\n    return {}\n  })\n\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    scrollPosition\n  }\n}\n\nexport default useStyle\n","<template>\n  <div\n    :class=\"[\n      {\n        'el-table--fit': fit,\n        'el-table--striped': stripe,\n        'el-table--border': border || isGroup,\n        'el-table--hidden': isHidden,\n        'el-table--group': isGroup,\n        'el-table--fluid-height': maxHeight,\n        'el-table--scrollable-x': layout.scrollX.value,\n        'el-table--scrollable-y': layout.scrollY.value,\n        'el-table--enable-row-hover': !store.states.isComplex.value,\n        'el-table--enable-row-transition':\n          (store.states.data.value || []).length !== 0 &&\n          (store.states.data.value || []).length < 100\n      },\n      tableSize ? `el-table--${tableSize}` : ''\n    ]\"\n    class=\"el-table\"\n    @mouseleave=\"handleMouseLeave()\"\n  >\n    <div ref=\"hiddenColumns\" class=\"hidden-columns\">\n      <slot></slot>\n    </div>\n    <div\n      v-if=\"showHeader\"\n      ref=\"headerWrapper\"\n      v-mousewheel=\"handleHeaderFooterMousewheel\"\n      class=\"el-table__header-wrapper\"\n    >\n      <table-header\n        ref=\"tableHeader\"\n        :border=\"border\"\n        :default-sort=\"defaultSort\"\n        :store=\"store\"\n        :style=\"{\n          width: layout.bodyWidth.value ? layout.bodyWidth.value + 'px' : ''\n        }\"\n        @set-drag-visible=\"setDragVisible\"\n      />\n    </div>\n    <div\n      ref=\"bodyWrapper\"\n      :class=\"[\n        layout.scrollX.value\n          ? `is-scrolling-${scrollPosition}`\n          : 'is-scrolling-none'\n      ]\"\n      :style=\"[bodyHeight]\"\n      class=\"el-table__body-wrapper\"\n    >\n      <table-body\n        :context=\"context\"\n        :highlight=\"highlightCurrentRow\"\n        :row-class-name=\"rowClassName\"\n        :row-style=\"rowStyle\"\n        :store=\"store\"\n        :stripe=\"stripe\"\n        :style=\"{\n          width: bodyWidth\n        }\"\n      />\n      <div\n        v-if=\"!data || data.length === 0\"\n        ref=\"emptyBlock\"\n        :style=\"emptyBlockStyle\"\n        class=\"el-table__empty-block\"\n      >\n        <span class=\"el-table__empty-text\">\n          <slot name=\"empty\">{{ emptyText || t('el.table.emptyText') }}</slot>\n        </span>\n      </div>\n      <div\n        v-if=\"$slots.append\"\n        ref=\"appendWrapper\"\n        class=\"el-table__append-wrapper\"\n      >\n        <slot name=\"append\"></slot>\n      </div>\n    </div>\n    <div\n      v-if=\"showSummary\"\n      v-show=\"data && data.length > 0\"\n      ref=\"footerWrapper\"\n      v-mousewheel=\"handleHeaderFooterMousewheel\"\n      class=\"el-table__footer-wrapper\"\n    >\n      <table-footer\n        :border=\"border\"\n        :default-sort=\"defaultSort\"\n        :store=\"store\"\n        :style=\"{\n          width: layout.bodyWidth.value ? layout.bodyWidth.value + 'px' : ''\n        }\"\n        :sum-text=\"sumText || t('el.table.sumText')\"\n        :summary-method=\"summaryMethod\"\n      />\n    </div>\n    <div\n      v-if=\"store.states.fixedColumns.value.length > 0\"\n      ref=\"fixedWrapper\"\n      v-mousewheel=\"handleFixedMousewheel\"\n      :style=\"[\n        {\n          width: layout.fixedWidth.value ? layout.fixedWidth.value + 'px' : ''\n        },\n        fixedHeight\n      ]\"\n      class=\"el-table__fixed\"\n    >\n      <div\n        v-if=\"showHeader\"\n        ref=\"fixedHeaderWrapper\"\n        class=\"el-table__fixed-header-wrapper\"\n      >\n        <table-header\n          ref=\"fixedTableHeader\"\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"left\"\n          @set-drag-visible=\"setDragVisible\"\n        />\n      </div>\n      <div\n        ref=\"fixedBodyWrapper\"\n        :style=\"[\n          {\n            top: layout.headerHeight.value + 'px'\n          },\n          fixedBodyHeight\n        ]\"\n        class=\"el-table__fixed-body-wrapper\"\n      >\n        <table-body\n          :highlight=\"highlightCurrentRow\"\n          :row-class-name=\"rowClassName\"\n          :row-style=\"rowStyle\"\n          :store=\"store\"\n          :stripe=\"stripe\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"left\"\n        />\n        <div\n          v-if=\"$slots.append\"\n          :style=\"{ height: layout.appendHeight.value + 'px' }\"\n          class=\"el-table__append-gutter\"\n        ></div>\n      </div>\n      <div\n        v-if=\"showSummary\"\n        v-show=\"data && data.length > 0\"\n        ref=\"fixedFooterWrapper\"\n        class=\"el-table__fixed-footer-wrapper\"\n      >\n        <table-footer\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          :sum-text=\"sumText || t('el.table.sumText')\"\n          :summary-method=\"summaryMethod\"\n          fixed=\"left\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"store.states.rightFixedColumns.value.length > 0\"\n      ref=\"rightFixedWrapper\"\n      v-mousewheel=\"handleFixedMousewheel\"\n      :style=\"[\n        {\n          width: layout.rightFixedWidth.value\n            ? layout.rightFixedWidth.value + 'px'\n            : '',\n          right: layout.scrollY.value\n            ? (border ? layout.gutterWidth : layout.gutterWidth || 0) + 'px'\n            : ''\n        },\n        fixedHeight\n      ]\"\n      class=\"el-table__fixed-right\"\n    >\n      <div\n        v-if=\"showHeader\"\n        ref=\"rightFixedHeaderWrapper\"\n        class=\"el-table__fixed-header-wrapper\"\n      >\n        <table-header\n          ref=\"rightFixedTableHeader\"\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"right\"\n          @set-drag-visible=\"setDragVisible\"\n        />\n      </div>\n      <div\n        ref=\"rightFixedBodyWrapper\"\n        :style=\"[{ top: layout.headerHeight.value + 'px' }, fixedBodyHeight]\"\n        class=\"el-table__fixed-body-wrapper\"\n      >\n        <table-body\n          :highlight=\"highlightCurrentRow\"\n          :row-class-name=\"rowClassName\"\n          :row-style=\"rowStyle\"\n          :store=\"store\"\n          :stripe=\"stripe\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"right\"\n        />\n        <div\n          v-if=\"$slots.append\"\n          :style=\"{ height: layout.appendHeight.value + 'px' }\"\n          class=\"el-table__append-gutter\"\n        ></div>\n      </div>\n      <div\n        v-if=\"showSummary\"\n        v-show=\"data && data.length > 0\"\n        ref=\"rightFixedFooterWrapper\"\n        class=\"el-table__fixed-footer-wrapper\"\n      >\n        <table-footer\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          :sum-text=\"sumText || t('el.table.sumText')\"\n          :summary-method=\"summaryMethod\"\n          fixed=\"right\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"store.states.rightFixedColumns.value.length > 0\"\n      ref=\"rightFixedPatch\"\n      :style=\"{\n        width: layout.scrollY.value ? layout.gutterWidth + 'px' : '0',\n        height: layout.headerHeight.value + 'px'\n      }\"\n      class=\"el-table__fixed-right-patch\"\n    ></div>\n    <div\n      v-show=\"resizeProxyVisible\"\n      ref=\"resizeProxy\"\n      class=\"el-table__column-resize-proxy\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { getCurrentInstance, computed } from 'vue'\nimport { createStore } from './store/helper'\nimport Locale from '../../../src/mixins/locale'\nimport Mousewheel from '../../../src/directives/mousewheel'\nimport TableLayout from './table-layout'\nimport TableHeader from './table-header/index'\nimport TableBody from './table-body/index'\nimport TableFooter from './table-footer/index'\nimport { debounce } from 'lodash-es'\nimport useUtils from './table/utils-helper'\nimport useStyle from './table/style-helper'\n\nlet tableIdSeed = 1\nexport default {\n  name: 'ElTable',\n  mixins: [Locale],\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: {\n    data: {\n      type: Array,\n      default: function () {\n        return []\n      }\n    },\n    size: String,\n    width: [String, Number],\n    height: [String, Number],\n    maxHeight: [String, Number],\n    fit: {\n      type: Boolean,\n      default: true\n    },\n    stripe: Boolean,\n    border: Boolean,\n    rowKey: [String, Function],\n    showHeader: {\n      type: Boolean,\n      default: true\n    },\n    showSummary: Boolean,\n    sumText: String,\n    summaryMethod: Function,\n    rowClassName: [String, Function],\n    rowStyle: [Object, Function],\n    cellClassName: [String, Function],\n    cellStyle: [Object, Function],\n    headerRowClassName: [String, Function],\n    headerRowStyle: [Object, Function],\n    headerCellClassName: [String, Function],\n    headerCellStyle: [Object, Function],\n    highlightCurrentRow: Boolean,\n    currentRowKey: [String, Number],\n    emptyText: String,\n    expandRowKeys: Array,\n    defaultExpandAll: Boolean,\n    defaultSort: Object,\n    tooltipEffect: String,\n    spanMethod: Function,\n    selectOnIndeterminate: {\n      type: Boolean,\n      default: true\n    },\n    indent: {\n      type: Number,\n      default: 16\n    },\n    treeProps: {\n      type: Object,\n      default() {\n        return {\n          hasChildren: 'hasChildren',\n          children: 'children'\n        }\n      }\n    },\n    lazy: Boolean,\n    load: Function\n  },\n  emits: [\n    'select',\n    'select-all',\n    'selection-change',\n    'cell-mouse-enter',\n    'cell-mouse-leave',\n    'cell-click',\n    'cell-dblclick',\n    'row-click',\n    'row-contextmenu',\n    'row-dblclick',\n    'header-click',\n    'header-contextmenu',\n    'sort-change',\n    'filter-change',\n    'current-change',\n    'header-dragend',\n    'expand-change'\n  ],\n  setup(props) {\n    let table = getCurrentInstance()\n    const store = createStore(table, {\n      rowKey: props.rowKey,\n      defaultExpandAll: props.defaultExpandAll,\n      selectOnIndeterminate: props.selectOnIndeterminate,\n      // TreeTable 的相关配置\n      indent: props.indent,\n      lazy: props.lazy,\n      lazyColumnIdentifier: props.treeProps.hasChildren || 'hasChildren',\n      childrenColumnName: props.treeProps.children || 'children',\n      data: props.data\n    })\n    table.store = store\n    const layout = new TableLayout({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    })\n    table.layout = layout\n\n    const shouldUpdateHeight = computed(() => {\n      return (\n        props.height ||\n        props.maxHeight ||\n        store.states.fixedColumns.value.length > 0 ||\n        store.states.rightFixedColumns.value.length > 0\n      )\n    })\n    /**\n     * open functions\n     */\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort\n    } = useUtils(store, layout, shouldUpdateHeight)\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      scrollPosition\n    } = useStyle(props, layout, store, table, doLayout)\n\n    const debouncedUpdateLayout = debounce(() => doLayout(), 50)\n\n    const tableId = 'el-table_' + tableIdSeed++\n    table.tableId = tableId\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    }\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      scrollPosition,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      setDragVisible,\n      context: table\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"[\n      {\n        'el-table--fit': fit,\n        'el-table--striped': stripe,\n        'el-table--border': border || isGroup,\n        'el-table--hidden': isHidden,\n        'el-table--group': isGroup,\n        'el-table--fluid-height': maxHeight,\n        'el-table--scrollable-x': layout.scrollX.value,\n        'el-table--scrollable-y': layout.scrollY.value,\n        'el-table--enable-row-hover': !store.states.isComplex.value,\n        'el-table--enable-row-transition':\n          (store.states.data.value || []).length !== 0 &&\n          (store.states.data.value || []).length < 100\n      },\n      tableSize ? `el-table--${tableSize}` : ''\n    ]\"\n    class=\"el-table\"\n    @mouseleave=\"handleMouseLeave()\"\n  >\n    <div ref=\"hiddenColumns\" class=\"hidden-columns\">\n      <slot></slot>\n    </div>\n    <div\n      v-if=\"showHeader\"\n      ref=\"headerWrapper\"\n      v-mousewheel=\"handleHeaderFooterMousewheel\"\n      class=\"el-table__header-wrapper\"\n    >\n      <table-header\n        ref=\"tableHeader\"\n        :border=\"border\"\n        :default-sort=\"defaultSort\"\n        :store=\"store\"\n        :style=\"{\n          width: layout.bodyWidth.value ? layout.bodyWidth.value + 'px' : ''\n        }\"\n        @set-drag-visible=\"setDragVisible\"\n      />\n    </div>\n    <div\n      ref=\"bodyWrapper\"\n      :class=\"[\n        layout.scrollX.value\n          ? `is-scrolling-${scrollPosition}`\n          : 'is-scrolling-none'\n      ]\"\n      :style=\"[bodyHeight]\"\n      class=\"el-table__body-wrapper\"\n    >\n      <table-body\n        :context=\"context\"\n        :highlight=\"highlightCurrentRow\"\n        :row-class-name=\"rowClassName\"\n        :row-style=\"rowStyle\"\n        :store=\"store\"\n        :stripe=\"stripe\"\n        :style=\"{\n          width: bodyWidth\n        }\"\n      />\n      <div\n        v-if=\"!data || data.length === 0\"\n        ref=\"emptyBlock\"\n        :style=\"emptyBlockStyle\"\n        class=\"el-table__empty-block\"\n      >\n        <span class=\"el-table__empty-text\">\n          <slot name=\"empty\">{{ emptyText || t('el.table.emptyText') }}</slot>\n        </span>\n      </div>\n      <div\n        v-if=\"$slots.append\"\n        ref=\"appendWrapper\"\n        class=\"el-table__append-wrapper\"\n      >\n        <slot name=\"append\"></slot>\n      </div>\n    </div>\n    <div\n      v-if=\"showSummary\"\n      v-show=\"data && data.length > 0\"\n      ref=\"footerWrapper\"\n      v-mousewheel=\"handleHeaderFooterMousewheel\"\n      class=\"el-table__footer-wrapper\"\n    >\n      <table-footer\n        :border=\"border\"\n        :default-sort=\"defaultSort\"\n        :store=\"store\"\n        :style=\"{\n          width: layout.bodyWidth.value ? layout.bodyWidth.value + 'px' : ''\n        }\"\n        :sum-text=\"sumText || t('el.table.sumText')\"\n        :summary-method=\"summaryMethod\"\n      />\n    </div>\n    <div\n      v-if=\"store.states.fixedColumns.value.length > 0\"\n      ref=\"fixedWrapper\"\n      v-mousewheel=\"handleFixedMousewheel\"\n      :style=\"[\n        {\n          width: layout.fixedWidth.value ? layout.fixedWidth.value + 'px' : ''\n        },\n        fixedHeight\n      ]\"\n      class=\"el-table__fixed\"\n    >\n      <div\n        v-if=\"showHeader\"\n        ref=\"fixedHeaderWrapper\"\n        class=\"el-table__fixed-header-wrapper\"\n      >\n        <table-header\n          ref=\"fixedTableHeader\"\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"left\"\n          @set-drag-visible=\"setDragVisible\"\n        />\n      </div>\n      <div\n        ref=\"fixedBodyWrapper\"\n        :style=\"[\n          {\n            top: layout.headerHeight.value + 'px'\n          },\n          fixedBodyHeight\n        ]\"\n        class=\"el-table__fixed-body-wrapper\"\n      >\n        <table-body\n          :highlight=\"highlightCurrentRow\"\n          :row-class-name=\"rowClassName\"\n          :row-style=\"rowStyle\"\n          :store=\"store\"\n          :stripe=\"stripe\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"left\"\n        />\n        <div\n          v-if=\"$slots.append\"\n          :style=\"{ height: layout.appendHeight.value + 'px' }\"\n          class=\"el-table__append-gutter\"\n        ></div>\n      </div>\n      <div\n        v-if=\"showSummary\"\n        v-show=\"data && data.length > 0\"\n        ref=\"fixedFooterWrapper\"\n        class=\"el-table__fixed-footer-wrapper\"\n      >\n        <table-footer\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          :sum-text=\"sumText || t('el.table.sumText')\"\n          :summary-method=\"summaryMethod\"\n          fixed=\"left\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"store.states.rightFixedColumns.value.length > 0\"\n      ref=\"rightFixedWrapper\"\n      v-mousewheel=\"handleFixedMousewheel\"\n      :style=\"[\n        {\n          width: layout.rightFixedWidth.value\n            ? layout.rightFixedWidth.value + 'px'\n            : '',\n          right: layout.scrollY.value\n            ? (border ? layout.gutterWidth : layout.gutterWidth || 0) + 'px'\n            : ''\n        },\n        fixedHeight\n      ]\"\n      class=\"el-table__fixed-right\"\n    >\n      <div\n        v-if=\"showHeader\"\n        ref=\"rightFixedHeaderWrapper\"\n        class=\"el-table__fixed-header-wrapper\"\n      >\n        <table-header\n          ref=\"rightFixedTableHeader\"\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"right\"\n          @set-drag-visible=\"setDragVisible\"\n        />\n      </div>\n      <div\n        ref=\"rightFixedBodyWrapper\"\n        :style=\"[{ top: layout.headerHeight.value + 'px' }, fixedBodyHeight]\"\n        class=\"el-table__fixed-body-wrapper\"\n      >\n        <table-body\n          :highlight=\"highlightCurrentRow\"\n          :row-class-name=\"rowClassName\"\n          :row-style=\"rowStyle\"\n          :store=\"store\"\n          :stripe=\"stripe\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          fixed=\"right\"\n        />\n        <div\n          v-if=\"$slots.append\"\n          :style=\"{ height: layout.appendHeight.value + 'px' }\"\n          class=\"el-table__append-gutter\"\n        ></div>\n      </div>\n      <div\n        v-if=\"showSummary\"\n        v-show=\"data && data.length > 0\"\n        ref=\"rightFixedFooterWrapper\"\n        class=\"el-table__fixed-footer-wrapper\"\n      >\n        <table-footer\n          :border=\"border\"\n          :store=\"store\"\n          :style=\"{\n            width: bodyWidth\n          }\"\n          :sum-text=\"sumText || t('el.table.sumText')\"\n          :summary-method=\"summaryMethod\"\n          fixed=\"right\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"store.states.rightFixedColumns.value.length > 0\"\n      ref=\"rightFixedPatch\"\n      :style=\"{\n        width: layout.scrollY.value ? layout.gutterWidth + 'px' : '0',\n        height: layout.headerHeight.value + 'px'\n      }\"\n      class=\"el-table__fixed-right-patch\"\n    ></div>\n    <div\n      v-show=\"resizeProxyVisible\"\n      ref=\"resizeProxy\"\n      class=\"el-table__column-resize-proxy\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { getCurrentInstance, computed } from 'vue'\nimport { createStore } from './store/helper'\nimport Locale from '../../../src/mixins/locale'\nimport Mousewheel from '../../../src/directives/mousewheel'\nimport TableLayout from './table-layout'\nimport TableHeader from './table-header/index'\nimport TableBody from './table-body/index'\nimport TableFooter from './table-footer/index'\nimport { debounce } from 'lodash-es'\nimport useUtils from './table/utils-helper'\nimport useStyle from './table/style-helper'\n\nlet tableIdSeed = 1\nexport default {\n  name: 'ElTable',\n  mixins: [Locale],\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: {\n    data: {\n      type: Array,\n      default: function () {\n        return []\n      }\n    },\n    size: String,\n    width: [String, Number],\n    height: [String, Number],\n    maxHeight: [String, Number],\n    fit: {\n      type: Boolean,\n      default: true\n    },\n    stripe: Boolean,\n    border: Boolean,\n    rowKey: [String, Function],\n    showHeader: {\n      type: Boolean,\n      default: true\n    },\n    showSummary: Boolean,\n    sumText: String,\n    summaryMethod: Function,\n    rowClassName: [String, Function],\n    rowStyle: [Object, Function],\n    cellClassName: [String, Function],\n    cellStyle: [Object, Function],\n    headerRowClassName: [String, Function],\n    headerRowStyle: [Object, Function],\n    headerCellClassName: [String, Function],\n    headerCellStyle: [Object, Function],\n    highlightCurrentRow: Boolean,\n    currentRowKey: [String, Number],\n    emptyText: String,\n    expandRowKeys: Array,\n    defaultExpandAll: Boolean,\n    defaultSort: Object,\n    tooltipEffect: String,\n    spanMethod: Function,\n    selectOnIndeterminate: {\n      type: Boolean,\n      default: true\n    },\n    indent: {\n      type: Number,\n      default: 16\n    },\n    treeProps: {\n      type: Object,\n      default() {\n        return {\n          hasChildren: 'hasChildren',\n          children: 'children'\n        }\n      }\n    },\n    lazy: Boolean,\n    load: Function\n  },\n  emits: [\n    'select',\n    'select-all',\n    'selection-change',\n    'cell-mouse-enter',\n    'cell-mouse-leave',\n    'cell-click',\n    'cell-dblclick',\n    'row-click',\n    'row-contextmenu',\n    'row-dblclick',\n    'header-click',\n    'header-contextmenu',\n    'sort-change',\n    'filter-change',\n    'current-change',\n    'header-dragend',\n    'expand-change'\n  ],\n  setup(props) {\n    let table = getCurrentInstance()\n    const store = createStore(table, {\n      rowKey: props.rowKey,\n      defaultExpandAll: props.defaultExpandAll,\n      selectOnIndeterminate: props.selectOnIndeterminate,\n      // TreeTable 的相关配置\n      indent: props.indent,\n      lazy: props.lazy,\n      lazyColumnIdentifier: props.treeProps.hasChildren || 'hasChildren',\n      childrenColumnName: props.treeProps.children || 'children',\n      data: props.data\n    })\n    table.store = store\n    const layout = new TableLayout({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    })\n    table.layout = layout\n\n    const shouldUpdateHeight = computed(() => {\n      return (\n        props.height ||\n        props.maxHeight ||\n        store.states.fixedColumns.value.length > 0 ||\n        store.states.rightFixedColumns.value.length > 0\n      )\n    })\n    /**\n     * open functions\n     */\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort\n    } = useUtils(store, layout, shouldUpdateHeight)\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      scrollPosition\n    } = useStyle(props, layout, store, table, doLayout)\n\n    const debouncedUpdateLayout = debounce(() => doLayout(), 50)\n\n    const tableId = 'el-table_' + tableIdSeed++\n    table.tableId = tableId\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    }\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      scrollPosition,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      setDragVisible,\n      context: table\n    }\n  }\n}\n</script>\n","import Table from './src/table.vue'\n\nTable.install = function (app) {\n  app.component(Table.name, Table)\n}\n\nexport default Table\n","import { getPropByPath } from '../../../src/utils/util'\nimport ElCheckbox from '../../checkbox'\nimport { h } from 'vue'\n\nexport const cellStarts = {\n  default: {\n    order: ''\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n    className: 'el-table-column--selection'\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: ''\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: ''\n  }\n}\n\n// 这些选项不应该被覆盖\nexport const cellForced = {\n  selection: {\n    renderHeader: function ({ store }) {\n      return h(ElCheckbox, {\n        disabled:\n          store.states.data.value && store.states.data.value.length === 0,\n        indeterminate:\n          store.states.selection.value.length > 0 &&\n          !store.states.isAllSelected.value,\n        onClick: store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value\n      })\n    },\n    renderCell: function ({ row, column, store, index_ }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable\n          ? !column.selectable.call(null, row, index_)\n          : false,\n        onInput: () => {\n          store.commit('rowSelectedChanged', row)\n        },\n        nativeOnClick: (event) => event.stopPropagation(),\n        modelValue: store.isSelected(row)\n      })\n    },\n    sortable: false,\n    resizable: false\n  },\n  index: {\n    renderHeader: function ({ column }) {\n      return column.label || '#'\n    },\n    renderCell: function ({ index_, column }) {\n      let i = index_ + 1\n      const index = column.index\n\n      if (typeof index === 'number') {\n        i = index_ + index\n      } else if (typeof index === 'function') {\n        i = index(index_)\n      }\n      return h('div', {}, [i])\n    },\n    sortable: false\n  },\n  expand: {\n    renderHeader: function ({ column }) {\n      return column.label || ''\n    },\n    renderCell: function ({ row, store }) {\n      const classes = ['el-table__expand-icon']\n      if (store.states.expandRows.value.indexOf(row) > -1) {\n        classes.push('el-table__expand-icon--expanded')\n      }\n      const callback = function (e) {\n        e.stopPropagation()\n        store.toggleRowExpansion(row)\n      }\n      return h(\n        'div',\n        {\n          class: classes,\n          onClick: callback\n        },\n        [\n          h('i', {\n            class: 'el-icon el-icon-arrow-right'\n          })\n        ]\n      )\n    },\n    sortable: false,\n    resizable: false,\n    className: 'el-table__expand-column'\n  }\n}\n\nexport function defaultRenderCell({ row, column, index_ }) {\n  const property = column.property\n  const value = property && getPropByPath(row, property, false).v\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, index_)\n  }\n  return value\n}\n\nexport function treeCellPrefix({ row, treeNode, store }) {\n  if (!treeNode) return null\n  const ele = []\n  const callback = function (e) {\n    e.stopPropagation()\n    store.loadOrToggle(row)\n  }\n  if (treeNode.indent) {\n    ele.push(\n      h('span', {\n        class: 'el-table__indent',\n        style: { 'padding-left': treeNode.indent + 'px' }\n      })\n    )\n  }\n  if (typeof treeNode.expanded === 'boolean' && !treeNode.noLazyChildren) {\n    const expandClasses = [\n      'el-table__expand-icon',\n      treeNode.expanded ? 'el-table__expand-icon--expanded' : ''\n    ]\n    let iconClasses = ['el-icon-arrow-right']\n    if (treeNode.loading) {\n      iconClasses = ['el-icon-loading']\n    }\n\n    ele.push(\n      h(\n        'div',\n        {\n          class: expandClasses,\n          onClick: callback\n        },\n        [\n          h('i', {\n            class: iconClasses\n          })\n        ]\n      )\n    )\n  } else {\n    ele.push(\n      h('span', {\n        class: 'el-table__placeholder'\n      })\n    )\n  }\n  return ele\n}\n","import { watch, getCurrentInstance } from 'vue'\n\nfunction useWatcher(owner, props_) {\n  const instance = getCurrentInstance()\n  const registerComplexWatchers = () => {\n    const props = ['fixed']\n    const aliases = {\n      realWidth: 'width',\n      realMinWidth: 'minWidth'\n    }\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur\n      return prev\n    }, aliases)\n\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      // eslint-disable-next-line no-prototype-builtins\n      if (props_.hasOwnProperty(columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            instance.columnConfig.value[columnKey] = newVal\n            const updateColumns = columnKey === 'fixed'\n            owner.value.store.scheduleLayout(updateColumns)\n          }\n        )\n      }\n    })\n  }\n  const registerNormalWatchers = () => {\n    const props = [\n      'label',\n      'property',\n      'filters',\n      'filterMultiple',\n      'sortable',\n      'index',\n      'formatter',\n      'className',\n      'labelClassName',\n      'showOverflowTooltip'\n    ]\n    // 一些属性具有别名\n    const aliases = {\n      prop: 'property',\n      realAlign: 'align',\n      realHeaderAlign: 'headerAlign'\n    }\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur\n      return prev\n    }, aliases)\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      // eslint-disable-next-line no-prototype-builtins\n      if (props_.hasOwnProperty(columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            instance.columnConfig.value[columnKey] = newVal\n          }\n        )\n      }\n    })\n  }\n\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers\n  }\n}\n\nexport default useWatcher\n","import { getCurrentInstance, h, ref, computed, watchEffect } from 'vue'\nimport { cellForced, defaultRenderCell, treeCellPrefix } from '../config'\nimport { parseWidth, parseMinWidth } from '../util'\n\nfunction useRender(props, slots, owner) {\n  const instance = getCurrentInstance()\n  const columnId = ref('')\n  const isSubColumn = ref(false)\n  const realAlign = ref()\n  const realHeaderAlign = ref()\n  watchEffect(() => {\n    realAlign.value = props.align ? 'is-' + props.align : null\n    // nextline help render\n    realAlign.value\n  })\n  watchEffect(() => {\n    realHeaderAlign.value = props.headerAlign\n      ? 'is-' + props.headerAlign\n      : realAlign.value\n    // nextline help render\n    realHeaderAlign.value\n  })\n  const columnOrTableParent = computed(() => {\n    let parent = instance.vnode.vParent || instance.parent\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent\n    }\n    return parent\n  })\n\n  const realWidth = ref(parseWidth(props.width))\n  const realMinWidth = ref(parseMinWidth(props.minWidth))\n  const setColumnWidth = (column) => {\n    if (realWidth.value) column.width = realWidth.value\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value\n    }\n    if (!column.minWidth) {\n      column.minWidth = 80\n    }\n    column.realWidth =\n      column.width === undefined ? column.minWidth : column.width\n    return column\n  }\n  const setColumnForcedProps = (column) => {\n    // 对于特定类型的 column，某些属性不允许设置\n    const type = column.type\n    const source = cellForced[type] || {}\n    Object.keys(source).forEach((prop) => {\n      const value = source[prop]\n      if (value !== undefined) {\n        column[prop] = prop === 'className' ? `${column[prop]} ${value}` : value\n      }\n    })\n    return column\n  }\n\n  const checkSubColumn = (children) => {\n    if (children instanceof Array) {\n      children.forEach((child) => check(child))\n    } else {\n      check(children)\n    }\n    function check(item) {\n      if (item?.type?.name === 'ElTableColumn') {\n        item.vParent = instance\n      }\n    }\n  }\n  const setColumnRenders = (column) => {\n    // renderHeader 属性不推荐使用。\n    if (props.renderHeader) {\n      console.warn(\n        '[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.'\n      )\n    } else if (column.type !== 'selection') {\n      column.renderHeader = (scope) => {\n        // help render\n        instance.columnConfig.value['label']\n        const renderHeader = slots.header\n        return renderHeader ? renderHeader(scope) : column.label\n      }\n    }\n\n    let originRenderCell = column.renderCell\n    // TODO: 这里的实现调整\n    if (column.type === 'expand') {\n      // 对于展开行，renderCell 不允许配置的。在上一步中已经设置过，这里需要简单封装一下。\n      column.renderCell = (data) =>\n        h(\n          'div',\n          {\n            class: 'cell'\n          },\n          [originRenderCell(data)]\n        )\n      owner.value.renderExpanded = (data) => {\n        return slots.default ? slots.default(data) : slots.default\n      }\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell\n      // 对 renderCell 进行包装\n      column.renderCell = (data) => {\n        let children = null\n        if (slots.default) {\n          children = slots.default(data)\n        } else {\n          children = originRenderCell(data)\n        }\n        const prefix = treeCellPrefix(data)\n        const props = {\n          class: 'cell',\n          style: {}\n        }\n        if (column.showOverflowTooltip) {\n          props.class += ' el-tooltip'\n          props.style = {\n            width: (data.column.realWidth || data.column.width) - 1 + 'px'\n          }\n        }\n        checkSubColumn(children)\n        return h('div', props, [prefix, children])\n      }\n    }\n    return column\n  }\n  const getPropsData = (...propsKey) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach((key) => {\n          prev[key] = props[key]\n        })\n      }\n      return prev\n    }, {})\n  }\n  const getColumnElIndex = (children, child) => {\n    return [].indexOf.call(children, child)\n  }\n\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex\n  }\n}\n\nexport default useRender\n","import {\n  ref,\n  onBeforeMount,\n  onMounted,\n  computed,\n  getCurrentInstance,\n  h\n} from 'vue'\nimport { cellStarts } from '../config'\nimport { mergeOptions, compose } from '../util'\nimport ElCheckbox from '../../../checkbox'\nimport useWatcher from './watcher-helper'\nimport useRender from './render-helper'\n\nlet columnIdSeed = 1\nexport default {\n  name: 'ElTableColumn',\n  components: {\n    ElCheckbox\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'default'\n    },\n    label: String,\n    className: String,\n    labelClassName: String,\n    property: String,\n    prop: String,\n    width: {\n      type: [Object, Number, String],\n      default: () => {\n        return {}\n      }\n    },\n    minWidth: {\n      type: [Object, Number, String],\n      default: () => {\n        return {}\n      }\n    },\n    renderHeader: Function,\n    sortable: {\n      type: [Boolean, String],\n      default: false\n    },\n    sortMethod: Function,\n    sortBy: [String, Function, Array],\n    resizable: {\n      type: Boolean,\n      default: true\n    },\n    columnKey: String,\n    align: String,\n    headerAlign: String,\n    showTooltipWhenOverflow: Boolean,\n    showOverflowTooltip: Boolean,\n    fixed: [Boolean, String],\n    formatter: Function,\n    selectable: Function,\n    reserveSelection: Boolean,\n    filterMethod: Function,\n    filteredValue: Array,\n    filters: Array,\n    filterPlacement: String,\n    filterMultiple: {\n      type: Boolean,\n      default: true\n    },\n    index: [Number, Function],\n    sortOrders: {\n      type: Array,\n      default() {\n        return ['ascending', 'descending', null]\n      },\n      validator(val) {\n        return val.every(\n          (order) => ['ascending', 'descending', null].indexOf(order) > -1\n        )\n      }\n    }\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance()\n    const columnConfig = ref({})\n    const row = ref({})\n    const r = ref({})\n    const index_ = ref(0)\n    const owner = computed(() => {\n      let parent = instance.parent\n      while (parent && !parent.tableId) {\n        parent = parent.parent\n      }\n      return parent\n    })\n\n    const { registerNormalWatchers, registerComplexWatchers } = useWatcher(\n      owner,\n      props\n    )\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign\n    } = useRender(props, slots, owner)\n\n    const parent = columnOrTableParent.value\n    columnId.value =\n      (parent.tableId || parent.columnId) + '_column_' + columnIdSeed++\n\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent\n\n      const type = props.type || 'default'\n      const sortable = props.sortable === '' ? true : props.sortable\n      const defaults = {\n        ...cellStarts[type],\n        id: columnId.value,\n        type: type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip:\n          props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        // filter 相关属性\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: '',\n        isColumnGroup: false,\n        filterOpened: false,\n        // sort 相关属性\n        sortable: sortable,\n        // index 列\n        index: props.index\n      }\n\n      const basicProps = [\n        'columnKey',\n        'label',\n        'className',\n        'labelClassName',\n        'type',\n        'renderHeader',\n        'formatter',\n        'fixed',\n        'resizable'\n      ]\n      const sortProps = ['sortMethod', 'sortBy', 'sortOrders']\n      const selectProps = ['selectable', 'reserveSelection']\n      const filterProps = [\n        'filterMethod',\n        'filters',\n        'filterMultiple',\n        'filterOpened',\n        'filteredValue',\n        'filterPlacement'\n      ]\n\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps)\n\n      column = mergeOptions(defaults, column)\n\n      // 注意 compose 中函数执行的顺序是从右到左\n      const chains = compose(\n        setColumnRenders,\n        setColumnWidth,\n        setColumnForcedProps\n      )\n      column = chains(column)\n      columnConfig.value = column\n\n      // 注册 watcher\n      registerNormalWatchers()\n      registerComplexWatchers()\n    })\n    onMounted(() => {\n      const parent = columnOrTableParent.value\n      const children = isSubColumn.value\n        ? parent.vnode.el.children\n        : parent.refs.hiddenColumns?.children\n      const columnIndex = getColumnElIndex(children || [], instance.vnode.el)\n      owner.value.store.commit(\n        'insertColumn',\n        columnConfig.value,\n        columnIndex,\n        isSubColumn.value ? parent.columnConfig.value : null\n      )\n    })\n    instance.columnId = columnId.value\n\n    // eslint-disable-next-line\n    instance.columnConfig = columnConfig\n    return {\n      row,\n      r,\n      index_,\n      columnId,\n      columnConfig\n    }\n  },\n  render() {\n    return h(\n      'div',\n      this.$slots.default?.({\n        store: {},\n        _self: {},\n        column: {},\n        row: {},\n        index_: undefined\n      })\n    )\n  }\n}\n","import ElTableColumn from '../table/src/table-column'\n\n/* istanbul ignore next */\nElTableColumn.install = function (app) {\n  app.component(ElTableColumn.name, ElTableColumn)\n}\n\nexport default ElTableColumn\n","/* eslint-disable @typescript-eslint/no-this-alias */\nconst typeFlag = Symbol('TREE_NODE')\n\n/**\n *\n * @param {*} id\n * @param {string} label\n * @param {TreeNode[]} childNodes\n * @param {object} param3\n */\nexport class TreeNode {\n  constructor(\n    id,\n    label,\n    childNodes = [],\n    {\n      /* 默认值 */\n      parent = null,\n      isAsync = false,\n      isVisable = true,\n      isChecked = false,\n      isIndeterminate = false,\n      isExpanded = false,\n      isDisabled = false,\n      isDraggable = false,\n      isLeaf = false,\n      data = {},\n      asyncLoadFn = () => null\n    } = {},\n    {\n      /* 拦截函数 */\n      insertChild = null,\n      appendChild = null,\n      removeChild = null\n    } = {}\n  ) {\n    this.id = id || label\n    this.label = label\n    this.parent = parent\n    this.childNodes = childNodes\n    this.isVisable = isVisable\n    this.isChecked = isChecked\n    this.isIndeterminate = isIndeterminate\n    this.isExpanded = isExpanded\n    this.isDisabled = isDisabled\n    this.isDraggable = isDraggable\n    this.isRendered = false\n    this.data = data // Additional data carried by the node\n    this.isLeaf = isLeaf\n\n    this.isAsync = isAsync // Load child only at expand time\n    this.asyncState = 'notload' // notload || loaded || loading\n    this.asyncLoadFn = asyncLoadFn // (currentNode, resolveFn) async load child node\n\n    this.interceptHandler = {\n      insertChild,\n      appendChild,\n      removeChild\n    }\n\n    // this.cache = {\n    //   level: null\n    // }\n    // not use, You can cache read-only properties here\n\n    this.updateChildParent()\n    this.updateChildChecked()\n    this.updateCheckedState()\n    this.updateExpandedState()\n  }\n\n  get root() {\n    // readonly\n    let root = this\n    this.upwardEach((node) => {\n      root = node\n    })\n    return root\n  }\n\n  get isLeaf() {\n    return this.isAsync\n      ? this.asyncState === 'loaded' && this.childNodes.length === 0\n      : this.childNodes.length === 0\n  }\n\n  set isLeaf(v) {\n    if (v) this.asyncState = 'loaded'\n  }\n\n  get isRoot() {\n    // readonly\n    return this.root === this\n  }\n\n  get level() {\n    // readonly\n    if (!this.parent) return 0\n    return this.parent.level + 1\n  }\n\n  get type() {\n    // readonly\n    return typeFlag\n  }\n\n  get index() {\n    // readonly\n    const parent = this.parent\n    if (!parent) return -1\n    return parent.findChildIndex(this)\n  }\n\n  get checkedNodes() {\n    return this.childNodes.filter(\n      (treeNode) => treeNode.isChecked && !treeNode.isIndeterminate\n    )\n  }\n\n  loadAsync() {\n    if (!this.isAsync || this.asyncState !== 'notload') {\n      return\n    }\n    const resolveFn = (childNodes = []) => {\n      // this.childNodes = []\n      this.append(...childNodes)\n      this.asyncState = 'loaded'\n    }\n    this.asyncState = 'loading'\n    this.asyncLoadFn(this, resolveFn)\n  }\n\n  updateChildParent() {\n    this.childNodes.forEach((node) => {\n      node.parent = this\n    })\n  }\n\n  updateChildChecked() {\n    if (this.isChecked) {\n      this.setChildChecked(true)\n    }\n  }\n\n  updateCheckedState() {\n    if (this.isLeaf) {\n      return\n    }\n    // not leaf node exec\n    const checkedNodeLen = this.getCheckedNode().length\n    const childrenNodeLen = this.childNodes.length\n    if (childrenNodeLen === 0) {\n      return\n    }\n    if (checkedNodeLen === childrenNodeLen) {\n      // full select\n      this.setCheckedState(1)\n    } else if (checkedNodeLen === 0) {\n      // not full select\n      this.setCheckedState(0)\n    } else {\n      // Half select\n      this.setCheckedState(2)\n    }\n  }\n\n  updateExpandedState() {\n    const childNodes = this.childNodes\n    for (let i = 0; i < childNodes.length; i++) {\n      const node = childNodes[i]\n      if (node.isExpanded) {\n        this.isExpanded = true\n        return\n      }\n    }\n  }\n\n  /**\n   *\n   * @param {TreeNode} node\n   */\n  appendChild(node) {\n    if (this.interceptHandler.appendChild) {\n      const [_node] = this.interceptHandler.appendChild.apply(this, arguments)\n      if (typeof _node !== 'undefined') node = _node\n    }\n    if (!TreeNode.isType(node)) {\n      return false\n    }\n    node.parent = this\n    if (this.isChecked) {\n      node.setChecked(true)\n    }\n    this.childNodes.push(node)\n    return true\n  }\n\n  append(...nodes) {\n    nodes.forEach((node) => {\n      this.appendChild(node)\n    })\n    return true\n  }\n\n  /**\n   *\n   * @param {number} index\n   * @param {TreeNode} node\n   */\n  insertChild(index, node) {\n    if (this.interceptHandler.appendChild) {\n      const [_index, _node] = this.interceptHandler.insertChild.apply(\n        this,\n        arguments\n      )\n      if (typeof _index !== 'undefined') index = _index\n      if (typeof _node !== 'undefined') node = _node\n    }\n    if (!TreeNode.isType(node)) {\n      return false\n    }\n    if (this.isChecked) {\n      node.setChecked(true)\n    }\n    node.parent = this\n    this.childNodes.splice(index, 0, node)\n    return true\n  }\n\n  insert() {\n    this.insertChild.apply(this, arguments)\n  }\n\n  /**\n   *\n   * @param {number} index\n   */\n  removeChild(index) {\n    if (this.interceptHandler.appendChild) {\n      this.interceptHandler.removeChild.apply(this, arguments)\n    }\n    if (index < 0 || index >= this.childNodes.length) {\n      return false\n    }\n    this.childNodes.splice(index, 1)\n    return true\n  }\n\n  remove() {\n    if (!this.parent) {\n      return false\n    }\n    return this.parent.removeChild(this.index)\n  }\n\n  /**\n   *\n   * @param {boolean} value\n   */\n  setChecked(value, strictly = false) {\n    this.isIndeterminate = false\n    let _value = !this.isChecked\n    if (typeof value !== 'undefined') {\n      _value = value\n    }\n\n    this.isChecked = _value\n    if (!strictly) {\n      this.upwardEach((node) => {\n        if (!node.isDisabled) this.updateCheckedState.call(node)\n      })\n      this.depthEach((node) => {\n        if (!node.isDisabled && node.isVisable) node.isChecked = _value\n      })\n    }\n\n    return this.isChecked\n  }\n\n  setChildChecked(value) {\n    this.childNodes.forEach((node) => (node.isChecked = value))\n  }\n\n  /**\n   * Traverse upward\n   * @param {Function} callback( node:TreeNode ) if returns true then stop each, else not stop\n   */\n  upwardEach(callback, { isSkipSelf = true } = {}) {\n    let current = isSkipSelf ? this.parent : this\n    while (current) {\n      if (callback(current)) {\n        return\n      }\n      current = current.parent\n    }\n  }\n\n  /**\n   * from current node start, down each\n   * @param {Function} callback( node:TreeNode, parentNode:TreeNode, deep: number) if returns true then stop each, else not stop\n   */\n  depthEach(upToDownCallBack = () => false, downToUpCallBack = () => false) {\n    const dfs = (node, deep) => {\n      if (!TreeNode.isType(node)) {\n        return\n      }\n      for (let i = 0; i < node.childNodes.length; i++) {\n        const _node = node.childNodes[i]\n        if (upToDownCallBack(_node, node, deep)) return\n        dfs(_node, deep + 1)\n        if (downToUpCallBack(_node, node, deep)) return\n      }\n    }\n    upToDownCallBack(this, this.parent, 0)\n    dfs(this, 1)\n    downToUpCallBack(this, this.parent, 0)\n  }\n\n  getCheckedNode() {\n    return this.childNodes.filter((item) => item.isChecked)\n  }\n\n  /**\n   *\n   * @param {number} state 0:not checked, 1:checked, 2:indeterminate\n   */\n  setCheckedState(state) {\n    const eunmState = [\n      { isChecked: false, isIndeterminate: false },\n      { isChecked: true, isIndeterminate: false },\n      { isChecked: true, isIndeterminate: true }\n    ]\n    if (!eunmState[state]) {\n      return false\n    }\n\n    this.isChecked = eunmState[state].isChecked\n    this.isIndeterminate = eunmState[state].isIndeterminate\n    return true\n  }\n\n  /**\n   * Look for node in the subtree\n   * @param {ID|TreeNode} target\n   */\n  findOne(target) {\n    let res = null\n    this.depthEach((node) => {\n      if (node.id == target || node === target) {\n        res = node\n        return true\n      }\n    })\n    return res\n  }\n\n  /**\n   * find nodes\n   * @param {Function | string} target\n   */\n  findMany(target) {\n    const res = []\n    this.depthEach((node, parent, deep) => {\n      if (\n        (typeof target === 'function' && target(node, parent, deep)) ||\n        (typeof target === 'string' && node.label.search(target) !== -1)\n      ) {\n        res.push(node)\n      }\n    })\n    return res\n  }\n\n  findChildIndex(target) {\n    for (let i = 0; i < this.childNodes.length; i++) {\n      const node = this.childNodes[i]\n      if (node.id == target || node === target) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  expand(value, ...extraNodes) {\n    let _value = this.isExpanded\n    _value = typeof value === 'undefined' ? !_value : value\n    this.isExpanded = _value\n    this.upwardEach((node) => {\n      node.expand(true)\n    })\n\n    this.loadAsync()\n    this.append(...extraNodes)\n    this.isRendered = true\n  }\n\n  filter(callback = () => true) {\n    const arr = []\n    this.setSubTreeVisable(false)\n    this.depthEach((node, parentNode, deep) => {\n      const isShow = callback(node, parentNode, deep)\n      if (isShow) {\n        node.setVsiable(true)\n        arr.push(node)\n      }\n    })\n    return arr\n  }\n\n  setSubTreeVisable(value) {\n    this.depthEach((node) => {\n      node.isVisable = value\n    })\n  }\n\n  setVsiable(value) {\n    this.isVisable = value\n    this.upwardEach((node) => {\n      node.isVisable = true\n    })\n  }\n\n  separation() {\n    const parent = this.parent\n    if (!parent) return null\n    parent.removeChild(this.index)\n    this.parent = null\n    return this\n  }\n\n  /**\n   * is allow move to target\n   * @param {TreeNode} target\n   * @param {string} relative top, bottom, inner\n   */\n  isAllowMove(target) {\n    if (target === this) {\n      return false\n    }\n\n    if (this.findOne(target)) {\n      return false\n    }\n\n    return true\n  }\n\n  /**\n   * currentNode move to targetNode relative location\n   * @param {TreeNode} target\n   * @param {string} relative top, bottom, inner\n   */\n  move(target, relative) {\n    if (!this.isAllowMove(target, relative)) {\n      return false\n    }\n\n    this.separation()\n\n    switch (relative) {\n      case 'top': // top\n        target.parent.insertChild(target.index, this)\n        return true\n      case 'inner': // inner\n        target.expand(true, this)\n        return true\n      case 'bottom': // bottom\n        target.parent.insertChild(target.index + 1, this)\n        return true\n    }\n  }\n\n  collapse() {\n    const parent = this.parent\n    if (!parent) {\n      return\n    }\n\n    parent.childNodes.forEach((node) => {\n      if (node === this) {\n        node.expand()\n      } else {\n        node.expand(false)\n      }\n    })\n  }\n\n  static isType(node) {\n    if (typeof node !== 'object') {\n      return false\n    }\n\n    return node.type === typeFlag\n  }\n\n  static create({ id, label, childNodes, interceptHandler, ...otherParams }) {\n    return new TreeNode(id, label, childNodes, otherParams, interceptHandler)\n  }\n}\n","import { isArray, isObject } from '../../../src/utils/types'\n\n/**\n * Deep traversal of the object\n * @param {object} target\n * @param {function} callback(cloneRawNode, rawNode, isLeaf)\n */\nexport function nodeMap(\n  target,\n  callback = () => null,\n  { childKey = 'children', mapChildKey = 'children' } = {\n    /* TreeNode */\n  }\n) {\n  const dfs = (node) => {\n    if (isObject(node) && !isArray(node[childKey])) {\n      const _cloneNode = { ...node }\n      return callback(_cloneNode, node, true)\n    }\n    const cloneNode = { ...node }\n    const newNode = callback(cloneNode, node, false)\n    if (typeof newNode[childKey] !== 'undefined') delete newNode[childKey]\n    newNode[mapChildKey] = []\n    for (let i = 0; i < node[childKey].length; i++) {\n      const _node = node[childKey][i]\n      const ret = dfs(_node)\n      ret.parent = newNode\n      newNode[mapChildKey].push(ret)\n    }\n\n    return newNode\n  }\n\n  return dfs(target)\n}\n\nexport function nodeEach(\n  target,\n  callback = () => false,\n  { childKey = 'children', root = null } = {}\n) {\n  const dfs = (node) => {\n    if (!isObject(node) || isArray(node)) {\n      return\n    }\n\n    const child = node[childKey] || []\n\n    for (let i = 0; i < child.length; i++) {\n      const _node = child[i]\n      if (callback(_node /* Current */, node /* Parent */)) return\n      dfs(_node)\n    }\n  }\n  if (callback(target /* Current */, root /* Parent */)) return\n  return dfs(target)\n}\n\n/**\n * Modify the property name of the object\n * @param {object} obj\n * @param {object} keyMap newKey mapping oldKey\n */\nexport function transitionObjectKey(obj, keyMap = {}) {\n  const transitionKeyList = Object.keys(keyMap)\n  transitionKeyList.forEach((key) => {\n    if (key !== keyMap[key]) {\n      obj[key] = obj[keyMap[key]]\n      delete obj[keyMap[key]]\n    }\n  })\n  return obj\n}\n\nexport function isBrotherNode(nodeA, nodeB) {\n  return nodeA.parent === nodeB.parent\n}\n\nexport function isGreatGrandfather(nodeA, nodeB) {\n  let flag = false\n  nodeB.upwardEach((node) => {\n    if (node === nodeA) {\n      flag = true\n      return true\n    }\n  })\n\n  return flag\n}\n\n/**\n *\n * @param {*} _class 构造函数\n * @param {*} funName 方法名\n * @param {*} beforeCall 在之前执行\n * @param {*} afterCall 在之后执行\n */\nexport function methodInterceptor(\n  _class,\n  funName,\n  beforeCall = () => null,\n  afterCall = () => null\n) {\n  const fun = _class.prototype[funName]\n  _class.prototype[funName] = function (...args) {\n    const _args = beforeCall.apply(this, args) || args\n    const _return = fun.apply(this, _args)\n    const ret = afterCall.apply(this, [_return, _args]) || _return\n    return ret\n  }\n}\n\nexport const extractMethods = (obj, methods) => {\n  const methodList = {}\n  methods.forEach((method) => {\n    methodList[method] = obj[method].bind(obj)\n  })\n  return methodList\n}\n","import { TreeNode } from './TreeNode'\n\nexport function createAction(tree) {\n  // this.root changed update this.raw\n  const appendChild = function (node) {\n    if (TreeNode.isType(node)) {\n      tree.appendRawNode(this, node.data.raw) // 这里的this表示当前的TreeNode\n      return [node]\n    }\n    tree.appendRawNode(this, node)\n    return [tree.rawNodeToTreeNode(node)]\n  }\n  const removeChild = function (index) {\n    tree.removeChildRawNode(this, index) // 这里的this表示当前的TreeNode\n  }\n  const insertChild = function (index, node) {\n    if (TreeNode.isType(node)) {\n      tree.insertRawNode(this, index, node.data.raw) // 这里的this表示当前的TreeNode\n      return [index, node]\n    }\n    tree.insertRawNode(this, index, node)\n    return [index, tree.rawNodeToTreeNode(node)]\n  }\n  return { appendChild, removeChild, insertChild }\n}\n","import { TreeNode } from './TreeNode'\nimport { nodeMap, nodeEach, transitionObjectKey } from '../libs/util'\nimport { createAction } from './Action'\n\nexport class Tree {\n  /**\n   *\n   * @param {object[]} list\n   * @param {object} defaultNodeKey The incoming Node proprtry name maps to the default name\n   */\n  constructor(list, defaultNodeKey = {}, defaultNodeValue = {}) {\n    this.isUpdateRaw = true\n    this.raw = list\n    this.injectAction = createAction(this) // The core method is injected with interceptor functions, the insert RowNode is automatically converted to TreeNode\n    this.root = new TreeNode(\n      Date.now(),\n      'root',\n      [],\n      defaultNodeValue,\n      this.injectAction\n    )\n    this.defaultNodeKey = Object.assign(\n      {\n        id: 'id',\n        label: 'label',\n        childNodes: 'childNodes',\n        isDisabled: 'isDisabled',\n        isAsync: 'isAsync',\n        isChecked: 'isChecked',\n        isVisable: 'isVisable',\n        isExpanded: 'isExpanded'\n      },\n      defaultNodeKey\n    )\n    this.defaultNodeValue = Object.assign({}, defaultNodeValue)\n    // this.checked = []\n    // this.expanded = []\n    this.initRoot()\n  }\n\n  get isEmpty() {\n    for (let i = 0; i < this.root.childNodes.length; i++) {\n      const node = this.root.childNodes[i]\n      if (node.isVisable) {\n        return false\n      }\n    }\n    return true\n  }\n\n  get checked() {\n    const t = {}\n    this.root.depthEach((node) => {\n      node.isChecked && !node.isIndeterminate && (t[node.id] = true)\n    })\n    return Object.keys(t)\n  }\n\n  set checked(v) {\n    this.setCheckedByIdList(v)\n  }\n\n  get expanded() {\n    const t = {}\n    this.root.depthEach((node) => {\n      node.isExpanded && (t[node.id] = true)\n    })\n    return Object.keys(t)\n  }\n\n  set expanded(v) {\n    this.setExpandedByIdList(v, true)\n  }\n\n  initRoot() {\n    // rekeyname and create TreeNode\n    this.isUpdateRaw = false\n    this.root.childNodes = []\n    this.root.append(...this.raw)\n    this.isUpdateRaw = true\n  }\n\n  rawNodeToTreeNode(rawNode) {\n    const { childNodes } = this.defaultNodeKey\n    return nodeMap(\n      rawNode,\n      (_node, node) => {\n        const handledNode = transitionObjectKey(_node, this.defaultNodeKey)\n        // debugger\n        const treeNode = TreeNode.create(\n          Object.assign(\n            {},\n            this.defaultNodeValue,\n            { data: { raw: node }, interceptHandler: this.injectAction },\n            handledNode,\n            { childNodes: [] }\n          )\n        )\n        return treeNode\n      },\n      { childKey: childNodes, mapChildKey: 'childNodes' }\n    )\n  }\n\n  update() {\n    // rebuild tree\n    // TODO: 这里可以做diff优化\n    this.initRoot()\n  }\n\n  removeChildRawNode(target, index) {\n    const { childNodes } = this.defaultNodeKey\n    if (!this.isUpdateRaw) {\n      return\n    }\n    let rawChild = target.data.raw ? target.data.raw[childNodes] : this.raw\n    if (!rawChild) {\n      target.data.raw[childNodes] = []\n      rawChild = target.data.raw[childNodes]\n    }\n    rawChild.splice(index, 1)\n  }\n\n  appendRawNode(target, rawNode) {\n    const { childNodes } = this.defaultNodeKey\n    if (!this.isUpdateRaw) {\n      return\n    }\n    let rawChild = target.data.raw ? target.data.raw[childNodes] : this.raw\n    if (!rawChild) {\n      target.data.raw[childNodes] = []\n      rawChild = target.data.raw[childNodes]\n    }\n    rawChild.push(rawNode)\n  }\n\n  insertRawNode(target, index, rawNode) {\n    const { childNodes } = this.defaultNodeKey\n    if (!this.isUpdateRaw) {\n      return\n    }\n    let rawChild = target.data.raw ? target.data.raw[childNodes] : this.raw\n    if (!rawChild) {\n      target.data.raw[childNodes] = []\n      rawChild = target.data.raw[childNodes]\n    }\n    rawChild.splice(index, 0, rawNode)\n  }\n\n  getParentRawNode(rawNode) {\n    let parentNode = null\n    const { childNodes } = this.defaultNodeKey\n    nodeEach(\n      { [childNodes]: this.raw },\n      (current, parent) => {\n        if (current === rawNode || current.id === rawNode.id) {\n          parentNode = parent\n          return true\n        }\n      },\n      { childKey: childNodes }\n    )\n    return parentNode\n  }\n\n  showAll() {\n    this.root.setSubTreeVisable(true)\n  }\n\n  checkedAll() {\n    this.root.setChecked(true)\n  }\n\n  expandAll() {\n    this.root.depthEach((node) => {\n      if (node.isLeaf) {\n        node.expand(true)\n      }\n    })\n  }\n\n  setCheckedByIdList(idList = []) {\n    console.log(idList.toString())\n    this.root.depthEach((node) => {\n      if (node === this.root) {\n        return\n      }\n      if (idList.indexOf(node.id) !== -1) {\n        node.isChecked = true\n      } else {\n        // node.isChecked = false\n      }\n    })\n  }\n\n  setExpandedByIdList(idList = [], value = true) {\n    this.root.depthEach((node) => {\n      if (idList.indexOf(node.id) !== -1) {\n        node.expand(value)\n      }\n    })\n  }\n}\n","<script>\nimport { TreeNode } from './entity/TreeNode'\nimport { inject, h } from 'vue'\nexport default {\n  name: 'ElNodeContent',\n\n  props: {\n    node: {\n      required: true,\n      type: TreeNode\n    }\n  },\n\n  render(ctx) {\n    const elTree = inject('elTree')\n    if (typeof elTree.slots.default === 'function') {\n      return elTree.slots.default({ node: ctx.node, data: ctx.node.data.raw })\n    } else if (typeof elTree.props.renderContent === 'function') {\n      return elTree.props.renderContent({\n        node: ctx.node,\n        data: ctx.node.data.raw\n      })\n    }\n\n    return h('span', ctx.node.label)\n  }\n}\n</script>\n","<template>\n  <div\n    v-show=\"node.isVisable\"\n    class=\"el-tree-node\"\n    :class=\"{\n      'is-expanded': node.isExpanded,\n      'is-current': elTree.proxy.dragState.current === node,\n      'is-hidden': !node.isVisable,\n      'is-focusable': !node.isDisabled,\n      'is-checked': node.isChecked,\n      'is-drop-inner':\n        elTree.proxy.dragState.drop === 'inner' &&\n        elTree.proxy.dragState.current === node\n    }\"\n    role=\"TreeNode\"\n    tabindex=\"-1\"\n    ref=\"TreeNode\"\n    :id=\"'TreeNode' + node.id\"\n    :aria-expanded=\"node.isExpanded\"\n    :aria-disabled=\"node.isDisabled\"\n    :aria-checked=\"node.isChecked\"\n    :draggable=\"elTree.props.draggable || node.isDraggable\"\n    :data-node-id=\"node.id\"\n    @click.right.stop=\"onRightEvent\"\n    @click.stop=\"onClickNode\"\n    @dragstart.stop=\"elTree.proxy.handleDragStart(node, $event)\"\n    @dragover.stop=\"elTree.proxy.handleDragOver(node, $event)\"\n    @dragend.stop=\"elTree.proxy.handleDragEnd(node, $event)\"\n    @drop.stop=\"elTree.proxy.handleDrop(node, $event)\"\n  >\n    <div\n      class=\"el-tree-node__content\"\n      :style=\"{ 'padding-left': (node.level - 1) * elTree.props.indent + 'px' }\"\n    >\n      <span\n        :class=\"[\n          { expanded: node.isExpanded, 'is-leaf': node.isLeaf },\n          'el-tree-node__expand-icon',\n          elTree.props.iconClass\n        ]\"\n        @click.stop=\"\n          node.isLeaf ||\n            (elTree.props.accordion ? node.collapse() : node.expand())\n        \"\n      >\n      </span>\n      <el-checkbox\n        v-if=\"elTree.props.showCheckbox\"\n        :modelValue=\"node.isChecked\"\n        :indeterminate=\"node.isIndeterminate\"\n        :disabled=\"node.isDisabled\"\n        @update:modelValue=\"onChangeCheckbox\"\n        @click=\"elTree.emit('check', node, node.isChecked, $event)\"\n      >\n      </el-checkbox>\n      <span\n        v-if=\"node.asyncState === 'loading'\"\n        class=\"el-tree-node__loading-icon el-icon-loading\"\n      ></span>\n      <el-node-content\n        class=\"el-tree-node__label\"\n        :node=\"node\"\n      ></el-node-content>\n    </div>\n    <el-collapse-transition>\n      <div\n        class=\"el-tree-node__children\"\n        v-show=\"node.isExpanded\"\n        v-if=\"!elTree.props.renderAfterExpand || node.isRendered\"\n        role=\"group\"\n        :aria-expanded=\"node.isExpanded\"\n      >\n        <el-tree-node\n          v-for=\"child in node.childNodes\"\n          :key=\"child.id\"\n          :node=\"child\"\n        >\n        </el-tree-node>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n\n<script>\nimport ElCollapseTransition from '../../src/transitions/collapse-transition'\nimport ElCheckbox from '../checkbox'\nimport ElNodeContent from './NodeContent'\nimport { TreeNode } from './entity/TreeNode'\nimport { inject } from 'vue'\n\nexport default {\n  name: 'ElTreeNode',\n\n  props: {\n    node: TreeNode\n  },\n\n  components: {\n    ElCollapseTransition,\n    ElCheckbox,\n    ElNodeContent\n  },\n\n  setup(props) {\n    const elTree = inject('elTree')\n    const onClickNode = (e) => {\n      !elTree.props.expandOnClickNode ||\n        props.node.isLeaf ||\n        (elTree.props.accordion ? props.node.collapse() : props.node.expand())\n\n      !elTree.props.checkOnClickNode ||\n        props.node.setChecked(undefined, elTree.props.checkStrictly)\n\n      elTree.emit('node-click', props.node, e)\n      elTree.emit('current-change', props.node, e)\n      props.node.isExpanded\n        ? elTree.emit('node-expand', props.node, e)\n        : elTree.emit('node-collapse', props.node, e)\n    }\n\n    const onRightEvent = (e) => {\n      if (!elTree.vnode.props['onNode-contextmenu']) return\n\n      e.preventDefault()\n\n      elTree.emit('node-contextmenu', props.node, e)\n    }\n\n    const onChangeCheckbox = (e) => {\n      props.node.setChecked(undefined, elTree.props.checkStrictly)\n      elTree.emit('check-change', props.node, e)\n    }\n\n    return {\n      elTree,\n      onClickNode,\n      onRightEvent,\n      onChangeCheckbox\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    v-show=\"node.isVisable\"\n    class=\"el-tree-node\"\n    :class=\"{\n      'is-expanded': node.isExpanded,\n      'is-current': elTree.proxy.dragState.current === node,\n      'is-hidden': !node.isVisable,\n      'is-focusable': !node.isDisabled,\n      'is-checked': node.isChecked,\n      'is-drop-inner':\n        elTree.proxy.dragState.drop === 'inner' &&\n        elTree.proxy.dragState.current === node\n    }\"\n    role=\"TreeNode\"\n    tabindex=\"-1\"\n    ref=\"TreeNode\"\n    :id=\"'TreeNode' + node.id\"\n    :aria-expanded=\"node.isExpanded\"\n    :aria-disabled=\"node.isDisabled\"\n    :aria-checked=\"node.isChecked\"\n    :draggable=\"elTree.props.draggable || node.isDraggable\"\n    :data-node-id=\"node.id\"\n    @click.right.stop=\"onRightEvent\"\n    @click.stop=\"onClickNode\"\n    @dragstart.stop=\"elTree.proxy.handleDragStart(node, $event)\"\n    @dragover.stop=\"elTree.proxy.handleDragOver(node, $event)\"\n    @dragend.stop=\"elTree.proxy.handleDragEnd(node, $event)\"\n    @drop.stop=\"elTree.proxy.handleDrop(node, $event)\"\n  >\n    <div\n      class=\"el-tree-node__content\"\n      :style=\"{ 'padding-left': (node.level - 1) * elTree.props.indent + 'px' }\"\n    >\n      <span\n        :class=\"[\n          { expanded: node.isExpanded, 'is-leaf': node.isLeaf },\n          'el-tree-node__expand-icon',\n          elTree.props.iconClass\n        ]\"\n        @click.stop=\"\n          node.isLeaf ||\n            (elTree.props.accordion ? node.collapse() : node.expand())\n        \"\n      >\n      </span>\n      <el-checkbox\n        v-if=\"elTree.props.showCheckbox\"\n        :modelValue=\"node.isChecked\"\n        :indeterminate=\"node.isIndeterminate\"\n        :disabled=\"node.isDisabled\"\n        @update:modelValue=\"onChangeCheckbox\"\n        @click=\"elTree.emit('check', node, node.isChecked, $event)\"\n      >\n      </el-checkbox>\n      <span\n        v-if=\"node.asyncState === 'loading'\"\n        class=\"el-tree-node__loading-icon el-icon-loading\"\n      ></span>\n      <el-node-content\n        class=\"el-tree-node__label\"\n        :node=\"node\"\n      ></el-node-content>\n    </div>\n    <el-collapse-transition>\n      <div\n        class=\"el-tree-node__children\"\n        v-show=\"node.isExpanded\"\n        v-if=\"!elTree.props.renderAfterExpand || node.isRendered\"\n        role=\"group\"\n        :aria-expanded=\"node.isExpanded\"\n      >\n        <el-tree-node\n          v-for=\"child in node.childNodes\"\n          :key=\"child.id\"\n          :node=\"child\"\n        >\n        </el-tree-node>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n\n<script>\nimport ElCollapseTransition from '../../src/transitions/collapse-transition'\nimport ElCheckbox from '../checkbox'\nimport ElNodeContent from './NodeContent'\nimport { TreeNode } from './entity/TreeNode'\nimport { inject } from 'vue'\n\nexport default {\n  name: 'ElTreeNode',\n\n  props: {\n    node: TreeNode\n  },\n\n  components: {\n    ElCollapseTransition,\n    ElCheckbox,\n    ElNodeContent\n  },\n\n  setup(props) {\n    const elTree = inject('elTree')\n    const onClickNode = (e) => {\n      !elTree.props.expandOnClickNode ||\n        props.node.isLeaf ||\n        (elTree.props.accordion ? props.node.collapse() : props.node.expand())\n\n      !elTree.props.checkOnClickNode ||\n        props.node.setChecked(undefined, elTree.props.checkStrictly)\n\n      elTree.emit('node-click', props.node, e)\n      elTree.emit('current-change', props.node, e)\n      props.node.isExpanded\n        ? elTree.emit('node-expand', props.node, e)\n        : elTree.emit('node-collapse', props.node, e)\n    }\n\n    const onRightEvent = (e) => {\n      if (!elTree.vnode.props['onNode-contextmenu']) return\n\n      e.preventDefault()\n\n      elTree.emit('node-contextmenu', props.node, e)\n    }\n\n    const onChangeCheckbox = (e) => {\n      props.node.setChecked(undefined, elTree.props.checkStrictly)\n      elTree.emit('check-change', props.node, e)\n    }\n\n    return {\n      elTree,\n      onClickNode,\n      onRightEvent,\n      onChangeCheckbox\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-tree\"\n    :class=\"{\n      'el-tree--highlight-current': highlightCurrent\n    }\"\n    role=\"Tree\"\n    @keydown=\"handleKeydown\"\n  >\n    <template v-if=\"showRootNode\">\n      <el-tree-node :node=\"tree.root\" :key=\"tree.root.id\"> </el-tree-node>\n    </template>\n    <template v-else>\n      <el-tree-node\n        v-for=\"child in tree.root.childNodes\"\n        :node=\"child\"\n        :key=\"child.id\"\n      >\n      </el-tree-node>\n    </template>\n    <div class=\"el-tree__empty-block\" v-if=\"tree.isEmpty\">\n      <span class=\"el-tree__empty-text\">{{ emptyText }}</span>\n    </div>\n    <div\n      v-show=\"\n        dragState.current &&\n        (dragState.drop === 'top' || dragState.drop === 'bottom')\n      \"\n      class=\"el-tree__drop-indicator\"\n      ref=\"dropIndicator\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { Tree } from './entity/Tree'\nimport ElTreeNode from './TreeNode.vue'\nimport { t } from '../../src/locale'\nimport { isFunction } from '../../src/utils/types'\nimport { extractMethods } from './libs/util'\n\nimport {\n  reactive,\n  toRefs,\n  provide,\n  getCurrentInstance,\n  onMounted,\n  ref,\n  onUpdated,\n  watchEffect\n} from 'vue'\n\nexport default {\n  name: 'ElTree',\n\n  components: {\n    ElTreeNode\n  },\n\n  props: {\n    data: { type: Array, default: () => [] },\n    emptyText: { type: String, default: () => t('el.tree.emptyText') },\n    renderAfterExpand: { type: Boolean, default: true },\n    checkStrictly: Boolean,\n    defaultExpandAll: Boolean,\n    expandOnClickNode: { type: Boolean, default: true },\n    checkOnClickNode: Boolean,\n    checkDescendants: { type: Boolean, default: false },\n    checked: Array /* model */,\n    expanded: Array /* model */,\n    currentNodeKey: [String, Number],\n    renderContent: Function,\n    showCheckbox: { type: Boolean, default: false },\n    draggable: { type: Boolean, default: false },\n    allowDrag: Function,\n    allowDrop: Function,\n    defaultNodeKey: {\n      type: Object,\n      default: () => ({\n        id: 'id',\n        label: 'label',\n        childNodes: 'childNodes',\n        isDisabled: 'isDisabled',\n        isAsync: 'isAsync',\n        isChecked: 'isChecked',\n        isVisable: 'isVisable',\n        isExpanded: 'isExpanded',\n        isLeaf: 'isLeaf'\n      })\n    }, // {treeNodeKey : rawNodeKey}\n    highlightCurrent: Boolean,\n    accordion: Boolean,\n    indent: { type: Number, default: 18 },\n    iconClass: { type: String, default: 'el-icon-caret-right' },\n    async: { type: Boolean, default: false },\n    asyncLoadFn: Function,\n    showRootNode: Boolean\n  },\n\n  emits: [\n    'node-click',\n    'node-contextmenu',\n    'check-change',\n    'check',\n    'current-change',\n    'node-expand',\n    'node-collapse',\n    'node-drag-start',\n    'node-drag-enter',\n    'node-drag-leave',\n    'node-drag-over',\n    'node-drag-end',\n    'node-drop',\n    'update:checked',\n    'update:expanded'\n  ],\n\n  setup(props) {\n    const instance = getCurrentInstance()\n\n    const tree = new Tree(props.data, props.defaultNodeKey, {\n      asyncLoadFn: props.asyncLoadFn,\n      isAsync: props.async\n    })\n\n    const state = reactive({\n      tree\n    })\n\n    provide('elTree', instance)\n\n    useTab()\n\n    useExpand(props, state)\n\n    useCheckbox(props, state)\n\n    useFocusNode(props)\n\n    const { handleKeydown } = useKeyDown()\n\n    const drag = useDrag(props)\n\n    return {\n      ...drag,\n      ...toRefs(state),\n      ...extractMethods(state.tree.root, [\n        'append',\n        'remove',\n        'insert',\n        'removeChild',\n        'setChecked',\n        'setChildChecked',\n        'upwardEach',\n        'depthEach',\n        'findOne',\n        'findMany',\n        'findChildIndex',\n        'expand',\n        'setVsiable',\n        'move',\n        'filter'\n      ]),\n      ...extractMethods(state.tree, [\n        'initRoot',\n        'getParentRawNode',\n        'showAll',\n        'checkedAll',\n        'expandAll'\n      ]),\n      tree: state.tree,\n      root: state.tree.root,\n      handleKeydown\n    }\n  }\n}\n\nfunction useCheckbox(props, state) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  watchEffect(() => {\n    if (props.checked) state.tree.setCheckedByIdList(props.checked)\n  })\n\n  watchEffect(() => {\n    emit('update:checked', state.tree.checked)\n  })\n}\n\nfunction useExpand(props, state) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  if (props.defaultExpandAll) {\n    state.tree.expandAll()\n  }\n\n  watchEffect(() => {\n    emit('update:expanded', state.tree.expanded)\n  })\n\n  watchEffect(() => {\n    state.tree.setExpandedByIdList(props.expanded, true)\n  })\n\n  onMounted(() => {\n    state.tree.root.expand(true)\n  })\n}\n\nfunction useTab() {\n  const instance = getCurrentInstance()\n  const { proxy } = instance\n\n  const initCheckbox = () => {\n    const checkboxItems = proxy.$el.querySelectorAll('input[type=checkbox]')\n    Array.prototype.forEach.call(checkboxItems, (checkbox) => {\n      checkbox.setAttribute('tabindex', -1)\n    })\n  }\n  const initTabIndex = () => {\n    const treeItems = proxy.$el.querySelectorAll('.is-focusable[role=TreeItem]')\n    const checkedItem = proxy.$el.querySelectorAll('.is-checked[role=TreeItem]')\n    if (checkedItem.length) {\n      checkedItem[0].setAttribute('tabindex', 0)\n      return\n    }\n    treeItems[0] && treeItems[0].setAttribute('tabindex', 0)\n  }\n\n  onMounted(initTabIndex)\n  onUpdated(initCheckbox)\n}\n\nfunction useKeyDown() {\n  const instance = getCurrentInstance()\n  const { proxy } = instance\n  const handleKeydown = (ev) => {\n    const currentItem = ev.target\n    if (currentItem.className.indexOf('el-tree-node') === -1) return\n    const { key } = ev\n    const treeItems = proxy.$el.querySelectorAll('.is-focusable[role=TreeNode]')\n    const treeItemArray = Array.prototype.slice.call(treeItems)\n    const currentIndex = treeItemArray.indexOf(currentItem)\n    let nextIndex\n    if (['ArrowUp', 'ArrowDown'].indexOf(key) > -1) {\n      // up、down\n      ev.preventDefault()\n      if (key === 'ArrowUp') {\n        // up\n        nextIndex = currentIndex !== 0 ? currentIndex - 1 : 0\n      } else {\n        nextIndex =\n          currentIndex < treeItemArray.length - 1 ? currentIndex + 1 : 0\n      }\n      treeItemArray[nextIndex].focus() // 选中\n    }\n    if (['ArrowLeft', 'ArrowRight'].indexOf(key) > -1) {\n      // left、right 展开\n      currentItem.click() // 选中\n      ev.preventDefault()\n    }\n    const hasInput = currentItem.querySelector('[type=\"checkbox\"]')\n    if (['Enter', 'Space'].indexOf(key) > -1 && hasInput) {\n      // space enter选中checkbox\n      hasInput.click()\n      ev.preventDefault()\n    }\n  }\n\n  return {\n    handleKeydown\n  }\n}\n\nfunction useDrag(props) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  const dropIndicator = ref()\n\n  const dragState = reactive({\n    start: null /* TreeNode */,\n    current: null /* TreeNode */,\n    last: null /* TreeNode */,\n    drop: '' /* String => inner | top | bottom */\n  })\n  const handleDragStart = (node, e) => {\n    if (typeof props.allowDrag === 'function' && !props.allowDrag(node, e)) {\n      e.preventDefault()\n      return false\n    }\n    dragState.start = node\n    emit('node-drag-start', node, e)\n  }\n  const handleDragOver = (node, e) => {\n    dragState.current = node\n    if (dragState.start === node) return\n    const margin = 7\n    const target = e.path.find((item) => item.id === 'TreeNode' + node.id)\n    const currentBound = target.getBoundingClientRect()\n    const mourseY = e.clientY\n\n    if (currentBound.top + margin > mourseY) {\n      dropIndicator.value.style.top = target.offsetTop + 'px'\n      dropIndicator.value.style.left = node.level * props.indent + 'px'\n      dragState.drop = 'top'\n    } else if (currentBound.top + currentBound.height - margin < mourseY) {\n      dropIndicator.value.style.top =\n        target.offsetTop + currentBound.height + 'px'\n      dropIndicator.value.style.left = node.level * props.indent + 'px'\n      dragState.drop = 'bottom'\n    } else {\n      dragState.drop = 'inner'\n      node.expand(true)\n    }\n\n    // wrap in try catch to address IE's error when first param is 'text/plain'\n    // setData is required for draggable to work in FireFox\n    // the content has to be '' so dragging a node out of the tree won't open a new tab in FireFox\n    e &&\n      e.dataTransfer &&\n      isFunction(e.dataTransfer.setData) &&\n      e.dataTransfer.setData('text/plain', '')\n    e.preventDefault()\n\n    emit('node-drag-enter', dragState.start, node, e)\n    emit('node-drag-over', dragState.start, node, e)\n    emit('node-drag-leave', dragState.start, dragState.last, e)\n    dragState.last = node\n  }\n\n  const handleDragEnd = (node, e) => {\n    dragState.current = null\n    emit('node-drag-end', dragState.start, node, e)\n  }\n\n  const handleDrop = (node, e) => {\n    if (\n      typeof props.allowDrog === 'function' &&\n      !props.allowDrog(dragState.start, node, dragState.drop, e)\n    ) {\n      e.preventDefault()\n      return false\n    }\n    dragState.last = node\n    dragState.start.move(node, dragState.drop)\n    emit('node-drop', dragState.start, node, e)\n  }\n\n  return {\n    dragState,\n    dropIndicator,\n    handleDragStart,\n    handleDragOver,\n    handleDragEnd,\n    handleDrop\n  }\n}\n\nfunction useFocusNode(props) {\n  onMounted(() => {\n    if (props.currentNodeKey) {\n      const node = document.getElementById('TreeNode' + props.currentNodeKey)\n      if (node) {\n        node.focus()\n      }\n    }\n  })\n}\n</script>\n","<template>\n  <div\n    class=\"el-tree\"\n    :class=\"{\n      'el-tree--highlight-current': highlightCurrent\n    }\"\n    role=\"Tree\"\n    @keydown=\"handleKeydown\"\n  >\n    <template v-if=\"showRootNode\">\n      <el-tree-node :node=\"tree.root\" :key=\"tree.root.id\"> </el-tree-node>\n    </template>\n    <template v-else>\n      <el-tree-node\n        v-for=\"child in tree.root.childNodes\"\n        :node=\"child\"\n        :key=\"child.id\"\n      >\n      </el-tree-node>\n    </template>\n    <div class=\"el-tree__empty-block\" v-if=\"tree.isEmpty\">\n      <span class=\"el-tree__empty-text\">{{ emptyText }}</span>\n    </div>\n    <div\n      v-show=\"\n        dragState.current &&\n        (dragState.drop === 'top' || dragState.drop === 'bottom')\n      \"\n      class=\"el-tree__drop-indicator\"\n      ref=\"dropIndicator\"\n    ></div>\n  </div>\n</template>\n\n<script>\nimport { Tree } from './entity/Tree'\nimport ElTreeNode from './TreeNode.vue'\nimport { t } from '../../src/locale'\nimport { isFunction } from '../../src/utils/types'\nimport { extractMethods } from './libs/util'\n\nimport {\n  reactive,\n  toRefs,\n  provide,\n  getCurrentInstance,\n  onMounted,\n  ref,\n  onUpdated,\n  watchEffect\n} from 'vue'\n\nexport default {\n  name: 'ElTree',\n\n  components: {\n    ElTreeNode\n  },\n\n  props: {\n    data: { type: Array, default: () => [] },\n    emptyText: { type: String, default: () => t('el.tree.emptyText') },\n    renderAfterExpand: { type: Boolean, default: true },\n    checkStrictly: Boolean,\n    defaultExpandAll: Boolean,\n    expandOnClickNode: { type: Boolean, default: true },\n    checkOnClickNode: Boolean,\n    checkDescendants: { type: Boolean, default: false },\n    checked: Array /* model */,\n    expanded: Array /* model */,\n    currentNodeKey: [String, Number],\n    renderContent: Function,\n    showCheckbox: { type: Boolean, default: false },\n    draggable: { type: Boolean, default: false },\n    allowDrag: Function,\n    allowDrop: Function,\n    defaultNodeKey: {\n      type: Object,\n      default: () => ({\n        id: 'id',\n        label: 'label',\n        childNodes: 'childNodes',\n        isDisabled: 'isDisabled',\n        isAsync: 'isAsync',\n        isChecked: 'isChecked',\n        isVisable: 'isVisable',\n        isExpanded: 'isExpanded',\n        isLeaf: 'isLeaf'\n      })\n    }, // {treeNodeKey : rawNodeKey}\n    highlightCurrent: Boolean,\n    accordion: Boolean,\n    indent: { type: Number, default: 18 },\n    iconClass: { type: String, default: 'el-icon-caret-right' },\n    async: { type: Boolean, default: false },\n    asyncLoadFn: Function,\n    showRootNode: Boolean\n  },\n\n  emits: [\n    'node-click',\n    'node-contextmenu',\n    'check-change',\n    'check',\n    'current-change',\n    'node-expand',\n    'node-collapse',\n    'node-drag-start',\n    'node-drag-enter',\n    'node-drag-leave',\n    'node-drag-over',\n    'node-drag-end',\n    'node-drop',\n    'update:checked',\n    'update:expanded'\n  ],\n\n  setup(props) {\n    const instance = getCurrentInstance()\n\n    const tree = new Tree(props.data, props.defaultNodeKey, {\n      asyncLoadFn: props.asyncLoadFn,\n      isAsync: props.async\n    })\n\n    const state = reactive({\n      tree\n    })\n\n    provide('elTree', instance)\n\n    useTab()\n\n    useExpand(props, state)\n\n    useCheckbox(props, state)\n\n    useFocusNode(props)\n\n    const { handleKeydown } = useKeyDown()\n\n    const drag = useDrag(props)\n\n    return {\n      ...drag,\n      ...toRefs(state),\n      ...extractMethods(state.tree.root, [\n        'append',\n        'remove',\n        'insert',\n        'removeChild',\n        'setChecked',\n        'setChildChecked',\n        'upwardEach',\n        'depthEach',\n        'findOne',\n        'findMany',\n        'findChildIndex',\n        'expand',\n        'setVsiable',\n        'move',\n        'filter'\n      ]),\n      ...extractMethods(state.tree, [\n        'initRoot',\n        'getParentRawNode',\n        'showAll',\n        'checkedAll',\n        'expandAll'\n      ]),\n      tree: state.tree,\n      root: state.tree.root,\n      handleKeydown\n    }\n  }\n}\n\nfunction useCheckbox(props, state) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  watchEffect(() => {\n    if (props.checked) state.tree.setCheckedByIdList(props.checked)\n  })\n\n  watchEffect(() => {\n    emit('update:checked', state.tree.checked)\n  })\n}\n\nfunction useExpand(props, state) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  if (props.defaultExpandAll) {\n    state.tree.expandAll()\n  }\n\n  watchEffect(() => {\n    emit('update:expanded', state.tree.expanded)\n  })\n\n  watchEffect(() => {\n    state.tree.setExpandedByIdList(props.expanded, true)\n  })\n\n  onMounted(() => {\n    state.tree.root.expand(true)\n  })\n}\n\nfunction useTab() {\n  const instance = getCurrentInstance()\n  const { proxy } = instance\n\n  const initCheckbox = () => {\n    const checkboxItems = proxy.$el.querySelectorAll('input[type=checkbox]')\n    Array.prototype.forEach.call(checkboxItems, (checkbox) => {\n      checkbox.setAttribute('tabindex', -1)\n    })\n  }\n  const initTabIndex = () => {\n    const treeItems = proxy.$el.querySelectorAll('.is-focusable[role=TreeItem]')\n    const checkedItem = proxy.$el.querySelectorAll('.is-checked[role=TreeItem]')\n    if (checkedItem.length) {\n      checkedItem[0].setAttribute('tabindex', 0)\n      return\n    }\n    treeItems[0] && treeItems[0].setAttribute('tabindex', 0)\n  }\n\n  onMounted(initTabIndex)\n  onUpdated(initCheckbox)\n}\n\nfunction useKeyDown() {\n  const instance = getCurrentInstance()\n  const { proxy } = instance\n  const handleKeydown = (ev) => {\n    const currentItem = ev.target\n    if (currentItem.className.indexOf('el-tree-node') === -1) return\n    const { key } = ev\n    const treeItems = proxy.$el.querySelectorAll('.is-focusable[role=TreeNode]')\n    const treeItemArray = Array.prototype.slice.call(treeItems)\n    const currentIndex = treeItemArray.indexOf(currentItem)\n    let nextIndex\n    if (['ArrowUp', 'ArrowDown'].indexOf(key) > -1) {\n      // up、down\n      ev.preventDefault()\n      if (key === 'ArrowUp') {\n        // up\n        nextIndex = currentIndex !== 0 ? currentIndex - 1 : 0\n      } else {\n        nextIndex =\n          currentIndex < treeItemArray.length - 1 ? currentIndex + 1 : 0\n      }\n      treeItemArray[nextIndex].focus() // 选中\n    }\n    if (['ArrowLeft', 'ArrowRight'].indexOf(key) > -1) {\n      // left、right 展开\n      currentItem.click() // 选中\n      ev.preventDefault()\n    }\n    const hasInput = currentItem.querySelector('[type=\"checkbox\"]')\n    if (['Enter', 'Space'].indexOf(key) > -1 && hasInput) {\n      // space enter选中checkbox\n      hasInput.click()\n      ev.preventDefault()\n    }\n  }\n\n  return {\n    handleKeydown\n  }\n}\n\nfunction useDrag(props) {\n  const instance = getCurrentInstance()\n  const { emit } = instance\n\n  const dropIndicator = ref()\n\n  const dragState = reactive({\n    start: null /* TreeNode */,\n    current: null /* TreeNode */,\n    last: null /* TreeNode */,\n    drop: '' /* String => inner | top | bottom */\n  })\n  const handleDragStart = (node, e) => {\n    if (typeof props.allowDrag === 'function' && !props.allowDrag(node, e)) {\n      e.preventDefault()\n      return false\n    }\n    dragState.start = node\n    emit('node-drag-start', node, e)\n  }\n  const handleDragOver = (node, e) => {\n    dragState.current = node\n    if (dragState.start === node) return\n    const margin = 7\n    const target = e.path.find((item) => item.id === 'TreeNode' + node.id)\n    const currentBound = target.getBoundingClientRect()\n    const mourseY = e.clientY\n\n    if (currentBound.top + margin > mourseY) {\n      dropIndicator.value.style.top = target.offsetTop + 'px'\n      dropIndicator.value.style.left = node.level * props.indent + 'px'\n      dragState.drop = 'top'\n    } else if (currentBound.top + currentBound.height - margin < mourseY) {\n      dropIndicator.value.style.top =\n        target.offsetTop + currentBound.height + 'px'\n      dropIndicator.value.style.left = node.level * props.indent + 'px'\n      dragState.drop = 'bottom'\n    } else {\n      dragState.drop = 'inner'\n      node.expand(true)\n    }\n\n    // wrap in try catch to address IE's error when first param is 'text/plain'\n    // setData is required for draggable to work in FireFox\n    // the content has to be '' so dragging a node out of the tree won't open a new tab in FireFox\n    e &&\n      e.dataTransfer &&\n      isFunction(e.dataTransfer.setData) &&\n      e.dataTransfer.setData('text/plain', '')\n    e.preventDefault()\n\n    emit('node-drag-enter', dragState.start, node, e)\n    emit('node-drag-over', dragState.start, node, e)\n    emit('node-drag-leave', dragState.start, dragState.last, e)\n    dragState.last = node\n  }\n\n  const handleDragEnd = (node, e) => {\n    dragState.current = null\n    emit('node-drag-end', dragState.start, node, e)\n  }\n\n  const handleDrop = (node, e) => {\n    if (\n      typeof props.allowDrog === 'function' &&\n      !props.allowDrog(dragState.start, node, dragState.drop, e)\n    ) {\n      e.preventDefault()\n      return false\n    }\n    dragState.last = node\n    dragState.start.move(node, dragState.drop)\n    emit('node-drop', dragState.start, node, e)\n  }\n\n  return {\n    dragState,\n    dropIndicator,\n    handleDragStart,\n    handleDragOver,\n    handleDragEnd,\n    handleDrop\n  }\n}\n\nfunction useFocusNode(props) {\n  onMounted(() => {\n    if (props.currentNodeKey) {\n      const node = document.getElementById('TreeNode' + props.currentNodeKey)\n      if (node) {\n        node.focus()\n      }\n    }\n  })\n}\n</script>\n","import ElTree from './Tree.vue'\n\n/* istanbul ignore next */\nElTree.install = function (app) {\n  app.component(ElTree.name, ElTree)\n}\n\nexport default ElTree\n","<template>\n  <ul @click=\"onPagerClick\" class=\"el-pager\">\n    <li\n      :class=\"{ active: currentPage === 1, disabled }\"\n      v-if=\"pageCount > 0\"\n      class=\"number\"\n    >\n      1\n    </li>\n    <li\n      class=\"el-icon more btn-quickprev\"\n      :class=\"[quickClass.left, { disabled }]\"\n      v-if=\"showMore.left\"\n      @mouseenter=\"onMouseEnter('left')\"\n      @mouseleave=\"quickClass.left = 'el-icon-more'\"\n    ></li>\n    <li\n      v-for=\"pager in pagers\"\n      :key=\"pager\"\n      :class=\"{ active: currentPage === pager, disabled }\"\n      class=\"number\"\n    >\n      {{ pager }}\n    </li>\n    <li\n      class=\"el-icon more btn-quicknext\"\n      :class=\"[quickClass.right, { disabled }]\"\n      v-if=\"showMore.right\"\n      @mouseenter=\"onMouseEnter('right')\"\n      @mouseleave=\"quickClass.right = 'el-icon-more'\"\n    ></li>\n    <li\n      :class=\"{ active: currentPage === pageCount, disabled }\"\n      class=\"number\"\n      v-if=\"pageCount > 1\"\n    >\n      {{ pageCount }}\n    </li>\n  </ul>\n</template>\n\n<script type=\"text/babel\">\nimport { reactive, toRefs, watch, computed } from 'vue'\n\nexport default {\n  name: 'ElPager',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n\n    pageCount: {\n      type: Number,\n      default: 5\n    },\n\n    pagerCount: {\n      type: Number,\n      default: 7\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['update:currentPage'],\n\n  setup(props, { emit }) {\n    const { currentPage, pageCount, pagerCount, disabled } = toRefs(props)\n    const { quickClass, showMore, onMouseEnter } = useClass()\n    const { pagers, onPagerClick } = usePager({\n      currentPage,\n      pageCount,\n      pagerCount,\n      showMore,\n      disabled,\n      emit\n    })\n\n    return {\n      // state\n      pagers,\n      showMore,\n      quickClass,\n      // method\n      onMouseEnter,\n      onPagerClick\n    }\n  }\n}\n\nconst useClass = () => {\n  const showMore = reactive({\n    left: false,\n    right: false\n  })\n  const quickClass = reactive({\n    left: 'el-icon-more',\n    right: 'el-icon-more'\n  })\n\n  watch(showMore, (v) => {\n    for (const vKey in v) {\n      if (!v[vKey]) quickClass[vKey] = 'el-icon-more'\n    }\n  })\n\n  const onMouseEnter = (direction) => {\n    quickClass[direction] = `el-icon-d-arrow-${direction}`\n  }\n\n  return {\n    showMore,\n    quickClass,\n    onMouseEnter\n  }\n}\n\nconst usePager = ({\n  currentPage,\n  pageCount,\n  pagerCount,\n  showMore,\n  disabled,\n  emit\n}) => {\n  const pagers = computed(() => {\n    const pagerValue = pagerCount.value\n    const halfPagerCount = (pagerValue - 1) / 2\n    const currentValue = Number(currentPage.value)\n    const pageValue = Number(pageCount.value)\n\n    let showPrevMore = false\n    let showNextMore = false\n\n    if (pageValue > pagerValue) {\n      if (currentValue > pagerValue - halfPagerCount) showPrevMore = true\n      if (currentValue < pageValue - halfPagerCount) showNextMore = true\n    }\n\n    const array = []\n\n    if (showPrevMore && !showNextMore) {\n      const startPage = pageValue - (pagerValue - 2)\n      for (let i = startPage; i < pageValue; i++) {\n        array.push(i)\n      }\n    } else if (!showPrevMore && showNextMore) {\n      for (let i = 2; i < pagerValue; i++) {\n        array.push(i)\n      }\n    } else if (showPrevMore && showNextMore) {\n      const offset = Math.floor(pagerValue / 2) - 1\n      for (let i = currentValue - offset; i <= currentValue + offset; i++) {\n        array.push(i)\n      }\n    } else {\n      for (let i = 2; i < pageValue; i++) {\n        array.push(i)\n      }\n    }\n\n    showMore.left = showPrevMore\n    showMore.right = showNextMore\n\n    return array\n  })\n\n  const onPagerClick = (event) => {\n    const target = event.target\n    if (target.tagName === 'UL' || disabled.value) {\n      return\n    }\n\n    let newPage = Number(event.target.textContent)\n    const pagerCountOffset = pagerCount.value - 2\n\n    if (target.className.indexOf('more') !== -1) {\n      if (target.className.indexOf('quickprev') !== -1) {\n        newPage = currentPage.value - pagerCountOffset\n      } else if (target.className.indexOf('quicknext') !== -1) {\n        newPage = +currentPage.value + pagerCountOffset\n      }\n    }\n\n    /* istanbul ignore if */\n    if (!isNaN(newPage)) {\n      if (newPage < 1) newPage = 1\n\n      if (newPage > pageCount.value) newPage = pageCount.value\n    }\n    if (newPage !== currentPage.value) emit('update:currentPage', newPage)\n  }\n\n  return {\n    pagers,\n    onPagerClick\n  }\n}\n</script>\n","<template>\n  <ul @click=\"onPagerClick\" class=\"el-pager\">\n    <li\n      :class=\"{ active: currentPage === 1, disabled }\"\n      v-if=\"pageCount > 0\"\n      class=\"number\"\n    >\n      1\n    </li>\n    <li\n      class=\"el-icon more btn-quickprev\"\n      :class=\"[quickClass.left, { disabled }]\"\n      v-if=\"showMore.left\"\n      @mouseenter=\"onMouseEnter('left')\"\n      @mouseleave=\"quickClass.left = 'el-icon-more'\"\n    ></li>\n    <li\n      v-for=\"pager in pagers\"\n      :key=\"pager\"\n      :class=\"{ active: currentPage === pager, disabled }\"\n      class=\"number\"\n    >\n      {{ pager }}\n    </li>\n    <li\n      class=\"el-icon more btn-quicknext\"\n      :class=\"[quickClass.right, { disabled }]\"\n      v-if=\"showMore.right\"\n      @mouseenter=\"onMouseEnter('right')\"\n      @mouseleave=\"quickClass.right = 'el-icon-more'\"\n    ></li>\n    <li\n      :class=\"{ active: currentPage === pageCount, disabled }\"\n      class=\"number\"\n      v-if=\"pageCount > 1\"\n    >\n      {{ pageCount }}\n    </li>\n  </ul>\n</template>\n\n<script type=\"text/babel\">\nimport { reactive, toRefs, watch, computed } from 'vue'\n\nexport default {\n  name: 'ElPager',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n\n    pageCount: {\n      type: Number,\n      default: 5\n    },\n\n    pagerCount: {\n      type: Number,\n      default: 7\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['update:currentPage'],\n\n  setup(props, { emit }) {\n    const { currentPage, pageCount, pagerCount, disabled } = toRefs(props)\n    const { quickClass, showMore, onMouseEnter } = useClass()\n    const { pagers, onPagerClick } = usePager({\n      currentPage,\n      pageCount,\n      pagerCount,\n      showMore,\n      disabled,\n      emit\n    })\n\n    return {\n      // state\n      pagers,\n      showMore,\n      quickClass,\n      // method\n      onMouseEnter,\n      onPagerClick\n    }\n  }\n}\n\nconst useClass = () => {\n  const showMore = reactive({\n    left: false,\n    right: false\n  })\n  const quickClass = reactive({\n    left: 'el-icon-more',\n    right: 'el-icon-more'\n  })\n\n  watch(showMore, (v) => {\n    for (const vKey in v) {\n      if (!v[vKey]) quickClass[vKey] = 'el-icon-more'\n    }\n  })\n\n  const onMouseEnter = (direction) => {\n    quickClass[direction] = `el-icon-d-arrow-${direction}`\n  }\n\n  return {\n    showMore,\n    quickClass,\n    onMouseEnter\n  }\n}\n\nconst usePager = ({\n  currentPage,\n  pageCount,\n  pagerCount,\n  showMore,\n  disabled,\n  emit\n}) => {\n  const pagers = computed(() => {\n    const pagerValue = pagerCount.value\n    const halfPagerCount = (pagerValue - 1) / 2\n    const currentValue = Number(currentPage.value)\n    const pageValue = Number(pageCount.value)\n\n    let showPrevMore = false\n    let showNextMore = false\n\n    if (pageValue > pagerValue) {\n      if (currentValue > pagerValue - halfPagerCount) showPrevMore = true\n      if (currentValue < pageValue - halfPagerCount) showNextMore = true\n    }\n\n    const array = []\n\n    if (showPrevMore && !showNextMore) {\n      const startPage = pageValue - (pagerValue - 2)\n      for (let i = startPage; i < pageValue; i++) {\n        array.push(i)\n      }\n    } else if (!showPrevMore && showNextMore) {\n      for (let i = 2; i < pagerValue; i++) {\n        array.push(i)\n      }\n    } else if (showPrevMore && showNextMore) {\n      const offset = Math.floor(pagerValue / 2) - 1\n      for (let i = currentValue - offset; i <= currentValue + offset; i++) {\n        array.push(i)\n      }\n    } else {\n      for (let i = 2; i < pageValue; i++) {\n        array.push(i)\n      }\n    }\n\n    showMore.left = showPrevMore\n    showMore.right = showNextMore\n\n    return array\n  })\n\n  const onPagerClick = (event) => {\n    const target = event.target\n    if (target.tagName === 'UL' || disabled.value) {\n      return\n    }\n\n    let newPage = Number(event.target.textContent)\n    const pagerCountOffset = pagerCount.value - 2\n\n    if (target.className.indexOf('more') !== -1) {\n      if (target.className.indexOf('quickprev') !== -1) {\n        newPage = currentPage.value - pagerCountOffset\n      } else if (target.className.indexOf('quicknext') !== -1) {\n        newPage = +currentPage.value + pagerCountOffset\n      }\n    }\n\n    /* istanbul ignore if */\n    if (!isNaN(newPage)) {\n      if (newPage < 1) newPage = 1\n\n      if (newPage > pageCount.value) newPage = pageCount.value\n    }\n    if (newPage !== currentPage.value) emit('update:currentPage', newPage)\n  }\n\n  return {\n    pagers,\n    onPagerClick\n  }\n}\n</script>\n","<template>\n  <button type=\"button\" class=\"btn-prev\" :disabled=\"isDisabled\" @click=\"prev\">\n    <span v-if=\"prevText\">\n      {{ prevText }}\n    </span>\n    <i v-else class=\"el-icon el-icon-arrow-left\"></i>\n  </button>\n</template>\n\n<script>\nimport { computed, toRefs } from 'vue'\n\nexport default {\n  name: 'Prev',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    prevText: {\n      type: String,\n      default: ''\n    },\n    prev: Function\n  },\n\n  setup(props) {\n    const isDisabled = computed(() => props.disabled || props.currentPage <= 1)\n    return {\n      ...toRefs(props),\n      isDisabled\n    }\n  }\n}\n</script>\n","<template>\n  <button type=\"button\" class=\"btn-prev\" :disabled=\"isDisabled\" @click=\"prev\">\n    <span v-if=\"prevText\">\n      {{ prevText }}\n    </span>\n    <i v-else class=\"el-icon el-icon-arrow-left\"></i>\n  </button>\n</template>\n\n<script>\nimport { computed, toRefs } from 'vue'\n\nexport default {\n  name: 'Prev',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    prevText: {\n      type: String,\n      default: ''\n    },\n    prev: Function\n  },\n\n  setup(props) {\n    const isDisabled = computed(() => props.disabled || props.currentPage <= 1)\n    return {\n      ...toRefs(props),\n      isDisabled\n    }\n  }\n}\n</script>\n","<template>\n  <button type=\"button\" class=\"btn-next\" :disabled=\"isDisabled\" @click=\"next\">\n    <span v-if=\"nextText\">\n      {{ nextText }}\n    </span>\n    <i v-else class=\"el-icon el-icon-arrow-right\"></i>\n  </button>\n</template>\n\n<script>\nimport { toRefs, computed } from 'vue'\n\nexport default {\n  name: 'Next',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    pageCount: {\n      type: Number,\n      default: 1\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    nextText: {\n      type: String,\n      default: ''\n    },\n    next: Function\n  },\n\n  setup(props) {\n    const isDisabled = computed(\n      () =>\n        props.disabled ||\n        props.currentPage === props.pageCount ||\n        props.pageCount === 0\n    )\n\n    return {\n      ...toRefs(props),\n      isDisabled\n    }\n  }\n}\n</script>\n","<template>\n  <button type=\"button\" class=\"btn-next\" :disabled=\"isDisabled\" @click=\"next\">\n    <span v-if=\"nextText\">\n      {{ nextText }}\n    </span>\n    <i v-else class=\"el-icon el-icon-arrow-right\"></i>\n  </button>\n</template>\n\n<script>\nimport { toRefs, computed } from 'vue'\n\nexport default {\n  name: 'Next',\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    pageCount: {\n      type: Number,\n      default: 1\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    nextText: {\n      type: String,\n      default: ''\n    },\n    next: Function\n  },\n\n  setup(props) {\n    const isDisabled = computed(\n      () =>\n        props.disabled ||\n        props.currentPage === props.pageCount ||\n        props.pageCount === 0\n    )\n\n    return {\n      ...toRefs(props),\n      isDisabled\n    }\n  }\n}\n</script>\n","<template>\n  <span class=\"el-pagination__jump\">\n    {{ t('el.pagination.goto') }}\n    <el-input\n      class=\"el-pagination__editor is-in-pagination\"\n      :min=\"1\"\n      :max=\"pageCount\"\n      :modelValue=\"showValue\"\n      type=\"number\"\n      :disabled=\"disabled\"\n      @input=\"handleInput\"\n      @change=\"handleChange\"\n    />\n    {{ t('el.pagination.pageClassifier') }}\n  </span>\n</template>\n\n<script>\nimport { ElInput } from '../../../src/components/Input'\nimport { useLocale } from '../../../src/use/locale'\nimport { ref, computed, toRefs } from 'vue'\n\nexport default {\n  name: 'Jumper',\n  components: {\n    ElInput\n  },\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    pageCount: {\n      type: Number,\n      default: 5\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['change'],\n\n  setup(props, { emit }) {\n    const userInput = ref(null)\n    const { currentPage } = toRefs(props)\n    const t = useLocale()\n    const showValue = computed(() => userInput.value ?? currentPage.value)\n\n    const handleInput = (val) => {\n      userInput.value = val\n    }\n    const handleChange = (val) => {\n      emit('change', val)\n      userInput.value = null\n    }\n    return {\n      // state\n      showValue,\n      // method\n      t,\n      handleInput,\n      handleChange\n    }\n  }\n}\n</script>\n","<template>\n  <span class=\"el-pagination__jump\">\n    {{ t('el.pagination.goto') }}\n    <el-input\n      class=\"el-pagination__editor is-in-pagination\"\n      :min=\"1\"\n      :max=\"pageCount\"\n      :modelValue=\"showValue\"\n      type=\"number\"\n      :disabled=\"disabled\"\n      @input=\"handleInput\"\n      @change=\"handleChange\"\n    />\n    {{ t('el.pagination.pageClassifier') }}\n  </span>\n</template>\n\n<script>\nimport { ElInput } from '../../../src/components/Input'\nimport { useLocale } from '../../../src/use/locale'\nimport { ref, computed, toRefs } from 'vue'\n\nexport default {\n  name: 'Jumper',\n  components: {\n    ElInput\n  },\n\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    pageCount: {\n      type: Number,\n      default: 5\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['change'],\n\n  setup(props, { emit }) {\n    const userInput = ref(null)\n    const { currentPage } = toRefs(props)\n    const t = useLocale()\n    const showValue = computed(() => userInput.value ?? currentPage.value)\n\n    const handleInput = (val) => {\n      userInput.value = val\n    }\n    const handleChange = (val) => {\n      emit('change', val)\n      userInput.value = null\n    }\n    return {\n      // state\n      showValue,\n      // method\n      t,\n      handleInput,\n      handleChange\n    }\n  }\n}\n</script>\n","import { useLocale } from '../../../src/use/locale'\nimport { h } from 'vue'\n\nconst Total = (props) => {\n  return typeof props.total === 'number'\n    ? h(\n        'span',\n        { class: 'el-pagination__total' },\n        useLocale()('el.pagination.total', { total: props.total })\n      )\n    : ''\n}\nexport default Total\n","<template>\n  <span class=\"el-pagination__sizes\">\n    <el-select\n      :modelValue=\"pageSize\"\n      :popperClass=\"internalPopperClass\"\n      size=\"mini\"\n      @change=\"handleChange\"\n      :disabled=\"disabled\"\n    >\n      <el-option\n        v-for=\"item in pageSizes\"\n        :value=\"item\"\n        :label=\"item + t('el.pagination.pagesize')\"\n        :key=\"item\"\n      >\n      </el-option>\n    </el-select>\n  </span>\n</template>\n\n<script>\nimport ElSelect from '../../select'\nimport ElOption from '../../option'\nimport { useLocale } from '../../../src/use/locale'\nimport { computed, watch, toRefs } from 'vue'\n\nexport default {\n  name: 'Sizes',\n\n  components: {\n    ElSelect,\n    ElOption\n  },\n\n  props: {\n    pageSizes: Array,\n\n    pageSize: Number,\n\n    popperClass: String,\n\n    handleChange: Function,\n\n    disabled: Boolean,\n\n    watchHandler: Function\n  },\n\n  setup(props) {\n    const { popperClass, pageSizes } = toRefs(props)\n    const t = useLocale()\n    const internalPopperClass = computed(() => popperClass?.value || '')\n\n    watch(pageSizes, props.watchHandler)\n\n    return {\n      // state\n      ...toRefs(props),\n      internalPopperClass,\n      // methods\n      t\n    }\n  }\n}\n</script>\n\n<style scoped></style>\n","<template>\n  <span class=\"el-pagination__sizes\">\n    <el-select\n      :modelValue=\"pageSize\"\n      :popperClass=\"internalPopperClass\"\n      size=\"mini\"\n      @change=\"handleChange\"\n      :disabled=\"disabled\"\n    >\n      <el-option\n        v-for=\"item in pageSizes\"\n        :value=\"item\"\n        :label=\"item + t('el.pagination.pagesize')\"\n        :key=\"item\"\n      >\n      </el-option>\n    </el-select>\n  </span>\n</template>\n\n<script>\nimport ElSelect from '../../select'\nimport ElOption from '../../option'\nimport { useLocale } from '../../../src/use/locale'\nimport { computed, watch, toRefs } from 'vue'\n\nexport default {\n  name: 'Sizes',\n\n  components: {\n    ElSelect,\n    ElOption\n  },\n\n  props: {\n    pageSizes: Array,\n\n    pageSize: Number,\n\n    popperClass: String,\n\n    handleChange: Function,\n\n    disabled: Boolean,\n\n    watchHandler: Function\n  },\n\n  setup(props) {\n    const { popperClass, pageSizes } = toRefs(props)\n    const t = useLocale()\n    const internalPopperClass = computed(() => popperClass?.value || '')\n\n    watch(pageSizes, props.watchHandler)\n\n    return {\n      // state\n      ...toRefs(props),\n      internalPopperClass,\n      // methods\n      t\n    }\n  }\n}\n</script>\n\n<style scoped></style>\n","import { ref, computed, watch, toRefs } from 'vue'\nimport Pager from './components/Pager'\nimport Prev from './components/Prev.vue'\nimport Next from './components/Next'\nimport Jumper from './components/Jumper'\nimport Total from './components/Total'\nimport Sizes from './components/Sizes'\nimport { valueEquals } from '../../src/utils/util'\n\nconst useLayout = (layout) => {\n  const template = []\n  const rightWrapper = []\n  const components = layout.split(',').map((item) => item.trim())\n  const findIndex = components.findIndex((item) => item === '->')\n  for (let i = 0; i < components.length; i++) {\n    if (findIndex >= 0) {\n      if (i === findIndex) continue\n      if (i < findIndex) {\n        template.push(components[i])\n      } else {\n        rightWrapper.push(components[i])\n      }\n    } else {\n      template.push(components[i])\n    }\n  }\n\n  return {\n    template,\n    rightWrapper\n  }\n}\n\nconst getValidCurrentPage = (value, pageCount) => {\n  value = parseInt(value, 10)\n\n  const havePageCount = typeof pageCount === 'number'\n\n  let resetValue\n  if (!havePageCount) {\n    if (isNaN(value) || value < 1) resetValue = 1\n  } else {\n    if (value < 1) {\n      resetValue = 1\n    } else if (value > pageCount) {\n      resetValue = pageCount\n    }\n  }\n\n  if ((resetValue === undefined && isNaN(value)) || resetValue === 0) {\n    resetValue = 1\n  }\n\n  return resetValue ?? value\n}\n\nconst useInternalCurrentPage = ({ currentPage, emit, emitted }) => {\n  const innerCurrentPage = ref(null)\n  return computed({\n    get() {\n      return innerCurrentPage.value ?? currentPage?.value ?? 1\n    },\n    set(v) {\n      emit('update:currentPage', v)\n      emit('currentChange', v)\n      if (currentPage) {\n        watch(currentPage, () => {\n          emitted.value = true\n        })\n      }\n      if (emitted.value) innerCurrentPage.value = null\n      else innerCurrentPage.value = v\n      emitted.value = false\n    }\n  })\n}\n\nconst userInternalPageSize = ({ pageSize, emit, emitted }) => {\n  const innerPageSize = ref(null)\n  return computed({\n    get() {\n      return innerPageSize.value ?? pageSize.value\n    },\n    set(v) {\n      emit('update:pageSize', v)\n      emit('sizeChange', v)\n      innerPageSize.value = v\n      if (pageSize) {\n        watch(pageSize, () => {\n          emitted.value = true\n        })\n      }\n      if (emitted.value) innerPageSize.value = null\n      emitted.value = false\n    }\n  })\n}\n\nconst useInternalPageCount = ({ pageCount, total, pageSize }) => {\n  const internalPageCount = computed(() => {\n    if (!total && !pageCount) return 5\n    if (typeof total?.value === 'number') {\n      return Math.max(1, Math.ceil(total.value / pageSize.value))\n    } else if (typeof pageCount?.value === 'number') {\n      return Math.max(1, pageCount.value)\n    }\n  })\n\n  return {\n    internalPageCount\n  }\n}\n\nexport default {\n  name: 'ElPagination',\n\n  props: {\n    pageSize: {\n      type: Number,\n      default: 10\n    },\n\n    small: Boolean,\n\n    total: Number,\n\n    pageCount: Number,\n\n    pagerCount: {\n      type: Number,\n      validator(value) {\n        return (\n          (value || 0) === value && value > 4 && value < 22 && value % 2 === 1\n        )\n      },\n      default: 7\n    },\n\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n\n    layout: {\n      default: 'prev, pager, next, jumper, ->, total'\n    },\n\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 30, 40, 50, 100]\n      }\n    },\n\n    popperClass: String,\n\n    prevText: String,\n\n    nextText: String,\n\n    background: Boolean,\n\n    disabled: Boolean,\n\n    hideOnSinglePage: Boolean\n  },\n\n  emits: [\n    'update:currentPage',\n    'update:pageSize',\n    'currentChange',\n    'sizeChange',\n    'prevClick',\n    'nextClick'\n  ],\n\n  setup(props, { emit }) {\n    const currentPageEmitted = ref(false)\n    const pageSizeEmitted = ref(false)\n    const {\n      currentPage,\n      total,\n      pageCount,\n      pageSize,\n      disabled,\n      pageSizes\n    } = toRefs(props)\n\n    const internalCurrentPage = useInternalCurrentPage({\n      currentPage,\n      emit,\n      emitted: currentPageEmitted\n    })\n    const internalPageSize = userInternalPageSize({\n      pageSize,\n      pageSizes,\n      emit,\n      emitted: pageSizeEmitted\n    })\n    const { internalPageCount } = useInternalPageCount({\n      pageCount,\n      total,\n      pageSize: internalPageSize\n    })\n\n    return {\n      // state\n      internalCurrentPage,\n      internalPageCount,\n      internalPageSize,\n      // methods\n      prev() {\n        if (disabled.value) return\n        internalCurrentPage.value = getValidCurrentPage(\n          internalCurrentPage.value - 1,\n          internalPageCount.value\n        )\n        emit('prevClick', internalCurrentPage.value)\n      },\n      next() {\n        if (disabled.value) return\n        internalCurrentPage.value = getValidCurrentPage(\n          internalCurrentPage.value + 1,\n          internalPageCount.value\n        )\n        emit('nextClick', internalCurrentPage.value)\n      },\n      onUpdate(val) {\n        internalCurrentPage.value = val\n      },\n      handleChange(val) {\n        internalCurrentPage.value = getValidCurrentPage(\n          val,\n          internalPageCount.value\n        )\n      },\n      handleSizeChange(val) {\n        if (val !== internalPageSize.value) {\n          internalPageSize.value = val = parseInt(val, 10)\n        }\n      },\n      watchHandler(newValue) {\n        if (valueEquals(newValue, pageSizes.value)) return\n        if (Array.isArray(newValue)) {\n          internalPageSize.value =\n            newValue.indexOf(internalPageSize.value) > -1\n              ? internalPageSize.value\n              : pageSizes.value[0]\n        }\n      }\n    }\n  },\n  render() {\n    if (!this.layout || (this.hideOnSinglePage && this.internalPageCount === 1))\n      return ''\n\n    const { template, rightWrapper } = useLayout(this.layout)\n\n    const templateComponent = {\n      prev: (\n        <Prev\n          currentPage={this.internalCurrentPage}\n          disabled={this.disabled}\n          prevText={this.prevText}\n          prev={this.prev}\n        />\n      ),\n      jumper: (\n        <Jumper\n          currentPage={this.internalCurrentPage}\n          pageCount={this.internalPageCount}\n          disabled={this.disabled}\n          onChange={this.handleChange}\n        />\n      ),\n      pager: (\n        <Pager\n          currentPage={this.internalCurrentPage}\n          v-model={[this.internalCurrentPage, 'currentPage']}\n          pageCount={this.internalPageCount}\n          disabled={this.disabled}\n        />\n      ),\n      next: (\n        <Next\n          currentPage={this.internalCurrentPage}\n          pageCount={this.internalPageCount}\n          disabled={this.disabled}\n          nextText={this.nextText}\n          next={this.next}\n        />\n      ),\n      sizes: (\n        <Sizes\n          pageSizes={this.pageSizes}\n          pageSize={this.internalPageSize}\n          popperClass={this.popperClass}\n          handleChange={this.handleSizeChange}\n          disabled={this.disabled}\n          watchHandler={this.watchHandler}\n        />\n      ),\n      slot: <>{this.$slots.default?.()}</>,\n      total: <Total total={this.total} />\n    }\n\n    return (\n      <div\n        class={[\n          'el-pagination',\n          {\n            'is-background': this.background,\n            'el-pagination--small': this.small\n          }\n        ]}\n      >\n        {rightWrapper.length ? (\n          <div className=\"el-pagination__rightwrapper\">\n            {rightWrapper.map((item) => {\n              const Comp = templateComponent[item]\n              return <Comp />\n            })}\n          </div>\n        ) : (\n          ''\n        )}\n\n        {template.map((item) => {\n          const Comp = templateComponent[item]\n          return <Comp />\n        })}\n      </div>\n    )\n  }\n}\n","import ElPagination from './Pagination'\n\n/* istanbul ignore next */\nElPagination.install = function (app) {\n  app.component(ElPagination.name, ElPagination)\n}\n\nexport default ElPagination\n","<template>\n  <div class=\"el-badge\">\n    <slot></slot>\n    <transition name=\"el-zoom-in-center\">\n      <sup\n        v-if=\"isShow\"\n        class=\"el-badge__content\"\n        v-text=\"badgeNumber\"\n        :class=\"[\n          'el-badge__content--' + type,\n          {\n            'is-fixed': $slots.default,\n            'is-dot': isDot\n          }\n        ]\"\n      ></sup>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { isString } from '../../../utils/types'\n\nexport default defineComponent({\n  name: 'ElBadge',\n\n  props: {\n    value: [String, Number],\n    max: Number,\n    isDot: Boolean,\n    hidden: Boolean,\n    type: {\n      type: String,\n      default: 'danger',\n      validator(val) {\n        return ['primary', 'success', 'warning', 'info', 'danger'].includes(val)\n      }\n    }\n  },\n\n  setup(props) {\n    const badgeNumber = useBadgeNumber(props)\n    const isShow = useShow(props)\n    return {\n      badgeNumber,\n      isShow\n    }\n  }\n})\n\nconst useBadgeNumber = (props) => {\n  return computed(() => {\n    if (!props.max || isString(props.value)) {\n      return props.value\n    }\n\n    if (props.value <= props.max) {\n      return props.value\n    }\n\n    return `${props.max}+`\n  })\n}\n\nconst useShow = (props) => {\n  return computed(() => {\n    if (props.hidden) {\n      return false\n    }\n    if (props.value == 0) {\n      return false\n    }\n    return true\n  })\n}\n</script>\n","<template>\n  <div class=\"el-badge\">\n    <slot></slot>\n    <transition name=\"el-zoom-in-center\">\n      <sup\n        v-if=\"isShow\"\n        class=\"el-badge__content\"\n        v-text=\"badgeNumber\"\n        :class=\"[\n          'el-badge__content--' + type,\n          {\n            'is-fixed': $slots.default,\n            'is-dot': isDot\n          }\n        ]\"\n      ></sup>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { isString } from '../../../utils/types'\n\nexport default defineComponent({\n  name: 'ElBadge',\n\n  props: {\n    value: [String, Number],\n    max: Number,\n    isDot: Boolean,\n    hidden: Boolean,\n    type: {\n      type: String,\n      default: 'danger',\n      validator(val) {\n        return ['primary', 'success', 'warning', 'info', 'danger'].includes(val)\n      }\n    }\n  },\n\n  setup(props) {\n    const badgeNumber = useBadgeNumber(props)\n    const isShow = useShow(props)\n    return {\n      badgeNumber,\n      isShow\n    }\n  }\n})\n\nconst useBadgeNumber = (props) => {\n  return computed(() => {\n    if (!props.max || isString(props.value)) {\n      return props.value\n    }\n\n    if (props.value <= props.max) {\n      return props.value\n    }\n\n    return `${props.max}+`\n  })\n}\n\nconst useShow = (props) => {\n  return computed(() => {\n    if (props.hidden) {\n      return false\n    }\n    if (props.value == 0) {\n      return false\n    }\n    return true\n  })\n}\n</script>\n","import ElBadge from './src/Badge.vue'\n\n/* istanbul ignore next */\nElBadge.install = function (app) {\n  app.component(ElBadge.name, ElBadge)\n}\n\nexport { ElBadge }\n","import { isString, isNumber } from '../../../utils/types'\n\nexport const props = {\n  icon: {\n    type: String\n  },\n  size: {\n    type: [Number, String],\n    default: 'large',\n    validator(val) {\n      if (isString(val)) {\n        return ['large', 'medium', 'small'].includes(val)\n      }\n      return isNumber(val)\n    }\n  },\n  shape: {\n    type: String,\n    default: 'circle',\n    validator(val) {\n      return ['circle', 'square'].includes(val)\n    }\n  },\n  src: {\n    type: String\n  },\n  alt: {\n    type: String\n  },\n  srcSet: {\n    type: String\n  },\n  fit: {\n    type: String,\n    default: 'cover'\n  },\n  error: {\n    type: Function\n  }\n}\n","<template>\n  <span :style=\"style\" :class=\"classes\">\n    <img\n      v-if=\"isShow && src\"\n      :src=\"src\"\n      :alt=\"alt\"\n      :srcSet=\"srcSet\"\n      @error=\"handleError\"\n      :style=\"{ 'object-fit': fit }\"\n    />\n    <i v-else-if=\"icon\" :class=\"icon\" />\n    <slot v-else></slot>\n  </span>\n</template>\n\n<script>\nimport { isString, isNumber } from '../../../utils/types'\nimport { defineComponent, computed, toRefs, ref } from 'vue'\nimport { props } from './props'\nexport default defineComponent({\n  name: 'ElAvatar',\n\n  props,\n\n  setup(props) {\n    const { size, shape, icon, error } = toRefs(props)\n\n    const style = useStyle(size)\n\n    const isShow = ref(true)\n\n    const classes = useClass(size, shape, icon)\n\n    const handleError = (e) => {\n      const ret = error?.value(e)\n\n      if (ret !== false) {\n        isShow.value = false\n      }\n    }\n\n    return {\n      style,\n      isShow,\n      classes,\n      handleError\n    }\n  }\n})\n\nconst useStyle = (size) => {\n  if (!isNumber(size.value)) {\n    return {}\n  }\n\n  return computed(() => {\n    return {\n      lineHeight: `${size.value}px`,\n      height: `${size.value}px`,\n      width: `${size.value}px`\n    }\n  })\n}\n\nconst useClass = (size, shape, icon) => {\n  return computed(() => {\n    const classList = ['el-avatar']\n\n    if (isString(size.value)) {\n      classList.push(`el-avatar--${size.value}`)\n    }\n\n    if (shape) {\n      classList.push(`el-avatar--${shape.value}`)\n    }\n\n    if (icon) {\n      classList.push('el-avatar--icon')\n    }\n\n    return classList\n  })\n}\n</script>\n","<template>\n  <span :style=\"style\" :class=\"classes\">\n    <img\n      v-if=\"isShow && src\"\n      :src=\"src\"\n      :alt=\"alt\"\n      :srcSet=\"srcSet\"\n      @error=\"handleError\"\n      :style=\"{ 'object-fit': fit }\"\n    />\n    <i v-else-if=\"icon\" :class=\"icon\" />\n    <slot v-else></slot>\n  </span>\n</template>\n\n<script>\nimport { isString, isNumber } from '../../../utils/types'\nimport { defineComponent, computed, toRefs, ref } from 'vue'\nimport { props } from './props'\nexport default defineComponent({\n  name: 'ElAvatar',\n\n  props,\n\n  setup(props) {\n    const { size, shape, icon, error } = toRefs(props)\n\n    const style = useStyle(size)\n\n    const isShow = ref(true)\n\n    const classes = useClass(size, shape, icon)\n\n    const handleError = (e) => {\n      const ret = error?.value(e)\n\n      if (ret !== false) {\n        isShow.value = false\n      }\n    }\n\n    return {\n      style,\n      isShow,\n      classes,\n      handleError\n    }\n  }\n})\n\nconst useStyle = (size) => {\n  if (!isNumber(size.value)) {\n    return {}\n  }\n\n  return computed(() => {\n    return {\n      lineHeight: `${size.value}px`,\n      height: `${size.value}px`,\n      width: `${size.value}px`\n    }\n  })\n}\n\nconst useClass = (size, shape, icon) => {\n  return computed(() => {\n    const classList = ['el-avatar']\n\n    if (isString(size.value)) {\n      classList.push(`el-avatar--${size.value}`)\n    }\n\n    if (shape) {\n      classList.push(`el-avatar--${shape.value}`)\n    }\n\n    if (icon) {\n      classList.push('el-avatar--icon')\n    }\n\n    return classList\n  })\n}\n</script>\n","import ElAvatar from './src/Avatar.vue'\n\n/* istanbul ignore next */\nElAvatar.install = function (app) {\n  app.component(ElAvatar.name, ElAvatar)\n}\n\nexport { ElAvatar }\n","<template>\n  <transition name=\"el-alert-fade\">\n    <div\n      class=\"el-alert\"\n      :class=\"[typeClass, center ? 'is-center' : '', 'is-' + effect]\"\n      v-show=\"visible\"\n      role=\"alert\"\n    >\n      <i\n        class=\"el-alert__icon\"\n        :class=\"[iconClass, isBigIcon]\"\n        v-if=\"showIcon\"\n      ></i>\n      <div class=\"el-alert__content\">\n        <span\n          class=\"el-alert__title\"\n          :class=\"[isBoldTitle]\"\n          v-if=\"title || $slots.title\"\n        >\n          <slot name=\"title\">{{ title }}</slot>\n        </span>\n        <p class=\"el-alert__description\" v-if=\"$slots.default && !description\">\n          <slot></slot>\n        </p>\n        <p class=\"el-alert__description\" v-if=\"description && !$slots.default\">\n          {{ description }}\n        </p>\n        <i\n          class=\"el-alert__closebtn\"\n          :class=\"{\n            'is-customed': closeText !== '',\n            'el-icon-close': closeText === ''\n          }\"\n          v-show=\"closable\"\n          @click=\"close\"\n          >{{ closeText }}</i\n        >\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref, toRefs, computed } from 'vue'\nconst TYPE_CLASSES_MAP = {\n  success: 'el-icon-success',\n  warning: 'el-icon-warning',\n  error: 'el-icon-error'\n}\nexport default {\n  name: 'ElAlert',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    description: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: String,\n      default: 'info'\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    },\n    closeText: {\n      type: String,\n      default: ''\n    },\n    showIcon: Boolean,\n    center: Boolean,\n    effect: {\n      type: String,\n      default: 'light',\n      validator: function (value) {\n        return ['light', 'dark'].indexOf(value) !== -1\n      }\n    }\n  },\n  emits: ['close'],\n  setup(props, { emit, slots }) {\n    const { description, type } = toRefs(props)\n\n    const visible = ref(true)\n    const close = () => {\n      visible.value = false\n      emit('close')\n    }\n\n    const typeClass = computed(() => {\n      return `el-alert--${type.value}`\n    })\n\n    const iconClass = computed(() => {\n      return TYPE_CLASSES_MAP[type.value] || 'el-icon-info'\n    })\n\n    const isBigIcon = computed(() => {\n      return description.value || slots.default ? 'is-big' : ''\n    })\n\n    const isBoldTitle = computed(() => {\n      return description.value || slots.default ? 'is-bold' : ''\n    })\n\n    return {\n      visible,\n      typeClass,\n      iconClass,\n      isBigIcon,\n      isBoldTitle,\n      close\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-alert-fade\">\n    <div\n      class=\"el-alert\"\n      :class=\"[typeClass, center ? 'is-center' : '', 'is-' + effect]\"\n      v-show=\"visible\"\n      role=\"alert\"\n    >\n      <i\n        class=\"el-alert__icon\"\n        :class=\"[iconClass, isBigIcon]\"\n        v-if=\"showIcon\"\n      ></i>\n      <div class=\"el-alert__content\">\n        <span\n          class=\"el-alert__title\"\n          :class=\"[isBoldTitle]\"\n          v-if=\"title || $slots.title\"\n        >\n          <slot name=\"title\">{{ title }}</slot>\n        </span>\n        <p class=\"el-alert__description\" v-if=\"$slots.default && !description\">\n          <slot></slot>\n        </p>\n        <p class=\"el-alert__description\" v-if=\"description && !$slots.default\">\n          {{ description }}\n        </p>\n        <i\n          class=\"el-alert__closebtn\"\n          :class=\"{\n            'is-customed': closeText !== '',\n            'el-icon-close': closeText === ''\n          }\"\n          v-show=\"closable\"\n          @click=\"close\"\n          >{{ closeText }}</i\n        >\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref, toRefs, computed } from 'vue'\nconst TYPE_CLASSES_MAP = {\n  success: 'el-icon-success',\n  warning: 'el-icon-warning',\n  error: 'el-icon-error'\n}\nexport default {\n  name: 'ElAlert',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    description: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: String,\n      default: 'info'\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    },\n    closeText: {\n      type: String,\n      default: ''\n    },\n    showIcon: Boolean,\n    center: Boolean,\n    effect: {\n      type: String,\n      default: 'light',\n      validator: function (value) {\n        return ['light', 'dark'].indexOf(value) !== -1\n      }\n    }\n  },\n  emits: ['close'],\n  setup(props, { emit, slots }) {\n    const { description, type } = toRefs(props)\n\n    const visible = ref(true)\n    const close = () => {\n      visible.value = false\n      emit('close')\n    }\n\n    const typeClass = computed(() => {\n      return `el-alert--${type.value}`\n    })\n\n    const iconClass = computed(() => {\n      return TYPE_CLASSES_MAP[type.value] || 'el-icon-info'\n    })\n\n    const isBigIcon = computed(() => {\n      return description.value || slots.default ? 'is-big' : ''\n    })\n\n    const isBoldTitle = computed(() => {\n      return description.value || slots.default ? 'is-bold' : ''\n    })\n\n    return {\n      visible,\n      typeClass,\n      iconClass,\n      isBigIcon,\n      isBoldTitle,\n      close\n    }\n  }\n}\n</script>\n","import ElAlert from './Alert.vue'\n\n/* istanbul ignore next */\nElAlert.install = function (app) {\n  app.component(ElAlert.name, ElAlert)\n}\n\nexport default ElAlert\n","<template>\n  <transition name=\"el-loading-fade\" @after-leave=\"handleAfterLeave\">\n    <div\n      v-show=\"visible\"\n      class=\"el-loading-mask\"\n      :style=\"{ backgroundColor: background || '' }\"\n      :class=\"[customClass, { 'is-fullscreen': fullscreen }]\"\n    >\n      <div class=\"el-loading-spinner\">\n        <svg v-if=\"!spinner\" class=\"circular\" viewBox=\"25 25 50 50\">\n          <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" />\n        </svg>\n        <i v-else :class=\"spinner\"></i>\n        <p v-if=\"text\" class=\"el-loading-text\">{{ text }}</p>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { toRefs, reactive } from 'vue'\nexport default {\n  inheritAttrs: false,\n\n  props: {\n    text: {\n      type: String,\n      default: null\n    },\n    spinner: {\n      type: String,\n      default: null\n    },\n    background: {\n      type: String,\n      default: null\n    },\n    fullscreen: {\n      type: Boolean,\n      default: true\n    },\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    customClass: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props, { emit }) {\n    const $data = reactive({ ...props })\n    const handleAfterLeave = () => {\n      // TODO 这里的 emit 修改会造成对 api 的更改\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('afterLeave')\n    }\n    const show = () => {\n      $data.visible = true\n    }\n    const close = () => {\n      $data.visible = false\n    }\n    const setText = (text) => {\n      $data.text = text\n    }\n    return {\n      ...toRefs($data),\n      handleAfterLeave,\n      show,\n      close,\n      setText\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-loading-fade\" @after-leave=\"handleAfterLeave\">\n    <div\n      v-show=\"visible\"\n      class=\"el-loading-mask\"\n      :style=\"{ backgroundColor: background || '' }\"\n      :class=\"[customClass, { 'is-fullscreen': fullscreen }]\"\n    >\n      <div class=\"el-loading-spinner\">\n        <svg v-if=\"!spinner\" class=\"circular\" viewBox=\"25 25 50 50\">\n          <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" />\n        </svg>\n        <i v-else :class=\"spinner\"></i>\n        <p v-if=\"text\" class=\"el-loading-text\">{{ text }}</p>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { toRefs, reactive } from 'vue'\nexport default {\n  inheritAttrs: false,\n\n  props: {\n    text: {\n      type: String,\n      default: null\n    },\n    spinner: {\n      type: String,\n      default: null\n    },\n    background: {\n      type: String,\n      default: null\n    },\n    fullscreen: {\n      type: Boolean,\n      default: true\n    },\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    customClass: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props, { emit }) {\n    const $data = reactive({ ...props })\n    const handleAfterLeave = () => {\n      // TODO 这里的 emit 修改会造成对 api 的更改\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('afterLeave')\n    }\n    const show = () => {\n      $data.visible = true\n    }\n    const close = () => {\n      $data.visible = false\n    }\n    const setText = (text) => {\n      $data.text = text\n    }\n    return {\n      ...toRefs($data),\n      handleAfterLeave,\n      show,\n      close,\n      setText\n    }\n  }\n}\n</script>\n","import { h, render } from 'vue'\n\nconst MOUNT_COMPONENT_REF = 'el_component'\nconst COMPONENT_CONTAINER_SYMBOL = Symbol('el_component_container')\n\n/**\n * 创建组件实例对象\n * 返回的实例和调用 getCurrentComponent() 返回的一致\n * @param {*} Component\n */\nexport function createComponent(Component, props, children) {\n  const vnode = h(Component, { ...props, ref: MOUNT_COMPONENT_REF }, children)\n  const container = document.createElement('div')\n  vnode[COMPONENT_CONTAINER_SYMBOL] = container\n  render(vnode, container)\n  return vnode.component\n}\n\n/**\n * 销毁组件实例对象\n * @param {*} ComponnetInstance 通过createComponent方法得到的组件实例对象\n */\nexport function unmountComponent(ComponnetInstance) {\n  render(undefined, ComponnetInstance.vnode[COMPONENT_CONTAINER_SYMBOL])\n}\n","import { PopupManager } from '../../src/utils/popup'\nimport { addClass, removeClass, getStyle } from '../../src/utils/dom'\n\nexport const addStyle = (options, parent, proxy) => {\n  const maskStyle = {}\n  if (options.fullscreen) {\n    addClass(proxy.$el, 'is-fullscreen')\n    proxy.originalPosition = getStyle(document.body, 'position')\n    proxy.originalOverflow = getStyle(document.body, 'overflow')\n    maskStyle.zIndex = PopupManager.nextZIndex()\n  } else if (options.body) {\n    removeClass(proxy.$el, 'is-fullscreen')\n    proxy.originalPosition = getStyle(document.body, 'position')\n    ;['top', 'left'].forEach((property) => {\n      const scroll = property === 'top' ? 'scrollTop' : 'scrollLeft'\n      maskStyle[property] =\n        options.target.getBoundingClientRect()[property] + //         document.body[scroll] +\n        document.documentElement[scroll] +\n        'px'\n    })\n    ;['height', 'width'].forEach((property) => {\n      maskStyle[property] =\n        options.target.getBoundingClientRect()[property] + 'px'\n    })\n  } else {\n    proxy.originalPosition = getStyle(parent, 'position')\n  }\n  Object.keys(maskStyle).forEach((property) => {\n    proxy.$el.style[property] = maskStyle[property]\n  })\n\n  if (\n    proxy.originalPosition !== 'absolute' &&\n    proxy.originalPosition !== 'fixed'\n  ) {\n    addClass(parent, 'el-loading-parent--relative')\n  }\n\n  if (options.fullscreen && options.lock) {\n    addClass(parent, 'el-loading-parent--hidden')\n  }\n}\n","import { nextTick } from 'vue'\nimport Loading from './Loading.vue'\nimport { removeClass } from '../../src/utils/dom'\n\nimport { createComponent } from '../../src/use/component'\nimport merge from '../../src/utils/merge'\nimport { addStyle } from './lib'\n\nconst defaults = {\n  target: null,\n  body: false,\n  fullscreen: true,\n  lock: false,\n  text: null,\n  spinner: null,\n  background: null,\n  customClass: ''\n}\n\nconst toggleLoading = (el, binding) => {\n  if (binding.value) {\n    nextTick(() => {\n      let parentEl = document.body\n      if (!binding.modifiers.fullscreen) {\n        parentEl = el\n      }\n      addStyle(el.options, parentEl, el.instance)\n      el.instance.show()\n      parentEl.appendChild(el.mask)\n    })\n  } else {\n    el.instance.close()\n  }\n}\n\nconst loadingDirective = {\n  mounted: function (el, binding, vnode) {\n    const textExr = el.getAttribute('element-loading-text')\n    const spinnerExr = el.getAttribute('element-loading-spinner')\n    const backgroundExr = el.getAttribute('element-loading-background')\n    const customClassExr = el.getAttribute('element-loading-custom-class')\n    const vm = vnode.context\n\n    const options = merge({}, defaults, {\n      text: (vm && vm[textExr]) || textExr,\n      spinner: (vm && vm[spinnerExr]) || spinnerExr,\n      background: (vm && vm[backgroundExr]) || backgroundExr,\n      customClass: (vm && vm[customClassExr]) || customClassExr,\n      fullscreen: !!binding.modifiers.fullscreen\n    })\n\n    const mask = createComponent(Loading, {\n      ...options,\n      onAfterLeave() {\n        el.domVisible = false\n        const target =\n          binding.modifiers.fullscreen || binding.modifiers.body\n            ? document.body\n            : el\n        removeClass(target, 'el-loading-parent--relative')\n        removeClass(target, 'el-loading-parent--hidden')\n      }\n    })\n    el.options = options\n    el.instance = mask.proxy\n    el.mask = mask.proxy.$el\n    el.maskStyle = {}\n\n    binding.value && toggleLoading(el, binding)\n  },\n\n  updated: function (el, binding) {\n    el.instance.setText(el.getAttribute('element-loading-text'))\n    if (binding.oldValue !== binding.value) {\n      toggleLoading(el, binding)\n    }\n  },\n\n  unmounted: function () {\n    // if (el.domInserted) {\n    //   el.mask && el.mask.parentNode && el.mask.parentNode.removeChild(el.mask)\n    //   toggleLoading(el, { value: false, modifiers: binding.modifiers })\n    // }\n    // el.instance && el.instance.close()\n  }\n}\n\nexport default {\n  install(app) {\n    // if (Vue.prototype.$isServer) return\n    app.directive('loading', loadingDirective)\n  }\n}\n\nexport const directive = loadingDirective\n","import loadingVue from './Loading.vue'\nimport { createComponent, unmountComponent } from '../../src/use/component'\nimport { removeClass } from '../../src/utils/dom'\nimport merge from '../../src/utils/merge'\nimport { addStyle } from './lib'\n\nconst defaults = {\n  target: null,\n  body: false,\n  fullscreen: true,\n  lock: false,\n  text: null,\n  spinner: null,\n  background: null,\n  customClass: ''\n}\nlet fullscreenLoading\nconst Loading = (options = {}) => {\n  // if (Vue.prototype.$isServer) return\n  options = merge({}, defaults, options)\n\n  if (typeof options.target === 'string') {\n    options.target = document.querySelector(options.target)\n  }\n  options.target = options.target || document.body\n  if (options.target !== document.body) {\n    options.fullscreen = false\n  } else {\n    options.body = true\n  }\n\n  if (options.fullscreen && fullscreenLoading) {\n    return fullscreenLoading\n  }\n\n  const parent = options.body ? document.body : options.target\n  const instance = createComponent(loadingVue, {\n    ...options,\n    visible: true,\n    onAfterLeave() {\n      if (options.fullscreen) {\n        fullscreenLoading = undefined\n      }\n      const target =\n        options.fullscreen || options.body ? document.body : options.target\n      removeClass(target, 'el-loading-parent--relative')\n      removeClass(target, 'el-loading-parent--hidden')\n      unmountComponent(instance)\n    }\n  })\n  addStyle(options, parent, instance.proxy)\n\n  parent.appendChild(instance.proxy.$el)\n\n  if (options.fullscreen) {\n    fullscreenLoading = instance\n  }\n\n  instance.close = close\n\n  return instance\n}\n\nconst close = function () {\n  this.proxy.close()\n}\n\nexport default Loading\n","import directive from './directive'\nimport service from './service'\n\nexport function useLoading() {\n  return service\n}\n\nexport default {\n  install(app) {\n    app.use(directive)\n  },\n  service,\n  directive\n}\n","<template>\n  <transition name=\"el-message-fade\" @after-leave=\"handleAfterLeave\" appear>\n    <div\n      v-show=\"isShow\"\n      class=\"el-message\"\n      :class=\"[\n        isShowType ? `el-message--${type}` : '',\n        showClose ? 'is-closable' : '',\n        center ? 'is-center' : '',\n        customClass\n      ]\"\n      :style=\"[positionStyle]\"\n      @mouseenter=\"handleMouseenter\"\n      @mouseleave=\"handleMouseleave\"\n    >\n      <i v-if=\"iconClass\" :class=\"iconClass\"></i>\n      <i v-else :class=\"['el-message__icon', `el-icon-${type}`]\"></i>\n      <slot>\n        <p\n          class=\"el-message__content\"\n          v-if=\"dangerouslyUseHTMLString\"\n          v-html=\"message\"\n        ></p>\n        <p class=\"el-message__content\" v-else>\n          {{ message }}\n        </p>\n      </slot>\n      <i\n        v-if=\"showClose\"\n        class=\"el-message__closeBtn el-icon-close\"\n        @click=\"handleClose\"\n      ></i>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { getCurrentInstance, computed, ref } from 'vue'\nexport default {\n  props: {\n    message: {\n      type: [String, Object]\n    },\n    type: {\n      type: String,\n      defalut: 'info',\n      validator(val) {\n        return ['success', 'warning', 'info', 'error'].includes(val)\n      }\n    },\n    iconClass: String,\n    showClose: Boolean,\n    duration: Number,\n    center: Boolean,\n    customClass: String,\n    dangerouslyUseHTMLString: Boolean,\n    verticalOffset: Number\n  },\n  emits: ['close'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n\n    const isShow = ref(true)\n    // @public\n    const verticalOffsetVal = ref(props.verticalOffset)\n\n    const isShowType = computed(() => props.type && !props.iconClass)\n    const positionStyle = computed(() => ({\n      top: `${verticalOffsetVal.value}px`\n    }))\n\n    let timer\n    function delayClose() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          _close()\n        }, props.duration)\n      }\n    }\n\n    function _close() {\n      clearTimeout(timer)\n      emit('close', instance)\n      isShow.value = false\n    }\n\n    function handleAfterLeave() {\n      instance.vnode.el.parentElement?.removeChild(instance.vnode.el)\n    }\n\n    function handleClose() {\n      _close()\n    }\n\n    function handleMouseenter() {\n      clearTimeout(timer)\n    }\n\n    function handleMouseleave() {\n      delayClose()\n    }\n\n    // @public\n    function close() {\n      _close()\n    }\n\n    delayClose()\n\n    return {\n      close,\n      isShow,\n      isShowType,\n      positionStyle,\n      verticalOffsetVal,\n      handleClose,\n      handleAfterLeave,\n      handleMouseenter,\n      handleMouseleave\n    }\n  }\n}\n</script>\n\n<style></style>\n","<template>\n  <transition name=\"el-message-fade\" @after-leave=\"handleAfterLeave\" appear>\n    <div\n      v-show=\"isShow\"\n      class=\"el-message\"\n      :class=\"[\n        isShowType ? `el-message--${type}` : '',\n        showClose ? 'is-closable' : '',\n        center ? 'is-center' : '',\n        customClass\n      ]\"\n      :style=\"[positionStyle]\"\n      @mouseenter=\"handleMouseenter\"\n      @mouseleave=\"handleMouseleave\"\n    >\n      <i v-if=\"iconClass\" :class=\"iconClass\"></i>\n      <i v-else :class=\"['el-message__icon', `el-icon-${type}`]\"></i>\n      <slot>\n        <p\n          class=\"el-message__content\"\n          v-if=\"dangerouslyUseHTMLString\"\n          v-html=\"message\"\n        ></p>\n        <p class=\"el-message__content\" v-else>\n          {{ message }}\n        </p>\n      </slot>\n      <i\n        v-if=\"showClose\"\n        class=\"el-message__closeBtn el-icon-close\"\n        @click=\"handleClose\"\n      ></i>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { getCurrentInstance, computed, ref } from 'vue'\nexport default {\n  props: {\n    message: {\n      type: [String, Object]\n    },\n    type: {\n      type: String,\n      defalut: 'info',\n      validator(val) {\n        return ['success', 'warning', 'info', 'error'].includes(val)\n      }\n    },\n    iconClass: String,\n    showClose: Boolean,\n    duration: Number,\n    center: Boolean,\n    customClass: String,\n    dangerouslyUseHTMLString: Boolean,\n    verticalOffset: Number\n  },\n  emits: ['close'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n\n    const isShow = ref(true)\n    // @public\n    const verticalOffsetVal = ref(props.verticalOffset)\n\n    const isShowType = computed(() => props.type && !props.iconClass)\n    const positionStyle = computed(() => ({\n      top: `${verticalOffsetVal.value}px`\n    }))\n\n    let timer\n    function delayClose() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          _close()\n        }, props.duration)\n      }\n    }\n\n    function _close() {\n      clearTimeout(timer)\n      emit('close', instance)\n      isShow.value = false\n    }\n\n    function handleAfterLeave() {\n      instance.vnode.el.parentElement?.removeChild(instance.vnode.el)\n    }\n\n    function handleClose() {\n      _close()\n    }\n\n    function handleMouseenter() {\n      clearTimeout(timer)\n    }\n\n    function handleMouseleave() {\n      delayClose()\n    }\n\n    // @public\n    function close() {\n      _close()\n    }\n\n    delayClose()\n\n    return {\n      close,\n      isShow,\n      isShowType,\n      positionStyle,\n      verticalOffsetVal,\n      handleClose,\n      handleAfterLeave,\n      handleMouseenter,\n      handleMouseleave\n    }\n  }\n}\n</script>\n\n<style></style>\n","import messageComponent from './Message.vue'\nimport { createComponent } from '../../../use/component'\nimport { PopupManager } from '../../../utils/popup'\nimport { isVNode } from 'vue'\n\nconst instanceList = []\n\nexport function Message(opts) {\n  return createMessage(mergeOptions(opts))\n}\n\nMessage.closeAll = () => {\n  instanceList.forEach((instance) => {\n    instance.proxy.close()\n    removeInstance(instance)\n  })\n}\n;['info', 'success', 'warning', 'error'].forEach((type) => {\n  Message[type] = (opts) => {\n    return createMessage(mergeOptions(opts, type))\n  }\n})\n\nfunction createMessage(opts) {\n  const instance = createMessageComponentByOpts(opts)\n  setZIndex(instance)\n  appendToBody(instance)\n  addInstance(instance)\n  return instance.proxy\n}\n\nfunction createMessageComponentByOpts(opts) {\n  if (isVNode(opts.message)) {\n    return createComponent(messageComponent, opts, () => opts.message)\n  }\n  return createComponent(messageComponent, opts)\n}\n\nfunction setZIndex(instance) {\n  instance.vnode.el.style.zIndex = PopupManager.nextZIndex()\n}\n\nfunction mergeOptions(opts, type = 'info') {\n  const defaultOptions = {\n    duration: 4500,\n    type,\n    verticalOffset: calculateVerticalOffset()\n  }\n\n  const userOnClose = opts?.onClose\n  // opts.onClose Cannot be merged into the default options\n  delete opts?.onClose\n  defaultOptions.onClose = (instance) => {\n    closeMessage(instance)\n    if (userOnClose) userOnClose(instance.proxy)\n  }\n\n  if (typeof opts === 'string' || isVNode(opts)) {\n    defaultOptions.message = opts\n    return defaultOptions\n  }\n\n  return Object.assign({}, defaultOptions, opts)\n}\n\nfunction calculateVerticalOffset(offset = 20) {\n  let result = offset\n\n  instanceList.forEach((instance) => {\n    result += getNextElementInterval(instance)\n  })\n\n  return result\n}\n\nfunction closeMessage(instance) {\n  updatePosition(instance)\n  removeInstance(instance)\n}\n\nfunction updatePosition(closeInstance) {\n  const currentInstanceIndex = getIndexByInstance(closeInstance)\n\n  if (currentInstanceIndex < 0) return\n\n  for (let index = currentInstanceIndex; index < instanceList.length; index++) {\n    const instance = instanceList[index]\n    instance.proxy.verticalOffsetVal -= getNextElementInterval(instance)\n  }\n}\n\nfunction getNextElementInterval(instance) {\n  const INTERVAL_HEIGHT = 16\n  return instance.vnode.el.offsetHeight + INTERVAL_HEIGHT\n}\n\nfunction addInstance(instance) {\n  instanceList.push(instance)\n}\n\nfunction removeInstance(instance) {\n  instanceList.splice(getIndexByInstance(instance), 1)\n}\n\nfunction getIndexByInstance(instance) {\n  return instanceList.findIndex((i) => i.uid == instance.uid)\n}\n\nfunction appendToBody(componentInstance) {\n  document.body.append(componentInstance.vnode.el)\n}\n","import {\n  nextTick,\n  ref,\n  onBeforeMount,\n  getCurrentInstance,\n  onBeforeUnmount,\n  watch,\n  toRefs\n} from 'vue'\nimport PopupManager from '../../src/utils/popup/popup-manager'\nimport getScrollBarWidth from '../../src/utils/scrollbar-width'\nimport merge from '../../src/utils/merge'\nimport { getStyle, addClass, removeClass, hasClass } from '../../src/utils/dom'\n\nlet idSeed = 1\nlet scrollBarWidth\nconst popupProps = {\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  openDelay: {},\n  closeDelay: {},\n  zIndex: {},\n  modal: {\n    type: Boolean,\n    default: false\n  },\n  modalFade: {\n    type: Boolean,\n    default: true\n  },\n  modalClass: {},\n  modalAppendToBody: {\n    type: Boolean,\n    default: false\n  },\n  lockScroll: {\n    type: Boolean,\n    default: true\n  },\n  closeOnPressEscape: {\n    type: Boolean,\n    default: false\n  },\n  closeOnClickModal: {\n    type: Boolean,\n    default: false\n  }\n}\n\nfunction usePopup(props) {\n  const { visible, modal, modalAppendToBody, lockScroll, closeDelay } = toRefs(\n    props\n  )\n  const opened = ref(false)\n  const bodyPaddingRight = ref(null)\n  const computedBodyPaddingRight = ref(0)\n  const withoutHiddenClass = ref(true)\n  const rendered = ref(false)\n  const instance = getCurrentInstance()\n  let _popupId = 0\n  let _closeTimer = 0\n  let _openTimer = 0\n  let _opening = false\n  let _closing = false\n  const open = (options) => {\n    if (!rendered.value) {\n      rendered.value = true\n    }\n\n    const props = merge({}, instance.proxy, options)\n\n    if (_closeTimer) {\n      clearTimeout(_closeTimer)\n      _closeTimer = 0\n    }\n    clearTimeout(_openTimer)\n    const delay = Number(props.openDelay) || 0\n    if (delay > 0) {\n      _openTimer = setTimeout(() => {\n        _openTimer = 0\n        doOpen(props)\n      }, delay)\n    } else {\n      doOpen(props)\n    }\n  }\n  const doOpen = (props) => {\n    if (instance.proxy.$isServer) return\n    if (_opening) return\n    if (opened.value) return\n    _opening = true\n    const dom = instance.proxy.$el\n    const modal = props.modal\n    const zIndex = props.zIndex\n\n    if (zIndex) {\n      PopupManager.zIndex = zIndex.value\n    }\n    if (modal) {\n      if (_closing) {\n        PopupManager.closeModal(_popupId)\n        _closing = false\n      }\n      PopupManager.openModal(\n        _popupId,\n        PopupManager.nextZIndex(),\n        modalAppendToBody.value ? undefined : dom,\n        props.modalClass,\n        props.modalFade\n      )\n      if (props.lockScroll) {\n        withoutHiddenClass.value = !hasClass(\n          document.body,\n          'el-popup-parent--hidden'\n        )\n        if (withoutHiddenClass.value) {\n          bodyPaddingRight.value = document.body.style.paddingRight\n          computedBodyPaddingRight.value = parseInt(\n            getStyle(document.body, 'paddingRight'),\n            10\n          )\n        }\n        scrollBarWidth = getScrollBarWidth()\n        const bodyHasOverflow =\n          document.documentElement.clientHeight < document.body.scrollHeight\n        const bodyOverflowY = getStyle(document.body, 'overflowY')\n        if (\n          scrollBarWidth > 0 &&\n          (bodyHasOverflow || bodyOverflowY === 'scroll') &&\n          withoutHiddenClass.value\n        ) {\n          document.body.style.paddingRight =\n            computedBodyPaddingRight.value + scrollBarWidth + 'px'\n        }\n        addClass(document.body, 'el-popup-parent--hidden')\n      }\n    }\n\n    if (getComputedStyle(dom).position === 'static') {\n      dom.style.position = 'absolute'\n    }\n    dom.style.zIndex = PopupManager.nextZIndex()\n    opened.value = true\n    instance.onOpen && instance.onOpen()\n    doAfterOpen()\n  }\n  const doAfterOpen = () => {\n    _opening = false\n  }\n  const close = () => {\n    if (_closing) return\n    if (_openTimer) {\n      clearTimeout(_openTimer)\n      _openTimer = 0\n    }\n    clearTimeout(_closeTimer)\n    const delay = Number(closeDelay && closeDelay.value)\n    if (delay > 0) {\n      _closeTimer = setTimeout(() => {\n        _closeTimer = 0\n        doClose()\n      }, delay)\n    } else {\n      doClose()\n    }\n  }\n  const doClose = () => {\n    _closing = true\n    instance.onClose && instance.onClose()\n    if (lockScroll.value) {\n      setTimeout(restoreBodyStyle, 200)\n    }\n    opened.value = false\n    doAfterClose()\n  }\n  const doAfterClose = () => {\n    PopupManager.closeModal(_popupId)\n    _closing = false\n  }\n  const restoreBodyStyle = () => {\n    if (modal.value && withoutHiddenClass.value) {\n      document.body.style.paddingRight = bodyPaddingRight.value\n      removeClass(document.body, 'el-popup-parent--hidden')\n    }\n    withoutHiddenClass.value = true\n  }\n  watch(visible, (val) => {\n    if (val) {\n      if (_opening) return\n      if (!rendered.value) {\n        rendered.value = true\n        nextTick(() => {\n          open()\n        })\n      } else {\n        open()\n      }\n    } else {\n      close()\n    }\n  })\n  onBeforeMount(() => {\n    _popupId = 'popup-' + idSeed++\n    PopupManager.register(_popupId, instance)\n  })\n  onBeforeUnmount(() => {\n    PopupManager.deregister(_popupId)\n    PopupManager.closeModal(_popupId)\n    restoreBodyStyle()\n  })\n  return {\n    opened,\n    visible,\n    open,\n    rendered,\n    close\n  }\n}\n\nexport { popupProps, usePopup }\n","/* eslint-disable no-use-before-define */\nimport Utils from './aria-utils'\n\n/**\n * @constructor\n * @desc Dialog object providing modal focus management.\n *\n * Assumptions: The element serving as the dialog container is present in the\n * DOM and hidden. The dialog container has role='dialog'.\n *\n * @param dialogId\n *          The ID of the element serving as the dialog container.\n * @param focusAfterClosed\n *          Either the DOM node or the ID of the DOM node to focus when the\n *          dialog closes.\n * @param focusFirst\n *          Optional parameter containing either the DOM node or the ID of the\n *          DOM node to focus when the dialog opens. If not specified, the\n *          first focusable element in the dialog will receive focus.\n */\nvar aria = aria || {}\nvar tabEvent\n\naria.Dialog = function (dialog, focusAfterClosed, focusFirst) {\n  this.dialogNode = dialog\n  if (\n    this.dialogNode === null ||\n    this.dialogNode.getAttribute('role') !== 'dialog'\n  ) {\n    throw new Error('Dialog() requires a DOM element with ARIA role of dialog.')\n  }\n\n  if (typeof focusAfterClosed === 'string') {\n    this.focusAfterClosed = document.getElementById(focusAfterClosed)\n  } else if (typeof focusAfterClosed === 'object') {\n    this.focusAfterClosed = focusAfterClosed\n  } else {\n    this.focusAfterClosed = null\n  }\n\n  if (typeof focusFirst === 'string') {\n    this.focusFirst = document.getElementById(focusFirst)\n  } else if (typeof focusFirst === 'object') {\n    this.focusFirst = focusFirst\n  } else {\n    this.focusFirst = null\n  }\n\n  if (this.focusFirst) {\n    this.focusFirst.focus()\n  } else {\n    Utils.focusFirstDescendant(this.dialogNode)\n  }\n\n  this.lastFocus = document.activeElement\n  tabEvent = (e) => {\n    this.trapFocus(e)\n  }\n  this.addListeners()\n}\n\naria.Dialog.prototype.addListeners = function () {\n  document.addEventListener('focus', tabEvent, true)\n}\n\naria.Dialog.prototype.removeListeners = function () {\n  document.removeEventListener('focus', tabEvent, true)\n}\n\naria.Dialog.prototype.closeDialog = function () {\n  this.removeListeners()\n  if (this.focusAfterClosed) {\n    setTimeout(() => {\n      this.focusAfterClosed.focus()\n    })\n  }\n}\n\naria.Dialog.prototype.trapFocus = function (event) {\n  if (Utils.IgnoreUtilFocusChanges) {\n    return\n  }\n  if (this.dialogNode.contains(event.target)) {\n    this.lastFocus = event.target\n  } else {\n    Utils.focusFirstDescendant(this.dialogNode)\n    if (this.lastFocus === document.activeElement) {\n      Utils.focusLastDescendant(this.dialogNode)\n    }\n    this.lastFocus = document.activeElement\n  }\n}\n\nexport default aria.Dialog\n","<template>\n  <transition name=\"msgbox-fade\">\n    <div\n      class=\"el-message-box__wrapper\"\n      tabindex=\"-1\"\n      v-show=\"state.visible\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      @click.self=\"handleWrapperClick\"\n      :aria-label=\"title || 'dialog'\"\n    >\n      <div\n        class=\"el-message-box\"\n        :class=\"[customClass, center && 'el-message-box--center']\"\n      >\n        <div class=\"el-message-box__header\" v-if=\"title !== null\">\n          <div class=\"el-message-box__title\">\n            <div\n              :class=\"['el-message-box__status', icon]\"\n              v-if=\"icon && center\"\n            ></div>\n            <span>{{ title }}</span>\n          </div>\n          <button\n            type=\"button\"\n            class=\"el-message-box__headerbtn\"\n            aria-label=\"Close\"\n            v-if=\"showClose\"\n            @click=\"\n              handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n            \"\n            @keydown.enter=\"\n              handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n            \"\n          >\n            <i class=\"el-message-box__close el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-message-box__content\">\n          <div class=\"el-message-box__container\">\n            <div\n              :class=\"['el-message-box__status', icon]\"\n              v-if=\"icon && !center && changedMessage !== ''\"\n            ></div>\n            <div class=\"el-message-box__message\" v-if=\"changedMessage !== ''\">\n              <slot>\n                <p v-if=\"!dangerouslyUseHTMLString && state.isVnode !== true\">\n                  {{ changedMessage }}\n                </p>\n                <p v-else v-html=\"changedMessage\"></p>\n              </slot>\n            </div>\n          </div>\n          <div class=\"el-message-box__input\" v-show=\"showInput\">\n            <el-input\n              @keydown.enter=\"handleInputEnter\"\n              :type=\"inputType\"\n              v-model=\"state.inputValue\"\n              :placeholder=\"inputPlaceholder\"\n              ref=\"input\"\n            ></el-input>\n            <div\n              class=\"el-message-box__errormsg\"\n              :style=\"{\n                visibility: !!state.editorErrorMessage ? 'visible' : 'hidden'\n              }\"\n            >\n              {{ state.editorErrorMessage }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"el-message-box__btns\">\n          <el-button\n            :loading=\"cancelButtonLoading\"\n            :class=\"[cancelButtonClasses]\"\n            v-if=\"showCancelButton\"\n            :round=\"roundButton\"\n            size=\"small\"\n            @click=\"handleAction('cancel')\"\n            @keydown.enter=\"handleAction('cancel')\"\n          >\n            {{ cancelButtonText || t('el.messagebox.cancel') }}\n          </el-button>\n          <el-button\n            :loading=\"confirmButtonLoading\"\n            ref=\"confirm\"\n            :class=\"[confirmButtonClasses]\"\n            v-show=\"showConfirmButton\"\n            :round=\"roundButton\"\n            size=\"small\"\n            @click=\"handleAction('confirm')\"\n            @keydown.enter=\"handleAction('confirm')\"\n          >\n            {{ confirmButtonText || t('el.messagebox.confirm') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/babel\">\nimport {\n  reactive,\n  isVNode,\n  toRefs,\n  getCurrentInstance,\n  nextTick,\n  unref,\n  computed,\n  onMounted,\n  onUnmounted,\n  render,\n  ref,\n  watch\n} from 'vue'\nimport { popupProps, usePopup } from '../../../src/use/popup'\nimport Locale from '../../../src/mixins/locale'\nimport { ElInput } from '../../../src/components/Input'\nimport { ElButton } from '../../../src/components/Button'\nimport { addClass, removeClass } from '../../../src/utils/dom'\nimport { t } from '../../../src/locale'\nimport Dialog from '../../../src/utils/aria-dialog'\n\n// let messageBox\nconst typeMap = {\n  success: 'success',\n  info: 'info',\n  warning: 'warning',\n  error: 'error'\n}\n\nexport default {\n  mixins: [Locale],\n\n  props: {\n    ...popupProps,\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    title: {\n      type: String,\n      default: null\n    },\n    message: {\n      type: [Object, String],\n      default() {\n        return {}\n      }\n    },\n    dangerouslyUseHTMLString: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: 'info',\n      validator(val) {\n        return ['success', 'warning', 'info', 'error'].indexOf(val)\n      }\n    },\n    iconClass: {\n      type: String,\n      default: null\n    },\n    customClass: {\n      type: String,\n      default: null\n    },\n    callback: {\n      type: Function,\n      default: () => {}\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    beforeClose: {\n      type: Function,\n      default: () => {}\n    },\n    distinguishCancelAndClose: {\n      type: Boolean,\n      default: false\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    showCancelButton: {\n      type: Boolean,\n      default: false\n    },\n    showConfirmButton: {\n      type: Boolean,\n      default: true\n    },\n    cancelButtonClass: {\n      type: String,\n      default: null\n    },\n    confirmButtonClass: {\n      type: String,\n      default: null\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    inputPlaceholder: {\n      type: String,\n      default: ''\n    },\n    inputType: {\n      type: String,\n      default: 'text'\n    },\n    inputValue: {\n      type: String,\n      default: ''\n    },\n    inputPattern: {\n      type: RegExp,\n      default: null\n    },\n    inputValidator: {\n      type: Function,\n      default: () => {}\n    },\n    inputErrorMessage: {\n      type: String,\n      default: ''\n    },\n    center: {\n      type: Boolean,\n      default: false\n    },\n    roundButton: {\n      type: Boolean,\n      default: false\n    },\n    _type: {\n      type: String,\n      default: ''\n    },\n    cancelButtonLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  components: {\n    ElInput,\n    ElButton\n  },\n  setup(props, { attrs }) {\n    const confirmButtonText = ref(attrs.confirmButtonText || '确认')\n    const cancelButtonText = ref(attrs.cancelButtonText || '取消')\n\n    let messageBox = ''\n    const instance = getCurrentInstance()\n    const {\n      closeOnClickModal,\n      distinguishCancelAndClose,\n      _type,\n      beforeClose,\n      callback,\n      type,\n      iconClass,\n      message,\n      inputType,\n      cancelButtonClass,\n      confirmButtonClass,\n      closeOnHashChange,\n      lockScroll,\n      inputPattern,\n      inputValidator,\n      inputValue\n    } = toRefs(props)\n    const state = reactive({\n      visible: false,\n      action: null,\n      editorErrorMessage: null,\n      uid: 0,\n      inputValue: unref(inputValue),\n      isVnode: false\n    })\n    const { rendered, open, close, restoreBodyStyle } = usePopup({\n      ...toRefs(props),\n      visible: state.visible\n    })\n    const validate = () => {\n      if (unref(_type) === 'prompt') {\n        const _inputPattern = unref(inputPattern)\n        if (_inputPattern && !_inputPattern.test(state.inputValue || '')) {\n          state.editorErrorMessage =\n            state.inputErrorMessage || t('el.messagebox.error')\n          addClass(getInputElement(), 'invalid')\n          return false\n        }\n        const _inputValidator = unref(inputValidator)\n        if (typeof _inputValidator === 'function') {\n          const validateResult = _inputValidator(state.inputValue)\n          if (validateResult === false) {\n            state.editorErrorMessage =\n              state.inputErrorMessage || t('el.messagebox.error')\n            addClass(getInputElement(), 'invalid')\n            return false\n          }\n          if (typeof validateResult === 'string') {\n            state.editorErrorMessage = validateResult\n            addClass(getInputElement(), 'invalid')\n            return false\n          }\n        }\n      }\n      state.editorErrorMessage = ''\n      removeClass(getInputElement(), 'invalid')\n      return true\n    }\n    const doClose = () => {\n      if (!state.visible) return\n      state.visible = false\n      rendered.value = false\n      close()\n      messageBox.closeDialog() // 解绑\n      if (lockScroll) {\n        setTimeout(restoreBodyStyle, 200)\n      }\n      nextTick(() => {\n        if (state.action) {\n          unref(callback)(state.action, instance.vnode)\n        }\n      })\n    }\n    const getSafeClose = () => {\n      const currentId = state.uid\n      return () => {\n        nextTick(() => {\n          if (currentId === state.uid) doClose()\n        })\n      }\n    }\n    const confirmButtonLoading = ref(false)\n    const handleAction = (action) => {\n      if (unref(_type) === 'prompt' && action === 'confirm' && !validate()) {\n        return\n      }\n      state.action = action\n      if (typeof unref(beforeClose) === 'function') {\n        const close = getSafeClose()\n        unref(beforeClose)(action, instance.vnode, close)\n      } else {\n        doClose()\n      }\n    }\n    const handleWrapperClick = () => {\n      if (unref(closeOnClickModal)) {\n        handleAction(unref(distinguishCancelAndClose) ? 'close' : 'cancel')\n      }\n    }\n    const handleKeyup = (element = {}) => {\n      if (element.code !== 'Escape') return\n      if (unref(props.closeOnPressEscape)) {\n        handleAction(unref(distinguishCancelAndClose) ? 'close' : 'cancel')\n      }\n    }\n    const handleInputEnter = () => {\n      if (unref(inputType) !== 'textarea') {\n        return handleAction('confirm')\n      }\n    }\n    const icon = computed(() => {\n      return (\n        unref(iconClass) ||\n        (unref(type) && typeMap[unref(type)]\n          ? `el-icon-${typeMap[unref(type)]}`\n          : '')\n      )\n    })\n    const cancelButtonClasses = computed(() => {\n      return `el-button--primary ${unref(cancelButtonClass)}`\n    })\n    const confirmButtonClasses = computed(() => {\n      return `el-button--primary ${unref(confirmButtonClass)}`\n    })\n    const getFirstFocus = () => {\n      const btn = instance.vnode.el.querySelector(\n        '.el-message-box__btns .el-button'\n      )\n      const title = instance.vnode.el.querySelector(\n        '.el-message-box__btns .el-message-box__title'\n      )\n      return btn || title\n    }\n    const getInputElement = () => {\n      const inputRefs = instance.refs.input.$refs\n      return inputRefs.input || inputRefs.textarea\n    }\n    onMounted(() => {\n      state.visible = true\n      nextTick(() => {\n        state.uid++\n        rendered.value = true\n        open()\n      })\n      if (unref(_type) === 'alert' || unref(_type) === 'confirm') {\n        nextTick(() => {\n          instance.refs.confirm.$el.focus()\n        })\n      }\n      const focusAfterClosed = document.activeElement\n      messageBox = new Dialog(\n        instance.vnode.el,\n        focusAfterClosed,\n        getFirstFocus()\n      )\n      if (unref(closeOnHashChange)) {\n        window.addEventListener('hashchange', doClose)\n      }\n      window.addEventListener('keyup', handleKeyup)\n      if (unref(_type) !== 'prompt') return\n      setTimeout(() => {\n        if (instance.refs.input && instance.refs.input.$el) {\n          getInputElement().focus()\n        }\n      }, 500)\n    })\n    onUnmounted(() => {\n      if (unref(closeOnHashChange)) {\n        window.removeEventListener('hashchange', doClose)\n      }\n      window.removeEventListener('keyup', handleKeyup)\n      setTimeout(() => {\n        messageBox.closeDialog()\n      })\n    })\n\n    const MessageToVNode = (message) => {\n      let v = ''\n      if (isVNode(unref(message))) {\n        v = unref(message)\n        render(v, document.createElement('div'))\n        state.isVnode = true\n        return v.el.innerHTML\n      } else {\n        state.isVnode = false\n        return message\n      }\n    }\n    watch(\n      () => state.inputValue,\n      (val) => {\n        nextTick(() => {\n          if (unref(_type) === 'prompt' && val !== null) {\n            validate()\n          }\n        })\n      }\n    )\n    return {\n      ...toRefs(props),\n      changedMessage: MessageToVNode(message),\n      handleInputEnter,\n      handleAction,\n      state,\n      handleWrapperClick,\n      icon,\n      cancelButtonClasses,\n      cancelButtonText,\n      t,\n      confirmButtonLoading,\n      confirmButtonClasses,\n      confirmButtonText\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"msgbox-fade\">\n    <div\n      class=\"el-message-box__wrapper\"\n      tabindex=\"-1\"\n      v-show=\"state.visible\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      @click.self=\"handleWrapperClick\"\n      :aria-label=\"title || 'dialog'\"\n    >\n      <div\n        class=\"el-message-box\"\n        :class=\"[customClass, center && 'el-message-box--center']\"\n      >\n        <div class=\"el-message-box__header\" v-if=\"title !== null\">\n          <div class=\"el-message-box__title\">\n            <div\n              :class=\"['el-message-box__status', icon]\"\n              v-if=\"icon && center\"\n            ></div>\n            <span>{{ title }}</span>\n          </div>\n          <button\n            type=\"button\"\n            class=\"el-message-box__headerbtn\"\n            aria-label=\"Close\"\n            v-if=\"showClose\"\n            @click=\"\n              handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n            \"\n            @keydown.enter=\"\n              handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n            \"\n          >\n            <i class=\"el-message-box__close el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-message-box__content\">\n          <div class=\"el-message-box__container\">\n            <div\n              :class=\"['el-message-box__status', icon]\"\n              v-if=\"icon && !center && changedMessage !== ''\"\n            ></div>\n            <div class=\"el-message-box__message\" v-if=\"changedMessage !== ''\">\n              <slot>\n                <p v-if=\"!dangerouslyUseHTMLString && state.isVnode !== true\">\n                  {{ changedMessage }}\n                </p>\n                <p v-else v-html=\"changedMessage\"></p>\n              </slot>\n            </div>\n          </div>\n          <div class=\"el-message-box__input\" v-show=\"showInput\">\n            <el-input\n              @keydown.enter=\"handleInputEnter\"\n              :type=\"inputType\"\n              v-model=\"state.inputValue\"\n              :placeholder=\"inputPlaceholder\"\n              ref=\"input\"\n            ></el-input>\n            <div\n              class=\"el-message-box__errormsg\"\n              :style=\"{\n                visibility: !!state.editorErrorMessage ? 'visible' : 'hidden'\n              }\"\n            >\n              {{ state.editorErrorMessage }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"el-message-box__btns\">\n          <el-button\n            :loading=\"cancelButtonLoading\"\n            :class=\"[cancelButtonClasses]\"\n            v-if=\"showCancelButton\"\n            :round=\"roundButton\"\n            size=\"small\"\n            @click=\"handleAction('cancel')\"\n            @keydown.enter=\"handleAction('cancel')\"\n          >\n            {{ cancelButtonText || t('el.messagebox.cancel') }}\n          </el-button>\n          <el-button\n            :loading=\"confirmButtonLoading\"\n            ref=\"confirm\"\n            :class=\"[confirmButtonClasses]\"\n            v-show=\"showConfirmButton\"\n            :round=\"roundButton\"\n            size=\"small\"\n            @click=\"handleAction('confirm')\"\n            @keydown.enter=\"handleAction('confirm')\"\n          >\n            {{ confirmButtonText || t('el.messagebox.confirm') }}\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/babel\">\nimport {\n  reactive,\n  isVNode,\n  toRefs,\n  getCurrentInstance,\n  nextTick,\n  unref,\n  computed,\n  onMounted,\n  onUnmounted,\n  render,\n  ref,\n  watch\n} from 'vue'\nimport { popupProps, usePopup } from '../../../src/use/popup'\nimport Locale from '../../../src/mixins/locale'\nimport { ElInput } from '../../../src/components/Input'\nimport { ElButton } from '../../../src/components/Button'\nimport { addClass, removeClass } from '../../../src/utils/dom'\nimport { t } from '../../../src/locale'\nimport Dialog from '../../../src/utils/aria-dialog'\n\n// let messageBox\nconst typeMap = {\n  success: 'success',\n  info: 'info',\n  warning: 'warning',\n  error: 'error'\n}\n\nexport default {\n  mixins: [Locale],\n\n  props: {\n    ...popupProps,\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    title: {\n      type: String,\n      default: null\n    },\n    message: {\n      type: [Object, String],\n      default() {\n        return {}\n      }\n    },\n    dangerouslyUseHTMLString: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: 'info',\n      validator(val) {\n        return ['success', 'warning', 'info', 'error'].indexOf(val)\n      }\n    },\n    iconClass: {\n      type: String,\n      default: null\n    },\n    customClass: {\n      type: String,\n      default: null\n    },\n    callback: {\n      type: Function,\n      default: () => {}\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    beforeClose: {\n      type: Function,\n      default: () => {}\n    },\n    distinguishCancelAndClose: {\n      type: Boolean,\n      default: false\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    showCancelButton: {\n      type: Boolean,\n      default: false\n    },\n    showConfirmButton: {\n      type: Boolean,\n      default: true\n    },\n    cancelButtonClass: {\n      type: String,\n      default: null\n    },\n    confirmButtonClass: {\n      type: String,\n      default: null\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    inputPlaceholder: {\n      type: String,\n      default: ''\n    },\n    inputType: {\n      type: String,\n      default: 'text'\n    },\n    inputValue: {\n      type: String,\n      default: ''\n    },\n    inputPattern: {\n      type: RegExp,\n      default: null\n    },\n    inputValidator: {\n      type: Function,\n      default: () => {}\n    },\n    inputErrorMessage: {\n      type: String,\n      default: ''\n    },\n    center: {\n      type: Boolean,\n      default: false\n    },\n    roundButton: {\n      type: Boolean,\n      default: false\n    },\n    _type: {\n      type: String,\n      default: ''\n    },\n    cancelButtonLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  components: {\n    ElInput,\n    ElButton\n  },\n  setup(props, { attrs }) {\n    const confirmButtonText = ref(attrs.confirmButtonText || '确认')\n    const cancelButtonText = ref(attrs.cancelButtonText || '取消')\n\n    let messageBox = ''\n    const instance = getCurrentInstance()\n    const {\n      closeOnClickModal,\n      distinguishCancelAndClose,\n      _type,\n      beforeClose,\n      callback,\n      type,\n      iconClass,\n      message,\n      inputType,\n      cancelButtonClass,\n      confirmButtonClass,\n      closeOnHashChange,\n      lockScroll,\n      inputPattern,\n      inputValidator,\n      inputValue\n    } = toRefs(props)\n    const state = reactive({\n      visible: false,\n      action: null,\n      editorErrorMessage: null,\n      uid: 0,\n      inputValue: unref(inputValue),\n      isVnode: false\n    })\n    const { rendered, open, close, restoreBodyStyle } = usePopup({\n      ...toRefs(props),\n      visible: state.visible\n    })\n    const validate = () => {\n      if (unref(_type) === 'prompt') {\n        const _inputPattern = unref(inputPattern)\n        if (_inputPattern && !_inputPattern.test(state.inputValue || '')) {\n          state.editorErrorMessage =\n            state.inputErrorMessage || t('el.messagebox.error')\n          addClass(getInputElement(), 'invalid')\n          return false\n        }\n        const _inputValidator = unref(inputValidator)\n        if (typeof _inputValidator === 'function') {\n          const validateResult = _inputValidator(state.inputValue)\n          if (validateResult === false) {\n            state.editorErrorMessage =\n              state.inputErrorMessage || t('el.messagebox.error')\n            addClass(getInputElement(), 'invalid')\n            return false\n          }\n          if (typeof validateResult === 'string') {\n            state.editorErrorMessage = validateResult\n            addClass(getInputElement(), 'invalid')\n            return false\n          }\n        }\n      }\n      state.editorErrorMessage = ''\n      removeClass(getInputElement(), 'invalid')\n      return true\n    }\n    const doClose = () => {\n      if (!state.visible) return\n      state.visible = false\n      rendered.value = false\n      close()\n      messageBox.closeDialog() // 解绑\n      if (lockScroll) {\n        setTimeout(restoreBodyStyle, 200)\n      }\n      nextTick(() => {\n        if (state.action) {\n          unref(callback)(state.action, instance.vnode)\n        }\n      })\n    }\n    const getSafeClose = () => {\n      const currentId = state.uid\n      return () => {\n        nextTick(() => {\n          if (currentId === state.uid) doClose()\n        })\n      }\n    }\n    const confirmButtonLoading = ref(false)\n    const handleAction = (action) => {\n      if (unref(_type) === 'prompt' && action === 'confirm' && !validate()) {\n        return\n      }\n      state.action = action\n      if (typeof unref(beforeClose) === 'function') {\n        const close = getSafeClose()\n        unref(beforeClose)(action, instance.vnode, close)\n      } else {\n        doClose()\n      }\n    }\n    const handleWrapperClick = () => {\n      if (unref(closeOnClickModal)) {\n        handleAction(unref(distinguishCancelAndClose) ? 'close' : 'cancel')\n      }\n    }\n    const handleKeyup = (element = {}) => {\n      if (element.code !== 'Escape') return\n      if (unref(props.closeOnPressEscape)) {\n        handleAction(unref(distinguishCancelAndClose) ? 'close' : 'cancel')\n      }\n    }\n    const handleInputEnter = () => {\n      if (unref(inputType) !== 'textarea') {\n        return handleAction('confirm')\n      }\n    }\n    const icon = computed(() => {\n      return (\n        unref(iconClass) ||\n        (unref(type) && typeMap[unref(type)]\n          ? `el-icon-${typeMap[unref(type)]}`\n          : '')\n      )\n    })\n    const cancelButtonClasses = computed(() => {\n      return `el-button--primary ${unref(cancelButtonClass)}`\n    })\n    const confirmButtonClasses = computed(() => {\n      return `el-button--primary ${unref(confirmButtonClass)}`\n    })\n    const getFirstFocus = () => {\n      const btn = instance.vnode.el.querySelector(\n        '.el-message-box__btns .el-button'\n      )\n      const title = instance.vnode.el.querySelector(\n        '.el-message-box__btns .el-message-box__title'\n      )\n      return btn || title\n    }\n    const getInputElement = () => {\n      const inputRefs = instance.refs.input.$refs\n      return inputRefs.input || inputRefs.textarea\n    }\n    onMounted(() => {\n      state.visible = true\n      nextTick(() => {\n        state.uid++\n        rendered.value = true\n        open()\n      })\n      if (unref(_type) === 'alert' || unref(_type) === 'confirm') {\n        nextTick(() => {\n          instance.refs.confirm.$el.focus()\n        })\n      }\n      const focusAfterClosed = document.activeElement\n      messageBox = new Dialog(\n        instance.vnode.el,\n        focusAfterClosed,\n        getFirstFocus()\n      )\n      if (unref(closeOnHashChange)) {\n        window.addEventListener('hashchange', doClose)\n      }\n      window.addEventListener('keyup', handleKeyup)\n      if (unref(_type) !== 'prompt') return\n      setTimeout(() => {\n        if (instance.refs.input && instance.refs.input.$el) {\n          getInputElement().focus()\n        }\n      }, 500)\n    })\n    onUnmounted(() => {\n      if (unref(closeOnHashChange)) {\n        window.removeEventListener('hashchange', doClose)\n      }\n      window.removeEventListener('keyup', handleKeyup)\n      setTimeout(() => {\n        messageBox.closeDialog()\n      })\n    })\n\n    const MessageToVNode = (message) => {\n      let v = ''\n      if (isVNode(unref(message))) {\n        v = unref(message)\n        render(v, document.createElement('div'))\n        state.isVnode = true\n        return v.el.innerHTML\n      } else {\n        state.isVnode = false\n        return message\n      }\n    }\n    watch(\n      () => state.inputValue,\n      (val) => {\n        nextTick(() => {\n          if (unref(_type) === 'prompt' && val !== null) {\n            validate()\n          }\n        })\n      }\n    )\n    return {\n      ...toRefs(props),\n      changedMessage: MessageToVNode(message),\n      handleInputEnter,\n      handleAction,\n      state,\n      handleWrapperClick,\n      icon,\n      cancelButtonClasses,\n      cancelButtonText,\n      t,\n      confirmButtonLoading,\n      confirmButtonClasses,\n      confirmButtonText\n    }\n  }\n}\n</script>\n","// #todo\nimport { defineComponent, isVNode } from 'vue'\nimport { createComponent } from '../../../src/use/component'\nimport msgboxVue from './MessageBox.vue'\nimport merge from '../../../src/utils/merge'\nconst messageBoxConstructor = defineComponent(msgboxVue)\nconst defaults = {\n  title: null,\n  message: '',\n  type: '',\n  iconClass: '',\n  showInput: false,\n  showClose: true,\n  modalFade: true,\n  lockScroll: true,\n  closeOnClickModal: true,\n  closeOnPressEscape: true,\n  closeOnHashChange: true,\n  inputValue: null,\n  inputPlaceholder: '',\n  inputType: 'text',\n  inputPattern: null,\n  inputValidator: null,\n  inputErrorMessage: '',\n  showConfirmButton: true,\n  showCancelButton: false,\n  confirmButtonPosition: 'right',\n  confirmButtonHighlight: false,\n  cancelButtonHighlight: false,\n  confirmButtonText: '',\n  cancelButtonText: '',\n  confirmButtonClass: '',\n  cancelButtonClass: '',\n  customClass: '',\n  beforeClose: null,\n  dangerouslyUseHTMLString: false,\n  center: false,\n  roundButton: false,\n  distinguishCancelAndClose: false\n}\n\n// const MessageBoxConstructor = {\n//   extends: msgboxVue\n// }\n\nlet currentMsg, instance\nlet msgQueue = []\n\nconst defaultCallback = (action) => {\n  if (currentMsg) {\n    if (currentMsg.resolve) {\n      if (action === 'confirm') {\n        if (instance.vnode.props.showInput) {\n          currentMsg.resolve({\n            value: instance.setupState.state.inputValue,\n            action\n          })\n        } else {\n          currentMsg.resolve(action)\n        }\n      } else if (\n        currentMsg.reject &&\n        (action === 'cancel' || action === 'close')\n      ) {\n        currentMsg.reject(action)\n      }\n    }\n  }\n}\n\nconst initInstance = (currentMsg, VNode = null) => {\n  defaults.callback = defaultCallback\n  instance = createComponent(messageBoxConstructor, currentMsg.options, VNode)\n}\n\nconst showNextMsg = () => {\n  if (msgQueue.length > 0) {\n    currentMsg = msgQueue.shift()\n\n    const options = currentMsg.options\n\n    if (options.callback === undefined) {\n      options.callback = defaultCallback\n    }\n\n    const oldCb = options.callback\n    options.callback = (action, instance) => {\n      oldCb(action, instance)\n    }\n    if (isVNode(currentMsg.message)) {\n      initInstance(currentMsg, { default: () => currentMsg.message })\n    }\n    initInstance(currentMsg)\n    ;[\n      'modal',\n      'showClose',\n      'closeOnClickModal',\n      'closeOnPressEscape',\n      'closeOnHashChange'\n    ].forEach((prop) => {\n      if (options[prop] === undefined) {\n        options[prop] = true\n      }\n    })\n    document.body.appendChild(instance.vnode.el)\n  }\n  // }\n}\n\nconst MessageBox = function (options, callback) {\n  // if (Vue.prototype.$isServer) return\n  if (typeof options === 'string' || isVNode(options)) {\n    options = {\n      message: options\n    }\n    if (typeof arguments[1] === 'string') {\n      options.title = arguments[1]\n    }\n  } else if (options.callback && !callback) {\n    callback = options.callback\n  }\n\n  if (typeof Promise !== 'undefined') {\n    return new Promise((resolve, reject) => {\n      // eslint-disable-line\n      msgQueue.push({\n        options: merge({}, defaults, MessageBox.defaults, options),\n        callback: callback,\n        resolve: resolve,\n        reject: reject\n      })\n\n      showNextMsg()\n    })\n  } else {\n    msgQueue.push({\n      options: merge({}, defaults, MessageBox.defaults, options),\n      callback: callback\n    })\n\n    showNextMsg()\n  }\n}\n\nMessageBox.setDefaults = (defaults) => {\n  MessageBox.defaults = defaults\n}\n\nMessageBox.alert = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title\n    title = ''\n  } else if (title === undefined) {\n    title = ''\n  }\n  return MessageBox(\n    merge(\n      {\n        title: title,\n        message: message,\n        _type: 'alert',\n        closeOnPressEscape: false,\n        closeOnClickModal: false\n      },\n      options\n    )\n  )\n}\n\nMessageBox.confirm = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title\n    title = ''\n  } else if (title === undefined) {\n    title = ''\n  }\n  return MessageBox(\n    merge(\n      {\n        title: title,\n        message: message,\n        _type: 'confirm',\n        showCancelButton: true\n      },\n      options\n    )\n  )\n}\n\nMessageBox.prompt = (message, title, options) => {\n  if (typeof title === 'object') {\n    options = title\n    title = ''\n  } else if (title === undefined) {\n    title = ''\n  }\n  return MessageBox(\n    merge(\n      {\n        title: title,\n        message: message,\n        showCancelButton: true,\n        showInput: true,\n        _type: 'prompt'\n      },\n      options\n    )\n  )\n}\n\nMessageBox.close = () => {\n  instance.doClose()\n  msgQueue = []\n  currentMsg = null\n}\n\nexport default MessageBox\nexport { MessageBox }\n","import MessageBox from './src/MessageBox.js'\n\nexport function useMsgbox() {\n  return MessageBox\n}\n\nexport default {\n  service: MessageBox\n}\n","export const notificationProps = {\n  customClass: { type: String, default: '' },\n  dangerouslyUseHTMLString: { type: Boolean, default: false },\n  duration: { type: Number, default: 4500 },\n  iconClass: { type: String, default: '' },\n  id: { type: String, default: '' },\n  verticalOffset: { type: Number, default: 0 },\n  message: [String, Object],\n  position: { type: String, default: 'top-right' },\n  onClick: null,\n  showClose: { type: Boolean, default: true },\n  title: { type: String, default: '' },\n  type: {\n    type: String,\n    default: '',\n    validator(val) {\n      return ['', 'success', 'warning', 'info', 'error'].includes(val)\n    }\n  }\n}\n","<template>\n  <transition\n    name=\"el-notification-fade\"\n    @after-leave=\"handleAfterLeave\"\n    appear\n  >\n    <div\n      :class=\"['el-notification', customClass, horizontalClass]\"\n      v-show=\"visible\"\n      :style=\"positionStyle\"\n      @click=\"handleClick\"\n      @keydown=\"handleKeydown\"\n      @mouseenter=\"handleMouseenter\"\n      @mouseleave=\"handleMouseleave\"\n      role=\"alert\"\n    >\n      <i\n        class=\"el-notification__icon\"\n        :class=\"typeClass || iconClass\"\n        v-if=\"type || iconClass\"\n      ></i>\n      <div class=\"el-notification__group\">\n        <h2 class=\"el-notification__title\" v-text=\"title\"></h2>\n        <div class=\"el-notification__content\" v-show=\"message\">\n          <slot>\n            <p v-if=\"!dangerouslyUseHTMLString\">{{ message }}</p>\n            <p v-else v-html=\"message\"></p>\n          </slot>\n        </div>\n        <div\n          class=\"el-notification__closeBtn el-icon-close\"\n          v-if=\"showClose\"\n          @click=\"handleClose\"\n        ></div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { computed, getCurrentInstance, ref, defineComponent } from 'vue'\nimport { notificationProps } from './props.js'\nexport default defineComponent({\n  name: 'ElNotification',\n  props: notificationProps,\n  emits: ['close'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n    const visible = ref(true)\n    const verticalOffsetVal = ref(props.verticalOffset)\n\n    const typeClass = computed(() => {\n      return props.type ? `el-icon-${props.type}` : ''\n    })\n\n    const horizontalClass = computed(() => {\n      return props.position.endsWith('right') ? 'right' : 'left'\n    })\n\n    const verticalProperty = computed(() => {\n      return props.position.startsWith('top') ? 'top' : 'bottom'\n    })\n\n    const positionStyle = computed(() => {\n      return {\n        [verticalProperty.value]: `${verticalOffsetVal.value}px`\n      }\n    })\n\n    function _click() {\n      emit('click', instance)\n    }\n    function handleClick() {\n      _click()\n    }\n\n    function click() {\n      _click()\n    }\n\n    function _close() {\n      clearTimeout(timer)\n      emit('close', instance)\n      visible.value = false\n    }\n    function handleClose() {\n      _close()\n    }\n\n    function close() {\n      _close()\n    }\n\n    let timer\n    function delayClose() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          _close()\n        }, props.duration)\n      }\n    }\n\n    const handleKeydown = (e) => {\n      if (e.keyCode === 46 || e.keyCode === 8) {\n        clearTimeout(timer)\n      } else if (e.keyCode === 27) {\n        _close()\n      } else {\n        delayClose()\n      }\n    }\n\n    function handleMouseenter() {\n      clearTimeout(timer)\n    }\n    function handleMouseleave() {\n      delayClose()\n    }\n\n    function handleAfterLeave() {\n      instance.vnode.el.parentElement?.removeChild(instance.vnode.el)\n    }\n\n    delayClose()\n\n    return {\n      close,\n      click,\n      visible,\n      typeClass,\n      positionStyle,\n      horizontalClass,\n      verticalProperty,\n      verticalOffsetVal,\n      handleClose,\n      handleClick,\n      handleKeydown,\n      handleMouseenter,\n      handleMouseleave,\n      handleAfterLeave\n    }\n  }\n})\n</script>\n","<template>\n  <transition\n    name=\"el-notification-fade\"\n    @after-leave=\"handleAfterLeave\"\n    appear\n  >\n    <div\n      :class=\"['el-notification', customClass, horizontalClass]\"\n      v-show=\"visible\"\n      :style=\"positionStyle\"\n      @click=\"handleClick\"\n      @keydown=\"handleKeydown\"\n      @mouseenter=\"handleMouseenter\"\n      @mouseleave=\"handleMouseleave\"\n      role=\"alert\"\n    >\n      <i\n        class=\"el-notification__icon\"\n        :class=\"typeClass || iconClass\"\n        v-if=\"type || iconClass\"\n      ></i>\n      <div class=\"el-notification__group\">\n        <h2 class=\"el-notification__title\" v-text=\"title\"></h2>\n        <div class=\"el-notification__content\" v-show=\"message\">\n          <slot>\n            <p v-if=\"!dangerouslyUseHTMLString\">{{ message }}</p>\n            <p v-else v-html=\"message\"></p>\n          </slot>\n        </div>\n        <div\n          class=\"el-notification__closeBtn el-icon-close\"\n          v-if=\"showClose\"\n          @click=\"handleClose\"\n        ></div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { computed, getCurrentInstance, ref, defineComponent } from 'vue'\nimport { notificationProps } from './props.js'\nexport default defineComponent({\n  name: 'ElNotification',\n  props: notificationProps,\n  emits: ['close'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n    const visible = ref(true)\n    const verticalOffsetVal = ref(props.verticalOffset)\n\n    const typeClass = computed(() => {\n      return props.type ? `el-icon-${props.type}` : ''\n    })\n\n    const horizontalClass = computed(() => {\n      return props.position.endsWith('right') ? 'right' : 'left'\n    })\n\n    const verticalProperty = computed(() => {\n      return props.position.startsWith('top') ? 'top' : 'bottom'\n    })\n\n    const positionStyle = computed(() => {\n      return {\n        [verticalProperty.value]: `${verticalOffsetVal.value}px`\n      }\n    })\n\n    function _click() {\n      emit('click', instance)\n    }\n    function handleClick() {\n      _click()\n    }\n\n    function click() {\n      _click()\n    }\n\n    function _close() {\n      clearTimeout(timer)\n      emit('close', instance)\n      visible.value = false\n    }\n    function handleClose() {\n      _close()\n    }\n\n    function close() {\n      _close()\n    }\n\n    let timer\n    function delayClose() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          _close()\n        }, props.duration)\n      }\n    }\n\n    const handleKeydown = (e) => {\n      if (e.keyCode === 46 || e.keyCode === 8) {\n        clearTimeout(timer)\n      } else if (e.keyCode === 27) {\n        _close()\n      } else {\n        delayClose()\n      }\n    }\n\n    function handleMouseenter() {\n      clearTimeout(timer)\n    }\n    function handleMouseleave() {\n      delayClose()\n    }\n\n    function handleAfterLeave() {\n      instance.vnode.el.parentElement?.removeChild(instance.vnode.el)\n    }\n\n    delayClose()\n\n    return {\n      close,\n      click,\n      visible,\n      typeClass,\n      positionStyle,\n      horizontalClass,\n      verticalProperty,\n      verticalOffsetVal,\n      handleClose,\n      handleClick,\n      handleKeydown,\n      handleMouseenter,\n      handleMouseleave,\n      handleAfterLeave\n    }\n  }\n})\n</script>\n","import { isVNode } from 'vue'\nimport notificationComponent from './Notification.vue'\nimport { createComponent } from '../../../../src/use/component.js'\nimport { PopupManager } from '../../../../src/utils/popup'\n\nconst instanceList = []\nconst INTERVAL_HEIGHT = 16\n\nexport function Notification(options) {\n  return createNotification(mergeProps(options))\n}\n\nfunction addInstance(instance) {\n  instanceList.push(instance)\n}\n\nfunction createNotification(options) {\n  const instance = createNotificationByOpts(options)\n  setZIndex(instance)\n  addInstance(instance)\n  addToBody(instance)\n  return instance.proxy\n}\n\nfunction createNotificationByOpts(opts) {\n  if (isVNode(opts.message)) {\n    return createComponent(notificationComponent, opts, () => opts.message)\n  }\n\n  return createComponent(notificationComponent, opts)\n}\n\nfunction setZIndex(instance) {\n  instance.vnode.el.style.zIndex = PopupManager.nextZIndex()\n}\n\nfunction addToBody(instance) {\n  document.body.append(instance.vnode.el)\n}\n\nfunction mergeProps(options) {\n  const position = options.position || 'top-right'\n\n  const verticalOffset = calculateVerticalOffset(position)\n\n  const defaultOptions = {\n    position,\n    verticalOffset\n  }\n  const userOnClose = options?.onClose\n  delete options?.onClose\n  defaultOptions.onClose = (instance) => {\n    closeNotification(instance)\n    if (userOnClose) userOnClose(instance.proxy)\n  }\n\n  const userOnClick = options?.onClick\n  delete options?.onClick\n  defaultOptions.onClick = (instance) => {\n    if (userOnClick) userOnClick(instance.proxy)\n  }\n\n  if (typeof options === 'string' || isVNode(options)) {\n    defaultOptions.message = options\n    return defaultOptions\n  }\n  return Object.assign({}, defaultOptions, options)\n}\n\nfunction calculateVerticalOffset(position, offset = 0) {\n  let verticalOffset = offset\n\n  instanceList\n    .filter((instance) => instance.props.position === position)\n    .forEach((instance) => {\n      verticalOffset += (instance.vnode.el.offsetHeight || 0) + INTERVAL_HEIGHT\n    })\n  verticalOffset += INTERVAL_HEIGHT\n\n  return verticalOffset\n}\n\nfunction closeNotification(instance) {\n  updatePosition(instance)\n}\n\nfunction updatePosition(closeInstance) {\n  const currentInstanceIndex = getIndexByInstance(closeInstance)\n  if (currentInstanceIndex < 0) return\n\n  const instance = instanceList[currentInstanceIndex]\n  const len = instanceList.length\n  removeInstance(instance)\n  if (len <= 1) return\n  const position = instance.props.position\n  const removedHeight = instance.vnode.el.offsetHeight\n  for (let i = currentInstanceIndex; i < len - 1; i++) {\n    if (instanceList[i].props.position === position) {\n      instanceList[i].vnode.el.style[\n        instance.props.position.startsWith('top') ? 'top' : 'bottom'\n      ] =\n        parseInt(\n          instanceList[i].vnode.el.style[\n            instance.props.position.startsWith('top') ? 'top' : 'bottom'\n          ],\n          10\n        ) -\n        removedHeight -\n        INTERVAL_HEIGHT +\n        'px'\n    }\n  }\n}\n\nfunction removeInstance(instance) {\n  instanceList.splice(getIndexByInstance(instance), 1)\n}\n\nfunction getIndexByInstance(instance) {\n  return instanceList.findIndex((i) => i.uid == instance.uid)\n}\n\n;['success', 'warning', 'info', 'error'].forEach((type) => {\n  Notification[type] = (options) => {\n    if (typeof options === 'string' || isVNode(options)) {\n      options = {\n        message: options\n      }\n    }\n    options.type = type\n    return Notification(options)\n  }\n})\n\nNotification.closeAll = () => {\n  instanceList.forEach((instance) => {\n    instance.proxy.close()\n    removeInstance(instance)\n  })\n}\n","import Utils from '../aria-utils'\n\nconst SubMenu = function (parent, domNode) {\n  this.domNode = domNode\n  this.parent = parent\n  this.subMenuItems = []\n  this.subIndex = 0\n  this.init()\n}\n\nSubMenu.prototype.init = function () {\n  this.subMenuItems = this.domNode.querySelectorAll('li')\n  this.addListeners()\n}\n\nSubMenu.prototype.gotoSubIndex = function (idx) {\n  if (idx === this.subMenuItems.length) {\n    idx = 0\n  } else if (idx < 0) {\n    idx = this.subMenuItems.length - 1\n  }\n  this.subMenuItems[idx].focus()\n  this.subIndex = idx\n}\n\nSubMenu.prototype.addListeners = function () {\n  const keys = Utils.keys\n  const parentNode = this.parent.domNode\n  Array.prototype.forEach.call(this.subMenuItems, (el) => {\n    el.addEventListener('keydown', (event) => {\n      let prevDef = false\n      switch (event.keyCode) {\n        case keys.down:\n          this.gotoSubIndex(this.subIndex + 1)\n          prevDef = true\n          break\n        case keys.up:\n          this.gotoSubIndex(this.subIndex - 1)\n          prevDef = true\n          break\n        case keys.tab:\n          Utils.triggerEvent(parentNode, 'mouseleave')\n          break\n        case keys.enter:\n        case keys.space:\n          prevDef = true\n          event.currentTarget.click()\n          break\n      }\n      if (prevDef) {\n        event.preventDefault()\n        event.stopPropagation()\n      }\n      return false\n    })\n  })\n}\n\nexport default SubMenu\n","import Utils from '../aria-utils'\nimport SubMenu from './aria-submenu'\n\nconst MenuItem = function (domNode) {\n  this.domNode = domNode\n  this.submenu = null\n  this.init()\n}\n\nMenuItem.prototype.init = function () {\n  this.domNode.setAttribute('tabindex', '0')\n  const menuChild = this.domNode.querySelector('.el-menu')\n  if (menuChild) {\n    this.submenu = new SubMenu(this, menuChild)\n  }\n  this.addListeners()\n}\n\nMenuItem.prototype.addListeners = function () {\n  const keys = Utils.keys\n  this.domNode.addEventListener('keydown', (event) => {\n    let prevDef = false\n    switch (event.keyCode) {\n      case keys.down:\n        Utils.triggerEvent(event.currentTarget, 'mouseenter')\n        this.submenu && this.submenu.gotoSubIndex(0)\n        prevDef = true\n        break\n      case keys.up:\n        Utils.triggerEvent(event.currentTarget, 'mouseenter')\n        this.submenu &&\n          this.submenu.gotoSubIndex(this.submenu.subMenuItems.length - 1)\n        prevDef = true\n        break\n      case keys.tab:\n        Utils.triggerEvent(event.currentTarget, 'mouseleave')\n        break\n      case keys.enter:\n      case keys.space:\n        prevDef = true\n        event.currentTarget.click()\n        break\n    }\n    if (prevDef) {\n      event.preventDefault()\n    }\n  })\n}\n\nexport default MenuItem\n","import MenuItem from './aria-menuitem'\n\nconst Menu = function (domNode) {\n  this.domNode = domNode\n  this.init()\n}\n\nMenu.prototype.init = function () {\n  const menuChildren = this.domNode.childNodes\n  ;[].filter\n    .call(menuChildren, (child) => child.nodeType === 1)\n    .forEach((child) => {\n      new MenuItem(child) // eslint-disable-line\n    })\n}\nexport default Menu\n","import { getCurrentInstance, inject, computed, reactive } from 'vue'\nfunction useMenu(index) {\n  const Instance = getCurrentInstance()\n  const rootMenu = inject('rootMenu')\n  const parent = Instance.parent\n  const indexPath = computed(() => {\n    const path = [index]\n    let p = parent\n    while (p.type.name !== 'ElMenu') {\n      if (p.props.index) {\n        path.unshift(p.props.index)\n      }\n      p = p.parent\n    }\n    return path\n  })\n  const parentMenu = computed(() => {\n    let p = parent\n    while (p && ['ElMenu', 'ElSubmenu'].indexOf(p.type.name) === -1) {\n      p = p.parent\n    }\n    return p\n  })\n  const paddingStyle = computed(() => {\n    if (rootMenu.props.mode !== 'vertical') return {}\n    let padding = 20\n    let p = parent\n    if (rootMenu.props.collapse) {\n      padding = 20\n    } else {\n      while (p && p.type.name !== 'ElMenu') {\n        if (p.type.name === 'ElSubmenu') {\n          padding += 20\n        }\n        p = p.parent\n      }\n    }\n    return { paddingLeft: padding + 'px' }\n  })\n  return {\n    indexPath,\n    parentMenu,\n    paddingStyle,\n    rootMenu\n  }\n}\nfunction useItems() {\n  const items = reactive({})\n  const itemsInstance = {}\n  const submenus = reactive({})\n  const submenusInstance = {}\n  const addItem = (item) => {\n    let index = item.props.index\n    items[index] = index\n    itemsInstance[index] = item\n  }\n  const removeItem = (item) => {\n    let index = item.props.index\n    delete items[index]\n    delete itemsInstance[index]\n  }\n  const addSubmenu = (item) => {\n    let index = item.props.index\n    submenus[index] = index\n    submenusInstance[index] = item\n  }\n  const removeSubmenu = (item) => {\n    let index = item.props.index\n    delete submenus[index]\n    delete submenusInstance[index]\n  }\n\n  return {\n    items,\n    itemsInstance,\n    submenus,\n    submenusInstance,\n    addItem,\n    removeItem,\n    addSubmenu,\n    removeSubmenu\n  }\n}\nexport { useMenu, useItems }\n","<script>\nimport { addClass, removeClass, hasClass } from '../../src/utils/dom'\nimport { h, Transition } from 'vue'\nexport default {\n  render(proxy) {\n    const data = {\n      mode: 'out-in',\n      onBeforeEnter(el) {\n        el.style.opacity = 0.2\n      },\n\n      onEnter(el) {\n        addClass(el, 'el-opacity-transition')\n        el.style.opacity = 1\n      },\n\n      onAfterEnter(el) {\n        removeClass(el, 'el-opacity-transition')\n        el.style.opacity = ''\n      },\n\n      onBeforeLeave(el) {\n        if (!el.dataset) el.dataset = {}\n\n        if (hasClass(el, 'el-menu--collapse')) {\n          removeClass(el, 'el-menu--collapse')\n          el.dataset.oldOverflow = el.style.overflow\n          el.dataset.scrollWidth = el.clientWidth\n          addClass(el, 'el-menu--collapse')\n        } else {\n          addClass(el, 'el-menu--collapse')\n          el.dataset.oldOverflow = el.style.overflow\n          el.dataset.scrollWidth = el.clientWidth\n          removeClass(el, 'el-menu--collapse')\n        }\n\n        el.style.width = el.scrollWidth + 'px'\n        el.style.overflow = 'hidden'\n      },\n\n      onLeave(el) {\n        addClass(el, 'horizontal-collapse-transition')\n        el.style.width = el.dataset.scrollWidth + 'px'\n      }\n    }\n    return h(Transition, data, proxy.$slots)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<script>\nimport {\n  computed,\n  getCurrentInstance,\n  onMounted,\n  provide,\n  ref,\n  toRefs,\n  watch\n} from 'vue'\nimport Menubar from '../../src/utils/menu/aria-menubar'\nimport { useEmitter } from '../../src/use/emitter'\nimport { useItems } from './src/menu-use'\nimport MenuCollapseTransition from './MenuCollapseTransition.vue'\n\nexport default {\n  name: 'ElMenu',\n  componentName: 'ElMenu',\n  render() {\n    const component = (\n      <ul\n        role=\"menubar\"\n        key={+this.collapse}\n        style={{ backgroundColor: this.backgroundColor || '' }}\n        class={{\n          'el-menu--horizontal': this.mode === 'horizontal',\n          'el-menu--collapse': this.collapse,\n          'el-menu': true\n        }}\n      >\n        {this.$slots.default()}\n      </ul>\n    )\n    if (this.collapseTransition) {\n      return (\n        <el-menu-collapse-transition>{component}</el-menu-collapse-transition>\n      )\n    } else {\n      return component\n    }\n  },\n  components: {\n    'el-menu-collapse-transition': MenuCollapseTransition\n  },\n\n  props: {\n    mode: {\n      type: String,\n      default: 'vertical'\n    },\n    defaultActive: {\n      type: String,\n      default: ''\n    },\n    defaultOpeneds: {\n      type: Array,\n      default: null\n    },\n    uniqueOpened: Boolean,\n    router: Boolean,\n    menuTrigger: {\n      type: String,\n      default: 'hover'\n    },\n    collapse: {\n      type: Boolean,\n      default: false\n    },\n    backgroundColor: {\n      type: String,\n      default: ''\n    },\n    textColor: String,\n    activeTextColor: String,\n    collapseTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['close', 'open', 'select', 'on'],\n  setup(props, { emit }) {\n    const {\n      defaultActive,\n      defaultOpeneds,\n      collapse,\n      uniqueOpened,\n      backgroundColor,\n      mode,\n      router\n    } = toRefs(props)\n    const instance = getCurrentInstance()\n    const { broadcast, on } = useEmitter()\n    const activeIndex = ref(defaultActive.value)\n    const openedMenus = ref(\n      defaultOpeneds.value && !collapse.value\n        ? defaultOpeneds.value.slice(0)\n        : []\n    )\n    const {\n      items,\n      itemsInstance,\n      submenusInstance,\n      addItem,\n      removeItem,\n      addSubmenu,\n      removeSubmenu\n    } = useItems()\n    const updateActiveIndex = (val) => {\n      let item =\n        items[val] || items[activeIndex.value] || items[defaultActive.value]\n      item = itemsInstance[item]\n      if (item) {\n        activeIndex.value = item.props.index\n        initOpenedMenu()\n      } else {\n        activeIndex.value = null\n      }\n    }\n    const getColorChannels = (color) => {\n      color = color.replace('#', '')\n      if (/^[0-9a-fA-F]{3}$/.test(color)) {\n        color = color.split('')\n        for (let i = 2; i >= 0; i--) {\n          color.splice(i, 0, color[i])\n        }\n        color = color.join('')\n      }\n      if (/^[0-9a-fA-F]{6}$/.test(color)) {\n        return {\n          red: parseInt(color.slice(0, 2), 16),\n          green: parseInt(color.slice(2, 4), 16),\n          blue: parseInt(color.slice(4, 6), 16)\n        }\n      } else {\n        return {\n          red: 255,\n          green: 255,\n          blue: 255\n        }\n      }\n    }\n    const mixColor = (color, percent) => {\n      let { red, green, blue } = getColorChannels(color)\n      if (percent > 0) {\n        // shade given color\n        red *= 1 - percent\n        green *= 1 - percent\n        blue *= 1 - percent\n      } else {\n        // tint given color\n        red += (255 - red) * percent\n        green += (255 - green) * percent\n        blue += (255 - blue) * percent\n      }\n      return `rgb(${Math.round(red)}, ${Math.round(green)}, ${Math.round(\n        blue\n      )})`\n    }\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.indexOf(index) !== -1) return\n      // 将不在该菜单路径下的其余菜单收起\n      // collapse all menu that are not under current menu item\n      if (uniqueOpened.value) {\n        openedMenus.value = openedMenus.value.filter((index) => {\n          return indexPath.indexOf(index) !== -1\n        })\n      }\n      openedMenus.value.push(index)\n    }\n    const closeMenu = (index) => {\n      const i = openedMenus.value.indexOf(index)\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1)\n      }\n    }\n    const handleSubmenuClick = (submenu) => {\n      const { index, indexPath } = submenu.proxy\n      const isOpened = openedMenus.value.indexOf(index) !== -1\n      if (isOpened) {\n        closeMenu(index)\n        emit('close', index, indexPath)\n      } else {\n        openMenu(index, indexPath)\n        emit('open', index, indexPath)\n      }\n    }\n    const handleItemClick = (item) => {\n      const { index, indexPath } = item.proxy\n      const oldActiveIndex = activeIndex.value\n      const hasIndex = index !== null\n      if (hasIndex) {\n        activeIndex.value = index\n      }\n      emit('select', index, indexPath, item)\n      if (mode.value === 'horizontal' || collapse.value) {\n        openedMenus.value.length = 0\n      }\n      if (router.value && hasIndex) {\n        routeToItem(item, (error) => {\n          activeIndex.value = oldActiveIndex\n          if (error) {\n            // vue-router 3.1.0+ push/replace cause NavigationDuplicated error\n            // https://github.com/ElemeFE/element/issues/17044\n            if (error.name === 'NavigationDuplicated') return\n            console.error(error)\n          }\n        })\n      }\n    }\n    const initOpenedMenu = () => {\n      const index = activeIndex.value\n      const activeItem = itemsInstance[index]\n      if (!activeItem || mode.value === 'horizontal' || collapse.value) return\n      const indexPath = activeItem.setupState.indexPath\n      // 展开该菜单项的路径上所有子菜单\n      // expand all submenus of the menu item\n      indexPath.forEach((index) => {\n        const submenu = submenusInstance[index]\n        submenu && openMenu(index, submenu.setupState.indexPath)\n      })\n    }\n    const routeToItem = (item, onError) => {\n      const route = item.proxy.route || item.proxy.index\n      try {\n        instance.proxy.$router.push(route, () => {}, onError)\n      } catch (e) {\n        console.error(e)\n      }\n    }\n    const open = (index) => {\n      const { indexPath } = submenusInstance[index.toString()]\n      indexPath.forEach((i) => openMenu(i, indexPath))\n    }\n    const close = (index) => {\n      closeMenu(index)\n    }\n    const hoverBackground = computed(() => {\n      return backgroundColor.value ? mixColor(backgroundColor.value, 0.2) : ''\n    })\n    const isMenuPopup = computed(() => {\n      return (\n        mode.value === 'horizontal' ||\n        (mode.value === 'vertical' && collapse.value)\n      )\n    })\n    watch(defaultActive, (value) => {\n      if (!items[value]) {\n        activeIndex.value = null\n      }\n      updateActiveIndex(value)\n    })\n    watch(defaultOpeneds, (value) => {\n      if (!collapse.value) {\n        openedMenus.value = value\n      }\n    })\n    watch(collapse, (value) => {\n      if (value) openedMenus.value = []\n      broadcast('toggle-collapse', value)\n    })\n    onMounted(() => {\n      initOpenedMenu()\n      on('item-click', handleItemClick)\n      on('submenu-click', handleSubmenuClick)\n      if (mode.value === 'horizontal') {\n        new Menubar(instance.vnode.el)\n      }\n      watch(items, updateActiveIndex)\n    })\n    provide('rootMenu', instance)\n    return {\n      addItem,\n      removeItem,\n      addSubmenu,\n      removeSubmenu,\n      openedMenus,\n      activeIndex,\n      hoverBackground,\n      isMenuPopup,\n      openMenu,\n      closeMenu,\n      open,\n      close\n    }\n  }\n}\n</script>\n","import ElMenu from './Menu.vue'\n\n/* istanbul ignore next */\nElMenu.install = function (app) {\n  app.component(ElMenu.name, ElMenu)\n}\n\nexport default ElMenu\n","<template>\n  <li\n    class=\"el-menu-item\"\n    role=\"menuitem\"\n    tabindex=\"-1\"\n    :style=\"[paddingStyle, itemStyle, { backgroundColor: itemBackgroundColor }]\"\n    :class=\"{\n      'is-active': active,\n      'is-disabled': disabled\n    }\"\n    @click=\"handleClick\"\n    @mouseenter=\"onMouseEnter\"\n    @focus=\"onMouseEnter\"\n    @blur=\"onMouseLeave\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <el-tooltip\n      v-if=\"\n        parentMenu.type.name === 'ElMenu' && rootMenu.collapse && $slots.title\n      \"\n      effect=\"dark\"\n      placement=\"right\"\n    >\n      <template v-slot:content>\n        <div>\n          <slot name=\"title\"></slot>\n        </div>\n      </template>\n      <div\n        style=\"\n          position: absolute;\n          left: 0;\n          top: 0;\n          height: 100%;\n          width: 100%;\n          display: inline-block;\n          box-sizing: border-box;\n          padding: 0 20px;\n        \"\n      >\n        <slot></slot>\n      </div>\n    </el-tooltip>\n    <template v-else>\n      <slot></slot>\n      <slot name=\"title\"></slot>\n    </template>\n  </li>\n</template>\n<script>\nimport { useMenu } from './src/menu-use'\nimport ElTooltip from '../tooltip'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  computed,\n  getCurrentInstance,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElMenuItem',\n\n  componentName: 'ElMenuItem',\n\n  components: { ElTooltip },\n\n  props: {\n    index: {\n      default: null,\n      validator: (val) => typeof val === 'string' || val === null\n    },\n    route: [String, Object],\n    disabled: Boolean\n  },\n  emits: ['click'],\n  setup(props, { emit }) {\n    const { index, disabled } = toRefs(props)\n    const { parentMenu, paddingStyle, rootMenu, indexPath } = useMenu(\n      index.value\n    )\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter()\n    const active = computed(() => {\n      return index.value === rootMenu.proxy.activeIndex\n    })\n    const hoverBackground = computed(() => {\n      return rootMenu.props.hoverBackground\n    })\n    const backgroundColor = computed(() => {\n      return rootMenu.props.backgroundColor || ''\n    })\n    const itemBackgroundColor = ref(backgroundColor.value)\n    const activeTextColor = computed(() => {\n      return rootMenu.props.activeTextColor || ''\n    })\n    const textColor = computed(() => {\n      return rootMenu.props.textColor || ''\n    })\n    const mode = computed(() => {\n      return rootMenu.props.mode\n    })\n    const isNested = computed(() => {\n      return parentMenu !== rootMenu\n    })\n    const itemStyle = computed(() => {\n      const style = {\n        color: active.value ? activeTextColor.value : textColor.value\n      }\n      if (mode.value === 'horizontal' && !isNested.value) {\n        style.borderBottomColor = active.value\n          ? rootMenu.activeTextColor.value\n            ? activeTextColor.value\n            : ''\n          : 'transparent'\n      }\n      return style\n    })\n    const onMouseEnter = () => {\n      hoverBackground.value &&\n        (itemBackgroundColor.value = hoverBackground.value)\n    }\n    const onMouseLeave = () => {\n      itemBackgroundColor.value = backgroundColor.value\n    }\n    const handleClick = () => {\n      if (!disabled.value) {\n        dispatch('item-click', instance)\n        emit('click', instance)\n      }\n    }\n    onMounted(() => {\n      parentMenu.value.setupState.addItem(instance)\n      rootMenu.setupState.addItem(instance)\n    })\n    onBeforeUnmount(() => {\n      parentMenu.value.setupState.removeItem(instance)\n      rootMenu.setupState.removeItem(instance)\n    })\n    return {\n      paddingStyle,\n      itemStyle,\n      active,\n      handleClick,\n      onMouseEnter,\n      onMouseLeave,\n      rootMenu,\n      parentMenu,\n      indexPath,\n      itemBackgroundColor\n    }\n  }\n}\n</script>\n","<template>\n  <li\n    class=\"el-menu-item\"\n    role=\"menuitem\"\n    tabindex=\"-1\"\n    :style=\"[paddingStyle, itemStyle, { backgroundColor: itemBackgroundColor }]\"\n    :class=\"{\n      'is-active': active,\n      'is-disabled': disabled\n    }\"\n    @click=\"handleClick\"\n    @mouseenter=\"onMouseEnter\"\n    @focus=\"onMouseEnter\"\n    @blur=\"onMouseLeave\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <el-tooltip\n      v-if=\"\n        parentMenu.type.name === 'ElMenu' && rootMenu.collapse && $slots.title\n      \"\n      effect=\"dark\"\n      placement=\"right\"\n    >\n      <template v-slot:content>\n        <div>\n          <slot name=\"title\"></slot>\n        </div>\n      </template>\n      <div\n        style=\"\n          position: absolute;\n          left: 0;\n          top: 0;\n          height: 100%;\n          width: 100%;\n          display: inline-block;\n          box-sizing: border-box;\n          padding: 0 20px;\n        \"\n      >\n        <slot></slot>\n      </div>\n    </el-tooltip>\n    <template v-else>\n      <slot></slot>\n      <slot name=\"title\"></slot>\n    </template>\n  </li>\n</template>\n<script>\nimport { useMenu } from './src/menu-use'\nimport ElTooltip from '../tooltip'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  computed,\n  getCurrentInstance,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElMenuItem',\n\n  componentName: 'ElMenuItem',\n\n  components: { ElTooltip },\n\n  props: {\n    index: {\n      default: null,\n      validator: (val) => typeof val === 'string' || val === null\n    },\n    route: [String, Object],\n    disabled: Boolean\n  },\n  emits: ['click'],\n  setup(props, { emit }) {\n    const { index, disabled } = toRefs(props)\n    const { parentMenu, paddingStyle, rootMenu, indexPath } = useMenu(\n      index.value\n    )\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter()\n    const active = computed(() => {\n      return index.value === rootMenu.proxy.activeIndex\n    })\n    const hoverBackground = computed(() => {\n      return rootMenu.props.hoverBackground\n    })\n    const backgroundColor = computed(() => {\n      return rootMenu.props.backgroundColor || ''\n    })\n    const itemBackgroundColor = ref(backgroundColor.value)\n    const activeTextColor = computed(() => {\n      return rootMenu.props.activeTextColor || ''\n    })\n    const textColor = computed(() => {\n      return rootMenu.props.textColor || ''\n    })\n    const mode = computed(() => {\n      return rootMenu.props.mode\n    })\n    const isNested = computed(() => {\n      return parentMenu !== rootMenu\n    })\n    const itemStyle = computed(() => {\n      const style = {\n        color: active.value ? activeTextColor.value : textColor.value\n      }\n      if (mode.value === 'horizontal' && !isNested.value) {\n        style.borderBottomColor = active.value\n          ? rootMenu.activeTextColor.value\n            ? activeTextColor.value\n            : ''\n          : 'transparent'\n      }\n      return style\n    })\n    const onMouseEnter = () => {\n      hoverBackground.value &&\n        (itemBackgroundColor.value = hoverBackground.value)\n    }\n    const onMouseLeave = () => {\n      itemBackgroundColor.value = backgroundColor.value\n    }\n    const handleClick = () => {\n      if (!disabled.value) {\n        dispatch('item-click', instance)\n        emit('click', instance)\n      }\n    }\n    onMounted(() => {\n      parentMenu.value.setupState.addItem(instance)\n      rootMenu.setupState.addItem(instance)\n    })\n    onBeforeUnmount(() => {\n      parentMenu.value.setupState.removeItem(instance)\n      rootMenu.setupState.removeItem(instance)\n    })\n    return {\n      paddingStyle,\n      itemStyle,\n      active,\n      handleClick,\n      onMouseEnter,\n      onMouseLeave,\n      rootMenu,\n      parentMenu,\n      indexPath,\n      itemBackgroundColor\n    }\n  }\n}\n</script>\n","import ElMenuItem from '../menu/MenuItem.vue'\n\n/* istanbul ignore next */\nElMenuItem.install = function (app) {\n  app.component(ElMenuItem.name, ElMenuItem)\n}\n\nexport default ElMenuItem\n","<script>\nimport ElCollapseTransition from '../../src/transitions/collapse-transition'\nimport { useMenu, useItems } from './src/menu-use'\nimport { useEmitter } from '../../src/use/emitter'\nimport { usePopper, popperProps } from '../../src/use/popper'\nimport {\n  computed,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  watch,\n  getCurrentInstance,\n  Transition,\n  toRefs\n} from 'vue'\nexport default {\n  name: 'ElSubmenu',\n  componentName: 'ElSubmenu',\n  components: { ElCollapseTransition },\n  props: {\n    ...popperProps,\n    transformOrigin: {\n      type: [Boolean, String],\n      default: false\n    },\n    index: {\n      type: String,\n      required: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 300\n    },\n    hideTimeout: {\n      type: Number,\n      default: 300\n    },\n    popperClass: String,\n    disabled: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: undefined\n    }\n  },\n  emits: ['updatePopper', 'visible', 'update:modelValue', 'created'],\n  setup(props, { emit, slots }) {\n    const {\n      index,\n      disabled,\n      showTimeout,\n      hideTimeout,\n      popperAppendToBody\n    } = toRefs(props)\n    const popperElm = ref(null)\n    const referenceElm = ref(null)\n    const menu = ref(null)\n    const { doDestroy, showPopper, currentPlacement, updatePopper } = usePopper(\n      props,\n      {\n        emit,\n        slots\n      },\n      {\n        popperElm,\n        referenceElm\n      }\n    )\n    const { parentMenu, paddingStyle, rootMenu, indexPath } = useMenu(\n      index.value\n    )\n    const timeout = ref(null)\n    const {\n      items,\n      itemsInstance,\n      submenus,\n      submenusInstance,\n      addItem,\n      removeItem,\n      addSubmenu,\n      removeSubmenu\n    } = useItems()\n    const mouseInChild = ref(false)\n    const instance = getCurrentInstance()\n    const { dispatch, on } = useEmitter()\n    const handleCollapseToggle = (value) => {\n      if (value) {\n        initPopper()\n      } else {\n        doDestroy()\n      }\n    }\n    const handleClick = () => {\n      if (\n        (rootMenu.props.menuTrigger === 'hover' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        disabled.value\n      ) {\n        return\n      }\n      dispatch('submenu-click', instance)\n    }\n    const handleMouseenter = (event, delay = showTimeout.value) => {\n      if (\n        !('ActiveXObject' in window) &&\n        event.type === 'focus' &&\n        !event.relatedTarget\n      ) {\n        return\n      }\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical') ||\n        disabled.value\n      ) {\n        return\n      }\n      dispatch('mouse-enter-child')\n      clearTimeout(timeout.value)\n      timeout.value = setTimeout(() => {\n        rootMenu.setupState.openMenu(index.value, indexPath)\n      }, delay)\n      if (appendToBody.value) {\n        instance.parent.vnode.el.dispatchEvent(new MouseEvent('mouseenter'))\n      }\n    }\n    const handleMouseleave = (deepDispatch = false) => {\n      if (\n        (rootMenu.props.menuTrigger === 'click' &&\n          rootMenu.props.mode === 'horizontal') ||\n        (!rootMenu.props.collapse && rootMenu.props.mode === 'vertical')\n      ) {\n        return\n      }\n      dispatch('mouse-leave-child')\n      clearTimeout(timeout.value)\n      timeout.value = setTimeout(() => {\n        !mouseInChild.value && rootMenu.setupState.closeMenu(index.value)\n      }, hideTimeout.value)\n\n      if (appendToBody.value && deepDispatch) {\n        if (parentMenu.value && parentMenu.value.type.name === 'ElSubmenu') {\n          parentMenu.value.setupState.handleMouseleave(true)\n        }\n      }\n    }\n    const handleTitleMouseenter = () => {\n      hoverBackground.value && (titleBackground.value = hoverBackground.value)\n    }\n    const handleTitleMouseleave = () => {\n      titleBackground.value = backgroundColor.value\n    }\n    const isFirstLevel = computed(() => {\n      let isFirstLevel = true\n      let parent = instance.parent\n      while (parent && parent !== rootMenu) {\n        if (['ElSubmenu', 'ElMenuItemGroup'].indexOf(parent.type.name) > -1) {\n          isFirstLevel = false\n          break\n        } else {\n          parent = parent.parent\n        }\n      }\n      return isFirstLevel\n    })\n    const updatePlacement = () => {\n      currentPlacement.value =\n        mode.value === 'horizontal' && isFirstLevel.value\n          ? 'bottom-start'\n          : 'right-start'\n    }\n    const initPopper = () => {\n      referenceElm.value = instance.vnode.el\n      popperElm.value = menu.value\n      updatePlacement()\n    }\n    const appendToBody = computed(() => {\n      return popperAppendToBody.value === undefined\n        ? isFirstLevel\n        : popperAppendToBody.value\n    })\n    const menuTransitionName = computed(() => {\n      return rootMenu.props.collapse ? 'el-zoom-in-left' : 'el-zoom-in-top'\n    })\n    watch(rootMenu.setupState.openedMenus, (val) => {\n      showPopper.value = val.indexOf(index.value) > -1\n    })\n    const active = computed(() => {\n      let isActive = false\n      Object.keys(items).forEach((index) => {\n        if (itemsInstance[index].proxy.active) {\n          isActive = true\n        }\n      })\n      Object.keys(submenus).forEach((index) => {\n        if (submenusInstance[index].proxy.active) {\n          isActive = true\n        }\n      })\n      return isActive\n    })\n    const hoverBackground = computed(() => {\n      return rootMenu.setupState.hoverBackground\n    })\n    const backgroundColor = computed(() => {\n      return rootMenu.props.backgroundColor || ''\n    })\n    const titleBackground = ref(backgroundColor.value)\n    const activeTextColor = computed(() => {\n      return rootMenu.props.activeTextColor || ''\n    })\n\n    const textColor = computed(() => {\n      return rootMenu.props.textColor || ''\n    })\n\n    const mode = computed(() => {\n      return rootMenu.props.mode\n    })\n    const isMenuPopup = computed(() => {\n      return rootMenu.setupState.isMenuPopup\n    })\n    const titleStyle = computed(() => {\n      if (mode.value !== 'horizontal') {\n        return {\n          color: textColor.value\n        }\n      }\n      return {\n        borderBottomColor: active.value\n          ? activeTextColor.value\n            ? activeTextColor.value\n            : ''\n          : 'transparent',\n        color: active.value ? activeTextColor.value : textColor.value\n      }\n    })\n\n    watch(showPopper, () => {\n      if (isMenuPopup.value) {\n        nextTick(() => {\n          updatePopper()\n        })\n      }\n    })\n    on('toggle-collapse', handleCollapseToggle)\n    on('mouse-enter-child', () => {\n      mouseInChild.value = true\n      clearTimeout(timeout.value)\n    })\n    on('mouse-leave-child', () => {\n      mouseInChild.value = false\n      clearTimeout(timeout.value)\n    })\n\n    onMounted(() => {\n      parentMenu.value.setupState.addSubmenu(instance)\n      rootMenu.setupState.addSubmenu(instance)\n      initPopper()\n      showPopper.value =\n        rootMenu.setupState.openedMenus.indexOf(index.value) > -1\n    })\n\n    onBeforeUnmount(() => {\n      parentMenu.value.setupState.removeSubmenu(instance)\n      rootMenu.setupState.removeSubmenu(instance)\n    })\n    return {\n      active,\n      paddingStyle,\n      titleStyle,\n      backgroundColor,\n      rootMenu,\n      currentPlacement,\n      menuTransitionName,\n      mode,\n      isFirstLevel,\n      isMenuPopup,\n      handleTitleMouseleave,\n      handleTitleMouseenter,\n      handleClick,\n      handleMouseenter,\n      addItem,\n      removeItem,\n      addSubmenu,\n      removeSubmenu,\n      showPopper,\n      handleMouseleave,\n      menu,\n      titleBackground,\n      indexPath\n    }\n  },\n  render() {\n    const {\n      active,\n      showPopper,\n      paddingStyle,\n      titleStyle,\n      backgroundColor,\n      rootMenu,\n      currentPlacement,\n      menuTransitionName,\n      mode,\n      disabled,\n      popperClass,\n      $slots,\n      isFirstLevel,\n      isMenuPopup,\n      handleMouseenter,\n      handleMouseleave,\n      handleClick,\n      handleTitleMouseleave,\n      handleTitleMouseenter,\n      titleBackground\n    } = this\n    const popupMenu = (\n      <Transition name={menuTransitionName}>\n        <div\n          ref=\"menu\"\n          v-show={showPopper}\n          class={[`el-menu--${mode}`, popperClass]}\n          onMouseenter={($event) => handleMouseenter($event, 100)}\n          onMouseleave={() => handleMouseleave(true)}\n          onFocus={($event) => handleMouseenter($event, 100)}\n        >\n          <ul\n            role=\"menu\"\n            class={[\n              'el-menu el-menu--popup',\n              `el-menu--popup-${currentPlacement}`\n            ]}\n            style={{ backgroundColor }}\n          >\n            {$slots.default()}\n          </ul>\n        </div>\n      </Transition>\n    )\n    const inlineMenu = (\n      <el-collapse-transition>\n        <ul\n          role=\"menu\"\n          class=\"el-menu el-menu--inline\"\n          v-show={showPopper}\n          style={{ backgroundColor }}\n        >\n          {$slots.default()}\n        </ul>\n      </el-collapse-transition>\n    )\n    const submenuTitleIcon =\n      (rootMenu.props.mode === 'horizontal' && isFirstLevel) ||\n      (rootMenu.props.mode === 'vertical' && !rootMenu.props.collapse)\n        ? 'el-icon-arrow-down'\n        : 'el-icon-arrow-right'\n    return (\n      <li\n        class={{\n          'el-submenu': true,\n          'is-active': active,\n          'is-opened': showPopper,\n          'is-disabled': disabled\n        }}\n        role=\"menuitem\"\n        aria-haspopup=\"true\"\n        aria-expanded={showPopper}\n        onMouseenter={handleMouseenter}\n        onMouseleave={() => {\n          handleMouseleave(false)\n        }}\n        onFocus={handleMouseenter}\n      >\n        <div\n          class=\"el-submenu__title\"\n          onClick={handleClick}\n          onMouseenter={handleTitleMouseenter}\n          onMouseleave={handleTitleMouseleave}\n          style={[\n            paddingStyle,\n            titleStyle,\n            { backgroundColor: titleBackground }\n          ]}\n        >\n          {$slots.title && $slots.title()}\n          <i class={['el-submenu__icon-arrow', submenuTitleIcon]}></i>\n        </div>\n        {isMenuPopup ? popupMenu : inlineMenu}\n      </li>\n    )\n  }\n}\n</script>\n","import ElSubmenu from '../menu/Submenu.vue'\n\n/* istanbul ignore next */\nElSubmenu.install = function (app) {\n  app.component(ElSubmenu.name, ElSubmenu)\n}\n\nexport default ElSubmenu\n","<template>\n  <li class=\"el-menu-item-group\">\n    <div\n      class=\"el-menu-item-group__title\"\n      :style=\"{ paddingLeft: levelPadding + 'px' }\"\n    >\n      <template v-if=\"!$slots.title\">{{ title }}</template>\n      <slot v-else name=\"title\"></slot>\n    </div>\n    <ul>\n      <slot></slot>\n    </ul>\n  </li>\n</template>\n<script>\nimport { computed, getCurrentInstance, inject } from 'vue'\nexport default {\n  name: 'ElMenuItemGroup',\n\n  componentName: 'ElMenuItemGroup',\n\n  props: {\n    title: {\n      type: String\n    }\n  },\n  setup() {\n    const instance = getCurrentInstance()\n    const rootMenu = inject('rootMenu')\n    const levelPadding = computed(() => {\n      let padding = 20\n      let parent = instance.parent\n      if (rootMenu.props.collapse) return 20\n      while (parent && parent.type.name !== 'ElMenu') {\n        if (parent.type.name === 'ElSubmenu') {\n          padding += 20\n        }\n        parent = parent.parent\n      }\n      return padding\n    })\n    return {\n      levelPadding\n    }\n  }\n}\n</script>\n","<template>\n  <li class=\"el-menu-item-group\">\n    <div\n      class=\"el-menu-item-group__title\"\n      :style=\"{ paddingLeft: levelPadding + 'px' }\"\n    >\n      <template v-if=\"!$slots.title\">{{ title }}</template>\n      <slot v-else name=\"title\"></slot>\n    </div>\n    <ul>\n      <slot></slot>\n    </ul>\n  </li>\n</template>\n<script>\nimport { computed, getCurrentInstance, inject } from 'vue'\nexport default {\n  name: 'ElMenuItemGroup',\n\n  componentName: 'ElMenuItemGroup',\n\n  props: {\n    title: {\n      type: String\n    }\n  },\n  setup() {\n    const instance = getCurrentInstance()\n    const rootMenu = inject('rootMenu')\n    const levelPadding = computed(() => {\n      let padding = 20\n      let parent = instance.parent\n      if (rootMenu.props.collapse) return 20\n      while (parent && parent.type.name !== 'ElMenu') {\n        if (parent.type.name === 'ElSubmenu') {\n          padding += 20\n        }\n        parent = parent.parent\n      }\n      return padding\n    })\n    return {\n      levelPadding\n    }\n  }\n}\n</script>\n","import ElMenuItemGroup from '../menu/MenuItemGroup'\n\n/* istanbul ignore next */\nElMenuItemGroup.install = function (app) {\n  app.component(ElMenuItemGroup.name, ElMenuItemGroup)\n}\n\nexport default ElMenuItemGroup\n","<template>\n  <div\n    class=\"el-tabs\"\n    :class=\"[\n      'el-tabs--' + tabPosition,\n      {\n        'el-tabs--card': type === 'card',\n        'el-tabs--border-card': type === 'border-card'\n      }\n    ]\"\n    ref=\"tabs\"\n  >\n    <div ref=\"hander\" class=\"el-tabs__header\" :class=\"['is-' + tabPosition]\">\n      <span\n        v-if=\"addable || editable\"\n        tabindex=\"0\"\n        class=\"el-tabs__new-tab\"\n        @click=\"$emit('edit', null, 'add')\"\n        ><i class=\"el-icon-plus\"></i\n      ></span>\n      <div\n        class=\"el-tabs__nav-wrap\"\n        :class=\"['is-' + tabPosition, { 'is-scrollable': scrollable }]\"\n      >\n        <span\n          v-if=\"scrollable\"\n          class=\"el-tabs__nav-prev\"\n          @click=\"handleClickLeft\"\n          ><i class=\"el-icon-arrow-left\"></i\n        ></span>\n        <span\n          v-if=\"scrollable\"\n          class=\"el-tabs__nav-next\"\n          @click=\"handleClickRight\"\n          ><i class=\"el-icon-arrow-right\"></i\n        ></span>\n        <div class=\"el-tabs__nav-scroll\" ref=\"tabScroll\">\n          <div\n            class=\"el-tabs__nav\"\n            :class=\"[\n              'is-' + tabPosition,\n              {\n                'is-stretch':\n                  stretch && { top: true, bottom: true }[tabPosition]\n              }\n            ]\"\n            ref=\"tabNav\"\n          >\n            <div\n              class=\"el-tabs__active-bar\"\n              :class=\"['is-' + tabPosition]\"\n              :style=\"activeBarStyle\"\n            ></div>\n            <div\n              v-for=\"(item, index) in tabList\"\n              class=\"el-tabs__item is-closable\"\n              :class=\"[\n                'is-' + tabPosition,\n                {\n                  'is-active': index === state.activeIndex,\n                  'is-closable': closable || editable || item.closable,\n                  'is-disabled': item.disabled\n                }\n              ]\"\n              role=\"tab\"\n              tabindex=\"-1\"\n              :ref=\"(el) => (tabElList[index] = el)\"\n              :key=\"item.name\"\n              @click=\"handleClick(item, index, $event)\"\n            >\n              <component\n                :is=\"{\n                  render: () => item.pane.slots.label && item.pane.slots.label()\n                }\"\n              ></component>\n              {{ item.label }}\n              <span\n                v-if=\"closable || editable || item.closable\"\n                class=\"el-icon-close\"\n                @click.stop=\"handleClose(item, index, $event)\"\n              ></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ref=\"content\" class=\"el-tabs__content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onUpdated,\n  provide,\n  reactive,\n  computed,\n  ref,\n  watch,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElTabs',\n\n  props: {\n    modelValue: [String, Number],\n    type: { type: String, default: '' },\n    closable: Boolean,\n    addable: Boolean,\n    editable: Boolean,\n    tabPosition: { type: String, default: 'top' },\n    stretch: Boolean,\n    beforeLeave: { type: Function, default: () => () => true }\n  },\n\n  emits: ['update:modelValue', 'tab-click', 'tab-remove', 'tab-add', 'edit'],\n\n  setup: function (props) {\n    const tabList = reactive([])\n    const tabElList = reactive([])\n\n    const {\n      scrollable,\n      tabs,\n      tabScroll,\n      tabNav,\n      direction,\n      scrollToActive,\n      handleClickLeft,\n      handleClickRight\n    } = useTabScroll({\n      tabElList\n    })\n\n    const { state, handleClick, handleClose } = useTabNav({\n      tabElList,\n      tabList,\n      scrollToActive\n    })\n\n    const { activeBarStyle } = useTabBarStyle({ tabList, state, direction })\n\n    provide('elTabsInfo', {\n      tabList,\n      props,\n      state\n    })\n\n    return {\n      activeBarStyle,\n      state,\n      tabList,\n      tabElList,\n      scrollable,\n      tabScroll,\n      tabNav,\n      tabs,\n      handleClick,\n      handleClose,\n      handleClickLeft,\n      handleClickRight\n    }\n  }\n}\n\nfunction useTabBarStyle({ tabList, state, direction }) {\n  const activeBarStyle = computed(() => {\n    const { sizeName, textSizeName, posName, dirFlag } = direction.value\n    return [\n      `${sizeName}: ${\n        tabList[state.activeIndex] && tabList[state.activeIndex][textSizeName]\n      }px`,\n      `transform: translate${dirFlag}(${\n        tabList[state.activeIndex] && tabList[state.activeIndex][posName]\n      }px)`\n    ]\n  })\n  return { activeBarStyle }\n}\n\nfunction useTabNav({ tabList, tabElList, scrollToActive }) {\n  const instance = getCurrentInstance()\n  const state = reactive({ activeName: '', activeIndex: -1 })\n\n  watch(toRefs(instance.props).modelValue || ref(null), (v) => {\n    const tabIndex = tabList.findIndex((item) => item.name === v)\n    if (tabIndex === -1) return\n    switchTab(tabList[tabIndex], tabIndex)\n  })\n\n  onMounted(async () => {\n    await nextTick()\n    if (!tabList.length) return\n    await handleClick(tabList[0], 0)\n  })\n\n  onUpdated(async () => {\n    await nextTick()\n    tabElList.forEach((el, index) => {\n      const style = window.getComputedStyle(el)\n      tabList[index].width = parseFloat(style.width)\n      tabList[index].textWidth =\n        parseFloat(style.width) -\n        (parseFloat(style.paddingLeft) + parseFloat(style.paddingRight))\n      tabList[index].height = parseFloat(style.height)\n      tabList[index].textHeight =\n        parseFloat(style.height) -\n        (parseFloat(style.paddingTop) + parseFloat(style.paddingBottom))\n      tabList[index].x =\n        parseFloat(style.paddingLeft) + parseFloat(el.offsetLeft)\n      tabList[index].y = parseFloat(style.paddingTop) + parseFloat(el.offsetTop)\n    })\n  })\n\n  const switchTab = async (item, index) => {\n    if (index === state.activeIndex) {\n      return false\n    }\n    if (item.disabled) {\n      return false\n    }\n    const isLeave = await instance.props.beforeLeave(\n      item.name,\n      state.activeName\n    )\n    if (!isLeave) {\n      return false\n    }\n    item.rendered = true\n    state.activeName = item.name\n    state.activeIndex = index\n    scrollToActive(item)\n    return true\n  }\n\n  const handleClick = async (item, index, e) => {\n    await switchTab(item, index)\n    instance.emit('update:modelValue', state.activeName)\n    instance.emit('tab-click', tabList[index], e)\n  }\n\n  const handleClose = (item, index, e) => {\n    tabList.splice(index, 1)\n    nextTick(() => {\n      tabElList.splice(index, 1)\n    })\n    instance.emit('tab-remove', item.name, index, item, e)\n    instance.emit('edit', item.name, 'remove')\n  }\n\n  return {\n    state,\n    handleClick,\n    handleClose\n  }\n}\n\nfunction useTabScroll({ tabElList }) {\n  const instance = getCurrentInstance()\n  const tabs = ref(null)\n  const tabScroll = ref(null)\n  const tabNav = ref(null)\n  const scrollable = ref(false)\n  const scrollSize = ref(0)\n  const direction = computed(() => {\n    const dirFlag = { bottom: true, top: true }[instance.props.tabPosition]\n      ? 'X'\n      : 'Y'\n    const sizeName = { X: 'width', Y: 'height' }[dirFlag]\n    const textSizeName = { X: 'textWidth', Y: 'textHeight' }[dirFlag]\n    const offsetName = { X: 'offsetWidth', Y: 'offsetHeight' }[dirFlag]\n    const scrollName = { X: 'scrollWidth', Y: 'scrollHeight' }[dirFlag]\n    const posName = dirFlag.toLocaleLowerCase()\n\n    scrollSize.value = 0\n\n    dirFlag === 'X'\n      ? instance.refs.hander &&\n        instance.refs.hander.before(instance.refs.content)\n      : instance.refs.content &&\n        instance.refs.content.before(instance.refs.hander)\n\n    return {\n      dirFlag,\n      sizeName,\n      textSizeName,\n      posName,\n      offsetName,\n      scrollName\n    }\n  })\n\n  const viewArea = computed(() => {\n    const { offsetName } = direction.value\n    return {\n      start: Math.abs(scrollSize.value),\n      end: Math.abs(scrollSize.value) + tabScroll.value[offsetName]\n    }\n  })\n\n  onUpdated(async () => {\n    await nextTick()\n    const { sizeName, offsetName } = direction.value\n    let sizeSum = 0\n    tabElList.forEach((el) => {\n      const style = window.getComputedStyle(el)\n      sizeSum += parseFloat(style[sizeName])\n    })\n    scrollable.value = sizeSum > tabScroll.value[offsetName]\n  })\n\n  watch(scrollSize, () => {\n    const { dirFlag, offsetName } = direction.value\n    scrollSize.value = Math.min(scrollSize.value, 0)\n    scrollSize.value = Math.max(\n      scrollSize.value,\n      tabScroll.value[offsetName] - tabNav.value[offsetName]\n    )\n    tabNav.value.style.transform = `translate${dirFlag}(${scrollSize.value}px)`\n  })\n\n  const scrollToActive = (item) => {\n    if (!scrollable.value) {\n      return\n    }\n    const { sizeName, posName, offsetName } = direction.value\n    scrollSize.value =\n      (item[posName] + item[sizeName] / 2) * -1 +\n      tabScroll.value[offsetName] / 2\n  }\n\n  const handleClickLeft = () => {\n    const { offsetName } = direction.value\n    scrollSize.value += tabScroll.value[offsetName]\n  }\n  const handleClickRight = () => {\n    const { offsetName } = direction.value\n    scrollSize.value -= tabScroll.value[offsetName]\n  }\n  return {\n    viewArea,\n    scrollable,\n    tabs,\n    tabNav,\n    tabScroll,\n    direction,\n    scrollToActive,\n    handleClickLeft,\n    handleClickRight\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-tabs\"\n    :class=\"[\n      'el-tabs--' + tabPosition,\n      {\n        'el-tabs--card': type === 'card',\n        'el-tabs--border-card': type === 'border-card'\n      }\n    ]\"\n    ref=\"tabs\"\n  >\n    <div ref=\"hander\" class=\"el-tabs__header\" :class=\"['is-' + tabPosition]\">\n      <span\n        v-if=\"addable || editable\"\n        tabindex=\"0\"\n        class=\"el-tabs__new-tab\"\n        @click=\"$emit('edit', null, 'add')\"\n        ><i class=\"el-icon-plus\"></i\n      ></span>\n      <div\n        class=\"el-tabs__nav-wrap\"\n        :class=\"['is-' + tabPosition, { 'is-scrollable': scrollable }]\"\n      >\n        <span\n          v-if=\"scrollable\"\n          class=\"el-tabs__nav-prev\"\n          @click=\"handleClickLeft\"\n          ><i class=\"el-icon-arrow-left\"></i\n        ></span>\n        <span\n          v-if=\"scrollable\"\n          class=\"el-tabs__nav-next\"\n          @click=\"handleClickRight\"\n          ><i class=\"el-icon-arrow-right\"></i\n        ></span>\n        <div class=\"el-tabs__nav-scroll\" ref=\"tabScroll\">\n          <div\n            class=\"el-tabs__nav\"\n            :class=\"[\n              'is-' + tabPosition,\n              {\n                'is-stretch':\n                  stretch && { top: true, bottom: true }[tabPosition]\n              }\n            ]\"\n            ref=\"tabNav\"\n          >\n            <div\n              class=\"el-tabs__active-bar\"\n              :class=\"['is-' + tabPosition]\"\n              :style=\"activeBarStyle\"\n            ></div>\n            <div\n              v-for=\"(item, index) in tabList\"\n              class=\"el-tabs__item is-closable\"\n              :class=\"[\n                'is-' + tabPosition,\n                {\n                  'is-active': index === state.activeIndex,\n                  'is-closable': closable || editable || item.closable,\n                  'is-disabled': item.disabled\n                }\n              ]\"\n              role=\"tab\"\n              tabindex=\"-1\"\n              :ref=\"(el) => (tabElList[index] = el)\"\n              :key=\"item.name\"\n              @click=\"handleClick(item, index, $event)\"\n            >\n              <component\n                :is=\"{\n                  render: () => item.pane.slots.label && item.pane.slots.label()\n                }\"\n              ></component>\n              {{ item.label }}\n              <span\n                v-if=\"closable || editable || item.closable\"\n                class=\"el-icon-close\"\n                @click.stop=\"handleClose(item, index, $event)\"\n              ></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ref=\"content\" class=\"el-tabs__content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onUpdated,\n  provide,\n  reactive,\n  computed,\n  ref,\n  watch,\n  toRefs\n} from 'vue'\n\nexport default {\n  name: 'ElTabs',\n\n  props: {\n    modelValue: [String, Number],\n    type: { type: String, default: '' },\n    closable: Boolean,\n    addable: Boolean,\n    editable: Boolean,\n    tabPosition: { type: String, default: 'top' },\n    stretch: Boolean,\n    beforeLeave: { type: Function, default: () => () => true }\n  },\n\n  emits: ['update:modelValue', 'tab-click', 'tab-remove', 'tab-add', 'edit'],\n\n  setup: function (props) {\n    const tabList = reactive([])\n    const tabElList = reactive([])\n\n    const {\n      scrollable,\n      tabs,\n      tabScroll,\n      tabNav,\n      direction,\n      scrollToActive,\n      handleClickLeft,\n      handleClickRight\n    } = useTabScroll({\n      tabElList\n    })\n\n    const { state, handleClick, handleClose } = useTabNav({\n      tabElList,\n      tabList,\n      scrollToActive\n    })\n\n    const { activeBarStyle } = useTabBarStyle({ tabList, state, direction })\n\n    provide('elTabsInfo', {\n      tabList,\n      props,\n      state\n    })\n\n    return {\n      activeBarStyle,\n      state,\n      tabList,\n      tabElList,\n      scrollable,\n      tabScroll,\n      tabNav,\n      tabs,\n      handleClick,\n      handleClose,\n      handleClickLeft,\n      handleClickRight\n    }\n  }\n}\n\nfunction useTabBarStyle({ tabList, state, direction }) {\n  const activeBarStyle = computed(() => {\n    const { sizeName, textSizeName, posName, dirFlag } = direction.value\n    return [\n      `${sizeName}: ${\n        tabList[state.activeIndex] && tabList[state.activeIndex][textSizeName]\n      }px`,\n      `transform: translate${dirFlag}(${\n        tabList[state.activeIndex] && tabList[state.activeIndex][posName]\n      }px)`\n    ]\n  })\n  return { activeBarStyle }\n}\n\nfunction useTabNav({ tabList, tabElList, scrollToActive }) {\n  const instance = getCurrentInstance()\n  const state = reactive({ activeName: '', activeIndex: -1 })\n\n  watch(toRefs(instance.props).modelValue || ref(null), (v) => {\n    const tabIndex = tabList.findIndex((item) => item.name === v)\n    if (tabIndex === -1) return\n    switchTab(tabList[tabIndex], tabIndex)\n  })\n\n  onMounted(async () => {\n    await nextTick()\n    if (!tabList.length) return\n    await handleClick(tabList[0], 0)\n  })\n\n  onUpdated(async () => {\n    await nextTick()\n    tabElList.forEach((el, index) => {\n      const style = window.getComputedStyle(el)\n      tabList[index].width = parseFloat(style.width)\n      tabList[index].textWidth =\n        parseFloat(style.width) -\n        (parseFloat(style.paddingLeft) + parseFloat(style.paddingRight))\n      tabList[index].height = parseFloat(style.height)\n      tabList[index].textHeight =\n        parseFloat(style.height) -\n        (parseFloat(style.paddingTop) + parseFloat(style.paddingBottom))\n      tabList[index].x =\n        parseFloat(style.paddingLeft) + parseFloat(el.offsetLeft)\n      tabList[index].y = parseFloat(style.paddingTop) + parseFloat(el.offsetTop)\n    })\n  })\n\n  const switchTab = async (item, index) => {\n    if (index === state.activeIndex) {\n      return false\n    }\n    if (item.disabled) {\n      return false\n    }\n    const isLeave = await instance.props.beforeLeave(\n      item.name,\n      state.activeName\n    )\n    if (!isLeave) {\n      return false\n    }\n    item.rendered = true\n    state.activeName = item.name\n    state.activeIndex = index\n    scrollToActive(item)\n    return true\n  }\n\n  const handleClick = async (item, index, e) => {\n    await switchTab(item, index)\n    instance.emit('update:modelValue', state.activeName)\n    instance.emit('tab-click', tabList[index], e)\n  }\n\n  const handleClose = (item, index, e) => {\n    tabList.splice(index, 1)\n    nextTick(() => {\n      tabElList.splice(index, 1)\n    })\n    instance.emit('tab-remove', item.name, index, item, e)\n    instance.emit('edit', item.name, 'remove')\n  }\n\n  return {\n    state,\n    handleClick,\n    handleClose\n  }\n}\n\nfunction useTabScroll({ tabElList }) {\n  const instance = getCurrentInstance()\n  const tabs = ref(null)\n  const tabScroll = ref(null)\n  const tabNav = ref(null)\n  const scrollable = ref(false)\n  const scrollSize = ref(0)\n  const direction = computed(() => {\n    const dirFlag = { bottom: true, top: true }[instance.props.tabPosition]\n      ? 'X'\n      : 'Y'\n    const sizeName = { X: 'width', Y: 'height' }[dirFlag]\n    const textSizeName = { X: 'textWidth', Y: 'textHeight' }[dirFlag]\n    const offsetName = { X: 'offsetWidth', Y: 'offsetHeight' }[dirFlag]\n    const scrollName = { X: 'scrollWidth', Y: 'scrollHeight' }[dirFlag]\n    const posName = dirFlag.toLocaleLowerCase()\n\n    scrollSize.value = 0\n\n    dirFlag === 'X'\n      ? instance.refs.hander &&\n        instance.refs.hander.before(instance.refs.content)\n      : instance.refs.content &&\n        instance.refs.content.before(instance.refs.hander)\n\n    return {\n      dirFlag,\n      sizeName,\n      textSizeName,\n      posName,\n      offsetName,\n      scrollName\n    }\n  })\n\n  const viewArea = computed(() => {\n    const { offsetName } = direction.value\n    return {\n      start: Math.abs(scrollSize.value),\n      end: Math.abs(scrollSize.value) + tabScroll.value[offsetName]\n    }\n  })\n\n  onUpdated(async () => {\n    await nextTick()\n    const { sizeName, offsetName } = direction.value\n    let sizeSum = 0\n    tabElList.forEach((el) => {\n      const style = window.getComputedStyle(el)\n      sizeSum += parseFloat(style[sizeName])\n    })\n    scrollable.value = sizeSum > tabScroll.value[offsetName]\n  })\n\n  watch(scrollSize, () => {\n    const { dirFlag, offsetName } = direction.value\n    scrollSize.value = Math.min(scrollSize.value, 0)\n    scrollSize.value = Math.max(\n      scrollSize.value,\n      tabScroll.value[offsetName] - tabNav.value[offsetName]\n    )\n    tabNav.value.style.transform = `translate${dirFlag}(${scrollSize.value}px)`\n  })\n\n  const scrollToActive = (item) => {\n    if (!scrollable.value) {\n      return\n    }\n    const { sizeName, posName, offsetName } = direction.value\n    scrollSize.value =\n      (item[posName] + item[sizeName] / 2) * -1 +\n      tabScroll.value[offsetName] / 2\n  }\n\n  const handleClickLeft = () => {\n    const { offsetName } = direction.value\n    scrollSize.value += tabScroll.value[offsetName]\n  }\n  const handleClickRight = () => {\n    const { offsetName } = direction.value\n    scrollSize.value -= tabScroll.value[offsetName]\n  }\n  return {\n    viewArea,\n    scrollable,\n    tabs,\n    tabNav,\n    tabScroll,\n    direction,\n    scrollToActive,\n    handleClickLeft,\n    handleClickRight\n  }\n}\n</script>\n","import ElTabs from './Tabs'\n\n/* istanbul ignore next */\nElTabs.install = function (app) {\n  app.component(ElTabs.name, ElTabs)\n}\n\nexport default ElTabs\n","<template>\n  <div\n    v-if=\"lazy ? tab.rendered : true\"\n    v-show=\"\n      typeof elTabsInfo.props.modelValue !== 'undefined'\n        ? elTabsInfo.state.activeName === name\n        : elTabsInfo.state.activeIndex === index\n    \"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { getCurrentInstance, inject, ref, reactive } from 'vue'\n\nexport default {\n  name: 'ElTabPane',\n\n  props: {\n    label: [String, Number],\n    name: [String, Number],\n    disabled: Boolean,\n    closable: Boolean,\n    lazy: Boolean\n  },\n\n  setup(props) {\n    const index = ref(0)\n    const instance = getCurrentInstance()\n\n    const elTabsInfo = inject('elTabsInfo', null)\n\n    const tab = reactive({\n      label: props.label,\n      name: props.name,\n      disabled: props.disabled,\n      closable: props.closable,\n      rendered: false,\n      pane: instance\n    })\n\n    if (!elTabsInfo) {\n      console.error('Element: not find parent ETabs')\n      return\n    }\n\n    index.value = elTabsInfo.tabList.length\n    elTabsInfo.tabList[index.value] = tab\n\n    return {\n      elTabsInfo,\n      tab,\n      index\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    v-if=\"lazy ? tab.rendered : true\"\n    v-show=\"\n      typeof elTabsInfo.props.modelValue !== 'undefined'\n        ? elTabsInfo.state.activeName === name\n        : elTabsInfo.state.activeIndex === index\n    \"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { getCurrentInstance, inject, ref, reactive } from 'vue'\n\nexport default {\n  name: 'ElTabPane',\n\n  props: {\n    label: [String, Number],\n    name: [String, Number],\n    disabled: Boolean,\n    closable: Boolean,\n    lazy: Boolean\n  },\n\n  setup(props) {\n    const index = ref(0)\n    const instance = getCurrentInstance()\n\n    const elTabsInfo = inject('elTabsInfo', null)\n\n    const tab = reactive({\n      label: props.label,\n      name: props.name,\n      disabled: props.disabled,\n      closable: props.closable,\n      rendered: false,\n      pane: instance\n    })\n\n    if (!elTabsInfo) {\n      console.error('Element: not find parent ETabs')\n      return\n    }\n\n    index.value = elTabsInfo.tabList.length\n    elTabsInfo.tabList[index.value] = tab\n\n    return {\n      elTabsInfo,\n      tab,\n      index\n    }\n  }\n}\n</script>\n","import ElTabPane from './TabPane'\n\n/* istanbul ignore next */\nElTabPane.install = function (app) {\n  app.component(ElTabPane.name, ElTabPane)\n}\n\nexport default ElTabPane\n","<template>\n  <div\n    ref=\"root\"\n    class=\"el-breadcrumb\"\n    aria-label=\"Breadcrumb\"\n    role=\"navigation\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { ref, onMounted, provide, toRefs } from 'vue'\nexport default {\n  name: 'ElBreadcrumb',\n  props: {\n    separator: {\n      type: String,\n      default: '/'\n    },\n    separatorClass: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const { separator, separatorClass } = toRefs(props)\n    const root = ref(null)\n    provide('separator', separator)\n    provide('separatorClass', separatorClass)\n    onMounted(() => {\n      const items = root.value.querySelectorAll('.el-breadcrumb__item')\n      if (items.length) {\n        items[items.length - 1].setAttribute('aria-current', 'page')\n      }\n    })\n    return {\n      root\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    ref=\"root\"\n    class=\"el-breadcrumb\"\n    aria-label=\"Breadcrumb\"\n    role=\"navigation\"\n  >\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport { ref, onMounted, provide, toRefs } from 'vue'\nexport default {\n  name: 'ElBreadcrumb',\n  props: {\n    separator: {\n      type: String,\n      default: '/'\n    },\n    separatorClass: {\n      type: String,\n      default: ''\n    }\n  },\n  setup(props) {\n    const { separator, separatorClass } = toRefs(props)\n    const root = ref(null)\n    provide('separator', separator)\n    provide('separatorClass', separatorClass)\n    onMounted(() => {\n      const items = root.value.querySelectorAll('.el-breadcrumb__item')\n      if (items.length) {\n        items[items.length - 1].setAttribute('aria-current', 'page')\n      }\n    })\n    return {\n      root\n    }\n  }\n}\n</script>\n","import ElBreadcrumb from './Breadcrumb.vue'\n\n/* istanbul ignore next */\nElBreadcrumb.install = function (app) {\n  app.component(ElBreadcrumb.name, ElBreadcrumb)\n}\n\nexport default ElBreadcrumb\n","<template>\n  <span class=\"el-breadcrumb__item\">\n    <span\n      :class=\"['el-breadcrumb__inner', to ? 'is-link' : '']\"\n      ref=\"link\"\n      role=\"link\"\n    >\n      <slot></slot>\n    </span>\n    <i\n      v-if=\"separatorClass\"\n      class=\"el-breadcrumb__separator\"\n      :class=\"separatorClass\"\n    ></i>\n    <span v-else class=\"el-breadcrumb__separator\" role=\"presentation\">\n      {{ separator }}\n    </span>\n  </span>\n</template>\n<script>\nimport { inject, ref, onMounted, getCurrentInstance, toRefs } from 'vue'\nexport default {\n  name: 'ElBreadcrumbItem',\n  props: {\n    to: {},\n    replace: Boolean\n  },\n  setup(props) {\n    const { replace } = toRefs(props)\n    const separator = inject('separator')\n    const separatorClass = inject('separatorClass')\n    const link = ref(null)\n    const { proxy } = getCurrentInstance()\n    onMounted(() => {\n      link.value.setAttribute('role', 'link')\n      link.value.addEventListener('click', () => {\n        if (!props.to || !proxy.$router) return\n        replace ? proxy.$router.replace(props.to) : proxy.$router.push(props.to)\n      })\n    })\n    return {\n      separator,\n      separatorClass,\n      link\n    }\n  }\n}\n</script>\n","<template>\n  <span class=\"el-breadcrumb__item\">\n    <span\n      :class=\"['el-breadcrumb__inner', to ? 'is-link' : '']\"\n      ref=\"link\"\n      role=\"link\"\n    >\n      <slot></slot>\n    </span>\n    <i\n      v-if=\"separatorClass\"\n      class=\"el-breadcrumb__separator\"\n      :class=\"separatorClass\"\n    ></i>\n    <span v-else class=\"el-breadcrumb__separator\" role=\"presentation\">\n      {{ separator }}\n    </span>\n  </span>\n</template>\n<script>\nimport { inject, ref, onMounted, getCurrentInstance, toRefs } from 'vue'\nexport default {\n  name: 'ElBreadcrumbItem',\n  props: {\n    to: {},\n    replace: Boolean\n  },\n  setup(props) {\n    const { replace } = toRefs(props)\n    const separator = inject('separator')\n    const separatorClass = inject('separatorClass')\n    const link = ref(null)\n    const { proxy } = getCurrentInstance()\n    onMounted(() => {\n      link.value.setAttribute('role', 'link')\n      link.value.addEventListener('click', () => {\n        if (!props.to || !proxy.$router) return\n        replace ? proxy.$router.replace(props.to) : proxy.$router.push(props.to)\n      })\n    })\n    return {\n      separator,\n      separatorClass,\n      link\n    }\n  }\n}\n</script>\n","import ElBreadcrumbItem from '../breadcrumb/BreadcrumbItem.vue'\n\n/* istanbul ignore next */\nElBreadcrumbItem.install = function (app) {\n  app.component(ElBreadcrumbItem.name, ElBreadcrumbItem)\n}\n\nexport default ElBreadcrumbItem\n","<template>\n  <div class=\"el-page-header\">\n    <div class=\"el-page-header__left\" @click=\"handleClick\">\n      <i class=\"el-icon-back\"></i>\n      <div class=\"el-page-header__title\">\n        <slot name=\"title\">{{ title }}</slot>\n      </div>\n    </div>\n    <div class=\"el-page-header__content\">\n      <slot name=\"content\">{{ content }}</slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { t } from '../../src/locale'\nexport default {\n  name: 'ElPageHeader',\n  props: {\n    title: {\n      type: String,\n      default() {\n        return t('el.pageHeader.title')\n      }\n    },\n    content: String\n  },\n  emits: ['back'],\n  setup(props, ctx) {\n    const handleClick = (evt) => {\n      ctx.emit('back', evt)\n    }\n    return {\n      handleClick\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-page-header\">\n    <div class=\"el-page-header__left\" @click=\"handleClick\">\n      <i class=\"el-icon-back\"></i>\n      <div class=\"el-page-header__title\">\n        <slot name=\"title\">{{ title }}</slot>\n      </div>\n    </div>\n    <div class=\"el-page-header__content\">\n      <slot name=\"content\">{{ content }}</slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { t } from '../../src/locale'\nexport default {\n  name: 'ElPageHeader',\n  props: {\n    title: {\n      type: String,\n      default() {\n        return t('el.pageHeader.title')\n      }\n    },\n    content: String\n  },\n  emits: ['back'],\n  setup(props, ctx) {\n    const handleClick = (evt) => {\n      ctx.emit('back', evt)\n    }\n    return {\n      handleClick\n    }\n  }\n}\n</script>\n","import ElPageHeader from './PageHeader.vue'\n\n/* istanbul ignore next */\nElPageHeader.install = function (app) {\n  app.component(ElPageHeader.name, ElPageHeader)\n}\n\nexport default ElPageHeader\n","<script lang=\"jsx\">\nimport {\n  provide,\n  toRefs,\n  getCurrentInstance,\n  ref,\n  computed,\n  watch,\n  h\n} from 'vue'\nimport { useEmitter } from '../../../src/use/emitter.js'\nimport Clickoutside from '../../../src/directives/clickoutside.js'\n\nimport { ElButton } from '../../../src/components/Button'\nimport ElButtonGroup from '../../button-group'\nimport { generateId } from '../../../src/utils/util.js'\n\nexport default {\n  name: 'ElDropdown',\n\n  componentName: 'ElDropdown',\n\n  directives: { Clickoutside },\n\n  emits: ['menu-item-click', 'visible-change', 'command'],\n\n  components: {\n    ElButton,\n    ElButtonGroup\n  },\n\n  provide() {\n    return {\n      dropdown: this\n    }\n  },\n\n  props: {\n    trigger: {\n      type: String,\n      default: 'hover'\n    },\n    type: String,\n    size: {\n      type: String,\n      default: ''\n    },\n    splitButton: Boolean,\n    hideOnClick: {\n      type: Boolean,\n      default: true\n    },\n    placement: {\n      type: String,\n      default: 'bottom-end'\n    },\n    visibleArrow: {\n      default: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 250\n    },\n    hideTimeout: {\n      type: Number,\n      default: 150\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  setup(props, { emit, slots }) {\n    const instance = getCurrentInstance()\n    const {\n      size,\n      trigger,\n      showTimeout,\n      tabindex,\n      hideTimeout,\n      hideOnClick,\n      splitButton,\n      type\n    } = toRefs(props)\n    const dropdownSize = computed(() => {\n      return size.value || instance.proxy?.$ELEMENT?.size\n    })\n\n    const timeout = ref(0)\n    const visible = ref(false)\n    const triggerElm = ref(null)\n    const show = () => {\n      if (triggerElm.value?.disabled) return\n      clearTimeout(timeout.value)\n      timeout.value = setTimeout(\n        () => {\n          visible.value = true\n        },\n        trigger.value === 'click' ? 0 : showTimeout.value\n      )\n    }\n\n    const hide = () => {\n      if (triggerElm.value?.disabled) return\n      removeTabindex()\n      if (tabindex.value >= 0) {\n        resetTabindex(triggerElm.value)\n      }\n      clearTimeout(timeout.value)\n      timeout.value = setTimeout(\n        () => {\n          visible.value = false\n        },\n        trigger.value === 'click' ? 0 : hideTimeout.value\n      )\n    }\n\n    const handleClick = () => {\n      if (triggerElm.value?.disabled) return\n      if (visible.value) {\n        hide()\n      } else {\n        show()\n      }\n    }\n\n    const menuItems = ref(null)\n    const handleTriggerKeyDown = (ev) => {\n      const _keyCode = ev.keyCode\n      if ([38, 40].indexOf(_keyCode) > -1) {\n        // up/down\n        removeTabindex()\n        resetTabindex(menuItems.value[0])\n        menuItems.value[0].focus()\n        ev.preventDefault()\n        ev.stopPropagation()\n      } else if (_keyCode === 13) {\n        // space enter选中\n        handleClick()\n      } else if ([9, 27].indexOf(_keyCode) > -1) {\n        // tab || esc\n        hide()\n      }\n    }\n\n    const menuItemsArray = ref(null)\n\n    const handleItemKeyDown = (ev) => {\n      const _keyCode = ev.keyCode\n      const _target = ev.target\n      const _currentIndex = menuItemsArray.value.indexOf(_target)\n      const _max = menuItemsArray.value.length - 1\n      let _nextIndex\n      if ([38, 40].indexOf(_keyCode) > -1) {\n        // up/down\n        if (_keyCode === 38) {\n          // up\n          _nextIndex = _currentIndex !== 0 ? _currentIndex - 1 : 0\n        } else {\n          // down\n          _nextIndex = _currentIndex < _max ? _currentIndex + 1 : _max\n        }\n        removeTabindex()\n        resetTabindex(menuItems.value[_nextIndex])\n        menuItems.value[_nextIndex].focus()\n        ev.preventDefault()\n        ev.stopPropagation()\n      } else if (_keyCode === 13) {\n        // enter选中\n        triggerElmFocus()\n        _target.click()\n        if (hideOnClick.value) {\n          // click关闭\n          visible.value = false\n        }\n      } else if ([9, 27].indexOf(_keyCode) > -1) {\n        // tab // esc\n        hide()\n        triggerElmFocus()\n      }\n    }\n\n    const resetTabindex = (ele) => {\n      // 下次tab时组件聚焦元素\n      removeTabindex()\n      ele.setAttribute('tabindex', '0') // 下次期望的聚焦元素\n    }\n    const removeTabindex = () => {\n      triggerElm.value.setAttribute('tabindex', '-1')\n      menuItemsArray.value.forEach((item) => {\n        item.setAttribute('tabindex', '-1')\n      })\n    }\n\n    const dropdownElm = ref(null)\n    const listId = ref(`dropdown-menu-${generateId()}`)\n    const initAria = () => {\n      dropdownElm.value.setAttribute('id', listId.value)\n      triggerElm.value.setAttribute('aria-haspopup', 'list')\n      triggerElm.value.setAttribute('aria-controls', listId.value)\n\n      if (!splitButton.value) {\n        // 自定义\n        triggerElm.value.setAttribute('role', 'button')\n        triggerElm.value.setAttribute('tabindex', tabindex.value)\n        triggerElm.value.setAttribute(\n          'class',\n          (triggerElm.value.getAttribute('class') || '') +\n            ' el-dropdown-selfdefine'\n        ) // 控制\n      }\n    }\n\n    const focusing = ref(false)\n    const initEvent = () => {\n      triggerElm.value = splitButton.value\n        ? instance.proxy.$refs.trigger.$el\n        : instance.proxy.$el.children[0]\n      triggerElm.value.addEventListener('keydown', handleTriggerKeyDown) // triggerElm keydown\n      dropdownElm.value.addEventListener('keydown', handleItemKeyDown, true) // item keydown\n      // 控制自定义元素的样式\n      if (!splitButton.value) {\n        triggerElm.value.addEventListener('focus', () => {\n          focusing.value = true\n        })\n        triggerElm.value.addEventListener('blur', () => {\n          focusing.value = false\n        })\n        triggerElm.value.addEventListener('click', () => {\n          focusing.value = false\n        })\n      }\n      if (trigger.value === 'hover') {\n        triggerElm.value.addEventListener('mouseenter', show)\n        triggerElm.value.addEventListener('mouseleave', hide)\n        dropdownElm.value.addEventListener('mouseenter', show)\n        dropdownElm.value.addEventListener('mouseleave', hide)\n      } else if (trigger.value === 'click') {\n        triggerElm.value.addEventListener('click', handleClick)\n      }\n    }\n    const handleMenuItemClick = (command, instance) => {\n      if (hideOnClick.value) {\n        visible.value = false\n      }\n      emit('command', command, instance)\n    }\n    const triggerElmFocus = () => {\n      triggerElm.value.focus && triggerElm.value.focus()\n    }\n    const initDomOperation = () => {\n      dropdownElm.value = instance.proxy.popperElm\n      menuItems.value = dropdownElm.value.querySelectorAll(\"[tabindex='-1']\")\n      menuItemsArray.value = [].slice.call(menuItems.value)\n\n      initEvent()\n      initAria()\n    }\n\n    const { broadcast, on } = useEmitter(instance)\n    watch(visible, (val) => {\n      broadcast('visible', val)\n      emit('visible-change', val)\n    })\n\n    on('menu-item-click', handleMenuItemClick)\n\n    watch(focusing, (val) => {\n      const selfDefine = instance.proxy.$el.querySelector(\n        '.el-dropdown-selfdefine'\n      )\n      if (selfDefine) {\n        // 自定义\n        if (val) {\n          selfDefine.className += ' focusing'\n        } else {\n          selfDefine.className = selfDefine.className.replace('focusing', '')\n        }\n      }\n    })\n\n    instance.proxy.initDomOperation = initDomOperation\n    instance.proxy.dropdownSize = dropdownSize.value\n    instance.proxy.visible = visible.value\n    instance.proxy.broadcast = broadcast\n\n    provide('dropdown', instance)\n\n    const handleMainButtonClick = (event) => {\n      emit('click', event)\n      hide()\n    }\n\n    return () => {\n      const defaultNode = slots.default() ? slots.default()[0] : h('span')\n      const dropdownNode = slots.default() ? slots.default()[1] : h('ul')\n\n      const triggerElm = !splitButton.value ? (\n        defaultNode\n      ) : (\n        <el-button-group>\n          <el-button\n            type={type.value}\n            size={dropdownSize.value}\n            nativeOn-click={handleMainButtonClick}\n          >\n            {defaultNode}\n          </el-button>\n          <el-button\n            ref=\"trigger\"\n            type={type.value}\n            size={dropdownSize.value}\n            class=\"el-dropdown__caret-button\"\n          >\n            <i class=\"el-dropdown__icon el-icon-arrow-down\"></i>\n          </el-button>\n        </el-button-group>\n      )\n\n      // fixme: directive api not work\n      // const vClickoutside = resolveDirective('clickoutside')\n      //\n      // return withDirectives(\n      //   h('div', { class: 'el-dropdown' }, [triggerElm, slots.dropdown]),\n      //   [vClickoutside, hide]\n      // )\n\n      return h('div', { class: 'el-dropdown' }, [triggerElm, dropdownNode])\n    }\n  }\n}\n</script>\n","import ElDropdown from './src/dropdown'\n\n/* istanbul ignore next */\nElDropdown.install = function (app) {\n  app.component(ElDropdown.name, ElDropdown)\n}\n\nexport default ElDropdown\n","<template>\n  <li\n    class=\"el-dropdown-menu__item\"\n    :class=\"{\n      'is-disabled': disabled,\n      'el-dropdown-menu__item--divided': divided\n    }\"\n    @click=\"handleClick\"\n    :aria-disabled=\"disabled\"\n    :tabindex=\"disabled ? null : -1\"\n  >\n    <i :class=\"icon\" v-if=\"icon\"></i>\n    <slot></slot>\n  </li>\n</template>\n<script>\nimport { toRefs, getCurrentInstance } from 'vue'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElDropdownItem',\n\n  props: {\n    command: {},\n    disabled: Boolean,\n    divided: Boolean,\n    icon: String\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter(instance)\n    const { command } = toRefs(props)\n\n    const handleClick = () => {\n      dispatch('menu-item-click', command?.value, instance.proxy)\n    }\n\n    return {\n      handleClick\n    }\n  }\n}\n</script>\n","<template>\n  <li\n    class=\"el-dropdown-menu__item\"\n    :class=\"{\n      'is-disabled': disabled,\n      'el-dropdown-menu__item--divided': divided\n    }\"\n    @click=\"handleClick\"\n    :aria-disabled=\"disabled\"\n    :tabindex=\"disabled ? null : -1\"\n  >\n    <i :class=\"icon\" v-if=\"icon\"></i>\n    <slot></slot>\n  </li>\n</template>\n<script>\nimport { toRefs, getCurrentInstance } from 'vue'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElDropdownItem',\n\n  props: {\n    command: {},\n    disabled: Boolean,\n    divided: Boolean,\n    icon: String\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance()\n    const { dispatch } = useEmitter(instance)\n    const { command } = toRefs(props)\n\n    const handleClick = () => {\n      dispatch('menu-item-click', command?.value, instance.proxy)\n    }\n\n    return {\n      handleClick\n    }\n  }\n}\n</script>\n","import ElDropdownItem from '../dropdown/src/dropdown-item'\n\n/* istanbul ignore next */\nElDropdownItem.install = function (app) {\n  app.component(ElDropdownItem.name, ElDropdownItem)\n}\n\nexport default ElDropdownItem\n","<template>\n  <transition name=\"el-zoom-in-top\" @after-leave=\"doDestroy\">\n    <ul\n      class=\"el-dropdown-menu el-popper\"\n      :class=\"[size && `el-dropdown-menu--${size}`]\"\n      v-show=\"showPopper\"\n    >\n      <slot></slot>\n    </ul>\n  </transition>\n</template>\n<script>\nimport {\n  ref,\n  watch,\n  inject,\n  getCurrentInstance,\n  onMounted,\n  nextTick\n} from 'vue'\nimport { usePopper, popperProps } from '../../../src/use/popper'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElDropdownMenu',\n\n  componentName: 'ElDropdownMenu',\n\n  props: {\n    ...popperProps,\n    visibleArrow: {\n      type: Boolean,\n      default: true\n    },\n    arrowOffset: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  emits: ['updatePopper', 'visible', 'update:modelValue', 'created'],\n\n  setup(props, { emit, slots }) {\n    const popperElm = ref(null)\n    const referenceElm = ref(null)\n    const { doDestroy, showPopper, currentPlacement, updatePopper } = usePopper(\n      props,\n      {\n        emit,\n        slots\n      },\n      {\n        popperElm,\n        referenceElm\n      }\n    )\n    const dropdown = inject('dropdown')\n    const size = dropdown.dropdownSize\n    const instance = getCurrentInstance()\n\n    const { on } = useEmitter(instance)\n    on('updatePopper', () => {\n      if (showPopper.value) updatePopper()\n    })\n\n    on('visible', (val) => {\n      showPopper.value = val\n    })\n\n    onMounted(() => {\n      dropdown.popperElm = popperElm.value = instance.proxy.$el\n      referenceElm.value = dropdown.$el\n\n      nextTick(() => dropdown.initDomOperation())\n    })\n\n    watch(\n      () => dropdown.placement,\n      (val) => {\n        currentPlacement.value = val\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => dropdown.visible.value,\n      (val) => {\n        showPopper.value = val\n      }\n    )\n\n    return {\n      showPopper,\n      size,\n      doDestroy\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-zoom-in-top\" @after-leave=\"doDestroy\">\n    <ul\n      class=\"el-dropdown-menu el-popper\"\n      :class=\"[size && `el-dropdown-menu--${size}`]\"\n      v-show=\"showPopper\"\n    >\n      <slot></slot>\n    </ul>\n  </transition>\n</template>\n<script>\nimport {\n  ref,\n  watch,\n  inject,\n  getCurrentInstance,\n  onMounted,\n  nextTick\n} from 'vue'\nimport { usePopper, popperProps } from '../../../src/use/popper'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElDropdownMenu',\n\n  componentName: 'ElDropdownMenu',\n\n  props: {\n    ...popperProps,\n    visibleArrow: {\n      type: Boolean,\n      default: true\n    },\n    arrowOffset: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  emits: ['updatePopper', 'visible', 'update:modelValue', 'created'],\n\n  setup(props, { emit, slots }) {\n    const popperElm = ref(null)\n    const referenceElm = ref(null)\n    const { doDestroy, showPopper, currentPlacement, updatePopper } = usePopper(\n      props,\n      {\n        emit,\n        slots\n      },\n      {\n        popperElm,\n        referenceElm\n      }\n    )\n    const dropdown = inject('dropdown')\n    const size = dropdown.dropdownSize\n    const instance = getCurrentInstance()\n\n    const { on } = useEmitter(instance)\n    on('updatePopper', () => {\n      if (showPopper.value) updatePopper()\n    })\n\n    on('visible', (val) => {\n      showPopper.value = val\n    })\n\n    onMounted(() => {\n      dropdown.popperElm = popperElm.value = instance.proxy.$el\n      referenceElm.value = dropdown.$el\n\n      nextTick(() => dropdown.initDomOperation())\n    })\n\n    watch(\n      () => dropdown.placement,\n      (val) => {\n        currentPlacement.value = val\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => dropdown.visible.value,\n      (val) => {\n        showPopper.value = val\n      }\n    )\n\n    return {\n      showPopper,\n      size,\n      doDestroy\n    }\n  }\n}\n</script>\n","import ElDropdownMenu from '../dropdown/src/dropdown-menu'\n\n/* istanbul ignore next */\nElDropdownMenu.install = function (app) {\n  app.component(ElDropdownMenu.name, ElDropdownMenu)\n}\n\nexport default ElDropdownMenu\n","/*\n * @Author: Mr Chang\n * @Date: 2020-08-30 13:09:21\n * @LastEditTime: 2020-09-02 11:17:04\n * @LastEditors: Mr Chang\n * @Description:\n * @FilePath: \\element3\\packages\\steps\\src\\constants.js\n */\n\nexport const stateSymbol = Symbol('state')\n\nexport const propsSymbol = Symbol('props')\n","<!--\n * @Author: Mr Chang\n * @Date: 2020-08-28 17:50:21\n * @LastEditTime: 2020-08-31 01:54:48\n * @LastEditors: Mr Chang\n * @Description: \n * @FilePath: \\element3\\packages\\steps\\src\\steps.vue\n-->\n<template>\n  <div\n    class=\"el-steps\"\n    :class=\"[!simple && 'el-steps--' + direction, simple && 'el-steps--simple']\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { provide, reactive, toRefs, watch } from 'vue'\n\nimport { stateSymbol, propsSymbol } from './constants'\n\nexport default {\n  name: 'ElSteps',\n  props: {\n    space: [Number, String],\n    active: Number,\n    direction: {\n      type: String,\n      default: 'horizontal'\n    },\n    alignCenter: Boolean,\n    simple: Boolean,\n    finishStatus: {\n      type: String,\n      default: 'finish'\n    },\n    processStatus: {\n      type: String,\n      default: 'process'\n    }\n  },\n  emits: ['change'],\n  setup(props, context) {\n    const state = reactive({\n      steps: [],\n      stepOffset: 0\n    })\n\n    provide(stateSymbol, state)\n    provide(propsSymbol, props)\n\n    watch(\n      () => props.active,\n      (newVal, oldVal) => context.emit('change', newVal, oldVal)\n    )\n    watch(\n      () => state.steps,\n      () => {\n        state.steps.forEach((child, index) => {\n          child.state.index = index\n        })\n      },\n      {\n        deep: true\n      }\n    )\n\n    return { ...toRefs(state) }\n  }\n}\n</script>\n","import ElSteps from './src/steps'\n\n/* istanbul ignore next */\nElSteps.install = function (app) {\n  app.component(ElSteps.name, ElSteps)\n}\n\nexport default ElSteps\n","<template>\n  <div\n    ref=\"step\"\n    class=\"el-step\"\n    :style=\"style\"\n    :class=\"[\n      !isSimple && `is-${direction}`,\n      isSimple && 'is-simple',\n      isLast && !space && !isCenter && 'is-flex',\n      isCenter && !isVertical && !isSimple && 'is-center'\n    ]\"\n  >\n    <!-- icon & line -->\n    <div class=\"el-step__head\" :class=\"`is-${currentStatus}`\">\n      <div\n        class=\"el-step__line\"\n        :style=\"isLast ? '' : { marginRight: stepOffset + 'px' }\"\n      >\n        <i class=\"el-step__line-inner\" :style=\"lineStyle\"></i>\n      </div>\n\n      <div class=\"el-step__icon\" :class=\"`is-${icon ? 'icon' : 'text'}`\">\n        <slot\n          v-if=\"currentStatus !== 'success' && currentStatus !== 'error'\"\n          name=\"icon\"\n        >\n          <i v-if=\"icon\" class=\"el-step__icon-inner\" :class=\"[icon]\"></i>\n          <div class=\"el-step__icon-inner\" v-if=\"!icon && !isSimple\">\n            {{ index + 1 }}\n          </div>\n        </slot>\n        <i\n          v-else\n          :class=\"[\n            'el-icon-' + (currentStatus === 'success' ? 'check' : 'close')\n          ]\"\n          class=\"el-step__icon-inner is-status\"\n        >\n        </i>\n      </div>\n    </div>\n    <!-- title & description -->\n    <div class=\"el-step__main\">\n      <div class=\"el-step__title\" ref=\"title\" :class=\"['is-' + currentStatus]\">\n        <slot name=\"title\">{{ title }}</slot>\n      </div>\n      <div v-if=\"isSimple\" class=\"el-step__arrow\"></div>\n      <div v-else class=\"el-step__description\" :class=\"['is-' + currentStatus]\">\n        <slot name=\"description\">{{ description }}</slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  watch,\n  onBeforeUnmount,\n  inject,\n  reactive,\n  toRefs,\n  onBeforeMount\n} from 'vue'\nimport { propsSymbol, stateSymbol } from './constants'\n\nexport default {\n  name: 'ElStep',\n\n  props: {\n    title: String,\n    icon: String,\n    description: String,\n    status: String\n  },\n\n  setup(props) {\n    const parentState = inject(stateSymbol)\n    const steps = parentState.steps\n    const stepOffset = parentState.stepOffset\n    const parentProps = inject(propsSymbol)\n    const isSimple = parentProps.simple\n    const isCenter = parentProps.alignCenter\n\n    const state = reactive({\n      index: -1,\n      lineStyle: {},\n      internalStatus: ''\n    })\n\n    const currentStatus = computed(() => {\n      return props.status || state.internalStatus\n    })\n\n    const prevStatus = computed(() => {\n      const prevStep = steps[state.index - 1]\n      return prevStep ? prevStep.currentStatus : 'wait'\n    })\n\n    const isVertical = computed(() => {\n      return parentProps.direction === 'vertical'\n    })\n\n    const isLast = computed(() => {\n      return state.index === steps.length - 1\n    })\n\n    const stepsCount = computed(() => {\n      return steps.length\n    })\n\n    const space = computed(() => {\n      return isSimple ? '' : parentProps.space\n    })\n\n    const style = computed(() => {\n      const style = {}\n      const len = steps.length\n\n      const newSpace =\n        typeof space.value === 'number'\n          ? space.value + 'px'\n          : space.value\n          ? space.value\n          : 100 / (len - (isCenter ? 0 : 1)) + '%'\n      style.flexBasis = newSpace\n      if (isVertical.value) return style\n      if (isLast.value) {\n        style.maxWidth = 100 / stepsCount.value + '%'\n      } else {\n        style.marginRight = -stepOffset + 'px'\n      }\n\n      return style\n    })\n\n    const updateStatus = (val) => {\n      if (state.index < 0) return\n\n      const prevChild = steps[state.index - 1]\n\n      if (val > state.index) {\n        state.internalStatus = parentProps.finishStatus\n      } else if (val === state.index && prevStatus.value !== 'error') {\n        state.internalStatus = parentProps.processStatus\n      } else {\n        state.internalStatus = 'wait'\n      }\n\n      if (prevChild) prevChild.calcProgress(state.internalStatus)\n    }\n\n    const calcProgress = (status) => {\n      let step = 100\n      const style = {}\n\n      style.transitionDelay = 150 * state.index + 'ms'\n      if (status === parentProps.processStatus) {\n        step = state.currentStatus !== 'error' ? 0 : 0\n      } else if (status === 'wait') {\n        step = 0\n        style.transitionDelay = -150 * state.index + 'ms'\n      }\n\n      style.borderWidth = step && !isSimple ? '1px' : 0\n      parentProps.direction === 'vertical'\n        ? (style.height = step + '%')\n        : (style.width = step + '%')\n\n      state.lineStyle = style\n    }\n\n    watch(\n      () => state.index,\n      () => {\n        updateStatus(parentProps.active)\n      },\n      {\n        immediate: true\n      }\n    )\n\n    watch(() => parentProps.active, updateStatus, {\n      immediate: true\n    })\n\n    watch(\n      () => parentProps.processStatus,\n      () => {\n        updateStatus(parentProps.active)\n      },\n      {\n        immediate: true\n      }\n    )\n    const instance = {\n      state,\n      currentStatus,\n      calcProgress,\n      updateStatus\n    }\n\n    onBeforeMount(() => {\n      steps.push(instance)\n    })\n\n    onBeforeUnmount(() => {\n      const index = steps.indexOf(instance)\n      if (index >= 0) {\n        steps.splice(index, 1)\n      }\n    })\n\n    return {\n      ...toRefs(state),\n      currentStatus,\n      prevStatus,\n      direction: parentProps.direction,\n      isSimple,\n      isLast,\n      isCenter,\n      isVertical,\n      space,\n      style,\n      stepOffset\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    ref=\"step\"\n    class=\"el-step\"\n    :style=\"style\"\n    :class=\"[\n      !isSimple && `is-${direction}`,\n      isSimple && 'is-simple',\n      isLast && !space && !isCenter && 'is-flex',\n      isCenter && !isVertical && !isSimple && 'is-center'\n    ]\"\n  >\n    <!-- icon & line -->\n    <div class=\"el-step__head\" :class=\"`is-${currentStatus}`\">\n      <div\n        class=\"el-step__line\"\n        :style=\"isLast ? '' : { marginRight: stepOffset + 'px' }\"\n      >\n        <i class=\"el-step__line-inner\" :style=\"lineStyle\"></i>\n      </div>\n\n      <div class=\"el-step__icon\" :class=\"`is-${icon ? 'icon' : 'text'}`\">\n        <slot\n          v-if=\"currentStatus !== 'success' && currentStatus !== 'error'\"\n          name=\"icon\"\n        >\n          <i v-if=\"icon\" class=\"el-step__icon-inner\" :class=\"[icon]\"></i>\n          <div class=\"el-step__icon-inner\" v-if=\"!icon && !isSimple\">\n            {{ index + 1 }}\n          </div>\n        </slot>\n        <i\n          v-else\n          :class=\"[\n            'el-icon-' + (currentStatus === 'success' ? 'check' : 'close')\n          ]\"\n          class=\"el-step__icon-inner is-status\"\n        >\n        </i>\n      </div>\n    </div>\n    <!-- title & description -->\n    <div class=\"el-step__main\">\n      <div class=\"el-step__title\" ref=\"title\" :class=\"['is-' + currentStatus]\">\n        <slot name=\"title\">{{ title }}</slot>\n      </div>\n      <div v-if=\"isSimple\" class=\"el-step__arrow\"></div>\n      <div v-else class=\"el-step__description\" :class=\"['is-' + currentStatus]\">\n        <slot name=\"description\">{{ description }}</slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  computed,\n  watch,\n  onBeforeUnmount,\n  inject,\n  reactive,\n  toRefs,\n  onBeforeMount\n} from 'vue'\nimport { propsSymbol, stateSymbol } from './constants'\n\nexport default {\n  name: 'ElStep',\n\n  props: {\n    title: String,\n    icon: String,\n    description: String,\n    status: String\n  },\n\n  setup(props) {\n    const parentState = inject(stateSymbol)\n    const steps = parentState.steps\n    const stepOffset = parentState.stepOffset\n    const parentProps = inject(propsSymbol)\n    const isSimple = parentProps.simple\n    const isCenter = parentProps.alignCenter\n\n    const state = reactive({\n      index: -1,\n      lineStyle: {},\n      internalStatus: ''\n    })\n\n    const currentStatus = computed(() => {\n      return props.status || state.internalStatus\n    })\n\n    const prevStatus = computed(() => {\n      const prevStep = steps[state.index - 1]\n      return prevStep ? prevStep.currentStatus : 'wait'\n    })\n\n    const isVertical = computed(() => {\n      return parentProps.direction === 'vertical'\n    })\n\n    const isLast = computed(() => {\n      return state.index === steps.length - 1\n    })\n\n    const stepsCount = computed(() => {\n      return steps.length\n    })\n\n    const space = computed(() => {\n      return isSimple ? '' : parentProps.space\n    })\n\n    const style = computed(() => {\n      const style = {}\n      const len = steps.length\n\n      const newSpace =\n        typeof space.value === 'number'\n          ? space.value + 'px'\n          : space.value\n          ? space.value\n          : 100 / (len - (isCenter ? 0 : 1)) + '%'\n      style.flexBasis = newSpace\n      if (isVertical.value) return style\n      if (isLast.value) {\n        style.maxWidth = 100 / stepsCount.value + '%'\n      } else {\n        style.marginRight = -stepOffset + 'px'\n      }\n\n      return style\n    })\n\n    const updateStatus = (val) => {\n      if (state.index < 0) return\n\n      const prevChild = steps[state.index - 1]\n\n      if (val > state.index) {\n        state.internalStatus = parentProps.finishStatus\n      } else if (val === state.index && prevStatus.value !== 'error') {\n        state.internalStatus = parentProps.processStatus\n      } else {\n        state.internalStatus = 'wait'\n      }\n\n      if (prevChild) prevChild.calcProgress(state.internalStatus)\n    }\n\n    const calcProgress = (status) => {\n      let step = 100\n      const style = {}\n\n      style.transitionDelay = 150 * state.index + 'ms'\n      if (status === parentProps.processStatus) {\n        step = state.currentStatus !== 'error' ? 0 : 0\n      } else if (status === 'wait') {\n        step = 0\n        style.transitionDelay = -150 * state.index + 'ms'\n      }\n\n      style.borderWidth = step && !isSimple ? '1px' : 0\n      parentProps.direction === 'vertical'\n        ? (style.height = step + '%')\n        : (style.width = step + '%')\n\n      state.lineStyle = style\n    }\n\n    watch(\n      () => state.index,\n      () => {\n        updateStatus(parentProps.active)\n      },\n      {\n        immediate: true\n      }\n    )\n\n    watch(() => parentProps.active, updateStatus, {\n      immediate: true\n    })\n\n    watch(\n      () => parentProps.processStatus,\n      () => {\n        updateStatus(parentProps.active)\n      },\n      {\n        immediate: true\n      }\n    )\n    const instance = {\n      state,\n      currentStatus,\n      calcProgress,\n      updateStatus\n    }\n\n    onBeforeMount(() => {\n      steps.push(instance)\n    })\n\n    onBeforeUnmount(() => {\n      const index = steps.indexOf(instance)\n      if (index >= 0) {\n        steps.splice(index, 1)\n      }\n    })\n\n    return {\n      ...toRefs(state),\n      currentStatus,\n      prevStatus,\n      direction: parentProps.direction,\n      isSimple,\n      isLast,\n      isCenter,\n      isVertical,\n      space,\n      style,\n      stepOffset\n    }\n  }\n}\n</script>\n","import ElStep from '../steps/src/step'\n\n/* istanbul ignore next */\nElStep.install = function (app) {\n  app.component(ElStep.name, ElStep)\n}\n\nexport default ElStep\n","<template>\n  <transition\n    name=\"dialog-fade\"\n    @after-enter=\"afterEnter\"\n    @after-leave=\"afterLeave\"\n  >\n    <div\n      v-show=\"visible\"\n      class=\"el-dialog__wrapper\"\n      @click.self=\"handleWrapperClick\"\n    >\n      <div\n        role=\"dialog\"\n        :key=\"key\"\n        aria-modal=\"true\"\n        :aria-label=\"title || 'dialog'\"\n        :class=\"[\n          'el-dialog',\n          { 'is-fullscreen': fullscreen, 'el-dialog--center': center },\n          customClass\n        ]\"\n        ref=\"dialog\"\n        :style=\"style\"\n      >\n        <div class=\"el-dialog__header\">\n          <slot name=\"title\">\n            <span class=\"el-dialog__title\">{{ title }}</span>\n          </slot>\n          <button\n            type=\"button\"\n            class=\"el-dialog__headerbtn\"\n            aria-label=\"Close\"\n            v-if=\"showClose\"\n            @click=\"handleClose\"\n          >\n            <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-dialog__body\" v-if=\"rendered\">\n          <slot></slot>\n        </div>\n        <div class=\"el-dialog__footer\" v-if=\"$slots.footer\">\n          <slot name=\"footer\"></slot>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { popupProps, usePopup } from '../../src/use/popup'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  toRefs,\n  ref,\n  getCurrentInstance,\n  computed,\n  onMounted,\n  onUnmounted,\n  watch,\n  nextTick\n} from 'vue'\n\nexport default {\n  name: 'ElDialog',\n  props: {\n    ...popupProps,\n    title: {\n      type: String,\n      default: ''\n    },\n\n    modal: {\n      type: Boolean,\n      default: true\n    },\n\n    modalAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    width: String,\n    fullscreen: Boolean,\n    customClass: {\n      type: String,\n      default: ''\n    },\n\n    top: {\n      type: String,\n      default: '15vh'\n    },\n    beforeClose: Function,\n    center: {\n      type: Boolean,\n      default: false\n    },\n    destroyOnClose: Boolean\n  },\n  emits: ['update:visible', 'close', 'opened', 'open', 'closed'],\n  setup(props, { emit }) {\n    const { visible, rendered, open } = usePopup(props)\n    const {\n      appendToBody,\n      fullscreen,\n      top,\n      width,\n      closeOnClickModal,\n      destroyOnClose\n    } = toRefs(props)\n    const closed = ref(false)\n    const key = ref(0)\n    const dialog = ref(null)\n    const instanc = getCurrentInstance()\n    const { broadcast } = useEmitter()\n    const style = computed(() => {\n      const style = {}\n      if (!(fullscreen && fullscreen.value)) {\n        style.marginTop = top.value\n        if (width && width.value) {\n          style.width = width.value\n        }\n      }\n      return style\n    })\n    const handleWrapperClick = () => {\n      if (!closeOnClickModal.value) return\n      handleClose()\n    }\n    const handleClose = () => {\n      if (typeof props.beforeClose === 'function') {\n        props.beforeClose(hide)\n      } else {\n        hide()\n      }\n    }\n    const hide = (cancel) => {\n      if (cancel !== false) {\n        emit('update:visible', false)\n        emit('close')\n        closed.value = true\n      }\n    }\n    const updatePopper = () => {\n      broadcast('updatePopper')\n      broadcast('updatePopper')\n    }\n    const afterEnter = () => {\n      emit('opened')\n    }\n    const afterLeave = () => {\n      emit('closed')\n    }\n    watch(visible, (val) => {\n      const el = instanc.proxy.$el\n      if (val) {\n        closed.value = false\n        emit('open')\n        el.addEventListener('scroll', updatePopper)\n        nextTick(() => {\n          dialog.value.scrollTop = 0\n        })\n        if (appendToBody.value) {\n          document.body.appendChild(el)\n        }\n      } else {\n        el.removeEventListener('scroll', updatePopper)\n        if (!closed.value) emit('close')\n        if (destroyOnClose && destroyOnClose.value) {\n          nextTick(() => {\n            key.value++\n          })\n        }\n      }\n    })\n    onMounted(() => {\n      if (visible.value) {\n        rendered.value = true\n        open()\n        if (appendToBody.value) {\n          document.body.appendChild(instanc.proxy.$el)\n        }\n      }\n    })\n    onUnmounted(() => {\n      const el = instanc.proxy.$el\n      if (appendToBody.value && el && el.parentNode) {\n        el.parentNode.removeChild(el)\n      }\n    })\n    return {\n      dialog,\n      key,\n      rendered,\n      handleClose,\n      style,\n      handleWrapperClick,\n      afterEnter,\n      afterLeave\n    }\n  }\n}\n</script>\n","<template>\n  <transition\n    name=\"dialog-fade\"\n    @after-enter=\"afterEnter\"\n    @after-leave=\"afterLeave\"\n  >\n    <div\n      v-show=\"visible\"\n      class=\"el-dialog__wrapper\"\n      @click.self=\"handleWrapperClick\"\n    >\n      <div\n        role=\"dialog\"\n        :key=\"key\"\n        aria-modal=\"true\"\n        :aria-label=\"title || 'dialog'\"\n        :class=\"[\n          'el-dialog',\n          { 'is-fullscreen': fullscreen, 'el-dialog--center': center },\n          customClass\n        ]\"\n        ref=\"dialog\"\n        :style=\"style\"\n      >\n        <div class=\"el-dialog__header\">\n          <slot name=\"title\">\n            <span class=\"el-dialog__title\">{{ title }}</span>\n          </slot>\n          <button\n            type=\"button\"\n            class=\"el-dialog__headerbtn\"\n            aria-label=\"Close\"\n            v-if=\"showClose\"\n            @click=\"handleClose\"\n          >\n            <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-dialog__body\" v-if=\"rendered\">\n          <slot></slot>\n        </div>\n        <div class=\"el-dialog__footer\" v-if=\"$slots.footer\">\n          <slot name=\"footer\"></slot>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { popupProps, usePopup } from '../../src/use/popup'\nimport { useEmitter } from '../../src/use/emitter'\nimport {\n  toRefs,\n  ref,\n  getCurrentInstance,\n  computed,\n  onMounted,\n  onUnmounted,\n  watch,\n  nextTick\n} from 'vue'\n\nexport default {\n  name: 'ElDialog',\n  props: {\n    ...popupProps,\n    title: {\n      type: String,\n      default: ''\n    },\n\n    modal: {\n      type: Boolean,\n      default: true\n    },\n\n    modalAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    width: String,\n    fullscreen: Boolean,\n    customClass: {\n      type: String,\n      default: ''\n    },\n\n    top: {\n      type: String,\n      default: '15vh'\n    },\n    beforeClose: Function,\n    center: {\n      type: Boolean,\n      default: false\n    },\n    destroyOnClose: Boolean\n  },\n  emits: ['update:visible', 'close', 'opened', 'open', 'closed'],\n  setup(props, { emit }) {\n    const { visible, rendered, open } = usePopup(props)\n    const {\n      appendToBody,\n      fullscreen,\n      top,\n      width,\n      closeOnClickModal,\n      destroyOnClose\n    } = toRefs(props)\n    const closed = ref(false)\n    const key = ref(0)\n    const dialog = ref(null)\n    const instanc = getCurrentInstance()\n    const { broadcast } = useEmitter()\n    const style = computed(() => {\n      const style = {}\n      if (!(fullscreen && fullscreen.value)) {\n        style.marginTop = top.value\n        if (width && width.value) {\n          style.width = width.value\n        }\n      }\n      return style\n    })\n    const handleWrapperClick = () => {\n      if (!closeOnClickModal.value) return\n      handleClose()\n    }\n    const handleClose = () => {\n      if (typeof props.beforeClose === 'function') {\n        props.beforeClose(hide)\n      } else {\n        hide()\n      }\n    }\n    const hide = (cancel) => {\n      if (cancel !== false) {\n        emit('update:visible', false)\n        emit('close')\n        closed.value = true\n      }\n    }\n    const updatePopper = () => {\n      broadcast('updatePopper')\n      broadcast('updatePopper')\n    }\n    const afterEnter = () => {\n      emit('opened')\n    }\n    const afterLeave = () => {\n      emit('closed')\n    }\n    watch(visible, (val) => {\n      const el = instanc.proxy.$el\n      if (val) {\n        closed.value = false\n        emit('open')\n        el.addEventListener('scroll', updatePopper)\n        nextTick(() => {\n          dialog.value.scrollTop = 0\n        })\n        if (appendToBody.value) {\n          document.body.appendChild(el)\n        }\n      } else {\n        el.removeEventListener('scroll', updatePopper)\n        if (!closed.value) emit('close')\n        if (destroyOnClose && destroyOnClose.value) {\n          nextTick(() => {\n            key.value++\n          })\n        }\n      }\n    })\n    onMounted(() => {\n      if (visible.value) {\n        rendered.value = true\n        open()\n        if (appendToBody.value) {\n          document.body.appendChild(instanc.proxy.$el)\n        }\n      }\n    })\n    onUnmounted(() => {\n      const el = instanc.proxy.$el\n      if (appendToBody.value && el && el.parentNode) {\n        el.parentNode.removeChild(el)\n      }\n    })\n    return {\n      dialog,\n      key,\n      rendered,\n      handleClose,\n      style,\n      handleWrapperClick,\n      afterEnter,\n      afterLeave\n    }\n  }\n}\n</script>\n","import ElDialog from './Dialog'\n\n/* istanbul ignore next */\nElDialog.install = function (app) {\n  app.component(ElDialog.name, ElDialog)\n}\n\nexport default ElDialog\n","<template>\n  <span>\n    <transition\n      :name=\"transition\"\n      @after-enter=\"handleAfterEnter\"\n      @after-leave=\"handleAfterLeave\"\n    >\n      <div\n        class=\"el-popover el-popper\"\n        :class=\"[popperClass, content && 'el-popover--plain']\"\n        ref=\"popper\"\n        v-show=\"!disabled && showPopper\"\n        :style=\"{ width: width + 'px' }\"\n        role=\"tooltip\"\n        :id=\"tooltipId\"\n        :aria-hidden=\"disabled || !showPopper ? 'true' : 'false'\"\n      >\n        <div class=\"el-popover__title\" v-if=\"title\" v-text=\"title\"></div>\n        <slot>{{ content }}</slot>\n      </div>\n    </transition>\n    <span ref=\"reference\">\n      <slot name=\"reference\"></slot>\n    </span>\n  </span>\n</template>\n<script>\n/* fixme: deactivated暂时不知道映射哪钩子，没有加 */\nimport {\n  ref,\n  computed,\n  toRefs,\n  getCurrentInstance,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  onUnmounted,\n  nextTick\n} from 'vue'\n\nimport { vuePopperProps, useVuePopper } from './vue-popper'\nimport { on, off, addClass, removeClass } from '../../src/utils/dom'\nimport { generateId } from '../../src/utils/util'\n\nexport default {\n  name: 'ElPopover',\n\n  props: {\n    ...vuePopperProps,\n    trigger: {\n      type: String,\n      default: 'click',\n      validator: (value) =>\n        ['click', 'focus', 'hover', 'manual'].indexOf(value) > -1\n    },\n    openDelay: {\n      type: Number,\n      default: 0\n    },\n    closeDelay: {\n      type: Number,\n      default: 200\n    },\n    title: String,\n    disabled: Boolean,\n    content: String,\n    reference: {},\n    popperClass: String,\n    width: {},\n    visibleArrow: {\n      default: true\n    },\n    arrowOffset: {\n      type: Number,\n      default: 0\n    },\n    transition: {\n      type: String,\n      default: 'fade-in-linear'\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: [\n    'created',\n    'show',\n    'hide',\n    'after-enter',\n    'after-leave',\n    'update:modelValue'\n  ],\n\n  setup(props, { emit, slots }) {\n    const { disabled, trigger, reference, popper, tabindex } = toRefs(props)\n\n    const instance = getCurrentInstance()\n    const referenceEl = ref(null)\n    const { showPopper, destroyPopper } = useVuePopper(props, {\n      instance,\n      emit,\n      slots,\n      referenceEl\n    })\n\n    const tooltipId = computed(() => `el-popover-${generateId()}`)\n    watch(showPopper, (val) => {\n      if (disabled.value) return\n      val ? emit('show') : emit('hide')\n    })\n\n    const {\n      doToggle,\n      doShow,\n      doClose,\n      handleFocus,\n      handleClick,\n      handleBlur,\n      handleMouseEnter,\n      handleKeydown,\n      handleMouseLeave,\n      handleDocumentClick,\n      handleAfterEnter,\n      handleAfterLeave,\n      cleanup\n    } = useInteractive({\n      instance,\n      emit,\n      slots,\n      referenceEl,\n      showPopper,\n      destroyPopper,\n      ...toRefs(props)\n    })\n\n    onMounted(() => {\n      referenceEl.value =\n        (reference && reference.value) || instance.proxy.$refs.reference\n      const popperRef = (popper && popper.value) || instance.proxy.$refs.popper\n      if (!referenceEl.value && slots.reference && slots.reference()) {\n        referenceEl.value = slots.reference()[0].el\n      }\n\n      // 可访问性\n      if (referenceEl.value) {\n        addClass(referenceEl.value, 'el-popover__reference')\n        referenceEl.value.setAttribute('aria-describedby', tooltipId.value)\n        referenceEl.value.setAttribute('tabindex', tabindex.value) // tab序列\n        popperRef.setAttribute('tabindex', 0)\n\n        if (trigger.value !== 'click') {\n          on(referenceEl.value, 'focusin', () => {\n            handleFocus()\n            const instanceRef = referenceEl.value.__vue__\n            if (instanceRef && typeof instanceRef.focus === 'function') {\n              instanceRef.focus()\n            }\n          })\n          on(popperRef, 'focusin', handleFocus)\n          on(referenceEl.value, 'focusout', handleBlur)\n          on(popperRef, 'focusout', handleBlur)\n        }\n        on(referenceEl.value, 'keydown', handleKeydown)\n        on(referenceEl.value, 'click', handleClick)\n      }\n      if (trigger.value === 'click') {\n        on(referenceEl.value, 'click', doToggle)\n        on(document, 'click', handleDocumentClick)\n      } else if (trigger.value === 'hover') {\n        on(referenceEl.value, 'mouseenter', handleMouseEnter)\n        on(popperRef, 'mouseenter', handleMouseEnter)\n        on(referenceEl.value, 'mouseleave', handleMouseLeave)\n        on(popperRef, 'mouseleave', handleMouseLeave)\n      } else if (trigger.value === 'focus') {\n        if (tabindex < 0) {\n          console.warn(\n            '[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key'\n          )\n        }\n        if (referenceEl.value.querySelector('input, textarea')) {\n          on(referenceEl.value, 'focusin', doShow)\n          on(referenceEl.value, 'focusout', doClose)\n        } else {\n          on(referenceEl.value, 'mousedown', doShow)\n          on(referenceEl.value, 'mouseup', doClose)\n        }\n      }\n    })\n\n    onBeforeUnmount(() => {\n      cleanup()\n    })\n\n    onUnmounted(() => {\n      off(referenceEl.value, 'click', doToggle)\n      off(referenceEl.value, 'mouseup', doClose)\n      off(referenceEl.value, 'mousedown', doShow)\n      off(referenceEl.value, 'focusin', doShow)\n      off(referenceEl.value, 'focusout', doClose)\n      off(referenceEl.value, 'mousedown', doShow)\n      off(referenceEl.value, 'mouseup', doClose)\n      off(referenceEl.value, 'mouseleave', handleMouseLeave)\n      off(referenceEl.value, 'mouseenter', handleMouseEnter)\n      off(document, 'click', handleDocumentClick)\n    })\n\n    // deactivated(() => {\n    //   cleanup()\n    // })\n\n    return {\n      showPopper,\n      doToggle,\n      doShow,\n      doClose,\n      handleFocus,\n      handleClick,\n      handleBlur,\n      handleMouseEnter,\n      handleKeydown,\n      handleMouseLeave,\n      handleDocumentClick,\n      handleAfterEnter,\n      handleAfterLeave,\n      tooltipId,\n      cleanup\n    }\n  }\n}\n\nfunction useInteractive({\n  instance,\n  showPopper,\n  referenceEl,\n  trigger,\n  popper,\n  slots,\n  emit,\n  destroyPopper,\n  openDelay,\n  closeDelay,\n  reference\n}) {\n  function doToggle() {\n    showPopper.value = !showPopper.value\n  }\n\n  function doShow() {\n    showPopper.value = true\n  }\n\n  function doClose() {\n    showPopper.value = false\n  }\n\n  function handleFocus() {\n    addClass(referenceEl.value, 'focusing')\n    if (trigger.value === 'click' || trigger.value === 'focus')\n      showPopper.value = true\n  }\n\n  function handleClick() {\n    removeClass(referenceEl.value, 'focusing')\n  }\n\n  function handleBlur() {\n    removeClass(referenceEl.value, 'focusing')\n    if (trigger.value === 'click' || trigger.value === 'focus')\n      showPopper.value = false\n  }\n\n  let _timer = null\n  function handleMouseEnter() {\n    clearTimeout(_timer)\n    if (openDelay.value) {\n      _timer = setTimeout(() => {\n        showPopper.value = true\n      }, openDelay.value)\n    } else {\n      showPopper.value = true\n    }\n  }\n\n  function handleKeydown(ev) {\n    if (ev.keyCode === 27 && trigger.value !== 'manual') {\n      doClose()\n    }\n  }\n\n  function handleMouseLeave() {\n    clearTimeout(_timer)\n    if (closeDelay.value) {\n      _timer = setTimeout(() => {\n        showPopper.value = false\n      }, closeDelay.value)\n    } else {\n      showPopper.value = false\n    }\n  }\n\n  function handleDocumentClick(e) {\n    let referenceRef =\n      (reference && reference.value) || instance.proxy.$refs.reference\n    const popperRef = (popper && popper.value) || instance.proxy.$refs.popper\n    const $el = instance.proxy.$el\n    if (\n      !referenceRef &&\n      slots.reference &&\n      slots.reference() &&\n      slots.reference()[0]\n    ) {\n      referenceRef = referenceEl = slots.reference()[0].el\n    }\n    /* fixme: 在eleui官网调试是如下的判定条件 */\n    if (\n      $el &&\n      referenceRef &&\n      !$el.contains(e.target) &&\n      !referenceRef.contains(e.target) &&\n      popperRef &&\n      !popperRef.contains(e.target)\n    )\n      return (showPopper.value = false)\n  }\n\n  function handleAfterEnter() {\n    nextTick(() => emit('after-enter'))\n  }\n\n  function handleAfterLeave() {\n    nextTick(() => {\n      emit('after-leave')\n      destroyPopper()\n    })\n  }\n\n  function cleanup() {\n    if (openDelay.value || closeDelay.value) {\n      clearTimeout(_timer)\n    }\n  }\n\n  return {\n    doToggle,\n    doShow,\n    doClose,\n    handleFocus,\n    handleClick,\n    handleBlur,\n    handleMouseEnter,\n    handleKeydown,\n    handleMouseLeave,\n    handleDocumentClick,\n    handleAfterEnter,\n    handleAfterLeave,\n    cleanup\n  }\n}\n</script>\n","<template>\n  <span>\n    <transition\n      :name=\"transition\"\n      @after-enter=\"handleAfterEnter\"\n      @after-leave=\"handleAfterLeave\"\n    >\n      <div\n        class=\"el-popover el-popper\"\n        :class=\"[popperClass, content && 'el-popover--plain']\"\n        ref=\"popper\"\n        v-show=\"!disabled && showPopper\"\n        :style=\"{ width: width + 'px' }\"\n        role=\"tooltip\"\n        :id=\"tooltipId\"\n        :aria-hidden=\"disabled || !showPopper ? 'true' : 'false'\"\n      >\n        <div class=\"el-popover__title\" v-if=\"title\" v-text=\"title\"></div>\n        <slot>{{ content }}</slot>\n      </div>\n    </transition>\n    <span ref=\"reference\">\n      <slot name=\"reference\"></slot>\n    </span>\n  </span>\n</template>\n<script>\n/* fixme: deactivated暂时不知道映射哪钩子，没有加 */\nimport {\n  ref,\n  computed,\n  toRefs,\n  getCurrentInstance,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  onUnmounted,\n  nextTick\n} from 'vue'\n\nimport { vuePopperProps, useVuePopper } from './vue-popper'\nimport { on, off, addClass, removeClass } from '../../src/utils/dom'\nimport { generateId } from '../../src/utils/util'\n\nexport default {\n  name: 'ElPopover',\n\n  props: {\n    ...vuePopperProps,\n    trigger: {\n      type: String,\n      default: 'click',\n      validator: (value) =>\n        ['click', 'focus', 'hover', 'manual'].indexOf(value) > -1\n    },\n    openDelay: {\n      type: Number,\n      default: 0\n    },\n    closeDelay: {\n      type: Number,\n      default: 200\n    },\n    title: String,\n    disabled: Boolean,\n    content: String,\n    reference: {},\n    popperClass: String,\n    width: {},\n    visibleArrow: {\n      default: true\n    },\n    arrowOffset: {\n      type: Number,\n      default: 0\n    },\n    transition: {\n      type: String,\n      default: 'fade-in-linear'\n    },\n    tabindex: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: [\n    'created',\n    'show',\n    'hide',\n    'after-enter',\n    'after-leave',\n    'update:modelValue'\n  ],\n\n  setup(props, { emit, slots }) {\n    const { disabled, trigger, reference, popper, tabindex } = toRefs(props)\n\n    const instance = getCurrentInstance()\n    const referenceEl = ref(null)\n    const { showPopper, destroyPopper } = useVuePopper(props, {\n      instance,\n      emit,\n      slots,\n      referenceEl\n    })\n\n    const tooltipId = computed(() => `el-popover-${generateId()}`)\n    watch(showPopper, (val) => {\n      if (disabled.value) return\n      val ? emit('show') : emit('hide')\n    })\n\n    const {\n      doToggle,\n      doShow,\n      doClose,\n      handleFocus,\n      handleClick,\n      handleBlur,\n      handleMouseEnter,\n      handleKeydown,\n      handleMouseLeave,\n      handleDocumentClick,\n      handleAfterEnter,\n      handleAfterLeave,\n      cleanup\n    } = useInteractive({\n      instance,\n      emit,\n      slots,\n      referenceEl,\n      showPopper,\n      destroyPopper,\n      ...toRefs(props)\n    })\n\n    onMounted(() => {\n      referenceEl.value =\n        (reference && reference.value) || instance.proxy.$refs.reference\n      const popperRef = (popper && popper.value) || instance.proxy.$refs.popper\n      if (!referenceEl.value && slots.reference && slots.reference()) {\n        referenceEl.value = slots.reference()[0].el\n      }\n\n      // 可访问性\n      if (referenceEl.value) {\n        addClass(referenceEl.value, 'el-popover__reference')\n        referenceEl.value.setAttribute('aria-describedby', tooltipId.value)\n        referenceEl.value.setAttribute('tabindex', tabindex.value) // tab序列\n        popperRef.setAttribute('tabindex', 0)\n\n        if (trigger.value !== 'click') {\n          on(referenceEl.value, 'focusin', () => {\n            handleFocus()\n            const instanceRef = referenceEl.value.__vue__\n            if (instanceRef && typeof instanceRef.focus === 'function') {\n              instanceRef.focus()\n            }\n          })\n          on(popperRef, 'focusin', handleFocus)\n          on(referenceEl.value, 'focusout', handleBlur)\n          on(popperRef, 'focusout', handleBlur)\n        }\n        on(referenceEl.value, 'keydown', handleKeydown)\n        on(referenceEl.value, 'click', handleClick)\n      }\n      if (trigger.value === 'click') {\n        on(referenceEl.value, 'click', doToggle)\n        on(document, 'click', handleDocumentClick)\n      } else if (trigger.value === 'hover') {\n        on(referenceEl.value, 'mouseenter', handleMouseEnter)\n        on(popperRef, 'mouseenter', handleMouseEnter)\n        on(referenceEl.value, 'mouseleave', handleMouseLeave)\n        on(popperRef, 'mouseleave', handleMouseLeave)\n      } else if (trigger.value === 'focus') {\n        if (tabindex < 0) {\n          console.warn(\n            '[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key'\n          )\n        }\n        if (referenceEl.value.querySelector('input, textarea')) {\n          on(referenceEl.value, 'focusin', doShow)\n          on(referenceEl.value, 'focusout', doClose)\n        } else {\n          on(referenceEl.value, 'mousedown', doShow)\n          on(referenceEl.value, 'mouseup', doClose)\n        }\n      }\n    })\n\n    onBeforeUnmount(() => {\n      cleanup()\n    })\n\n    onUnmounted(() => {\n      off(referenceEl.value, 'click', doToggle)\n      off(referenceEl.value, 'mouseup', doClose)\n      off(referenceEl.value, 'mousedown', doShow)\n      off(referenceEl.value, 'focusin', doShow)\n      off(referenceEl.value, 'focusout', doClose)\n      off(referenceEl.value, 'mousedown', doShow)\n      off(referenceEl.value, 'mouseup', doClose)\n      off(referenceEl.value, 'mouseleave', handleMouseLeave)\n      off(referenceEl.value, 'mouseenter', handleMouseEnter)\n      off(document, 'click', handleDocumentClick)\n    })\n\n    // deactivated(() => {\n    //   cleanup()\n    // })\n\n    return {\n      showPopper,\n      doToggle,\n      doShow,\n      doClose,\n      handleFocus,\n      handleClick,\n      handleBlur,\n      handleMouseEnter,\n      handleKeydown,\n      handleMouseLeave,\n      handleDocumentClick,\n      handleAfterEnter,\n      handleAfterLeave,\n      tooltipId,\n      cleanup\n    }\n  }\n}\n\nfunction useInteractive({\n  instance,\n  showPopper,\n  referenceEl,\n  trigger,\n  popper,\n  slots,\n  emit,\n  destroyPopper,\n  openDelay,\n  closeDelay,\n  reference\n}) {\n  function doToggle() {\n    showPopper.value = !showPopper.value\n  }\n\n  function doShow() {\n    showPopper.value = true\n  }\n\n  function doClose() {\n    showPopper.value = false\n  }\n\n  function handleFocus() {\n    addClass(referenceEl.value, 'focusing')\n    if (trigger.value === 'click' || trigger.value === 'focus')\n      showPopper.value = true\n  }\n\n  function handleClick() {\n    removeClass(referenceEl.value, 'focusing')\n  }\n\n  function handleBlur() {\n    removeClass(referenceEl.value, 'focusing')\n    if (trigger.value === 'click' || trigger.value === 'focus')\n      showPopper.value = false\n  }\n\n  let _timer = null\n  function handleMouseEnter() {\n    clearTimeout(_timer)\n    if (openDelay.value) {\n      _timer = setTimeout(() => {\n        showPopper.value = true\n      }, openDelay.value)\n    } else {\n      showPopper.value = true\n    }\n  }\n\n  function handleKeydown(ev) {\n    if (ev.keyCode === 27 && trigger.value !== 'manual') {\n      doClose()\n    }\n  }\n\n  function handleMouseLeave() {\n    clearTimeout(_timer)\n    if (closeDelay.value) {\n      _timer = setTimeout(() => {\n        showPopper.value = false\n      }, closeDelay.value)\n    } else {\n      showPopper.value = false\n    }\n  }\n\n  function handleDocumentClick(e) {\n    let referenceRef =\n      (reference && reference.value) || instance.proxy.$refs.reference\n    const popperRef = (popper && popper.value) || instance.proxy.$refs.popper\n    const $el = instance.proxy.$el\n    if (\n      !referenceRef &&\n      slots.reference &&\n      slots.reference() &&\n      slots.reference()[0]\n    ) {\n      referenceRef = referenceEl = slots.reference()[0].el\n    }\n    /* fixme: 在eleui官网调试是如下的判定条件 */\n    if (\n      $el &&\n      referenceRef &&\n      !$el.contains(e.target) &&\n      !referenceRef.contains(e.target) &&\n      popperRef &&\n      !popperRef.contains(e.target)\n    )\n      return (showPopper.value = false)\n  }\n\n  function handleAfterEnter() {\n    nextTick(() => emit('after-enter'))\n  }\n\n  function handleAfterLeave() {\n    nextTick(() => {\n      emit('after-leave')\n      destroyPopper()\n    })\n  }\n\n  function cleanup() {\n    if (openDelay.value || closeDelay.value) {\n      clearTimeout(_timer)\n    }\n  }\n\n  return {\n    doToggle,\n    doShow,\n    doClose,\n    handleFocus,\n    handleClick,\n    handleBlur,\n    handleMouseEnter,\n    handleKeydown,\n    handleMouseLeave,\n    handleDocumentClick,\n    handleAfterEnter,\n    handleAfterLeave,\n    cleanup\n  }\n}\n</script>\n","const getReference = (el, binding, vnode) => {\n  const _ref = binding.expression ? binding.value : binding.arg\n  const popper = vnode.context.$refs[_ref]\n  if (popper) {\n    if (Array.isArray(popper)) {\n      popper[0].$refs.reference = el\n    } else {\n      popper.$refs.reference = el\n    }\n  }\n}\n\n/* directive 暂时测试不通过，待修复，目前调试看起来是directive没有正确的执行挂载导致的 */\nexport default {\n  beforeMount(el, binding, vnode) {\n    console.log(el, binding)\n    getReference(el, binding, vnode)\n  },\n  mounted(el, binding, vnode) {\n    getReference(el, binding, vnode)\n  }\n}\n","import ElPopover from './Popover'\nimport directive from './directive'\n\n/* istanbul ignore next */\nElPopover.install = function (app) {\n  app.directive('popover', directive)\n  app.component(ElPopover.name, ElPopover)\n}\n\nexport default ElPopover\n","<template>\n  <el-popover v-bind=\"$attrs\" v-model=\"visible\" trigger=\"click\">\n    <div class=\"el-popconfirm\">\n      <p class=\"el-popconfirm__main\">\n        <i\n          v-if=\"!hideIcon\"\n          :class=\"icon\"\n          class=\"el-popconfirm__icon\"\n          :style=\"{ color: iconColor }\"\n        ></i>\n        {{ title }}\n      </p>\n      <div class=\"el-popconfirm__action\">\n        <el-button size=\"mini\" :type=\"cancelButtonType\" @click=\"cancel\">\n          {{ cancelButtonText }}\n        </el-button>\n        <el-button size=\"mini\" :type=\"confirmButtonType\" @click=\"confirm\">\n          {{ confirmButtonText }}\n        </el-button>\n      </div>\n    </div>\n    <template v-slot:reference>\n      <slot name=\"reference\"></slot>\n    </template>\n  </el-popover>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport ElPopover from '../popover'\nimport { ElButton } from '../../src/components/Button'\nimport { t } from '../../src/locale'\n\nexport default {\n  name: 'ElPopconfirm',\n  props: {\n    title: {\n      type: String\n    },\n    confirmButtonText: {\n      type: String,\n      default: t('el.popconfirm.confirmButtonText')\n    },\n    cancelButtonText: {\n      type: String,\n      default: t('el.popconfirm.cancelButtonText')\n    },\n    confirmButtonType: {\n      type: String,\n      default: 'primary'\n    },\n    cancelButtonType: {\n      type: String,\n      default: 'text'\n    },\n    icon: {\n      type: String,\n      default: 'el-icon-question'\n    },\n    iconColor: {\n      type: String,\n      default: '#f90'\n    },\n    hideIcon: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    ElPopover,\n    ElButton\n  },\n  emits: ['onConfirm', 'onCancel'],\n  setup(props, { emit }) {\n    const state = reactive({\n      visible: false\n    })\n    const confirm = () => {\n      state.visible = false\n      // TODO 如果把 onConfirm 修改成 on-confirm 的话就涉及到 api 的变更了\n      // 不过在发版之前可以讨论一波\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('onConfirm')\n    }\n    const cancel = () => {\n      state.visible = false\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('onCancel')\n    }\n    return {\n      ...toRefs(state),\n      confirm,\n      cancel\n    }\n  }\n}\n</script>\n","<template>\n  <el-popover v-bind=\"$attrs\" v-model=\"visible\" trigger=\"click\">\n    <div class=\"el-popconfirm\">\n      <p class=\"el-popconfirm__main\">\n        <i\n          v-if=\"!hideIcon\"\n          :class=\"icon\"\n          class=\"el-popconfirm__icon\"\n          :style=\"{ color: iconColor }\"\n        ></i>\n        {{ title }}\n      </p>\n      <div class=\"el-popconfirm__action\">\n        <el-button size=\"mini\" :type=\"cancelButtonType\" @click=\"cancel\">\n          {{ cancelButtonText }}\n        </el-button>\n        <el-button size=\"mini\" :type=\"confirmButtonType\" @click=\"confirm\">\n          {{ confirmButtonText }}\n        </el-button>\n      </div>\n    </div>\n    <template v-slot:reference>\n      <slot name=\"reference\"></slot>\n    </template>\n  </el-popover>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport ElPopover from '../popover'\nimport { ElButton } from '../../src/components/Button'\nimport { t } from '../../src/locale'\n\nexport default {\n  name: 'ElPopconfirm',\n  props: {\n    title: {\n      type: String\n    },\n    confirmButtonText: {\n      type: String,\n      default: t('el.popconfirm.confirmButtonText')\n    },\n    cancelButtonText: {\n      type: String,\n      default: t('el.popconfirm.cancelButtonText')\n    },\n    confirmButtonType: {\n      type: String,\n      default: 'primary'\n    },\n    cancelButtonType: {\n      type: String,\n      default: 'text'\n    },\n    icon: {\n      type: String,\n      default: 'el-icon-question'\n    },\n    iconColor: {\n      type: String,\n      default: '#f90'\n    },\n    hideIcon: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {\n    ElPopover,\n    ElButton\n  },\n  emits: ['onConfirm', 'onCancel'],\n  setup(props, { emit }) {\n    const state = reactive({\n      visible: false\n    })\n    const confirm = () => {\n      state.visible = false\n      // TODO 如果把 onConfirm 修改成 on-confirm 的话就涉及到 api 的变更了\n      // 不过在发版之前可以讨论一波\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('onConfirm')\n    }\n    const cancel = () => {\n      state.visible = false\n      // eslint-disable-next-line vue/custom-event-name-casing\n      emit('onCancel')\n    }\n    return {\n      ...toRefs(state),\n      confirm,\n      cancel\n    }\n  }\n}\n</script>\n","import ElPopconfirm from './Popconfirm'\n\n/* istanbul ignore next */\nElPopconfirm.install = function (app) {\n  app.component(ElPopconfirm.name, ElPopconfirm)\n}\n\nexport default ElPopconfirm\n","<template>\n  <div class=\"el-card\" :class=\"`is-${shadow}-shadow`\">\n    <div class=\"el-card__header\" v-if=\"$slots.header || header\">\n      <slot name=\"header\">{{ header }}</slot>\n    </div>\n    <div class=\"el-card__body\" :style=\"bodyStyle\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ElCard',\n  props: {\n    header: {\n      type: String,\n      default: ''\n    },\n    bodyStyle: {\n      type: Object,\n      default: function () {\n        return {\n          padding: '20px'\n        }\n      }\n    },\n    shadow: {\n      type: String,\n      default: 'always'\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-card\" :class=\"`is-${shadow}-shadow`\">\n    <div class=\"el-card__header\" v-if=\"$slots.header || header\">\n      <slot name=\"header\">{{ header }}</slot>\n    </div>\n    <div class=\"el-card__body\" :style=\"bodyStyle\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ElCard',\n  props: {\n    header: {\n      type: String,\n      default: ''\n    },\n    bodyStyle: {\n      type: Object,\n      default: function () {\n        return {\n          padding: '20px'\n        }\n      }\n    },\n    shadow: {\n      type: String,\n      default: 'always'\n    }\n  }\n}\n</script>\n","import ElCard from './Card'\n\n/* istanbul ignore next */\nElCard.install = function (app) {\n  app.component(ElCard.name, ElCard)\n}\n\nexport default ElCard\n","<template>\n  <div\n    :class=\"carouselClasses\"\n    @mouseenter.stop=\"handleMouseEnter\"\n    @mouseleave.stop=\"handleMouseLeave\"\n  >\n    <div class=\"el-carousel__container\" :style=\"{ height: height }\">\n      <transition v-if=\"arrowDisplay\" name=\"carousel-arrow-left\">\n        <button\n          type=\"button\"\n          v-show=\"(arrow === 'always' || hover) && (loop || activeIndex > 0)\"\n          @mouseenter=\"handleButtonEnter('left')\"\n          @mouseleave=\"handleButtonLeave\"\n          @click.stop=\"throttledArrowClick(activeIndex - 1)\"\n          class=\"el-carousel__arrow el-carousel__arrow--left\"\n        >\n          <i class=\"el-icon-arrow-left\"></i>\n        </button>\n      </transition>\n      <transition v-if=\"arrowDisplay\" name=\"carousel-arrow-right\">\n        <button\n          type=\"button\"\n          v-show=\"\n            (arrow === 'always' || hover) &&\n            (loop || activeIndex < items.length - 1)\n          \"\n          @mouseenter=\"handleButtonEnter('right')\"\n          @mouseleave=\"handleButtonLeave\"\n          @click.stop=\"throttledArrowClick(activeIndex + 1)\"\n          class=\"el-carousel__arrow el-carousel__arrow--right\"\n        >\n          <i class=\"el-icon-arrow-right\"></i>\n        </button>\n      </transition>\n      <slot></slot>\n    </div>\n    <ul v-if=\"indicatorPosition !== 'none'\" :class=\"indicatorsClasses\">\n      <li\n        v-for=\"(item, index) in items\"\n        :key=\"index\"\n        :class=\"[\n          'el-carousel__indicator',\n          'el-carousel__indicator--' + direction,\n          { 'is-active': index === activeIndex }\n        ]\"\n        @mouseenter=\"throttledIndicatorHover(index)\"\n        @click.stop=\"handleIndicatorClick(index)\"\n      >\n        <button class=\"el-carousel__button\">\n          <span v-if=\"hasLabel\">{{ item.proxy.label }}</span>\n        </button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport {\n  ref,\n  toRefs,\n  computed,\n  watch,\n  reactive,\n  nextTick,\n  provide,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport { throttle } from 'throttle-debounce'\nimport { useResizeEvent } from '../../src/utils/resize-event'\n\nexport default {\n  name: 'ElCarousel',\n\n  props: {\n    initialIndex: {\n      type: Number,\n      default: 0\n    },\n    height: String,\n    trigger: {\n      type: String,\n      default: 'hover'\n    },\n    autoplay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 3000\n    },\n    indicatorPosition: String,\n    indicator: {\n      type: Boolean,\n      default: true\n    },\n    arrow: {\n      type: String,\n      default: 'hover'\n    },\n    type: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    direction: {\n      type: String,\n      default: 'horizontal',\n      validator(val) {\n        return ['horizontal', 'vertical'].indexOf(val) !== -1\n      }\n    }\n  },\n  emits: ['change'],\n  setup(props, { emit }) {\n    // 初始化状态\n    const initData = reactive({\n      items: [],\n      activeIndex: -1,\n      containerWidth: 0,\n      timer: null,\n      hover: false\n    })\n\n    // 封装ArrowButton逻辑\n    const {\n      loop,\n      arrowDisplay,\n      handleButtonEnter,\n      handleButtonLeave,\n      throttledArrowClick,\n      setActiveItem,\n      resetItemPosition\n    } = useArrowButton(props, initData)\n\n    // 封装Indicator逻辑\n    const {\n      hasLabel,\n      indicatorsClasses,\n      throttledIndicatorHover,\n      handleIndicatorClick\n    } = useIndicator(props, initData)\n\n    // 初始化Slide\n    const {\n      carouselClasses,\n      handleMouseEnter,\n      handleMouseLeave,\n      startTimer\n    } = useInitSlide(props, initData, loop)\n\n    const updateItems = (ElCarouselItem) => {\n      initData.items.push(ElCarouselItem)\n    }\n\n    const { addResizeListener, removeResizeListener } = useResizeEvent()\n\n    onMounted(() => {\n      nextTick(() => {\n        addResizeListener(resetItemPosition)\n        if (\n          props.initialIndex < initData.items.length &&\n          props.initialIndex >= 0\n        ) {\n          initData.activeIndex = props.initialIndex\n        }\n        startTimer()\n      })\n    })\n\n    onUnmounted(() => {\n      removeResizeListener(resetItemPosition)\n    })\n\n    watch(\n      () => initData.items,\n      (val) => {\n        if (val.length > 0) setActiveItem(props.initialIndex)\n      }\n    )\n\n    watch(\n      () => initData.activeIndex,\n      (val, oldVal) => {\n        resetItemPosition(oldVal)\n        if (oldVal > -1) {\n          emit('change', val, oldVal)\n        }\n      }\n    )\n\n    // 暴露方法\n    const prev = () => {\n      setActiveItem(initData.activeIndex - 1)\n    }\n\n    const next = () => {\n      setActiveItem(initData.activeIndex + 1)\n    }\n\n    // 取出视图所需参数\n    const { items, activeIndex, hover } = toRefs(initData)\n\n    /**\n     * 向CarouselItem提供属性及方法\n     */\n    // 通过computed将props中的direction字符串变成响应式\n    const computedDirection = computed(() => {\n      return props.direction\n    })\n\n    const computedType = computed(() => {\n      return props.type\n    })\n\n    const computedItems = computed(() => {\n      return initData.items\n    })\n\n    const computedItemLength = computed(() => {\n      return initData.items.length\n    })\n\n    const computedLoop = computed(() => {\n      return props.loop\n    })\n\n    // 只提供计算出来的值，不允许子组件借此改变数据流向\n    provide('direction', computedDirection)\n    provide('type', computedType)\n    provide('items', computedItems)\n    provide('itemLength', computedItemLength)\n    provide('loop', computedLoop)\n\n    // 提供改变状态的方法\n    provide('updateItems', updateItems)\n    provide('setActiveItem', setActiveItem)\n\n    return {\n      items,\n      activeIndex,\n      hover,\n      arrowDisplay,\n      handleButtonEnter,\n      handleButtonLeave,\n      throttledArrowClick,\n      hasLabel,\n      indicatorsClasses,\n      throttledIndicatorHover,\n      handleIndicatorClick,\n      carouselClasses,\n      handleMouseEnter,\n      handleMouseLeave,\n      prev,\n      next,\n      setActiveItem\n    }\n  }\n}\n\nconst useArrowButton = (props, initData) => {\n  const loop = ref(props.loop)\n\n  const itemInStage = (item, index) => {\n    const length = initData.items.length\n    if (\n      (index === length - 1 &&\n        item.proxy.inStage &&\n        initData.items[0].active) ||\n      (item.proxy.inStage &&\n        initData.items[index + 1] &&\n        initData.items[index + 1].active)\n    ) {\n      return 'left'\n    } else if (\n      (index === 0 &&\n        item.proxy.inStage &&\n        initData.items[length - 1].active) ||\n      (item.proxy.inStage &&\n        initData.items[index - 1] &&\n        initData.items[index - 1].active)\n    ) {\n      return 'right'\n    }\n    return false\n  }\n\n  const resetItemPosition = (oldIndex) => {\n    initData.items.forEach((item, index) => {\n      item.proxy.translateItem(index, initData.activeIndex, oldIndex)\n    })\n  }\n\n  const setActiveItem = (index) => {\n    if (typeof index === 'string') {\n      const filteredItems = initData.items.filter(\n        (item) => item.proxy.name === index\n      )\n      if (filteredItems.length > 0) {\n        index = initData.items.indexOf(filteredItems[0])\n      }\n    }\n    index = Number(index)\n    if (isNaN(index) || index !== Math.floor(index)) {\n      console.warn('[Element Warn][Carousel]index must be an integer.')\n      return\n    }\n    const length = initData.items.length\n    const oldIndex = initData.activeIndex\n    if (index < 0) {\n      initData.activeIndex = loop.value ? length - 1 : 0\n    } else if (index >= length) {\n      initData.activeIndex = loop.value ? 0 : length - 1\n    } else {\n      initData.activeIndex = index\n    }\n    if (oldIndex === initData.activeIndex) {\n      resetItemPosition(oldIndex)\n    }\n  }\n\n  const throttledArrowClick = throttle(300, true, (index) => {\n    setActiveItem(index)\n  })\n\n  const handleButtonEnter = (arrow) => {\n    if (props.direction === 'vertical') return\n    initData.items.forEach((item, index) => {\n      if (arrow === itemInStage(item, index)) {\n        item.proxy.hover = true\n      }\n    })\n  }\n\n  const handleButtonLeave = () => {\n    if (props.direction === 'vertical') return\n    initData.items.forEach((item) => {\n      item.proxy.hover = false\n    })\n  }\n\n  const arrowDisplay = computed(() => {\n    return props.arrow !== 'never' && props.direction !== 'vertical'\n  })\n\n  watch(loop, () => {\n    setActiveItem(initData.activeIndex)\n  })\n\n  return {\n    loop,\n    arrowDisplay,\n    handleButtonEnter,\n    handleButtonLeave,\n    throttledArrowClick,\n    setActiveItem,\n    resetItemPosition\n  }\n}\n\nconst useIndicator = (props, initData) => {\n  const handleIndicatorHover = (index) => {\n    if (props.trigger === 'hover' && index !== initData.activeIndex) {\n      initData.activeIndex = index\n    }\n  }\n  const throttledIndicatorHover = throttle(300, (index) => {\n    handleIndicatorHover(index)\n  })\n\n  const handleIndicatorClick = (index) => {\n    initData.activeIndex = index\n  }\n\n  const hasLabel = computed(() => {\n    return initData.items.some((item) => item.proxy.label.toString().length > 0)\n  })\n\n  const indicatorsClasses = computed(() => {\n    const classes = [\n      'el-carousel__indicators',\n      'el-carousel__indicators--' + props.direction\n    ]\n    if (hasLabel.value) {\n      classes.push('el-carousel__indicators--labels')\n    }\n    if (props.indicatorPosition === 'outside' || props.type === 'card') {\n      classes.push('el-carousel__indicators--outside')\n    }\n    return classes\n  })\n\n  return {\n    throttledIndicatorHover,\n    handleIndicatorClick,\n    hasLabel,\n    indicatorsClasses\n  }\n}\n\nconst useInitSlide = (props, initData, loop) => {\n  const autoplay = ref(props.autoplay)\n\n  const playSlides = () => {\n    if (initData.activeIndex < initData.items.length - 1) {\n      initData.activeIndex++\n    } else if (loop.value) {\n      initData.activeIndex = 0\n    }\n  }\n\n  const startTimer = () => {\n    if (props.interval <= 0 || !autoplay.value || initData.timer) return\n    initData.timer = setInterval(playSlides, props.interval)\n  }\n\n  const pauseTimer = () => {\n    if (initData.timer) {\n      clearInterval(initData.timer)\n      initData.timer = null\n    }\n  }\n\n  const handleMouseEnter = () => {\n    initData.hover = true\n    pauseTimer()\n  }\n\n  const handleMouseLeave = () => {\n    initData.hover = false\n    startTimer()\n  }\n\n  const carouselClasses = computed(() => {\n    const classes = ['el-carousel', 'el-carousel--' + props.direction]\n    if (initData.type === 'card') {\n      classes.push('el-carousel--card')\n    }\n    return classes\n  })\n\n  watch(autoplay, (val) => {\n    val ? startTimer() : pauseTimer()\n  })\n\n  return {\n    carouselClasses,\n    playSlides,\n    startTimer,\n    handleMouseEnter,\n    handleMouseLeave\n  }\n}\n</script>\n","<template>\n  <div\n    :class=\"carouselClasses\"\n    @mouseenter.stop=\"handleMouseEnter\"\n    @mouseleave.stop=\"handleMouseLeave\"\n  >\n    <div class=\"el-carousel__container\" :style=\"{ height: height }\">\n      <transition v-if=\"arrowDisplay\" name=\"carousel-arrow-left\">\n        <button\n          type=\"button\"\n          v-show=\"(arrow === 'always' || hover) && (loop || activeIndex > 0)\"\n          @mouseenter=\"handleButtonEnter('left')\"\n          @mouseleave=\"handleButtonLeave\"\n          @click.stop=\"throttledArrowClick(activeIndex - 1)\"\n          class=\"el-carousel__arrow el-carousel__arrow--left\"\n        >\n          <i class=\"el-icon-arrow-left\"></i>\n        </button>\n      </transition>\n      <transition v-if=\"arrowDisplay\" name=\"carousel-arrow-right\">\n        <button\n          type=\"button\"\n          v-show=\"\n            (arrow === 'always' || hover) &&\n            (loop || activeIndex < items.length - 1)\n          \"\n          @mouseenter=\"handleButtonEnter('right')\"\n          @mouseleave=\"handleButtonLeave\"\n          @click.stop=\"throttledArrowClick(activeIndex + 1)\"\n          class=\"el-carousel__arrow el-carousel__arrow--right\"\n        >\n          <i class=\"el-icon-arrow-right\"></i>\n        </button>\n      </transition>\n      <slot></slot>\n    </div>\n    <ul v-if=\"indicatorPosition !== 'none'\" :class=\"indicatorsClasses\">\n      <li\n        v-for=\"(item, index) in items\"\n        :key=\"index\"\n        :class=\"[\n          'el-carousel__indicator',\n          'el-carousel__indicator--' + direction,\n          { 'is-active': index === activeIndex }\n        ]\"\n        @mouseenter=\"throttledIndicatorHover(index)\"\n        @click.stop=\"handleIndicatorClick(index)\"\n      >\n        <button class=\"el-carousel__button\">\n          <span v-if=\"hasLabel\">{{ item.proxy.label }}</span>\n        </button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport {\n  ref,\n  toRefs,\n  computed,\n  watch,\n  reactive,\n  nextTick,\n  provide,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport { throttle } from 'throttle-debounce'\nimport { useResizeEvent } from '../../src/utils/resize-event'\n\nexport default {\n  name: 'ElCarousel',\n\n  props: {\n    initialIndex: {\n      type: Number,\n      default: 0\n    },\n    height: String,\n    trigger: {\n      type: String,\n      default: 'hover'\n    },\n    autoplay: {\n      type: Boolean,\n      default: true\n    },\n    interval: {\n      type: Number,\n      default: 3000\n    },\n    indicatorPosition: String,\n    indicator: {\n      type: Boolean,\n      default: true\n    },\n    arrow: {\n      type: String,\n      default: 'hover'\n    },\n    type: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    direction: {\n      type: String,\n      default: 'horizontal',\n      validator(val) {\n        return ['horizontal', 'vertical'].indexOf(val) !== -1\n      }\n    }\n  },\n  emits: ['change'],\n  setup(props, { emit }) {\n    // 初始化状态\n    const initData = reactive({\n      items: [],\n      activeIndex: -1,\n      containerWidth: 0,\n      timer: null,\n      hover: false\n    })\n\n    // 封装ArrowButton逻辑\n    const {\n      loop,\n      arrowDisplay,\n      handleButtonEnter,\n      handleButtonLeave,\n      throttledArrowClick,\n      setActiveItem,\n      resetItemPosition\n    } = useArrowButton(props, initData)\n\n    // 封装Indicator逻辑\n    const {\n      hasLabel,\n      indicatorsClasses,\n      throttledIndicatorHover,\n      handleIndicatorClick\n    } = useIndicator(props, initData)\n\n    // 初始化Slide\n    const {\n      carouselClasses,\n      handleMouseEnter,\n      handleMouseLeave,\n      startTimer\n    } = useInitSlide(props, initData, loop)\n\n    const updateItems = (ElCarouselItem) => {\n      initData.items.push(ElCarouselItem)\n    }\n\n    const { addResizeListener, removeResizeListener } = useResizeEvent()\n\n    onMounted(() => {\n      nextTick(() => {\n        addResizeListener(resetItemPosition)\n        if (\n          props.initialIndex < initData.items.length &&\n          props.initialIndex >= 0\n        ) {\n          initData.activeIndex = props.initialIndex\n        }\n        startTimer()\n      })\n    })\n\n    onUnmounted(() => {\n      removeResizeListener(resetItemPosition)\n    })\n\n    watch(\n      () => initData.items,\n      (val) => {\n        if (val.length > 0) setActiveItem(props.initialIndex)\n      }\n    )\n\n    watch(\n      () => initData.activeIndex,\n      (val, oldVal) => {\n        resetItemPosition(oldVal)\n        if (oldVal > -1) {\n          emit('change', val, oldVal)\n        }\n      }\n    )\n\n    // 暴露方法\n    const prev = () => {\n      setActiveItem(initData.activeIndex - 1)\n    }\n\n    const next = () => {\n      setActiveItem(initData.activeIndex + 1)\n    }\n\n    // 取出视图所需参数\n    const { items, activeIndex, hover } = toRefs(initData)\n\n    /**\n     * 向CarouselItem提供属性及方法\n     */\n    // 通过computed将props中的direction字符串变成响应式\n    const computedDirection = computed(() => {\n      return props.direction\n    })\n\n    const computedType = computed(() => {\n      return props.type\n    })\n\n    const computedItems = computed(() => {\n      return initData.items\n    })\n\n    const computedItemLength = computed(() => {\n      return initData.items.length\n    })\n\n    const computedLoop = computed(() => {\n      return props.loop\n    })\n\n    // 只提供计算出来的值，不允许子组件借此改变数据流向\n    provide('direction', computedDirection)\n    provide('type', computedType)\n    provide('items', computedItems)\n    provide('itemLength', computedItemLength)\n    provide('loop', computedLoop)\n\n    // 提供改变状态的方法\n    provide('updateItems', updateItems)\n    provide('setActiveItem', setActiveItem)\n\n    return {\n      items,\n      activeIndex,\n      hover,\n      arrowDisplay,\n      handleButtonEnter,\n      handleButtonLeave,\n      throttledArrowClick,\n      hasLabel,\n      indicatorsClasses,\n      throttledIndicatorHover,\n      handleIndicatorClick,\n      carouselClasses,\n      handleMouseEnter,\n      handleMouseLeave,\n      prev,\n      next,\n      setActiveItem\n    }\n  }\n}\n\nconst useArrowButton = (props, initData) => {\n  const loop = ref(props.loop)\n\n  const itemInStage = (item, index) => {\n    const length = initData.items.length\n    if (\n      (index === length - 1 &&\n        item.proxy.inStage &&\n        initData.items[0].active) ||\n      (item.proxy.inStage &&\n        initData.items[index + 1] &&\n        initData.items[index + 1].active)\n    ) {\n      return 'left'\n    } else if (\n      (index === 0 &&\n        item.proxy.inStage &&\n        initData.items[length - 1].active) ||\n      (item.proxy.inStage &&\n        initData.items[index - 1] &&\n        initData.items[index - 1].active)\n    ) {\n      return 'right'\n    }\n    return false\n  }\n\n  const resetItemPosition = (oldIndex) => {\n    initData.items.forEach((item, index) => {\n      item.proxy.translateItem(index, initData.activeIndex, oldIndex)\n    })\n  }\n\n  const setActiveItem = (index) => {\n    if (typeof index === 'string') {\n      const filteredItems = initData.items.filter(\n        (item) => item.proxy.name === index\n      )\n      if (filteredItems.length > 0) {\n        index = initData.items.indexOf(filteredItems[0])\n      }\n    }\n    index = Number(index)\n    if (isNaN(index) || index !== Math.floor(index)) {\n      console.warn('[Element Warn][Carousel]index must be an integer.')\n      return\n    }\n    const length = initData.items.length\n    const oldIndex = initData.activeIndex\n    if (index < 0) {\n      initData.activeIndex = loop.value ? length - 1 : 0\n    } else if (index >= length) {\n      initData.activeIndex = loop.value ? 0 : length - 1\n    } else {\n      initData.activeIndex = index\n    }\n    if (oldIndex === initData.activeIndex) {\n      resetItemPosition(oldIndex)\n    }\n  }\n\n  const throttledArrowClick = throttle(300, true, (index) => {\n    setActiveItem(index)\n  })\n\n  const handleButtonEnter = (arrow) => {\n    if (props.direction === 'vertical') return\n    initData.items.forEach((item, index) => {\n      if (arrow === itemInStage(item, index)) {\n        item.proxy.hover = true\n      }\n    })\n  }\n\n  const handleButtonLeave = () => {\n    if (props.direction === 'vertical') return\n    initData.items.forEach((item) => {\n      item.proxy.hover = false\n    })\n  }\n\n  const arrowDisplay = computed(() => {\n    return props.arrow !== 'never' && props.direction !== 'vertical'\n  })\n\n  watch(loop, () => {\n    setActiveItem(initData.activeIndex)\n  })\n\n  return {\n    loop,\n    arrowDisplay,\n    handleButtonEnter,\n    handleButtonLeave,\n    throttledArrowClick,\n    setActiveItem,\n    resetItemPosition\n  }\n}\n\nconst useIndicator = (props, initData) => {\n  const handleIndicatorHover = (index) => {\n    if (props.trigger === 'hover' && index !== initData.activeIndex) {\n      initData.activeIndex = index\n    }\n  }\n  const throttledIndicatorHover = throttle(300, (index) => {\n    handleIndicatorHover(index)\n  })\n\n  const handleIndicatorClick = (index) => {\n    initData.activeIndex = index\n  }\n\n  const hasLabel = computed(() => {\n    return initData.items.some((item) => item.proxy.label.toString().length > 0)\n  })\n\n  const indicatorsClasses = computed(() => {\n    const classes = [\n      'el-carousel__indicators',\n      'el-carousel__indicators--' + props.direction\n    ]\n    if (hasLabel.value) {\n      classes.push('el-carousel__indicators--labels')\n    }\n    if (props.indicatorPosition === 'outside' || props.type === 'card') {\n      classes.push('el-carousel__indicators--outside')\n    }\n    return classes\n  })\n\n  return {\n    throttledIndicatorHover,\n    handleIndicatorClick,\n    hasLabel,\n    indicatorsClasses\n  }\n}\n\nconst useInitSlide = (props, initData, loop) => {\n  const autoplay = ref(props.autoplay)\n\n  const playSlides = () => {\n    if (initData.activeIndex < initData.items.length - 1) {\n      initData.activeIndex++\n    } else if (loop.value) {\n      initData.activeIndex = 0\n    }\n  }\n\n  const startTimer = () => {\n    if (props.interval <= 0 || !autoplay.value || initData.timer) return\n    initData.timer = setInterval(playSlides, props.interval)\n  }\n\n  const pauseTimer = () => {\n    if (initData.timer) {\n      clearInterval(initData.timer)\n      initData.timer = null\n    }\n  }\n\n  const handleMouseEnter = () => {\n    initData.hover = true\n    pauseTimer()\n  }\n\n  const handleMouseLeave = () => {\n    initData.hover = false\n    startTimer()\n  }\n\n  const carouselClasses = computed(() => {\n    const classes = ['el-carousel', 'el-carousel--' + props.direction]\n    if (initData.type === 'card') {\n      classes.push('el-carousel--card')\n    }\n    return classes\n  })\n\n  watch(autoplay, (val) => {\n    val ? startTimer() : pauseTimer()\n  })\n\n  return {\n    carouselClasses,\n    playSlides,\n    startTimer,\n    handleMouseEnter,\n    handleMouseLeave\n  }\n}\n</script>\n","import ElCarousel from './Carousel.vue'\n\n/* istanbul ignore next */\nElCarousel.install = function (app) {\n  app.component(ElCarousel.name, ElCarousel)\n}\n\nexport default ElCarousel\n","<template>\n  <div\n    v-show=\"ready\"\n    class=\"el-carousel__item\"\n    :class=\"{\n      'is-active': active,\n      'el-carousel__item--card': parentType === 'card',\n      'is-in-stage': inStage,\n      'is-hover': hover,\n      'is-animating': animating\n    }\"\n    @click=\"handleItemClick\"\n    :style=\"itemStyle\"\n  >\n    <div\n      v-if=\"parentType === 'card'\"\n      v-show=\"!active\"\n      class=\"el-carousel__mask\"\n    ></div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { autoprefixer } from '../../src/utils/util'\nimport {\n  reactive,\n  toRefs,\n  computed,\n  inject,\n  onMounted,\n  onUnmounted,\n  getCurrentInstance\n} from 'vue'\nconst CARD_SCALE = 0.83\nexport default {\n  name: 'ElCarouselItem',\n\n  props: {\n    name: String,\n    label: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n\n  setup() {\n    const parentUpdateItems = inject('updateItems')\n    const _this = getCurrentInstance()\n\n    // 更新父组件中的items\n    onMounted(() => {\n      parentUpdateItems(_this)\n    })\n\n    // 初始化data\n    const initData = reactive({\n      hover: false,\n      translate: 0,\n      scale: 1,\n      active: false,\n      ready: false,\n      inStage: false,\n      animating: false\n    })\n\n    const { ready, active, inStage, hover, animating } = toRefs(initData)\n\n    const parentType = inject('type')\n\n    // 处理translateItem，将方法返回到ctx中供父组件调用\n    const { parentDirection, translateItem } = useTranslateItem(\n      _this,\n      initData,\n      parentType\n    )\n\n    // 处理cardItemClick\n    const { handleItemClick } = useCardItemClick(_this, parentType)\n\n    // 处理样式\n    const itemStyle = computed(() => {\n      const translateType =\n        parentDirection.value === 'vertical' ? 'translateY' : 'translateX'\n      const value = `${translateType}(${initData.translate}px) scale(${initData.scale})`\n      const style = {\n        transform: value\n      }\n      return autoprefixer(style)\n    })\n\n    // destoryed的时候更新父组件items\n    onUnmounted(() => {\n      parentUpdateItems()\n    })\n\n    return {\n      ready,\n      active,\n      inStage,\n      hover,\n      animating,\n      itemStyle,\n      handleItemClick,\n      translateItem,\n      parentType\n    }\n  }\n}\n\nconst useTranslateItem = (_this, initData, parentType) => {\n  const parentItemLength = inject('itemLength')\n  const parentDirection = inject('direction')\n  const parentLoop = inject('loop')\n\n  const processIndex = (index, activeIndex, length) => {\n    if (activeIndex === 0 && index === length - 1) {\n      return -1\n    } else if (activeIndex === length - 1 && index === 0) {\n      return length\n    } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\n      return length + 1\n    } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\n      return -2\n    }\n    return index\n  }\n\n  const calcCardTranslate = (index, activeIndex) => {\n    const parentWidth = _this.parent.vnode.el.offsetWidth\n    if (initData.inStage) {\n      return (parentWidth * ((2 - CARD_SCALE) * (index - activeIndex) + 1)) / 4\n    } else if (index < activeIndex) {\n      return (-(1 + CARD_SCALE) * parentWidth) / 4\n    } else {\n      return ((3 + CARD_SCALE) * parentWidth) / 4\n    }\n  }\n\n  const calcTranslate = (index, activeIndex, isVertical) => {\n    const distance =\n      _this.parent.vnode.el[isVertical ? 'offsetHeight' : 'offsetWidth']\n    return distance * (index - activeIndex)\n  }\n\n  const translateItem = (index, activeIndex, oldIndex) => {\n    const length = parentItemLength.value\n    if (parentType.value !== 'card' && oldIndex !== undefined) {\n      initData.animating = index === activeIndex || index === oldIndex\n    }\n    if (index !== activeIndex && length > 2 && parentLoop.value) {\n      index = processIndex(index, activeIndex, length)\n    }\n    if (parentType.value === 'card') {\n      if (parentDirection.value === 'vertical') {\n        console.warn(\n          '[Element Warn][Carousel]vertical direction is not supported in card mode'\n        )\n      }\n      initData.inStage = Math.round(Math.abs(index - activeIndex)) <= 1\n      initData.active = index === activeIndex\n      initData.translate = calcCardTranslate(index, activeIndex)\n      initData.scale = initData.active ? 1 : CARD_SCALE\n    } else {\n      initData.active = index === activeIndex\n      const isVertical = parentDirection.value === 'vertical'\n      initData.translate = calcTranslate(index, activeIndex, isVertical)\n    }\n    initData.ready = true\n  }\n\n  return {\n    parentDirection,\n    translateItem\n  }\n}\n\nconst useCardItemClick = (_this, parentType) => {\n  const parentItems = inject('items')\n  const setActiveItem = inject('setActiveItem')\n\n  const handleItemClick = () => {\n    if (parentType.value === 'card') {\n      const index = parentItems.value.indexOf(_this)\n      setActiveItem(index)\n    }\n  }\n\n  return {\n    handleItemClick\n  }\n}\n</script>\n","<template>\n  <div\n    v-show=\"ready\"\n    class=\"el-carousel__item\"\n    :class=\"{\n      'is-active': active,\n      'el-carousel__item--card': parentType === 'card',\n      'is-in-stage': inStage,\n      'is-hover': hover,\n      'is-animating': animating\n    }\"\n    @click=\"handleItemClick\"\n    :style=\"itemStyle\"\n  >\n    <div\n      v-if=\"parentType === 'card'\"\n      v-show=\"!active\"\n      class=\"el-carousel__mask\"\n    ></div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { autoprefixer } from '../../src/utils/util'\nimport {\n  reactive,\n  toRefs,\n  computed,\n  inject,\n  onMounted,\n  onUnmounted,\n  getCurrentInstance\n} from 'vue'\nconst CARD_SCALE = 0.83\nexport default {\n  name: 'ElCarouselItem',\n\n  props: {\n    name: String,\n    label: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n\n  setup() {\n    const parentUpdateItems = inject('updateItems')\n    const _this = getCurrentInstance()\n\n    // 更新父组件中的items\n    onMounted(() => {\n      parentUpdateItems(_this)\n    })\n\n    // 初始化data\n    const initData = reactive({\n      hover: false,\n      translate: 0,\n      scale: 1,\n      active: false,\n      ready: false,\n      inStage: false,\n      animating: false\n    })\n\n    const { ready, active, inStage, hover, animating } = toRefs(initData)\n\n    const parentType = inject('type')\n\n    // 处理translateItem，将方法返回到ctx中供父组件调用\n    const { parentDirection, translateItem } = useTranslateItem(\n      _this,\n      initData,\n      parentType\n    )\n\n    // 处理cardItemClick\n    const { handleItemClick } = useCardItemClick(_this, parentType)\n\n    // 处理样式\n    const itemStyle = computed(() => {\n      const translateType =\n        parentDirection.value === 'vertical' ? 'translateY' : 'translateX'\n      const value = `${translateType}(${initData.translate}px) scale(${initData.scale})`\n      const style = {\n        transform: value\n      }\n      return autoprefixer(style)\n    })\n\n    // destoryed的时候更新父组件items\n    onUnmounted(() => {\n      parentUpdateItems()\n    })\n\n    return {\n      ready,\n      active,\n      inStage,\n      hover,\n      animating,\n      itemStyle,\n      handleItemClick,\n      translateItem,\n      parentType\n    }\n  }\n}\n\nconst useTranslateItem = (_this, initData, parentType) => {\n  const parentItemLength = inject('itemLength')\n  const parentDirection = inject('direction')\n  const parentLoop = inject('loop')\n\n  const processIndex = (index, activeIndex, length) => {\n    if (activeIndex === 0 && index === length - 1) {\n      return -1\n    } else if (activeIndex === length - 1 && index === 0) {\n      return length\n    } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\n      return length + 1\n    } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\n      return -2\n    }\n    return index\n  }\n\n  const calcCardTranslate = (index, activeIndex) => {\n    const parentWidth = _this.parent.vnode.el.offsetWidth\n    if (initData.inStage) {\n      return (parentWidth * ((2 - CARD_SCALE) * (index - activeIndex) + 1)) / 4\n    } else if (index < activeIndex) {\n      return (-(1 + CARD_SCALE) * parentWidth) / 4\n    } else {\n      return ((3 + CARD_SCALE) * parentWidth) / 4\n    }\n  }\n\n  const calcTranslate = (index, activeIndex, isVertical) => {\n    const distance =\n      _this.parent.vnode.el[isVertical ? 'offsetHeight' : 'offsetWidth']\n    return distance * (index - activeIndex)\n  }\n\n  const translateItem = (index, activeIndex, oldIndex) => {\n    const length = parentItemLength.value\n    if (parentType.value !== 'card' && oldIndex !== undefined) {\n      initData.animating = index === activeIndex || index === oldIndex\n    }\n    if (index !== activeIndex && length > 2 && parentLoop.value) {\n      index = processIndex(index, activeIndex, length)\n    }\n    if (parentType.value === 'card') {\n      if (parentDirection.value === 'vertical') {\n        console.warn(\n          '[Element Warn][Carousel]vertical direction is not supported in card mode'\n        )\n      }\n      initData.inStage = Math.round(Math.abs(index - activeIndex)) <= 1\n      initData.active = index === activeIndex\n      initData.translate = calcCardTranslate(index, activeIndex)\n      initData.scale = initData.active ? 1 : CARD_SCALE\n    } else {\n      initData.active = index === activeIndex\n      const isVertical = parentDirection.value === 'vertical'\n      initData.translate = calcTranslate(index, activeIndex, isVertical)\n    }\n    initData.ready = true\n  }\n\n  return {\n    parentDirection,\n    translateItem\n  }\n}\n\nconst useCardItemClick = (_this, parentType) => {\n  const parentItems = inject('items')\n  const setActiveItem = inject('setActiveItem')\n\n  const handleItemClick = () => {\n    if (parentType.value === 'card') {\n      const index = parentItems.value.indexOf(_this)\n      setActiveItem(index)\n    }\n  }\n\n  return {\n    handleItemClick\n  }\n}\n</script>\n","import ElCarouselItem from './CarouselItem.vue'\n\n/* istanbul ignore next */\nElCarouselItem.install = function (app) {\n  app.component(ElCarouselItem.name, ElCarouselItem)\n}\n\nexport default ElCarouselItem\n","<!--\n * @Author: Mr Chang\n * @Date: 2020-09-21 01:09:39\n * @LastEditTime: 2020-09-21 15:00:28\n * @LastEditors: Mr Chang\n * @Description: \n * @FilePath: \\element3\\packages\\collapse\\src\\collapse.vue\n-->\n<template>\n  <div class=\"el-collapse\" role=\"tablist\" aria-multiselectable=\"true\">\n    <slot></slot>\n  </div>\n</template>\n<script>\nimport {\n  getCurrentInstance,\n  onBeforeMount,\n  provide,\n  reactive,\n  toRefs,\n  watch\n} from 'vue'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElCollapse',\n\n  componentName: 'ElCollapse',\n\n  props: {\n    accordion: Boolean,\n    modelValue: {\n      type: [Array, String, Number],\n      default() {\n        return []\n      }\n    }\n  },\n\n  emits: ['update:modelValue', 'change'],\n\n  setup(props, context) {\n    const instance = getCurrentInstance()\n    const state = reactive({\n      activeNames: [].concat(props.modelValue)\n    })\n\n    provide('collapse', instance)\n\n    const { on } = useEmitter()\n\n    watch(\n      () => props.modelValue,\n      (value) => {\n        state.activeNames = [].concat(value)\n      }\n    )\n\n    onBeforeMount(() => {\n      on('item-click', handleItemClick)\n    })\n    function setActiveNames(activeNames) {\n      activeNames = [].concat(activeNames)\n      const value = props.accordion ? activeNames[0] : activeNames\n      state.activeNames = activeNames\n      context.emit('update:modelValue', value)\n      context.emit('change', value)\n    }\n\n    function handleItemClick(item) {\n      const { name } = item\n      if (props.accordion) {\n        setActiveNames(\n          (state.activeNames[0] || state.activeNames[0] === 0) &&\n            state.activeNames[0] === name\n            ? ''\n            : name\n        )\n      } else {\n        const activeNames = state.activeNames.slice(0)\n        const index = activeNames.indexOf(name)\n\n        if (index > -1) {\n          activeNames.splice(index, 1)\n        } else {\n          activeNames.push(name)\n        }\n        setActiveNames(activeNames)\n      }\n    }\n    return { ...toRefs(state), setActiveNames, handleItemClick }\n  }\n}\n</script>\n","import ElCollapse from './src/collapse'\n\n/* istanbul ignore next */\nElCollapse.install = function (app) {\n  app.component(ElCollapse.name, ElCollapse)\n}\n\nexport default ElCollapse\n","<template>\n  <div\n    class=\"el-collapse-item\"\n    :class=\"{ 'is-active': isActive, 'is-disabled': disabled }\"\n  >\n    <div\n      role=\"tab\"\n      :aria-expanded=\"isActive\"\n      :aria-controls=\"`el-collapse-content-${id}`\"\n      :aria-describedby=\"`el-collapse-content-${id}`\"\n    >\n      <div\n        class=\"el-collapse-item__header\"\n        @click=\"handleHeaderClick\"\n        role=\"button\"\n        :id=\"`el-collapse-head-${id}`\"\n        :tabindex=\"disabled ? undefined : 0\"\n        @keyup.space.enter.stop=\"handleEnterClick\"\n        :class=\"{\n          focusing: focusing,\n          'is-active': isActive\n        }\"\n        @focus=\"handleFocus\"\n        @blur=\"focusing = false\"\n      >\n        <slot name=\"title\">{{ title }}</slot>\n        <i\n          class=\"el-collapse-item__arrow el-icon-arrow-right\"\n          :class=\"{ 'is-active': isActive }\"\n        >\n        </i>\n      </div>\n    </div>\n    <el-collapse-transition>\n      <div\n        class=\"el-collapse-item__wrap\"\n        v-show=\"isActive\"\n        role=\"tabpanel\"\n        :aria-hidden=\"!isActive\"\n        :aria-labelledby=\"`el-collapse-head-${id}`\"\n        :id=\"`el-collapse-content-${id}`\"\n      >\n        <div class=\"el-collapse-item__content\">\n          <slot></slot>\n        </div>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script>\nimport { computed, getCurrentInstance, inject, reactive, toRefs } from 'vue'\nimport ElCollapseTransition from '../../../src/transitions/collapse-transition'\nimport { generateId } from '../../../src/utils/util'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElCollapseItem',\n\n  componentName: 'ElCollapseItem',\n\n  components: { ElCollapseTransition },\n\n  props: {\n    title: String,\n    name: {\n      type: [String, Number],\n      default() {\n        return ''\n      }\n    },\n    disabled: Boolean\n  },\n\n  setup(props) {\n    const state = reactive({\n      contentWrapStyle: {\n        height: 'auto',\n        display: 'block'\n      },\n      contentHeight: 0,\n      focusing: false,\n      isClick: false,\n      id: generateId()\n    })\n\n    const instance = getCurrentInstance()\n    const collapse = inject('collapse')\n\n    const { dispatch } = useEmitter()\n    const isActive = computed(() => {\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      return collapse.proxy.activeNames.indexOf(name) > -1\n    })\n\n    function handleFocus() {\n      setTimeout(() => {\n        if (!state.isClick) {\n          state.focusing = true\n        } else {\n          state.isClick = false\n        }\n      }, 50)\n    }\n\n    function handleHeaderClick() {\n      if (props.disabled) return\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      dispatch('item-click', { name })\n      state.focusing = false\n      state.isClick = true\n    }\n\n    function handleEnterClick() {\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      dispatch('item-click', { name })\n    }\n    return {\n      ...toRefs(state),\n      isActive,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick\n    }\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-collapse-item\"\n    :class=\"{ 'is-active': isActive, 'is-disabled': disabled }\"\n  >\n    <div\n      role=\"tab\"\n      :aria-expanded=\"isActive\"\n      :aria-controls=\"`el-collapse-content-${id}`\"\n      :aria-describedby=\"`el-collapse-content-${id}`\"\n    >\n      <div\n        class=\"el-collapse-item__header\"\n        @click=\"handleHeaderClick\"\n        role=\"button\"\n        :id=\"`el-collapse-head-${id}`\"\n        :tabindex=\"disabled ? undefined : 0\"\n        @keyup.space.enter.stop=\"handleEnterClick\"\n        :class=\"{\n          focusing: focusing,\n          'is-active': isActive\n        }\"\n        @focus=\"handleFocus\"\n        @blur=\"focusing = false\"\n      >\n        <slot name=\"title\">{{ title }}</slot>\n        <i\n          class=\"el-collapse-item__arrow el-icon-arrow-right\"\n          :class=\"{ 'is-active': isActive }\"\n        >\n        </i>\n      </div>\n    </div>\n    <el-collapse-transition>\n      <div\n        class=\"el-collapse-item__wrap\"\n        v-show=\"isActive\"\n        role=\"tabpanel\"\n        :aria-hidden=\"!isActive\"\n        :aria-labelledby=\"`el-collapse-head-${id}`\"\n        :id=\"`el-collapse-content-${id}`\"\n      >\n        <div class=\"el-collapse-item__content\">\n          <slot></slot>\n        </div>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script>\nimport { computed, getCurrentInstance, inject, reactive, toRefs } from 'vue'\nimport ElCollapseTransition from '../../../src/transitions/collapse-transition'\nimport { generateId } from '../../../src/utils/util'\nimport { useEmitter } from '../../../src/use/emitter'\n\nexport default {\n  name: 'ElCollapseItem',\n\n  componentName: 'ElCollapseItem',\n\n  components: { ElCollapseTransition },\n\n  props: {\n    title: String,\n    name: {\n      type: [String, Number],\n      default() {\n        return ''\n      }\n    },\n    disabled: Boolean\n  },\n\n  setup(props) {\n    const state = reactive({\n      contentWrapStyle: {\n        height: 'auto',\n        display: 'block'\n      },\n      contentHeight: 0,\n      focusing: false,\n      isClick: false,\n      id: generateId()\n    })\n\n    const instance = getCurrentInstance()\n    const collapse = inject('collapse')\n\n    const { dispatch } = useEmitter()\n    const isActive = computed(() => {\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      return collapse.proxy.activeNames.indexOf(name) > -1\n    })\n\n    function handleFocus() {\n      setTimeout(() => {\n        if (!state.isClick) {\n          state.focusing = true\n        } else {\n          state.isClick = false\n        }\n      }, 50)\n    }\n\n    function handleHeaderClick() {\n      if (props.disabled) return\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      dispatch('item-click', { name })\n      state.focusing = false\n      state.isClick = true\n    }\n\n    function handleEnterClick() {\n      const name = props.name || props.name === 0 ? props.name : instance.uid\n      dispatch('item-click', { name })\n    }\n    return {\n      ...toRefs(state),\n      isActive,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick\n    }\n  }\n}\n</script>\n","import ElCollapseItem from '../collapse/src/collapse-item.vue'\n\n/* istanbul ignore next */\nElCollapseItem.install = function (app) {\n  app.component(ElCollapseItem.name, ElCollapseItem)\n}\n\nexport default ElCollapseItem\n","<script lang=\"jsx\">\nimport { Fragment } from 'vue'\nexport default {\n  name: 'ElTimeline',\n\n  props: {\n    reverse: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  provide() {\n    return {\n      timeline: this\n    }\n  },\n\n  render() {\n    const reverse = this.reverse\n    const classes = {\n      'el-timeline': true,\n      'is-reverse': reverse\n    }\n    let slots\n    if (this.$slots.default) {\n      slots = this.$slots.default()\n      let children\n      if (slots.length > 0 && slots[0].type === Fragment) {\n        children = slots[0].children\n      } else {\n        children = slots\n      }\n      if (reverse) {\n        children.reverse()\n      }\n    }\n\n    return <ul class={classes}>{slots}</ul>\n  }\n}\n</script>\n","import ElTimeline from './Timeline'\n\n/* istanbul ignore next */\nElTimeline.install = function (app) {\n  app.component(ElTimeline.name, ElTimeline)\n}\n\nexport default ElTimeline\n","<template>\n  <li class=\"el-timeline-item\">\n    <div class=\"el-timeline-item__tail\"></div>\n\n    <div\n      v-if=\"!$slots.dot\"\n      class=\"el-timeline-item__node\"\n      :class=\"[\n        `el-timeline-item__node--${size || ''}`,\n        `el-timeline-item__node--${type || ''}`\n      ]\"\n      :style=\"{\n        backgroundColor: color\n      }\"\n    >\n      <i v-if=\"icon\" class=\"el-timeline-item__icon\" :class=\"icon\"></i>\n    </div>\n    <div v-if=\"$slots.dot\" class=\"el-timeline-item__dot\">\n      <slot name=\"dot\"></slot>\n    </div>\n\n    <div class=\"el-timeline-item__wrapper\">\n      <div\n        v-if=\"!hideTimestamp && placement === 'top'\"\n        class=\"el-timeline-item__timestamp is-top\"\n      >\n        {{ timestamp }}\n      </div>\n\n      <div class=\"el-timeline-item__content\">\n        <slot></slot>\n      </div>\n\n      <div\n        v-if=\"!hideTimestamp && placement === 'bottom'\"\n        class=\"el-timeline-item__timestamp is-bottom\"\n      >\n        {{ timestamp }}\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nexport default {\n  name: 'ElTimelineItem',\n\n  inject: ['timeline'],\n\n  props: {\n    timestamp: String,\n\n    hideTimestamp: {\n      type: Boolean,\n      default: false\n    },\n\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n\n    type: String,\n\n    color: String,\n\n    size: {\n      type: String,\n      default: 'normal'\n    },\n\n    icon: String\n  }\n}\n</script>\n","<template>\n  <li class=\"el-timeline-item\">\n    <div class=\"el-timeline-item__tail\"></div>\n\n    <div\n      v-if=\"!$slots.dot\"\n      class=\"el-timeline-item__node\"\n      :class=\"[\n        `el-timeline-item__node--${size || ''}`,\n        `el-timeline-item__node--${type || ''}`\n      ]\"\n      :style=\"{\n        backgroundColor: color\n      }\"\n    >\n      <i v-if=\"icon\" class=\"el-timeline-item__icon\" :class=\"icon\"></i>\n    </div>\n    <div v-if=\"$slots.dot\" class=\"el-timeline-item__dot\">\n      <slot name=\"dot\"></slot>\n    </div>\n\n    <div class=\"el-timeline-item__wrapper\">\n      <div\n        v-if=\"!hideTimestamp && placement === 'top'\"\n        class=\"el-timeline-item__timestamp is-top\"\n      >\n        {{ timestamp }}\n      </div>\n\n      <div class=\"el-timeline-item__content\">\n        <slot></slot>\n      </div>\n\n      <div\n        v-if=\"!hideTimestamp && placement === 'bottom'\"\n        class=\"el-timeline-item__timestamp is-bottom\"\n      >\n        {{ timestamp }}\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nexport default {\n  name: 'ElTimelineItem',\n\n  inject: ['timeline'],\n\n  props: {\n    timestamp: String,\n\n    hideTimestamp: {\n      type: Boolean,\n      default: false\n    },\n\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n\n    type: String,\n\n    color: String,\n\n    size: {\n      type: String,\n      default: 'normal'\n    },\n\n    icon: String\n  }\n}\n</script>\n","import ElTimelineItem from './TimelineItem'\n\n/* istanbul ignore next */\nElTimelineItem.install = function (app) {\n  app.component(ElTimelineItem.name, ElTimelineItem)\n}\n\nexport default ElTimelineItem\n","<template>\n  <div v-bind=\"$attrs\" :class=\"['el-divider', `el-divider--${direction}`]\">\n    <div\n      v-if=\"$slots.default && direction !== 'vertical'\"\n      :class=\"['el-divider__text', `is-${contentPosition}`]\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ElDivider',\n  props: {\n    direction: {\n      type: String,\n      default: 'horizontal',\n      validator(val) {\n        return ['horizontal', 'vertical'].includes(val)\n      }\n    },\n    contentPosition: {\n      type: String,\n      default: 'center',\n      validator(val) {\n        return ['left', 'center', 'right'].includes(val)\n      }\n    }\n  }\n}\n</script>\n","<template>\n  <div v-bind=\"$attrs\" :class=\"['el-divider', `el-divider--${direction}`]\">\n    <div\n      v-if=\"$slots.default && direction !== 'vertical'\"\n      :class=\"['el-divider__text', `is-${contentPosition}`]\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ElDivider',\n  props: {\n    direction: {\n      type: String,\n      default: 'horizontal',\n      validator(val) {\n        return ['horizontal', 'vertical'].includes(val)\n      }\n    },\n    contentPosition: {\n      type: String,\n      default: 'center',\n      validator(val) {\n        return ['left', 'center', 'right'].includes(val)\n      }\n    }\n  }\n}\n</script>\n","import ElDivider from './src/Divider'\n\n/* istanbul ignore next */\nElDivider.install = function (app) {\n  app.component(ElDivider.name, ElDivider)\n}\n\nexport { ElDivider }\n","/* Modified from https://github.com/taylorhakes/fecha\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 Taylor Hakes\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n *     The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n *     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/*eslint-disable*/\n// 把 YYYY-MM-DD 改成了 yyyy-MM-dd\n;(function (main) {\n  'use strict'\n\n  /**\n   * Parse or format dates\n   * @class fecha\n   */\n  var fecha = {}\n  var token = /d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g\n  var twoDigits = '\\\\d\\\\d?'\n  var threeDigits = '\\\\d{3}'\n  var fourDigits = '\\\\d{4}'\n  var word = '[^\\\\s]+'\n  var literal = /\\[([^]*?)\\]/gm\n  var noop = function () {}\n\n  function regexEscape(str) {\n    return str.replace(/[|\\\\{()[^$+*?.-]/g, '\\\\$&')\n  }\n\n  function shorten(arr, sLen) {\n    var newArr = []\n    for (var i = 0, len = arr.length; i < len; i++) {\n      newArr.push(arr[i].substr(0, sLen))\n    }\n    return newArr\n  }\n\n  function monthUpdate(arrName) {\n    return function (d, v, i18n) {\n      var index = i18n[arrName].indexOf(\n        v.charAt(0).toUpperCase() + v.substr(1).toLowerCase()\n      )\n      if (~index) {\n        d.month = index\n      }\n    }\n  }\n\n  function pad(val, len) {\n    val = String(val)\n    len = len || 2\n    while (val.length < len) {\n      val = '0' + val\n    }\n    return val\n  }\n\n  var dayNames = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday'\n  ]\n  var monthNames = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n  ]\n  var monthNamesShort = shorten(monthNames, 3)\n  var dayNamesShort = shorten(dayNames, 3)\n  fecha.i18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: ['am', 'pm'],\n    DoFn: function DoFn(D) {\n      return (\n        D +\n        ['th', 'st', 'nd', 'rd'][\n          D % 10 > 3 ? 0 : ((D - (D % 10) !== 10) * D) % 10\n        ]\n      )\n    }\n  }\n\n  var formatFlags = {\n    D: function (dateObj) {\n      return dateObj.getDay()\n    },\n    DD: function (dateObj) {\n      return pad(dateObj.getDay())\n    },\n    Do: function (dateObj, i18n) {\n      return i18n.DoFn(dateObj.getDate())\n    },\n    d: function (dateObj) {\n      return dateObj.getDate()\n    },\n    dd: function (dateObj) {\n      return pad(dateObj.getDate())\n    },\n    ddd: function (dateObj, i18n) {\n      return i18n.dayNamesShort[dateObj.getDay()]\n    },\n    dddd: function (dateObj, i18n) {\n      return i18n.dayNames[dateObj.getDay()]\n    },\n    M: function (dateObj) {\n      return dateObj.getMonth() + 1\n    },\n    MM: function (dateObj) {\n      return pad(dateObj.getMonth() + 1)\n    },\n    MMM: function (dateObj, i18n) {\n      return i18n.monthNamesShort[dateObj.getMonth()]\n    },\n    MMMM: function (dateObj, i18n) {\n      return i18n.monthNames[dateObj.getMonth()]\n    },\n    yy: function (dateObj) {\n      return pad(String(dateObj.getFullYear()), 4).substr(2)\n    },\n    yyyy: function (dateObj) {\n      return pad(dateObj.getFullYear(), 4)\n    },\n    h: function (dateObj) {\n      return dateObj.getHours() % 12 || 12\n    },\n    hh: function (dateObj) {\n      return pad(dateObj.getHours() % 12 || 12)\n    },\n    H: function (dateObj) {\n      return dateObj.getHours()\n    },\n    HH: function (dateObj) {\n      return pad(dateObj.getHours())\n    },\n    m: function (dateObj) {\n      return dateObj.getMinutes()\n    },\n    mm: function (dateObj) {\n      return pad(dateObj.getMinutes())\n    },\n    s: function (dateObj) {\n      return dateObj.getSeconds()\n    },\n    ss: function (dateObj) {\n      return pad(dateObj.getSeconds())\n    },\n    S: function (dateObj) {\n      return Math.round(dateObj.getMilliseconds() / 100)\n    },\n    SS: function (dateObj) {\n      return pad(Math.round(dateObj.getMilliseconds() / 10), 2)\n    },\n    SSS: function (dateObj) {\n      return pad(dateObj.getMilliseconds(), 3)\n    },\n    a: function (dateObj, i18n) {\n      return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1]\n    },\n    A: function (dateObj, i18n) {\n      return dateObj.getHours() < 12\n        ? i18n.amPm[0].toUpperCase()\n        : i18n.amPm[1].toUpperCase()\n    },\n    ZZ: function (dateObj) {\n      var o = dateObj.getTimezoneOffset()\n      return (\n        (o > 0 ? '-' : '+') +\n        pad(Math.floor(Math.abs(o) / 60) * 100 + (Math.abs(o) % 60), 4)\n      )\n    }\n  }\n\n  var parseFlags = {\n    d: [\n      twoDigits,\n      function (d, v) {\n        d.day = v\n      }\n    ],\n    Do: [\n      twoDigits + word,\n      function (d, v) {\n        d.day = parseInt(v, 10)\n      }\n    ],\n    M: [\n      twoDigits,\n      function (d, v) {\n        d.month = v - 1\n      }\n    ],\n    yy: [\n      twoDigits,\n      function (d, v) {\n        var da = new Date(),\n          cent = +('' + da.getFullYear()).substr(0, 2)\n        d.year = '' + (v > 68 ? cent - 1 : cent) + v\n      }\n    ],\n    h: [\n      twoDigits,\n      function (d, v) {\n        d.hour = v\n      }\n    ],\n    m: [\n      twoDigits,\n      function (d, v) {\n        d.minute = v\n      }\n    ],\n    s: [\n      twoDigits,\n      function (d, v) {\n        d.second = v\n      }\n    ],\n    yyyy: [\n      fourDigits,\n      function (d, v) {\n        d.year = v\n      }\n    ],\n    S: [\n      '\\\\d',\n      function (d, v) {\n        d.millisecond = v * 100\n      }\n    ],\n    SS: [\n      '\\\\d{2}',\n      function (d, v) {\n        d.millisecond = v * 10\n      }\n    ],\n    SSS: [\n      threeDigits,\n      function (d, v) {\n        d.millisecond = v\n      }\n    ],\n    D: [twoDigits, noop],\n    ddd: [word, noop],\n    MMM: [word, monthUpdate('monthNamesShort')],\n    MMMM: [word, monthUpdate('monthNames')],\n    a: [\n      word,\n      function (d, v, i18n) {\n        var val = v.toLowerCase()\n        if (val === i18n.amPm[0]) {\n          d.isPm = false\n        } else if (val === i18n.amPm[1]) {\n          d.isPm = true\n        }\n      }\n    ],\n    ZZ: [\n      '[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z',\n      function (d, v) {\n        var parts = (v + '').match(/([+-]|\\d\\d)/gi),\n          minutes\n\n        if (parts) {\n          minutes = +(parts[1] * 60) + parseInt(parts[2], 10)\n          d.timezoneOffset = parts[0] === '+' ? minutes : -minutes\n        }\n      }\n    ]\n  }\n  parseFlags.dd = parseFlags.d\n  parseFlags.dddd = parseFlags.ddd\n  parseFlags.DD = parseFlags.D\n  parseFlags.mm = parseFlags.m\n  parseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h\n  parseFlags.MM = parseFlags.M\n  parseFlags.ss = parseFlags.s\n  parseFlags.A = parseFlags.a\n\n  // Some common format strings\n  fecha.masks = {\n    default: 'ddd MMM dd yyyy HH:mm:ss',\n    shortDate: 'M/D/yy',\n    mediumDate: 'MMM d, yyyy',\n    longDate: 'MMMM d, yyyy',\n    fullDate: 'dddd, MMMM d, yyyy',\n    shortTime: 'HH:mm',\n    mediumTime: 'HH:mm:ss',\n    longTime: 'HH:mm:ss.SSS'\n  }\n\n  /***\n   * Format a date\n   * @method format\n   * @param {Date|number} dateObj\n   * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n   */\n  fecha.format = function (dateObj, mask, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n\n\n    if (typeof dateObj === 'number') {\n      dateObj = new Date(dateObj)\n    }\n\n    if (\n      Object.prototype.toString.call(dateObj) !== '[object Date]' ||\n      isNaN(dateObj.getTime())\n    ) {\n      throw new Error('Invalid Date in fecha.format')\n    }\n\n    mask = fecha.masks[mask] || mask || fecha.masks['default']\n\n    var literals = []\n\n    // Make literals inactive by replacing them with ??\n    mask = mask.replace(literal, function ($0, $1) {\n      literals.push($1)\n      return '@@@'\n    })\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n      return $0 in formatFlags\n        ? formatFlags[$0](dateObj, i18n)\n        : $0.slice(1, $0.length - 1)\n    })\n    // Inline literal values back into the formatted value\n    return mask.replace(/@@@/g, function () {\n      return literals.shift()\n    })\n  }\n\n  /**\n   * Parse a date string into an object, changes - into /\n   * @method parse\n   * @param {string} dateStr Date string\n   * @param {string} format Date parse format\n   * @returns {Date|boolean}\n   */\n  fecha.parse = function (dateStr, format, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n\n\n    if (typeof format !== 'string') {\n      throw new Error('Invalid format in fecha.parse')\n    }\n\n    format = fecha.masks[format] || format\n\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n      return null\n    }\n\n    var dateInfo = {}\n    var parseInfo = []\n    var literals = []\n    format = format.replace(literal, function ($0, $1) {\n      literals.push($1)\n      return '@@@'\n    })\n    var newFormat = regexEscape(format).replace(token, function ($0) {\n      if (parseFlags[$0]) {\n        var info = parseFlags[$0]\n        parseInfo.push(info[1])\n        return '(' + info[0] + ')'\n      }\n\n      return $0\n    })\n    newFormat = newFormat.replace(/@@@/g, function () {\n      return literals.shift()\n    })\n    var matches = dateStr.match(new RegExp(newFormat, 'i'))\n    if (!matches) {\n      return null\n    }\n\n    for (var i = 1; i < matches.length; i++) {\n      parseInfo[i - 1](dateInfo, matches[i], i18n)\n    }\n\n    var today = new Date()\n    if (\n      dateInfo.isPm === true &&\n      dateInfo.hour != null &&\n      +dateInfo.hour !== 12\n    ) {\n      dateInfo.hour = +dateInfo.hour + 12\n    } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n      dateInfo.hour = 0\n    }\n\n    var date\n    if (dateInfo.timezoneOffset != null) {\n      dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset\n      date = new Date(\n        Date.UTC(\n          dateInfo.year || today.getFullYear(),\n          dateInfo.month || 0,\n          dateInfo.day || 1,\n          dateInfo.hour || 0,\n          dateInfo.minute || 0,\n          dateInfo.second || 0,\n          dateInfo.millisecond || 0\n        )\n      )\n    } else {\n      date = new Date(\n        dateInfo.year || today.getFullYear(),\n        dateInfo.month || 0,\n        dateInfo.day || 1,\n        dateInfo.hour || 0,\n        dateInfo.minute || 0,\n        dateInfo.second || 0,\n        dateInfo.millisecond || 0\n      )\n    }\n    return date\n  }\n\n  /* istanbul ignore next */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = fecha\n  } else if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return fecha\n    })\n  } else {\n    main.fecha = fecha\n  }\n})(this)\n","import fecha from './date'\nimport { t } from '../locale'\n\nconst weeks = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat']\nconst months = [\n  'jan',\n  'feb',\n  'mar',\n  'apr',\n  'may',\n  'jun',\n  'jul',\n  'aug',\n  'sep',\n  'oct',\n  'nov',\n  'dec'\n]\n\nconst newArray = function (start, end) {\n  const result = []\n  for (let i = start; i <= end; i++) {\n    result.push(i)\n  }\n  return result\n}\n\nexport const getI18nSettings = () => {\n  return {\n    dayNamesShort: weeks.map((week) => t(`el.datepicker.weeks.${week}`)),\n    dayNames: weeks.map((week) => t(`el.datepicker.weeks.${week}`)),\n    monthNamesShort: months.map((month) => t(`el.datepicker.months.${month}`)),\n    monthNames: months.map((month, index) =>\n      t(`el.datepicker.month${index + 1}`)\n    ),\n    amPm: ['am', 'pm']\n  }\n}\n\nexport const toDate = function (date) {\n  return isDate(date) ? new Date(date) : null\n}\n\nexport const isDate = function (date) {\n  if (date === null || date === undefined) return false\n  if (isNaN(new Date(date).getTime())) return false\n  if (Array.isArray(date)) return false // deal with `new Date([ new Date() ]) -> new Date()`\n  return true\n}\n\nexport const isDateObject = function (val) {\n  return val instanceof Date\n}\n\nexport const formatDate = function (date, format) {\n  date = toDate(date)\n  if (!date) return ''\n  return fecha.format(date, format || 'yyyy-MM-dd', getI18nSettings())\n}\n\nexport const parseDate = function (string, format) {\n  return fecha.parse(string, format || 'yyyy-MM-dd', getI18nSettings())\n}\n\nexport const getDayCountOfMonth = function (year, month) {\n  if (month === 3 || month === 5 || month === 8 || month === 10) {\n    return 30\n  }\n\n  if (month === 1) {\n    if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {\n      return 29\n    } else {\n      return 28\n    }\n  }\n\n  return 31\n}\n\nexport const getDayCountOfYear = function (year) {\n  const isLeapYear = year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)\n  return isLeapYear ? 366 : 365\n}\n\nexport const getFirstDayOfMonth = function (date) {\n  const temp = new Date(date.getTime())\n  temp.setDate(1)\n  return temp.getDay()\n}\n\n// see: https://stackoverflow.com/questions/3674539/incrementing-a-date-in-javascript\n// {prev, next} Date should work for Daylight Saving Time\n// Adding 24 * 60 * 60 * 1000 does not work in the above scenario\nexport const prevDate = function (date, amount = 1) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate() - amount)\n}\n\nexport const nextDate = function (date, amount = 1) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate() + amount)\n}\n\nexport const getStartDateOfMonth = function (year, month) {\n  const result = new Date(year, month, 1)\n  const day = result.getDay()\n\n  if (day === 0) {\n    return prevDate(result, 7)\n  } else {\n    return prevDate(result, day)\n  }\n}\n\nexport const getWeekNumber = function (src) {\n  if (!isDate(src)) return null\n  const date = new Date(src.getTime())\n  date.setHours(0, 0, 0, 0)\n  // Thursday in current week decides the year.\n  date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7))\n  // January 4 is always in week 1.\n  const week1 = new Date(date.getFullYear(), 0, 4)\n  // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\n  // Rounding should be fine for Daylight Saving Time. Its shift should never be more than 12 hours.\n  return (\n    1 +\n    Math.round(\n      ((date.getTime() - week1.getTime()) / 86400000 -\n        3 +\n        ((week1.getDay() + 6) % 7)) /\n        7\n    )\n  )\n}\n\nexport const getRangeHours = function (ranges) {\n  const hours = []\n  let disabledHours = []\n\n  ;(ranges || []).forEach((range) => {\n    const value = range.map((date) => date.getHours())\n\n    disabledHours = disabledHours.concat(newArray(value[0], value[1]))\n  })\n\n  if (disabledHours.length) {\n    for (let i = 0; i < 24; i++) {\n      hours[i] = disabledHours.indexOf(i) === -1\n    }\n  } else {\n    for (let i = 0; i < 24; i++) {\n      hours[i] = false\n    }\n  }\n\n  return hours\n}\n\nexport const getPrevMonthLastDays = (date, amount) => {\n  if (amount <= 0) return []\n  const temp = new Date(date.getTime())\n  temp.setDate(0)\n  const lastDay = temp.getDate()\n  return range(amount).map((_, index) => lastDay - (amount - index - 1))\n}\n\nexport const getMonthDays = (date) => {\n  const temp = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n  const days = temp.getDate()\n  return range(days).map((_, index) => index + 1)\n}\n\nfunction setRangeData(arr, start, end, value) {\n  for (let i = start; i < end; i++) {\n    arr[i] = value\n  }\n}\n\nexport const getRangeMinutes = function (ranges, hour) {\n  const minutes = new Array(60)\n\n  if (ranges.length > 0) {\n    ranges.forEach((range) => {\n      const start = range[0]\n      const end = range[1]\n      const startHour = start.getHours()\n      const startMinute = start.getMinutes()\n      const endHour = end.getHours()\n      const endMinute = end.getMinutes()\n      if (startHour === hour && endHour !== hour) {\n        setRangeData(minutes, startMinute, 60, true)\n      } else if (startHour === hour && endHour === hour) {\n        setRangeData(minutes, startMinute, endMinute + 1, true)\n      } else if (startHour !== hour && endHour === hour) {\n        setRangeData(minutes, 0, endMinute + 1, true)\n      } else if (startHour < hour && endHour > hour) {\n        setRangeData(minutes, 0, 60, true)\n      }\n    })\n  } else {\n    setRangeData(minutes, 0, 60, true)\n  }\n  return minutes\n}\n\nexport const range = function (n) {\n  // see https://stackoverflow.com/questions/3746725/create-a-javascript-array-containing-1-n\n  return Array.apply(null, { length: n }).map((_, n) => n)\n}\n\nexport const modifyDate = function (date, y, m, d) {\n  return new Date(\n    y,\n    m,\n    d,\n    date.getHours(),\n    date.getMinutes(),\n    date.getSeconds(),\n    date.getMilliseconds()\n  )\n}\n\nexport const modifyTime = function (date, h, m, s) {\n  return new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    date.getDate(),\n    h,\n    m,\n    s,\n    date.getMilliseconds()\n  )\n}\n\nexport const modifyWithTimeString = (date, time) => {\n  if (date == null || !time) {\n    return date\n  }\n  time = parseDate(time, 'HH:mm:ss')\n  return modifyTime(date, time.getHours(), time.getMinutes(), time.getSeconds())\n}\n\nexport const clearTime = function (date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate())\n}\n\nexport const clearMilliseconds = function (date) {\n  return new Date(\n    date.getFullYear(),\n    date.getMonth(),\n    date.getDate(),\n    date.getHours(),\n    date.getMinutes(),\n    date.getSeconds(),\n    0\n  )\n}\n\nexport const limitTimeRange = function (date, ranges, format = 'HH:mm:ss') {\n  // TODO: refactory a more elegant solution\n  if (ranges.length === 0) return date\n  const normalizeDate = (date) =>\n    fecha.parse(fecha.format(date, format), format)\n  const ndate = normalizeDate(date)\n  const nranges = ranges.map((range) => range.map(normalizeDate))\n  if (nranges.some((nrange) => ndate >= nrange[0] && ndate <= nrange[1]))\n    return date\n\n  let minDate = nranges[0][0]\n  let maxDate = nranges[0][0]\n\n  nranges.forEach((nrange) => {\n    minDate = new Date(Math.min(nrange[0], minDate))\n    maxDate = new Date(Math.max(nrange[1], minDate))\n  })\n\n  const ret = ndate < minDate ? minDate : maxDate\n  // preserve Year/Month/Date\n  return modifyDate(ret, date.getFullYear(), date.getMonth(), date.getDate())\n}\n\nexport const timeWithinRange = function (date, selectableRange, format) {\n  const limitedDate = limitTimeRange(date, selectableRange, format)\n  return limitedDate.getTime() === date.getTime()\n}\n\nexport const changeYearMonthAndClampDate = function (date, year, month) {\n  // clamp date to the number of days in `year`, `month`\n  // eg: (2010-1-31, 2010, 2) => 2010-2-28\n  const monthDate = Math.min(date.getDate(), getDayCountOfMonth(year, month))\n  return modifyDate(date, year, month, monthDate)\n}\n\nexport const prevMonth = function (date) {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  return month === 0\n    ? changeYearMonthAndClampDate(date, year - 1, 11)\n    : changeYearMonthAndClampDate(date, year, month - 1)\n}\n\nexport const nextMonth = function (date) {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  return month === 11\n    ? changeYearMonthAndClampDate(date, year + 1, 0)\n    : changeYearMonthAndClampDate(date, year, month + 1)\n}\n\nexport const prevYear = function (date, amount = 1) {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  return changeYearMonthAndClampDate(date, year - amount, month)\n}\n\nexport const nextYear = function (date, amount = 1) {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  return changeYearMonthAndClampDate(date, year + amount, month)\n}\n\nexport const extractDateFormat = function (format) {\n  return format\n    .replace(/\\W?m{1,2}|\\W?ZZ/g, '')\n    .replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, '')\n    .trim()\n}\n\nexport const extractTimeFormat = function (format) {\n  return format\n    .replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?y{2,4}/g, '')\n    .trim()\n}\n\nexport const validateRangeInOneMonth = function (start, end) {\n  return (\n    start.getMonth() === end.getMonth() &&\n    start.getFullYear() === end.getFullYear()\n  )\n}\n","<script lang=\"jsx\">\nimport fecha from '../../src/utils/date'\nimport {\n  range as rangeArr,\n  getFirstDayOfMonth,\n  getPrevMonthLastDays,\n  getMonthDays,\n  getI18nSettings,\n  validateRangeInOneMonth\n} from '../../src/utils/date-util'\nimport { ref, computed, inject, getCurrentInstance, toRefs } from 'vue'\n\nexport default {\n  props: {\n    selectedDay: String, // formated date yyyy-MM-dd\n    range: {\n      type: Array,\n      validator(val) {\n        if (!(val && val.length)) return true\n        const [start, end] = val\n        return validateRangeInOneMonth(start, end)\n      }\n    },\n    date: Date,\n    hideHeader: Boolean,\n    firstDayOfWeek: Number\n  },\n\n  setup(props, { emit }) {\n    const { selectedDay, date, hideHeader, firstDayOfWeek } = toRefs(props)\n    const WEEK_DAYS = ref(getI18nSettings().dayNames)\n\n    const elCalendar = inject('elCalendar')\n\n    // methods\n    const toNestedArr = (days) => {\n      return rangeArr(days.length / 7).map((_, index) => {\n        const start = index * 7\n        return days.slice(start, start + 7)\n      })\n    }\n\n    const getFormateDate = (day, type) => {\n      if (!day || ['prev', 'current', 'next'].indexOf(type) === -1) {\n        throw new Error('invalid day or type')\n      }\n      let prefix = curMonthDatePrefix.value\n      if (type === 'prev') {\n        prefix = prevMonthDatePrefix.value\n      } else if (type === 'next') {\n        prefix = nextMonthDatePrefix.value\n      }\n      day = `00${day}`.slice(-2)\n      return `${prefix}-${day}`\n    }\n\n    const getCellClass = ({ text, type }) => {\n      const classes = [type]\n      if (type === 'current') {\n        const date = getFormateDate(text, type)\n        if (date === selectedDay.value) {\n          classes.push('is-selected')\n        }\n        if (date === formatedToday.value) {\n          classes.push('is-today')\n        }\n      }\n      return classes\n    }\n\n    const pickDay = ({ text, type }) => {\n      const date = getFormateDate(text, type)\n      emit('pick', date)\n    }\n\n    const cellRenderProxy = ({ text, type }) => {\n      const render = elCalendar.slots.default\n      if (!render) return <span>{text}</span>\n\n      const day = getFormateDate(text, type)\n      const date = new Date(day)\n      const data = {\n        isSelected: selectedDay.value === day,\n        type: `${type}-month`,\n        day\n      }\n\n      return render({ date, data })\n    }\n\n    // computed\n\n    const prevMonthDatePrefix = computed(() => {\n      const temp = new Date(date.value.getTime())\n      temp.setDate(0)\n      return fecha.format(temp, 'yyyy-MM')\n    })\n\n    const curMonthDatePrefix = computed(() => {\n      return fecha.format(date.value, 'yyyy-MM')\n    })\n\n    const nextMonthDatePrefix = computed(() => {\n      const temp = new Date(\n        date.value.getFullYear(),\n        date.value.getMonth() + 1,\n        1\n      )\n      return fecha.format(temp, 'yyyy-MM')\n    })\n\n    const formatedToday = computed(() => {\n      return elCalendar.formatedToday\n    })\n\n    const isInRange = computed(() => {\n      return props.range && props.range.length\n    })\n    const rows = computed(() => {\n      let days = []\n      // if range exists, should render days in range.\n      if (isInRange.value) {\n        const [start, end] = props.range\n        const currentMonthRange = rangeArr(\n          end.getDate() - start.getDate() + 1\n        ).map((_, index) => ({\n          text: start.getDate() + index,\n          type: 'current'\n        }))\n\n        let remaining = currentMonthRange.length % 7\n        remaining = remaining === 0 ? 0 : 7 - remaining\n        const nextMonthRange = rangeArr(remaining).map((_, index) => ({\n          text: index + 1,\n          type: 'next'\n        }))\n        days = currentMonthRange.concat(nextMonthRange)\n      } else {\n        let firstDay = getFirstDayOfMonth(date.value)\n        firstDay = firstDay === 0 ? 7 : firstDay\n        const _firstDayOfWeek =\n          typeof firstDayOfWeek.value === 'number' ? firstDayOfWeek.value : 1\n        const prevMonthDays = getPrevMonthLastDays(\n          date.value,\n          firstDay - _firstDayOfWeek\n        ).map((day) => ({\n          text: day,\n          type: 'prev'\n        }))\n        const currentMonthDays = getMonthDays(date.value).map((day) => ({\n          text: day,\n          type: 'current'\n        }))\n        days = [...prevMonthDays, ...currentMonthDays]\n        const nextMonthDays = rangeArr(42 - days.length).map((_, index) => ({\n          text: index + 1,\n          type: 'next'\n        }))\n        days = days.concat(nextMonthDays)\n      }\n      return toNestedArr(days)\n    })\n\n    const weekDays = computed(() => {\n      const start = firstDayOfWeek.value\n\n      if (typeof start !== 'number' || start === 0) {\n        return WEEK_DAYS.value.slice()\n      } else {\n        return WEEK_DAYS.value\n          .slice(start)\n          .concat(WEEK_DAYS.value.slice(0, start))\n      }\n    })\n\n    return () => {\n      const instance = getCurrentInstance()\n\n      const thead = hideHeader.value ? null : (\n        <thead>\n          {weekDays.value.map((day) => (\n            <th key={day}>{day}</th>\n          ))}\n        </thead>\n      )\n      return (\n        <table\n          class={{\n            'el-calendar-table': true,\n            'is-range': isInRange.value\n          }}\n          cellspacing=\"0\"\n          cellpadding=\"0\"\n        >\n          {thead}\n          <tbody>\n            {rows.value.map((row, index) => (\n              <tr\n                class={{\n                  'el-calendar-table__row': true,\n                  'el-calendar-table__row--hide-border':\n                    index === 0 && hideHeader.value\n                }}\n                key={index}\n              >\n                {row.map((cell, key) => (\n                  <td\n                    key={key}\n                    class={getCellClass(cell)}\n                    onClick={pickDay.bind(instance, cell)}\n                  >\n                    <div class=\"el-calendar-day\">{cellRenderProxy(cell)}</div>\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-calendar\">\n    <div class=\"el-calendar__header\">\n      <div class=\"el-calendar__title\">{{ i18nDate }}</div>\n      <div class=\"el-calendar__button-group\" v-if=\"validatedRange.length === 0\">\n        <el-button-group>\n          <el-button\n            type=\"plain\"\n            size=\"mini\"\n            @click=\"selectDate('prev-month')\"\n            >{{ t('el.datepicker.prevMonth') }}</el-button\n          >\n          <el-button type=\"plain\" size=\"mini\" @click=\"selectDate('today')\">{{\n            t('el.datepicker.today')\n          }}</el-button>\n          <el-button\n            type=\"plain\"\n            size=\"mini\"\n            @click=\"selectDate('next-month')\"\n            >{{ t('el.datepicker.nextMonth') }}</el-button\n          >\n        </el-button-group>\n      </div>\n    </div>\n    <div class=\"el-calendar__body\" v-if=\"validatedRange.length === 0\">\n      <date-table\n        :date=\"date\"\n        :selected-day=\"realSelectedDay\"\n        :first-day-of-week=\"realFirstDayOfWeek\"\n        @pick=\"pickDay\"\n      />\n    </div>\n    <div v-else class=\"el-calendar__body\">\n      <date-table\n        v-for=\"(range, index) in validatedRange\"\n        :key=\"index\"\n        :date=\"range[0]\"\n        :selected-day=\"realSelectedDay\"\n        :range=\"range\"\n        :hide-header=\"index !== 0\"\n        :first-day-of-week=\"realFirstDayOfWeek\"\n        @pick=\"pickDay\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useLocale } from '../../src/use/locale'\nimport fecha from '../../src/utils/date'\nimport { ElButton } from '../../src/components/Button'\nimport ElButtonGroup from '../button-group'\nimport DateTable from './DateTable'\nimport { validateRangeInOneMonth } from '../../src/utils/date-util'\nimport { reactive, provide, computed, toRefs, getCurrentInstance } from 'vue'\n\nconst validTypes = ['prev-month', 'today', 'next-month']\nconst weekDays = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\nconst oneDay = 86400000\n\nexport default {\n  name: 'ElCalendar',\n\n  components: {\n    DateTable,\n    ElButton,\n    ElButtonGroup\n  },\n\n  props: {\n    modelValue: [Date, String, Number],\n    range: {\n      type: Array,\n      validator(range) {\n        if (Array.isArray(range)) {\n          return (\n            range.length === 2 &&\n            range.every(\n              (item) =>\n                typeof item === 'string' ||\n                typeof item === 'number' ||\n                item instanceof Date\n            )\n          )\n        } else {\n          return true\n        }\n      }\n    },\n    firstDayOfWeek: {\n      type: Number,\n      default: 1\n    }\n  },\n  emits: ['input', 'update:modelValue'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n\n    provide('elCalendar', instance)\n\n    const state = reactive({\n      selectedDay: '',\n      now: new Date()\n    })\n\n    const t = useLocale()\n\n    // computed\n\n    const prevMonthDatePrefix = computed(() => {\n      const temp = new Date(date.value.getTime())\n      temp.setDate(0)\n      return fecha.format(temp, 'yyyy-MM')\n    })\n    const curMonthDatePrefix = computed(() => {\n      return fecha.format(date.value, 'yyyy-MM')\n    })\n\n    const nextMonthDatePrefix = computed(() => {\n      const temp = new Date(\n        date.value.getFullYear(),\n        date.value.getMonth() + 1,\n        1\n      )\n      return fecha.format(temp, 'yyyy-MM')\n    })\n\n    const formatedDate = computed(() => {\n      return fecha.format(date.value, 'yyyy-MM-dd')\n    })\n    const i18nDate = computed(() => {\n      const year = date.value.getFullYear()\n      const month = date.value.getMonth() + 1\n\n      const pickedMonth = 'el.datepicker.month' + month\n\n      return `${year} ${t('el.datepicker.year')} ${t(pickedMonth)}`\n    })\n\n    const formatedToday = computed(() => {\n      return fecha.format(state.now, 'yyyy-MM-dd')\n    })\n    const realSelectedDay = computed({\n      get() {\n        if (!props.modelValue) return state.selectedDay\n        return formatedDate.value\n      },\n      set(val) {\n        state.selectedDay = val\n        const date = new Date(val)\n\n        emit('input', date)\n        emit('update:modelValue', date)\n      }\n    })\n\n    const date = computed(() => {\n      if (!props.modelValue) {\n        if (realSelectedDay.value) {\n          const d = state.selectedDay.split('-')\n          return new Date(d[0], d[1] - 1, d[2])\n        } else if (validatedRange.value.length) {\n          return validatedRange.value[0][0]\n        }\n        return state.now\n      } else {\n        return toDate(props.modelValue)\n      }\n    })\n    const validatedRange = computed(() => {\n      let range = props.range\n\n      if (!range) return []\n      range =\n        props.range &&\n        range.reduce((prev, val, index) => {\n          const date = toDate(val)\n          if (rangeValidator(date, index === 0)) {\n            prev = prev.concat(date)\n          }\n          return prev\n        }, [])\n\n      if (range.length === 2) {\n        const [start, end] = range\n        if (start > end) {\n          console.warn(\n            '[ElementCalendar]end time should be greater than start time'\n          )\n          return []\n        }\n        // start time and end time in one month\n        if (validateRangeInOneMonth(start, end)) {\n          return [[start, end]]\n        }\n        const data = []\n        let startDay = new Date(start.getFullYear(), start.getMonth() + 1, 1)\n        const lastDay = toDate(startDay.getTime() - oneDay)\n        if (!validateRangeInOneMonth(startDay, end)) {\n          console.warn(\n            '[ElementCalendar]start time and end time interval must not exceed two months'\n          )\n          return []\n        }\n        // 第一个月的时间范围\n        data.push([start, lastDay])\n        // 下一月的时间范围，需要计算一下该月的第一个周起始日\n        const firstDayOfWeek = realFirstDayOfWeek.value\n        const nextMontFirstDay = startDay.getDay()\n        let interval = 0\n        if (nextMontFirstDay !== firstDayOfWeek) {\n          if (firstDayOfWeek === 0) {\n            interval = 7 - nextMontFirstDay\n          } else {\n            interval = firstDayOfWeek - nextMontFirstDay\n            interval = interval > 0 ? interval : 7 + interval\n          }\n        }\n        startDay = toDate(startDay.getTime() + interval * oneDay)\n        if (startDay.getDate() < end.getDate()) {\n          data.push([startDay, end])\n        }\n        return data\n      }\n      return []\n    })\n    // if range is valid, we get a two-digit array\n    const realFirstDayOfWeek = computed(() => {\n      if (props.firstDayOfWeek < 1 || props.firstDayOfWeek > 6) {\n        return 0\n      }\n      return Math.floor(props.firstDayOfWeek)\n    })\n\n    // methods;\n\n    const pickDay = (day) => {\n      realSelectedDay.value = day\n    }\n\n    const selectDate = (type) => {\n      if (validTypes.indexOf(type) === -1) {\n        throw new Error(`invalid type ${type}`)\n      }\n      let day = ''\n      if (type === 'prev-month') {\n        day = `${prevMonthDatePrefix.value}-01`\n      } else if (type === 'next-month') {\n        day = `${nextMonthDatePrefix.value}-01`\n      } else {\n        day = formatedToday.value\n      }\n\n      if (day === formatedDate.value) return\n      pickDay(day)\n    }\n    const toDate = (val) => {\n      if (!val) {\n        throw new Error('invalid val')\n      }\n      return val instanceof Date ? val : new Date(val)\n    }\n\n    const rangeValidator = (date, isStart) => {\n      const firstDayOfWeek = realFirstDayOfWeek.value\n      const expected = isStart\n        ? firstDayOfWeek\n        : firstDayOfWeek === 0\n        ? 6\n        : firstDayOfWeek - 1\n      const message = `${isStart ? 'start' : 'end'} of range should be ${\n        weekDays[expected]\n      }.`\n      if (date.getDay() !== expected) {\n        console.warn(\n          '[ElementCalendar]',\n          message,\n          'Invalid range will be ignored.'\n        )\n        return false\n      }\n      return true\n    }\n\n    return {\n      ...toRefs(state),\n      prevMonthDatePrefix,\n      curMonthDatePrefix,\n      nextMonthDatePrefix,\n      formatedDate,\n      i18nDate,\n      formatedToday,\n      realSelectedDay,\n      date,\n      validatedRange,\n      realFirstDayOfWeek,\n      pickDay,\n      selectDate,\n      toDate,\n      t,\n      rangeValidator\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-calendar\">\n    <div class=\"el-calendar__header\">\n      <div class=\"el-calendar__title\">{{ i18nDate }}</div>\n      <div class=\"el-calendar__button-group\" v-if=\"validatedRange.length === 0\">\n        <el-button-group>\n          <el-button\n            type=\"plain\"\n            size=\"mini\"\n            @click=\"selectDate('prev-month')\"\n            >{{ t('el.datepicker.prevMonth') }}</el-button\n          >\n          <el-button type=\"plain\" size=\"mini\" @click=\"selectDate('today')\">{{\n            t('el.datepicker.today')\n          }}</el-button>\n          <el-button\n            type=\"plain\"\n            size=\"mini\"\n            @click=\"selectDate('next-month')\"\n            >{{ t('el.datepicker.nextMonth') }}</el-button\n          >\n        </el-button-group>\n      </div>\n    </div>\n    <div class=\"el-calendar__body\" v-if=\"validatedRange.length === 0\">\n      <date-table\n        :date=\"date\"\n        :selected-day=\"realSelectedDay\"\n        :first-day-of-week=\"realFirstDayOfWeek\"\n        @pick=\"pickDay\"\n      />\n    </div>\n    <div v-else class=\"el-calendar__body\">\n      <date-table\n        v-for=\"(range, index) in validatedRange\"\n        :key=\"index\"\n        :date=\"range[0]\"\n        :selected-day=\"realSelectedDay\"\n        :range=\"range\"\n        :hide-header=\"index !== 0\"\n        :first-day-of-week=\"realFirstDayOfWeek\"\n        @pick=\"pickDay\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useLocale } from '../../src/use/locale'\nimport fecha from '../../src/utils/date'\nimport { ElButton } from '../../src/components/Button'\nimport ElButtonGroup from '../button-group'\nimport DateTable from './DateTable'\nimport { validateRangeInOneMonth } from '../../src/utils/date-util'\nimport { reactive, provide, computed, toRefs, getCurrentInstance } from 'vue'\n\nconst validTypes = ['prev-month', 'today', 'next-month']\nconst weekDays = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n]\nconst oneDay = 86400000\n\nexport default {\n  name: 'ElCalendar',\n\n  components: {\n    DateTable,\n    ElButton,\n    ElButtonGroup\n  },\n\n  props: {\n    modelValue: [Date, String, Number],\n    range: {\n      type: Array,\n      validator(range) {\n        if (Array.isArray(range)) {\n          return (\n            range.length === 2 &&\n            range.every(\n              (item) =>\n                typeof item === 'string' ||\n                typeof item === 'number' ||\n                item instanceof Date\n            )\n          )\n        } else {\n          return true\n        }\n      }\n    },\n    firstDayOfWeek: {\n      type: Number,\n      default: 1\n    }\n  },\n  emits: ['input', 'update:modelValue'],\n  setup(props, { emit }) {\n    const instance = getCurrentInstance()\n\n    provide('elCalendar', instance)\n\n    const state = reactive({\n      selectedDay: '',\n      now: new Date()\n    })\n\n    const t = useLocale()\n\n    // computed\n\n    const prevMonthDatePrefix = computed(() => {\n      const temp = new Date(date.value.getTime())\n      temp.setDate(0)\n      return fecha.format(temp, 'yyyy-MM')\n    })\n    const curMonthDatePrefix = computed(() => {\n      return fecha.format(date.value, 'yyyy-MM')\n    })\n\n    const nextMonthDatePrefix = computed(() => {\n      const temp = new Date(\n        date.value.getFullYear(),\n        date.value.getMonth() + 1,\n        1\n      )\n      return fecha.format(temp, 'yyyy-MM')\n    })\n\n    const formatedDate = computed(() => {\n      return fecha.format(date.value, 'yyyy-MM-dd')\n    })\n    const i18nDate = computed(() => {\n      const year = date.value.getFullYear()\n      const month = date.value.getMonth() + 1\n\n      const pickedMonth = 'el.datepicker.month' + month\n\n      return `${year} ${t('el.datepicker.year')} ${t(pickedMonth)}`\n    })\n\n    const formatedToday = computed(() => {\n      return fecha.format(state.now, 'yyyy-MM-dd')\n    })\n    const realSelectedDay = computed({\n      get() {\n        if (!props.modelValue) return state.selectedDay\n        return formatedDate.value\n      },\n      set(val) {\n        state.selectedDay = val\n        const date = new Date(val)\n\n        emit('input', date)\n        emit('update:modelValue', date)\n      }\n    })\n\n    const date = computed(() => {\n      if (!props.modelValue) {\n        if (realSelectedDay.value) {\n          const d = state.selectedDay.split('-')\n          return new Date(d[0], d[1] - 1, d[2])\n        } else if (validatedRange.value.length) {\n          return validatedRange.value[0][0]\n        }\n        return state.now\n      } else {\n        return toDate(props.modelValue)\n      }\n    })\n    const validatedRange = computed(() => {\n      let range = props.range\n\n      if (!range) return []\n      range =\n        props.range &&\n        range.reduce((prev, val, index) => {\n          const date = toDate(val)\n          if (rangeValidator(date, index === 0)) {\n            prev = prev.concat(date)\n          }\n          return prev\n        }, [])\n\n      if (range.length === 2) {\n        const [start, end] = range\n        if (start > end) {\n          console.warn(\n            '[ElementCalendar]end time should be greater than start time'\n          )\n          return []\n        }\n        // start time and end time in one month\n        if (validateRangeInOneMonth(start, end)) {\n          return [[start, end]]\n        }\n        const data = []\n        let startDay = new Date(start.getFullYear(), start.getMonth() + 1, 1)\n        const lastDay = toDate(startDay.getTime() - oneDay)\n        if (!validateRangeInOneMonth(startDay, end)) {\n          console.warn(\n            '[ElementCalendar]start time and end time interval must not exceed two months'\n          )\n          return []\n        }\n        // 第一个月的时间范围\n        data.push([start, lastDay])\n        // 下一月的时间范围，需要计算一下该月的第一个周起始日\n        const firstDayOfWeek = realFirstDayOfWeek.value\n        const nextMontFirstDay = startDay.getDay()\n        let interval = 0\n        if (nextMontFirstDay !== firstDayOfWeek) {\n          if (firstDayOfWeek === 0) {\n            interval = 7 - nextMontFirstDay\n          } else {\n            interval = firstDayOfWeek - nextMontFirstDay\n            interval = interval > 0 ? interval : 7 + interval\n          }\n        }\n        startDay = toDate(startDay.getTime() + interval * oneDay)\n        if (startDay.getDate() < end.getDate()) {\n          data.push([startDay, end])\n        }\n        return data\n      }\n      return []\n    })\n    // if range is valid, we get a two-digit array\n    const realFirstDayOfWeek = computed(() => {\n      if (props.firstDayOfWeek < 1 || props.firstDayOfWeek > 6) {\n        return 0\n      }\n      return Math.floor(props.firstDayOfWeek)\n    })\n\n    // methods;\n\n    const pickDay = (day) => {\n      realSelectedDay.value = day\n    }\n\n    const selectDate = (type) => {\n      if (validTypes.indexOf(type) === -1) {\n        throw new Error(`invalid type ${type}`)\n      }\n      let day = ''\n      if (type === 'prev-month') {\n        day = `${prevMonthDatePrefix.value}-01`\n      } else if (type === 'next-month') {\n        day = `${nextMonthDatePrefix.value}-01`\n      } else {\n        day = formatedToday.value\n      }\n\n      if (day === formatedDate.value) return\n      pickDay(day)\n    }\n    const toDate = (val) => {\n      if (!val) {\n        throw new Error('invalid val')\n      }\n      return val instanceof Date ? val : new Date(val)\n    }\n\n    const rangeValidator = (date, isStart) => {\n      const firstDayOfWeek = realFirstDayOfWeek.value\n      const expected = isStart\n        ? firstDayOfWeek\n        : firstDayOfWeek === 0\n        ? 6\n        : firstDayOfWeek - 1\n      const message = `${isStart ? 'start' : 'end'} of range should be ${\n        weekDays[expected]\n      }.`\n      if (date.getDay() !== expected) {\n        console.warn(\n          '[ElementCalendar]',\n          message,\n          'Invalid range will be ignored.'\n        )\n        return false\n      }\n      return true\n    }\n\n    return {\n      ...toRefs(state),\n      prevMonthDatePrefix,\n      curMonthDatePrefix,\n      nextMonthDatePrefix,\n      formatedDate,\n      i18nDate,\n      formatedToday,\n      realSelectedDay,\n      date,\n      validatedRange,\n      realFirstDayOfWeek,\n      pickDay,\n      selectDate,\n      toDate,\n      t,\n      rangeValidator\n    }\n  }\n}\n</script>\n","import ElCalendar from './Calendar'\n\n/* istanbul ignore next */\nElCalendar.install = function (app) {\n  app.component(ElCalendar.name, ElCalendar)\n}\n\nexport default ElCalendar\n","<template>\n  <transition name=\"viewer-fade\">\n    <div\n      tabindex=\"-1\"\n      ref=\"imageWrapper\"\n      class=\"el-image-viewer__wrapper\"\n      :style=\"{ 'z-index': zIndex }\"\n    >\n      <div class=\"el-image-viewer__mask\"></div>\n      <!-- CLOSE -->\n      <span class=\"el-image-viewer__btn el-image-viewer__close\" @click=\"hide\">\n        <i class=\"el-icon-circle-close\"></i>\n      </span>\n      <!-- ARROW -->\n      <template v-if=\"!isSingle\">\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__prev\"\n          :class=\"{ 'is-disabled': !infinite && isFirst }\"\n          @click=\"prev\"\n        >\n          <i class=\"el-icon-arrow-left\" />\n        </span>\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__next\"\n          :class=\"{ 'is-disabled': !infinite && isLast }\"\n          @click=\"next\"\n        >\n          <i class=\"el-icon-arrow-right\" />\n        </span>\n      </template>\n      <!-- ACTIONS -->\n      <div class=\"el-image-viewer__btn el-image-viewer__actions\">\n        <div class=\"el-image-viewer__actions__inner\">\n          <i class=\"el-icon-zoom-out\" @click=\"handleActions('zoomOut')\"></i>\n          <i class=\"el-icon-zoom-in\" @click=\"handleActions('zoomIn')\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i :class=\"state.mode.icon\" @click=\"toggleMode\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i\n            class=\"el-icon-refresh-left\"\n            @click=\"handleActions('anticlocelise')\"\n          ></i>\n          <i\n            class=\"el-icon-refresh-right\"\n            @click=\"handleActions('clocelise')\"\n          ></i>\n        </div>\n      </div>\n      <!-- CANVAS -->\n      <div class=\"el-image-viewer__canvas\">\n        <img\n          ref=\"img\"\n          class=\"el-image-viewer__img\"\n          :src=\"currentImg\"\n          :style=\"imgStyle\"\n          @load=\"handleImgLoad\"\n          @error=\"handleImgError\"\n          @mousedown=\"handleMouseDown\"\n        />\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { on, off } from '../../src/utils/dom'\nimport { rafThrottle, isFirefox } from '../../src/utils/util'\nimport { reactive, computed, ref, watch, nextTick, onMounted } from 'vue'\nconst Mode = {\n  CONTAIN: {\n    name: 'contain',\n    icon: 'el-icon-full-screen'\n  },\n  ORIGINAL: {\n    name: 'original',\n    icon: 'el-icon-c-scale-to-original'\n  }\n}\nconst mousewheelEventName = isFirefox() ? 'DOMMouseScroll' : 'mousewheel'\nexport default {\n  name: 'elImageViewer',\n  props: {\n    urlList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    },\n    onSwitch: {\n      type: Function,\n      default: () => {}\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const img = ref(null)\n    const imageWrapper = ref(null)\n    // data\n    const state = reactive({\n      mode: Mode.CONTAIN,\n      transform: {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    })\n    const index = ref(props.initialIndex)\n    let loading = ref(false)\n    const infinite = ref(true)\n    const isShow = ref(true)\n    // computed\n    const isSingle = computed(() => props.urlList.length <= 1)\n    const isFirst = computed(() => props.index === 0)\n    const isLast = computed(() => props.index === props.urlList.length - 1)\n    const currentImg = computed(() => props.urlList[index.value])\n    const imgStyle = computed(() => {\n      const { scale, deg, offsetX, offsetY, enableTransition } = state.transform\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? 'transform .3s' : '',\n        'margin-left': `${offsetX}px`,\n        'margin-top': `${offsetY}px`\n      }\n      if (state.mode.name === Mode.CONTAIN.name) {\n        style.maxWidth = style.maxHeight = '100%'\n      }\n      return style\n    })\n    // lifeC\n    onMounted(() => {\n      deviceSupportInstall()\n      // add tabindex then wrapper can be focusable via Javascript\n      // focus wrapper so arrow key can't cause inner scroll behavior underneath\n      imageWrapper.value.focus()\n    })\n    // watch\n    watch(index, (val) => {\n      reset()\n      props.onSwitch(val)\n    })\n    watch(currentImg, () => {\n      nextTick(() => {\n        if (img.value.complete) {\n          loading = true\n        }\n      })\n    })\n    // methods\n    const handleActions = (action, options = {}) => {\n      if (loading.value) return\n      const { zoomRate, rotateDeg, enableTransition } = {\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true,\n        ...options\n      }\n      switch (action) {\n        case 'zoomOut':\n          if (state.transform.scale > 0.2) {\n            state.transform.scale = parseFloat(\n              (state.transform.scale - zoomRate).toFixed(3)\n            )\n          }\n          break\n        case 'zoomIn':\n          state.transform.scale = parseFloat(\n            (state.transform.scale + zoomRate).toFixed(3)\n          )\n          break\n        case 'clocelise':\n          state.transform.deg += rotateDeg\n          break\n        case 'anticlocelise':\n          state.transform.deg -= rotateDeg\n          break\n      }\n      state.transform.enableTransition = enableTransition\n    }\n    const reset = () => {\n      state.transform = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    }\n    const toggleMode = () => {\n      if (loading.value) return\n      const modeNames = Object.keys(Mode)\n      const modeValues = Object.values(Mode)\n      const index = modeValues.findIndex(\n        (index) => index.name === state.mode.name\n      )\n      const nextIndex = (index + 1) % modeNames.length\n      state.mode = Mode[modeNames[nextIndex]]\n      reset()\n    }\n    const prev = () => {\n      if (isFirst.value && !infinite.value) return\n      const len = props.urlList.length\n      index.value = (index.value - 1 + len) % len\n    }\n    const next = () => {\n      if (isLast.value && !infinite.value) return\n      const len = props.urlList.length\n      index.value = (index.value + 1) % len\n    }\n    let keyDownHandler = rafThrottle((e) => {\n      const keyCode = e.keyCode\n      switch (keyCode) {\n        // ESC\n        case 27:\n          hide()\n          break\n        // SPACE\n        case 32:\n          toggleMode()\n          break\n        // LEFT_ARROW\n        case 37:\n          prev()\n          break\n        // UP_ARROW\n        case 38:\n          handleActions('zoomIn')\n          break\n        // RIGHT_ARROW\n        case 39:\n          next()\n          break\n        // DOWN_ARROW\n        case 40:\n          handleActions('zoomOut')\n          break\n      }\n    })\n    let mouseWheelHandler = rafThrottle((e) => {\n      const delta = e.wheelDelta ? e.wheelDelta : -e.detail\n      if (delta > 0) {\n        handleActions('zoomIn', {\n          zoomRate: 0.015,\n          enableTransition: false\n        })\n      } else {\n        handleActions('zoomOut', {\n          zoomRate: 0.015,\n          enableTransition: false\n        })\n      }\n    })\n    const deviceSupportInstall = () => {\n      on(document, 'keydown', keyDownHandler)\n      on(document, mousewheelEventName, mouseWheelHandler)\n    }\n    const deviceSupportUninstall = () => {\n      off(document, 'keydown', keyDownHandler)\n      off(document, mousewheelEventName, mouseWheelHandler)\n      keyDownHandler = null\n      mouseWheelHandler = null\n    }\n    const hide = () => {\n      deviceSupportUninstall()\n      props.onClose()\n    }\n    const handleImgLoad = () => {\n      loading = false\n    }\n    const handleImgError = (e) => {\n      loading = false\n      e.target.alt = '加载失败'\n    }\n    const handleMouseDown = (e) => {\n      if (loading || e.button !== 0) return\n      const { offsetX, offsetY } = state.transform\n      const startX = e.pageX\n      const startY = e.pageY\n      const _dragHandler = rafThrottle((ev) => {\n        state.transform.offsetX = offsetX + ev.pageX - startX\n        state.transform.offsetY = offsetY + ev.pageY - startY\n      })\n      on(document, 'mousemove', _dragHandler)\n      on(document, 'mouseup', () => {\n        off(document, 'mousemove', _dragHandler)\n      })\n      e.preventDefault()\n    }\n    return {\n      img,\n      imageWrapper,\n      loading,\n      isShow,\n      state,\n      infinite,\n      index,\n      isSingle,\n      isFirst,\n      isLast,\n      currentImg,\n      imgStyle,\n      reset,\n      next,\n      prev,\n      toggleMode,\n      handleActions,\n      hide,\n      keyDownHandler,\n      mouseWheelHandler,\n      deviceSupportInstall,\n      deviceSupportUninstall,\n      handleImgLoad,\n      handleImgError,\n      handleMouseDown\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"viewer-fade\">\n    <div\n      tabindex=\"-1\"\n      ref=\"imageWrapper\"\n      class=\"el-image-viewer__wrapper\"\n      :style=\"{ 'z-index': zIndex }\"\n    >\n      <div class=\"el-image-viewer__mask\"></div>\n      <!-- CLOSE -->\n      <span class=\"el-image-viewer__btn el-image-viewer__close\" @click=\"hide\">\n        <i class=\"el-icon-circle-close\"></i>\n      </span>\n      <!-- ARROW -->\n      <template v-if=\"!isSingle\">\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__prev\"\n          :class=\"{ 'is-disabled': !infinite && isFirst }\"\n          @click=\"prev\"\n        >\n          <i class=\"el-icon-arrow-left\" />\n        </span>\n        <span\n          class=\"el-image-viewer__btn el-image-viewer__next\"\n          :class=\"{ 'is-disabled': !infinite && isLast }\"\n          @click=\"next\"\n        >\n          <i class=\"el-icon-arrow-right\" />\n        </span>\n      </template>\n      <!-- ACTIONS -->\n      <div class=\"el-image-viewer__btn el-image-viewer__actions\">\n        <div class=\"el-image-viewer__actions__inner\">\n          <i class=\"el-icon-zoom-out\" @click=\"handleActions('zoomOut')\"></i>\n          <i class=\"el-icon-zoom-in\" @click=\"handleActions('zoomIn')\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i :class=\"state.mode.icon\" @click=\"toggleMode\"></i>\n          <i class=\"el-image-viewer__actions__divider\"></i>\n          <i\n            class=\"el-icon-refresh-left\"\n            @click=\"handleActions('anticlocelise')\"\n          ></i>\n          <i\n            class=\"el-icon-refresh-right\"\n            @click=\"handleActions('clocelise')\"\n          ></i>\n        </div>\n      </div>\n      <!-- CANVAS -->\n      <div class=\"el-image-viewer__canvas\">\n        <img\n          ref=\"img\"\n          class=\"el-image-viewer__img\"\n          :src=\"currentImg\"\n          :style=\"imgStyle\"\n          @load=\"handleImgLoad\"\n          @error=\"handleImgError\"\n          @mousedown=\"handleMouseDown\"\n        />\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { on, off } from '../../src/utils/dom'\nimport { rafThrottle, isFirefox } from '../../src/utils/util'\nimport { reactive, computed, ref, watch, nextTick, onMounted } from 'vue'\nconst Mode = {\n  CONTAIN: {\n    name: 'contain',\n    icon: 'el-icon-full-screen'\n  },\n  ORIGINAL: {\n    name: 'original',\n    icon: 'el-icon-c-scale-to-original'\n  }\n}\nconst mousewheelEventName = isFirefox() ? 'DOMMouseScroll' : 'mousewheel'\nexport default {\n  name: 'elImageViewer',\n  props: {\n    urlList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    },\n    onSwitch: {\n      type: Function,\n      default: () => {}\n    },\n    onClose: {\n      type: Function,\n      default: () => {}\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const img = ref(null)\n    const imageWrapper = ref(null)\n    // data\n    const state = reactive({\n      mode: Mode.CONTAIN,\n      transform: {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    })\n    const index = ref(props.initialIndex)\n    let loading = ref(false)\n    const infinite = ref(true)\n    const isShow = ref(true)\n    // computed\n    const isSingle = computed(() => props.urlList.length <= 1)\n    const isFirst = computed(() => props.index === 0)\n    const isLast = computed(() => props.index === props.urlList.length - 1)\n    const currentImg = computed(() => props.urlList[index.value])\n    const imgStyle = computed(() => {\n      const { scale, deg, offsetX, offsetY, enableTransition } = state.transform\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? 'transform .3s' : '',\n        'margin-left': `${offsetX}px`,\n        'margin-top': `${offsetY}px`\n      }\n      if (state.mode.name === Mode.CONTAIN.name) {\n        style.maxWidth = style.maxHeight = '100%'\n      }\n      return style\n    })\n    // lifeC\n    onMounted(() => {\n      deviceSupportInstall()\n      // add tabindex then wrapper can be focusable via Javascript\n      // focus wrapper so arrow key can't cause inner scroll behavior underneath\n      imageWrapper.value.focus()\n    })\n    // watch\n    watch(index, (val) => {\n      reset()\n      props.onSwitch(val)\n    })\n    watch(currentImg, () => {\n      nextTick(() => {\n        if (img.value.complete) {\n          loading = true\n        }\n      })\n    })\n    // methods\n    const handleActions = (action, options = {}) => {\n      if (loading.value) return\n      const { zoomRate, rotateDeg, enableTransition } = {\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true,\n        ...options\n      }\n      switch (action) {\n        case 'zoomOut':\n          if (state.transform.scale > 0.2) {\n            state.transform.scale = parseFloat(\n              (state.transform.scale - zoomRate).toFixed(3)\n            )\n          }\n          break\n        case 'zoomIn':\n          state.transform.scale = parseFloat(\n            (state.transform.scale + zoomRate).toFixed(3)\n          )\n          break\n        case 'clocelise':\n          state.transform.deg += rotateDeg\n          break\n        case 'anticlocelise':\n          state.transform.deg -= rotateDeg\n          break\n      }\n      state.transform.enableTransition = enableTransition\n    }\n    const reset = () => {\n      state.transform = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      }\n    }\n    const toggleMode = () => {\n      if (loading.value) return\n      const modeNames = Object.keys(Mode)\n      const modeValues = Object.values(Mode)\n      const index = modeValues.findIndex(\n        (index) => index.name === state.mode.name\n      )\n      const nextIndex = (index + 1) % modeNames.length\n      state.mode = Mode[modeNames[nextIndex]]\n      reset()\n    }\n    const prev = () => {\n      if (isFirst.value && !infinite.value) return\n      const len = props.urlList.length\n      index.value = (index.value - 1 + len) % len\n    }\n    const next = () => {\n      if (isLast.value && !infinite.value) return\n      const len = props.urlList.length\n      index.value = (index.value + 1) % len\n    }\n    let keyDownHandler = rafThrottle((e) => {\n      const keyCode = e.keyCode\n      switch (keyCode) {\n        // ESC\n        case 27:\n          hide()\n          break\n        // SPACE\n        case 32:\n          toggleMode()\n          break\n        // LEFT_ARROW\n        case 37:\n          prev()\n          break\n        // UP_ARROW\n        case 38:\n          handleActions('zoomIn')\n          break\n        // RIGHT_ARROW\n        case 39:\n          next()\n          break\n        // DOWN_ARROW\n        case 40:\n          handleActions('zoomOut')\n          break\n      }\n    })\n    let mouseWheelHandler = rafThrottle((e) => {\n      const delta = e.wheelDelta ? e.wheelDelta : -e.detail\n      if (delta > 0) {\n        handleActions('zoomIn', {\n          zoomRate: 0.015,\n          enableTransition: false\n        })\n      } else {\n        handleActions('zoomOut', {\n          zoomRate: 0.015,\n          enableTransition: false\n        })\n      }\n    })\n    const deviceSupportInstall = () => {\n      on(document, 'keydown', keyDownHandler)\n      on(document, mousewheelEventName, mouseWheelHandler)\n    }\n    const deviceSupportUninstall = () => {\n      off(document, 'keydown', keyDownHandler)\n      off(document, mousewheelEventName, mouseWheelHandler)\n      keyDownHandler = null\n      mouseWheelHandler = null\n    }\n    const hide = () => {\n      deviceSupportUninstall()\n      props.onClose()\n    }\n    const handleImgLoad = () => {\n      loading = false\n    }\n    const handleImgError = (e) => {\n      loading = false\n      e.target.alt = '加载失败'\n    }\n    const handleMouseDown = (e) => {\n      if (loading || e.button !== 0) return\n      const { offsetX, offsetY } = state.transform\n      const startX = e.pageX\n      const startY = e.pageY\n      const _dragHandler = rafThrottle((ev) => {\n        state.transform.offsetX = offsetX + ev.pageX - startX\n        state.transform.offsetY = offsetY + ev.pageY - startY\n      })\n      on(document, 'mousemove', _dragHandler)\n      on(document, 'mouseup', () => {\n        off(document, 'mousemove', _dragHandler)\n      })\n      e.preventDefault()\n    }\n    return {\n      img,\n      imageWrapper,\n      loading,\n      isShow,\n      state,\n      infinite,\n      index,\n      isSingle,\n      isFirst,\n      isLast,\n      currentImg,\n      imgStyle,\n      reset,\n      next,\n      prev,\n      toggleMode,\n      handleActions,\n      hide,\n      keyDownHandler,\n      mouseWheelHandler,\n      deviceSupportInstall,\n      deviceSupportUninstall,\n      handleImgLoad,\n      handleImgError,\n      handleMouseDown\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-image\">\n    <slot v-if=\"loading\" name=\"placeholder\">\n      <div class=\"el-image__placeholder\"></div>\n    </slot>\n    <slot v-else-if=\"error\" name=\"error\">\n      <div class=\"el-image__error\">{{ t('el.image.error') }}</div>\n    </slot>\n    <img\n      v-else\n      class=\"el-image__inner\"\n      v-bind=\"$attrs\"\n      @click=\"clickHandler\"\n      :src=\"src\"\n      :style=\"imageStyle\"\n      :class=\"{\n        'el-image__inner--center': alignCenter,\n        'el-image__preview': preview\n      }\"\n    />\n    <template v-if=\"preview\">\n      <image-viewer\n        :z-index=\"zIndex\"\n        :initial-index=\"imageIndex\"\n        v-if=\"showViewer\"\n        :on-close=\"closeViewer\"\n        :url-list=\"previewSrcList\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport ImageViewer from './ImageViewer'\nimport { t } from '../../src/locale'\nimport { throttle } from 'throttle-debounce'\nimport { isString, isHtmlElement } from '../../src/utils/types'\nimport { on, off, getScrollContainer, isInContainer } from '../../src/utils/dom'\nimport {\n  ref,\n  computed,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  getCurrentInstance\n} from 'vue'\nconst isSupportObjectFit = () =>\n  document.documentElement.style.objectFit !== undefined\nconst ObjectFit = {\n  NONE: 'none',\n  CONTAIN: 'contain',\n  COVER: 'cover',\n  FILL: 'fill',\n  SCALE_DOWN: 'scale-down'\n}\nlet prevOverflow = ''\nexport default {\n  name: 'ElImage',\n  inheritAttrs: false,\n  components: {\n    ImageViewer\n  },\n  props: {\n    src: String,\n    fit: String,\n    lazy: Boolean,\n    scrollContainer: {},\n    previewSrcList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    }\n  },\n\n  emits: ['error'],\n\n  setup(props, ctx) {\n    const instance = getCurrentInstance()\n    const loading = ref(true)\n    const error = ref(false)\n    const show = ref(!props.lazy)\n    const showViewer = ref(false)\n    const imageWidth = ref(0)\n    const imageHeight = ref(0)\n    // computed\n    const imageStyle = computed(() => {\n      const { fit } = props\n      if (\n        //! this.$isServer &&\n        fit\n      ) {\n        return isSupportObjectFit() ? { 'object-fit': fit } : getImageStyle(fit)\n      }\n      return {}\n    })\n    const alignCenter = computed(() => {\n      return (\n        // !this.$isServer &&\n        !isSupportObjectFit() && props.fit !== ObjectFit.FILL\n      )\n    })\n    const preview = computed(() => {\n      const { previewSrcList } = props\n      return Array.isArray(previewSrcList) && previewSrcList.length > 0\n    })\n    const imageIndex = computed(() => {\n      let previewIndex = 0\n      const srcIndex = props.previewSrcList.indexOf(props.src)\n      if (srcIndex >= 0) {\n        previewIndex = srcIndex\n      }\n      return previewIndex\n    })\n    // watch\n    watch(\n      () => props.src,\n      () => {\n        show.value && loadImage()\n      }\n    )\n    watch(show, (val) => {\n      val && loadImage()\n    })\n    // lifecycle\n    onMounted(() => {\n      if (props.lazy) {\n        addLazyLoadListener()\n      } else {\n        loadImage()\n      }\n    })\n    onBeforeUnmount(() => {\n      props.lazy && removeLazyLoadListener()\n    })\n    // methods\n    const loadImage = () => {\n      // if (this.$isServer) return\n      // reset status\n      loading.value = true\n      error.value = false\n      const img = new Image()\n      img.onload = (e) => handleLoad(e, img)\n      img.onerror = handleError.bind(this)\n      // bind html attrs\n      // so it can behave consistently\n      Object.keys(instance.proxy.$attrs).forEach((key) => {\n        const value = instance.proxy.$attrs[key]\n        img.setAttribute(key, value)\n      })\n      img.src = props.src\n    }\n    const handleLoad = (e, img) => {\n      imageWidth.value = img.width\n      imageHeight.value = img.height\n      loading.value = false\n      error.value = false\n    }\n    const handleError = (e) => {\n      loading.value = false\n      error.value = true\n      ctx.emit('error', e)\n    }\n    const handleLazyLoad = () => {\n      if (isInContainer(instance.proxy.$el, instance.proxy._scrollContainer)) {\n        show.value = true\n        removeLazyLoadListener()\n      }\n    }\n    const addLazyLoadListener = () => {\n      // if (this.$isServer) return\n      const { scrollContainer } = props\n      let _scrollContainer = null\n      if (isHtmlElement(scrollContainer)) {\n        _scrollContainer = scrollContainer\n      } else if (isString(scrollContainer)) {\n        _scrollContainer = document.querySelector(scrollContainer)\n      } else {\n        _scrollContainer = getScrollContainer(instance.proxy.$el)\n      }\n      if (_scrollContainer) {\n        instance.proxy._scrollContainer = _scrollContainer\n        instance.proxy._lazyLoadHandler = throttle(200, handleLazyLoad)\n        on(_scrollContainer, 'scroll', instance.proxy._lazyLoadHandler)\n        handleLazyLoad()\n      }\n    }\n    const removeLazyLoadListener = () => {\n      const { _scrollContainer, _lazyLoadHandler } = instance.proxy\n      if (\n        // this.$isServer ||\n        !_scrollContainer ||\n        !_lazyLoadHandler\n      )\n        return\n      off(_scrollContainer, 'scroll', _lazyLoadHandler)\n      instance.proxy._scrollContainer = null\n      instance.proxy._lazyLoadHandler = null\n    }\n    /**\n     * simulate object-fit behavior to compatible with IE11 and other browsers which not support object-fit\n     */\n    const getImageStyle = (fit) => {\n      const {\n        clientWidth: containerWidth,\n        clientHeight: containerHeight\n      } = instance.proxy.$el\n      if (\n        !imageWidth.value ||\n        !imageHeight.value ||\n        !containerWidth ||\n        !containerHeight\n      )\n        return {}\n      const vertical = imageWidth.value / imageHeight.value < 1\n      if (fit === ObjectFit.SCALE_DOWN) {\n        const isSmaller =\n          imageWidth.value < containerWidth &&\n          imageHeight.value < containerHeight\n        fit = isSmaller ? ObjectFit.NONE : ObjectFit.CONTAIN\n      }\n      switch (fit) {\n        case ObjectFit.NONE:\n          return { width: 'auto', height: 'auto' }\n        case ObjectFit.CONTAIN:\n          return vertical ? { width: 'auto' } : { height: 'auto' }\n        case ObjectFit.COVER:\n          return vertical ? { height: 'auto' } : { width: 'auto' }\n        default:\n          return {}\n      }\n    }\n    const clickHandler = () => {\n      // don't show viewer when preview is false\n      if (!preview.value) {\n        return\n      }\n      // prevent body scroll\n      prevOverflow = document.body.style.overflow\n      document.body.style.overflow = 'hidden'\n      showViewer.value = true\n    }\n    const closeViewer = () => {\n      document.body.style.overflow = prevOverflow\n      showViewer.value = false\n    }\n    return {\n      loading,\n      error,\n      show,\n      showViewer,\n      imageWidth,\n      imageHeight,\n      imageStyle,\n      alignCenter,\n      preview,\n      imageIndex,\n      loadImage,\n      handleLoad,\n      handleError,\n      handleLazyLoad,\n      getImageStyle,\n      addLazyLoadListener,\n      removeLazyLoadListener,\n      clickHandler,\n      closeViewer,\n      t\n    }\n  }\n}\n</script>\n","<template>\n  <div class=\"el-image\">\n    <slot v-if=\"loading\" name=\"placeholder\">\n      <div class=\"el-image__placeholder\"></div>\n    </slot>\n    <slot v-else-if=\"error\" name=\"error\">\n      <div class=\"el-image__error\">{{ t('el.image.error') }}</div>\n    </slot>\n    <img\n      v-else\n      class=\"el-image__inner\"\n      v-bind=\"$attrs\"\n      @click=\"clickHandler\"\n      :src=\"src\"\n      :style=\"imageStyle\"\n      :class=\"{\n        'el-image__inner--center': alignCenter,\n        'el-image__preview': preview\n      }\"\n    />\n    <template v-if=\"preview\">\n      <image-viewer\n        :z-index=\"zIndex\"\n        :initial-index=\"imageIndex\"\n        v-if=\"showViewer\"\n        :on-close=\"closeViewer\"\n        :url-list=\"previewSrcList\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport ImageViewer from './ImageViewer'\nimport { t } from '../../src/locale'\nimport { throttle } from 'throttle-debounce'\nimport { isString, isHtmlElement } from '../../src/utils/types'\nimport { on, off, getScrollContainer, isInContainer } from '../../src/utils/dom'\nimport {\n  ref,\n  computed,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  getCurrentInstance\n} from 'vue'\nconst isSupportObjectFit = () =>\n  document.documentElement.style.objectFit !== undefined\nconst ObjectFit = {\n  NONE: 'none',\n  CONTAIN: 'contain',\n  COVER: 'cover',\n  FILL: 'fill',\n  SCALE_DOWN: 'scale-down'\n}\nlet prevOverflow = ''\nexport default {\n  name: 'ElImage',\n  inheritAttrs: false,\n  components: {\n    ImageViewer\n  },\n  props: {\n    src: String,\n    fit: String,\n    lazy: Boolean,\n    scrollContainer: {},\n    previewSrcList: {\n      type: Array,\n      default: () => []\n    },\n    zIndex: {\n      type: Number,\n      default: 2000\n    }\n  },\n\n  emits: ['error'],\n\n  setup(props, ctx) {\n    const instance = getCurrentInstance()\n    const loading = ref(true)\n    const error = ref(false)\n    const show = ref(!props.lazy)\n    const showViewer = ref(false)\n    const imageWidth = ref(0)\n    const imageHeight = ref(0)\n    // computed\n    const imageStyle = computed(() => {\n      const { fit } = props\n      if (\n        //! this.$isServer &&\n        fit\n      ) {\n        return isSupportObjectFit() ? { 'object-fit': fit } : getImageStyle(fit)\n      }\n      return {}\n    })\n    const alignCenter = computed(() => {\n      return (\n        // !this.$isServer &&\n        !isSupportObjectFit() && props.fit !== ObjectFit.FILL\n      )\n    })\n    const preview = computed(() => {\n      const { previewSrcList } = props\n      return Array.isArray(previewSrcList) && previewSrcList.length > 0\n    })\n    const imageIndex = computed(() => {\n      let previewIndex = 0\n      const srcIndex = props.previewSrcList.indexOf(props.src)\n      if (srcIndex >= 0) {\n        previewIndex = srcIndex\n      }\n      return previewIndex\n    })\n    // watch\n    watch(\n      () => props.src,\n      () => {\n        show.value && loadImage()\n      }\n    )\n    watch(show, (val) => {\n      val && loadImage()\n    })\n    // lifecycle\n    onMounted(() => {\n      if (props.lazy) {\n        addLazyLoadListener()\n      } else {\n        loadImage()\n      }\n    })\n    onBeforeUnmount(() => {\n      props.lazy && removeLazyLoadListener()\n    })\n    // methods\n    const loadImage = () => {\n      // if (this.$isServer) return\n      // reset status\n      loading.value = true\n      error.value = false\n      const img = new Image()\n      img.onload = (e) => handleLoad(e, img)\n      img.onerror = handleError.bind(this)\n      // bind html attrs\n      // so it can behave consistently\n      Object.keys(instance.proxy.$attrs).forEach((key) => {\n        const value = instance.proxy.$attrs[key]\n        img.setAttribute(key, value)\n      })\n      img.src = props.src\n    }\n    const handleLoad = (e, img) => {\n      imageWidth.value = img.width\n      imageHeight.value = img.height\n      loading.value = false\n      error.value = false\n    }\n    const handleError = (e) => {\n      loading.value = false\n      error.value = true\n      ctx.emit('error', e)\n    }\n    const handleLazyLoad = () => {\n      if (isInContainer(instance.proxy.$el, instance.proxy._scrollContainer)) {\n        show.value = true\n        removeLazyLoadListener()\n      }\n    }\n    const addLazyLoadListener = () => {\n      // if (this.$isServer) return\n      const { scrollContainer } = props\n      let _scrollContainer = null\n      if (isHtmlElement(scrollContainer)) {\n        _scrollContainer = scrollContainer\n      } else if (isString(scrollContainer)) {\n        _scrollContainer = document.querySelector(scrollContainer)\n      } else {\n        _scrollContainer = getScrollContainer(instance.proxy.$el)\n      }\n      if (_scrollContainer) {\n        instance.proxy._scrollContainer = _scrollContainer\n        instance.proxy._lazyLoadHandler = throttle(200, handleLazyLoad)\n        on(_scrollContainer, 'scroll', instance.proxy._lazyLoadHandler)\n        handleLazyLoad()\n      }\n    }\n    const removeLazyLoadListener = () => {\n      const { _scrollContainer, _lazyLoadHandler } = instance.proxy\n      if (\n        // this.$isServer ||\n        !_scrollContainer ||\n        !_lazyLoadHandler\n      )\n        return\n      off(_scrollContainer, 'scroll', _lazyLoadHandler)\n      instance.proxy._scrollContainer = null\n      instance.proxy._lazyLoadHandler = null\n    }\n    /**\n     * simulate object-fit behavior to compatible with IE11 and other browsers which not support object-fit\n     */\n    const getImageStyle = (fit) => {\n      const {\n        clientWidth: containerWidth,\n        clientHeight: containerHeight\n      } = instance.proxy.$el\n      if (\n        !imageWidth.value ||\n        !imageHeight.value ||\n        !containerWidth ||\n        !containerHeight\n      )\n        return {}\n      const vertical = imageWidth.value / imageHeight.value < 1\n      if (fit === ObjectFit.SCALE_DOWN) {\n        const isSmaller =\n          imageWidth.value < containerWidth &&\n          imageHeight.value < containerHeight\n        fit = isSmaller ? ObjectFit.NONE : ObjectFit.CONTAIN\n      }\n      switch (fit) {\n        case ObjectFit.NONE:\n          return { width: 'auto', height: 'auto' }\n        case ObjectFit.CONTAIN:\n          return vertical ? { width: 'auto' } : { height: 'auto' }\n        case ObjectFit.COVER:\n          return vertical ? { height: 'auto' } : { width: 'auto' }\n        default:\n          return {}\n      }\n    }\n    const clickHandler = () => {\n      // don't show viewer when preview is false\n      if (!preview.value) {\n        return\n      }\n      // prevent body scroll\n      prevOverflow = document.body.style.overflow\n      document.body.style.overflow = 'hidden'\n      showViewer.value = true\n    }\n    const closeViewer = () => {\n      document.body.style.overflow = prevOverflow\n      showViewer.value = false\n    }\n    return {\n      loading,\n      error,\n      show,\n      showViewer,\n      imageWidth,\n      imageHeight,\n      imageStyle,\n      alignCenter,\n      preview,\n      imageIndex,\n      loadImage,\n      handleLoad,\n      handleError,\n      handleLazyLoad,\n      getImageStyle,\n      addLazyLoadListener,\n      removeLazyLoadListener,\n      clickHandler,\n      closeViewer,\n      t\n    }\n  }\n}\n</script>\n","import ElImage from './Image'\n\n/* istanbul ignore next */\nElImage.install = function (app) {\n  app.component(ElImage.name, ElImage)\n}\n\nexport default ElImage\n","<template>\n  <transition name=\"el-fade-in\">\n    <div\n      v-if=\"visible\"\n      @click.stop=\"handleClick\"\n      :style=\"{\n        right: styleRight,\n        bottom: styleBottom\n      }\"\n      class=\"el-backtop\"\n    >\n      <slot>\n        <el-icon name=\"caret-top\"></el-icon>\n      </slot>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref, toRefs, computed, onMounted, onUnmounted } from 'vue'\nimport { throttle } from 'throttle-debounce'\nimport ElIcon from '../icon'\nconst cubic = (value) => Math.pow(value, 3)\nconst easeInOutCubic = (value) =>\n  value < 0.5 ? cubic(value * 2) / 2 : 1 - cubic((1 - value) * 2) / 2\n\nexport default {\n  name: 'ElBacktop',\n  components: {\n    ElIcon\n  },\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: null\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n\n  setup(props, { emit }) {\n    const el = ref(null)\n    const container = ref(null)\n    const visible = ref(null)\n    let throttledScrollHandler\n\n    const { visibilityHeight, target, right, bottom } = toRefs(props)\n\n    const styleBottom = computed(() => `${bottom.value}px`)\n    const styleRight = computed(() => `${right.value}px`)\n\n    const init = () => {\n      container.value = document\n      el.value = document.documentElement\n      if (target.value) {\n        el.value = document.querySelector(target.value)\n        if (!el.value) {\n          throw new Error(`target is not existed: ${target.value}`)\n        }\n        container.value = el.value\n      }\n    }\n\n    const onScroll = () => {\n      const scrollTop = el.value.scrollTop\n      visible.value = scrollTop >= visibilityHeight.value\n    }\n\n    const handleClick = (e) => {\n      scrollToTop()\n      emit('click', e)\n    }\n\n    const scrollToTop = () => {\n      const element = el.value\n      const beginTime = Date.now()\n      const beginValue = element.scrollTop\n      const rAF =\n        window.requestAnimationFrame || ((func) => setTimeout(func, 16))\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500\n        if (progress < 1) {\n          element.scrollTop = beginValue * (1 - easeInOutCubic(progress))\n          rAF(frameFunc)\n        } else {\n          element.scrollTop = 0\n        }\n      }\n      rAF(frameFunc)\n    }\n\n    onMounted(() => {\n      init()\n      throttledScrollHandler = throttle(300, onScroll)\n      container.value.addEventListener('scroll', throttledScrollHandler)\n    })\n\n    onUnmounted(() => {\n      container.value.removeEventListener('scroll', throttledScrollHandler)\n    })\n\n    return {\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    }\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-fade-in\">\n    <div\n      v-if=\"visible\"\n      @click.stop=\"handleClick\"\n      :style=\"{\n        right: styleRight,\n        bottom: styleBottom\n      }\"\n      class=\"el-backtop\"\n    >\n      <slot>\n        <el-icon name=\"caret-top\"></el-icon>\n      </slot>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { ref, toRefs, computed, onMounted, onUnmounted } from 'vue'\nimport { throttle } from 'throttle-debounce'\nimport ElIcon from '../icon'\nconst cubic = (value) => Math.pow(value, 3)\nconst easeInOutCubic = (value) =>\n  value < 0.5 ? cubic(value * 2) / 2 : 1 - cubic((1 - value) * 2) / 2\n\nexport default {\n  name: 'ElBacktop',\n  components: {\n    ElIcon\n  },\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: null\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n\n  setup(props, { emit }) {\n    const el = ref(null)\n    const container = ref(null)\n    const visible = ref(null)\n    let throttledScrollHandler\n\n    const { visibilityHeight, target, right, bottom } = toRefs(props)\n\n    const styleBottom = computed(() => `${bottom.value}px`)\n    const styleRight = computed(() => `${right.value}px`)\n\n    const init = () => {\n      container.value = document\n      el.value = document.documentElement\n      if (target.value) {\n        el.value = document.querySelector(target.value)\n        if (!el.value) {\n          throw new Error(`target is not existed: ${target.value}`)\n        }\n        container.value = el.value\n      }\n    }\n\n    const onScroll = () => {\n      const scrollTop = el.value.scrollTop\n      visible.value = scrollTop >= visibilityHeight.value\n    }\n\n    const handleClick = (e) => {\n      scrollToTop()\n      emit('click', e)\n    }\n\n    const scrollToTop = () => {\n      const element = el.value\n      const beginTime = Date.now()\n      const beginValue = element.scrollTop\n      const rAF =\n        window.requestAnimationFrame || ((func) => setTimeout(func, 16))\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500\n        if (progress < 1) {\n          element.scrollTop = beginValue * (1 - easeInOutCubic(progress))\n          rAF(frameFunc)\n        } else {\n          element.scrollTop = 0\n        }\n      }\n      rAF(frameFunc)\n    }\n\n    onMounted(() => {\n      init()\n      throttledScrollHandler = throttle(300, onScroll)\n      container.value.addEventListener('scroll', throttledScrollHandler)\n    })\n\n    onUnmounted(() => {\n      container.value.removeEventListener('scroll', throttledScrollHandler)\n    })\n\n    return {\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    }\n  }\n}\n</script>\n","import Backtop from './Backtop.vue'\n\n/* istanbul ignore next */\nBacktop.install = function (app) {\n  app.component(Backtop.name, Backtop)\n}\n\nexport default Backtop\n","import { throttle } from 'throttle-debounce'\nimport { isHtmlElement, isFunction, isDefined } from '../../../src/utils/types'\nimport { getScrollContainer } from '../../../src/utils/dom'\n\nconst getStyleComputedProperty = (element, property) => {\n  if (element === window) {\n    element = document.documentElement\n  }\n\n  if (element.nodeType !== 1) {\n    return []\n  }\n  // NOTE: 1 DOM access here\n  const css = window.getComputedStyle(element, null)\n  return property ? css[property] : css\n}\n\nconst entries = (obj) => {\n  return Object.keys(obj || {}).map((key) => [key, obj[key]])\n}\n\nconst getPositionSize = (el, prop) => {\n  return el === window || el === document\n    ? document.documentElement[prop]\n    : el[prop]\n}\n\nconst getOffsetHeight = (el) => {\n  return getPositionSize(el, 'offsetHeight')\n}\n\nconst getClientHeight = (el) => {\n  return getPositionSize(el, 'clientHeight')\n}\n\nconst scope = 'ElInfiniteScroll'\nconst attributes = {\n  delay: {\n    type: Number,\n    default: 200\n  },\n  distance: {\n    type: Number,\n    default: 0\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  immediate: {\n    type: Boolean,\n    default: true\n  }\n}\n\nconst getScrollOptions = (el) => {\n  if (!isHtmlElement(el)) return {}\n\n  return entries(attributes).reduce((map, [key, option]) => {\n    const { type, default: defaultValue } = option\n    const attributeName = `infinite-scroll-${key}`\n\n    let value = el.hasAttribute(attributeName)\n      ? el.getAttribute(attributeName)\n      : defaultValue\n\n    switch (type) {\n      case Number:\n        value = Number(value)\n        value = Number.isNaN(value) ? defaultValue : value\n        break\n      case Boolean:\n        value = isDefined(value)\n          ? value === 'false'\n            ? false\n            : Boolean(value)\n          : defaultValue\n        break\n      default:\n        value = type(value)\n    }\n    map[key] = value\n    return map\n  }, {})\n}\n\nconst getElementTop = (el) => el.getBoundingClientRect().top\n\nconst handleScroll = function (cb) {\n  const { el, container, observer } = this[scope]\n  const { distance, disabled } = getScrollOptions(el)\n\n  if (disabled) return\n\n  const containerInfo = container.getBoundingClientRect()\n  if (!containerInfo.width && !containerInfo.height) return\n\n  let shouldTrigger = false\n\n  if (container === el) {\n    // be aware of difference between clientHeight & offsetHeight & window.getComputedStyle().height\n    const scrollBottom = container.scrollTop + getClientHeight(container)\n    shouldTrigger = container.scrollHeight - scrollBottom <= distance\n  } else {\n    const heightBelowTop =\n      getOffsetHeight(el) + getElementTop(el) - getElementTop(container)\n    const offsetHeight = getOffsetHeight(container)\n    const borderBottom = Number.parseFloat(\n      getStyleComputedProperty(container, 'borderBottomWidth')\n    )\n    shouldTrigger = heightBelowTop - offsetHeight + borderBottom <= distance\n  }\n\n  if (shouldTrigger && isFunction(cb)) {\n    cb.call()\n  } else if (observer) {\n    observer.disconnect()\n    this[scope].observer = null\n  }\n}\n\nexport default {\n  name: 'InfiniteScroll',\n\n  mounted(el, binding) {\n    const cb = binding.value\n\n    // only include vertical scroll\n    const container = getScrollContainer(el, true)\n    const { delay, immediate } = getScrollOptions(el)\n    const onScroll = throttle(delay, handleScroll.bind(el, cb))\n\n    el[scope] = { el, container, onScroll }\n\n    if (container) {\n      container.addEventListener('scroll', onScroll)\n\n      if (immediate) {\n        const observer = (el[scope].observer = new MutationObserver(onScroll))\n        observer.observe(container, { childList: true, subtree: true })\n        onScroll()\n      }\n    }\n  },\n\n  unmounted(el) {\n    const { container, onScroll } = el[scope]\n    if (container) {\n      container.removeEventListener('scroll', onScroll)\n    }\n  }\n}\n","import ElInfiniteScroll from './src/main.js'\n\n/* istanbul ignore next */\nElInfiniteScroll.install = function (app) {\n  app.directive(ElInfiniteScroll.name, ElInfiniteScroll)\n}\n\nexport default ElInfiniteScroll\n","<template>\n  <transition\n    name=\"el-drawer-fade\"\n    @after-enter=\"afterEnter\"\n    @after-leave=\"afterLeave\"\n  >\n    <div class=\"el-drawer__wrapper\" tabindex=\"-1\" v-show=\"visible\">\n      <div\n        class=\"el-drawer__container\"\n        :class=\"visible && 'el-drawer__open'\"\n        @click.self=\"handleWrapperClick\"\n        role=\"document\"\n        tabindex=\"-1\"\n      >\n        <div\n          aria-modal=\"true\"\n          aria-labelledby=\"el-drawer__title\"\n          :aria-label=\"title\"\n          class=\"el-drawer\"\n          :class=\"[direction, customClass]\"\n          :style=\"isHorizontal ? `width: ${size}` : `height: ${size}`\"\n          ref=\"drawer\"\n          role=\"dialog\"\n          tabindex=\"-1\"\n        >\n          <header\n            class=\"el-drawer__header\"\n            id=\"el-drawer__title\"\n            v-if=\"withHeader\"\n          >\n            <slot name=\"title\">\n              <span role=\"heading\" tabindex=\"0\" :title=\"title\">\n                {{ title }}\n              </span>\n            </slot>\n            <button\n              :aria-label=\"`close ${title || 'drawer'}`\"\n              class=\"el-drawer__close-btn\"\n              type=\"button\"\n              v-if=\"showClose\"\n              @click=\"closeDrawer\"\n            >\n              <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n            </button>\n          </header>\n          <section class=\"el-drawer__body\" v-if=\"rendered\">\n            <slot></slot>\n          </section>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport {\n  toRefs,\n  computed,\n  ref,\n  watch,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport { popupProps, usePopup } from '../../src/use/popup'\nimport Utils from '../../src/utils/aria-utils'\n\nexport default {\n  name: 'ElDrawer',\n  props: {\n    ...popupProps,\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n    beforeClose: {\n      type: Function\n    },\n    customClass: {\n      type: String,\n      default: ''\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    destroyOnClose: {\n      type: Boolean,\n      default: false\n    },\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    direction: {\n      type: String,\n      default: 'rtl',\n      validator(val) {\n        return ['ltr', 'rtl', 'ttb', 'btt'].indexOf(val) !== -1\n      }\n    },\n    modalAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    size: {\n      type: String,\n      default: '30%'\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    visible: {\n      type: Boolean\n    },\n    wrapperClosable: {\n      type: Boolean,\n      default: true\n    },\n    withHeader: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['update:visible', 'close', 'opened', 'open', 'closed'],\n  setup(props, { emit }) {\n    const { rendered, open } = usePopup(props)\n    const {\n      appendToBody,\n      beforeClose,\n      destroyOnClose,\n      direction,\n      visible,\n      wrapperClosable\n    } = toRefs(props)\n\n    const closed = ref(false)\n    const prevActiveElement = ref(null)\n    const drawer = ref(null)\n    const self = getCurrentInstance().proxy\n\n    const isHorizontal = computed(() => {\n      return direction.value === 'rtl' || direction.value === 'ltr'\n    })\n\n    watch(visible, (val) => {\n      const el = self.$el\n      if (val) {\n        closed.value = false\n        emit('open')\n        if (appendToBody.value) {\n          document.body.appendChild(el)\n        }\n        prevActiveElement.value = document.activeElement\n        nextTick(() => {\n          Utils.focusFirstDescendant(drawer.value)\n        })\n      } else {\n        if (!closed.value) emit('close')\n        nextTick(() => {\n          if (prevActiveElement.value) {\n            prevActiveElement.value.focus()\n          }\n        })\n      }\n    })\n\n    const afterEnter = () => {\n      emit('opened')\n    }\n\n    const afterLeave = () => {\n      emit('closed')\n    }\n\n    const handleWrapperClick = () => {\n      if (wrapperClosable.value) {\n        closeDrawer()\n      }\n    }\n\n    const closeDrawer = () => {\n      if (beforeClose && typeof beforeClose.value === 'function') {\n        beforeClose.value(hide)\n      } else {\n        hide()\n      }\n    }\n\n    const hide = (cancel) => {\n      if (cancel !== false) {\n        emit('update:visible', false)\n        emit('close')\n        if (destroyOnClose.value === true) {\n          rendered.value = false\n        }\n        closed.value = true\n      }\n    }\n\n    // todo: ESC 退出模态框,暂时无调用，lint过不去先在return调用\n    const handleClose = () => {\n      // This method here will be called by PopupManger, when the `closeOnPressEscape` was set to true\n      // pressing `ESC` will call this method, and also close the drawer.\n      // This method also calls `beforeClose` if there was one.\n      closeDrawer()\n    }\n\n    onMounted(() => {\n      if (visible.value) {\n        rendered.value = true\n        open()\n      }\n    })\n\n    onUnmounted(() => {\n      // if appendToBody is true, remove DOM node after destroy\n      if (appendToBody.value && self.$el && self.$el.parentNode) {\n        self.$el.parentNode.removeChild(self.$el)\n      }\n    })\n\n    return {\n      isHorizontal,\n      drawer,\n      rendered,\n      afterEnter,\n      afterLeave,\n      handleWrapperClick,\n      closeDrawer,\n      handleClose\n    }\n  }\n}\n</script>\n","<template>\n  <transition\n    name=\"el-drawer-fade\"\n    @after-enter=\"afterEnter\"\n    @after-leave=\"afterLeave\"\n  >\n    <div class=\"el-drawer__wrapper\" tabindex=\"-1\" v-show=\"visible\">\n      <div\n        class=\"el-drawer__container\"\n        :class=\"visible && 'el-drawer__open'\"\n        @click.self=\"handleWrapperClick\"\n        role=\"document\"\n        tabindex=\"-1\"\n      >\n        <div\n          aria-modal=\"true\"\n          aria-labelledby=\"el-drawer__title\"\n          :aria-label=\"title\"\n          class=\"el-drawer\"\n          :class=\"[direction, customClass]\"\n          :style=\"isHorizontal ? `width: ${size}` : `height: ${size}`\"\n          ref=\"drawer\"\n          role=\"dialog\"\n          tabindex=\"-1\"\n        >\n          <header\n            class=\"el-drawer__header\"\n            id=\"el-drawer__title\"\n            v-if=\"withHeader\"\n          >\n            <slot name=\"title\">\n              <span role=\"heading\" tabindex=\"0\" :title=\"title\">\n                {{ title }}\n              </span>\n            </slot>\n            <button\n              :aria-label=\"`close ${title || 'drawer'}`\"\n              class=\"el-drawer__close-btn\"\n              type=\"button\"\n              v-if=\"showClose\"\n              @click=\"closeDrawer\"\n            >\n              <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n            </button>\n          </header>\n          <section class=\"el-drawer__body\" v-if=\"rendered\">\n            <slot></slot>\n          </section>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport {\n  toRefs,\n  computed,\n  ref,\n  watch,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  onUnmounted\n} from 'vue'\nimport { popupProps, usePopup } from '../../src/use/popup'\nimport Utils from '../../src/utils/aria-utils'\n\nexport default {\n  name: 'ElDrawer',\n  props: {\n    ...popupProps,\n    appendToBody: {\n      type: Boolean,\n      default: false\n    },\n    beforeClose: {\n      type: Function\n    },\n    customClass: {\n      type: String,\n      default: ''\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    destroyOnClose: {\n      type: Boolean,\n      default: false\n    },\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    direction: {\n      type: String,\n      default: 'rtl',\n      validator(val) {\n        return ['ltr', 'rtl', 'ttb', 'btt'].indexOf(val) !== -1\n      }\n    },\n    modalAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    size: {\n      type: String,\n      default: '30%'\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    visible: {\n      type: Boolean\n    },\n    wrapperClosable: {\n      type: Boolean,\n      default: true\n    },\n    withHeader: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['update:visible', 'close', 'opened', 'open', 'closed'],\n  setup(props, { emit }) {\n    const { rendered, open } = usePopup(props)\n    const {\n      appendToBody,\n      beforeClose,\n      destroyOnClose,\n      direction,\n      visible,\n      wrapperClosable\n    } = toRefs(props)\n\n    const closed = ref(false)\n    const prevActiveElement = ref(null)\n    const drawer = ref(null)\n    const self = getCurrentInstance().proxy\n\n    const isHorizontal = computed(() => {\n      return direction.value === 'rtl' || direction.value === 'ltr'\n    })\n\n    watch(visible, (val) => {\n      const el = self.$el\n      if (val) {\n        closed.value = false\n        emit('open')\n        if (appendToBody.value) {\n          document.body.appendChild(el)\n        }\n        prevActiveElement.value = document.activeElement\n        nextTick(() => {\n          Utils.focusFirstDescendant(drawer.value)\n        })\n      } else {\n        if (!closed.value) emit('close')\n        nextTick(() => {\n          if (prevActiveElement.value) {\n            prevActiveElement.value.focus()\n          }\n        })\n      }\n    })\n\n    const afterEnter = () => {\n      emit('opened')\n    }\n\n    const afterLeave = () => {\n      emit('closed')\n    }\n\n    const handleWrapperClick = () => {\n      if (wrapperClosable.value) {\n        closeDrawer()\n      }\n    }\n\n    const closeDrawer = () => {\n      if (beforeClose && typeof beforeClose.value === 'function') {\n        beforeClose.value(hide)\n      } else {\n        hide()\n      }\n    }\n\n    const hide = (cancel) => {\n      if (cancel !== false) {\n        emit('update:visible', false)\n        emit('close')\n        if (destroyOnClose.value === true) {\n          rendered.value = false\n        }\n        closed.value = true\n      }\n    }\n\n    // todo: ESC 退出模态框,暂时无调用，lint过不去先在return调用\n    const handleClose = () => {\n      // This method here will be called by PopupManger, when the `closeOnPressEscape` was set to true\n      // pressing `ESC` will call this method, and also close the drawer.\n      // This method also calls `beforeClose` if there was one.\n      closeDrawer()\n    }\n\n    onMounted(() => {\n      if (visible.value) {\n        rendered.value = true\n        open()\n      }\n    })\n\n    onUnmounted(() => {\n      // if appendToBody is true, remove DOM node after destroy\n      if (appendToBody.value && self.$el && self.$el.parentNode) {\n        self.$el.parentNode.removeChild(self.$el)\n      }\n    })\n\n    return {\n      isHorizontal,\n      drawer,\n      rendered,\n      afterEnter,\n      afterLeave,\n      handleWrapperClick,\n      closeDrawer,\n      handleClose\n    }\n  }\n}\n</script>\n","import ElDrawer from './Drawer'\n\n/* istanbul ignore next */\nElDrawer.install = function (app) {\n  app.component(ElDrawer.name, ElDrawer)\n}\n\nexport default ElDrawer\n","function broadcast(componentName, eventName, params) {\n  this.$children.forEach((child) => {\n    var name = child.$options.componentName\n\n    if (name === componentName) {\n      child.$emit.apply(child, [eventName].concat(params))\n    } else {\n      broadcast.apply(child, [componentName, eventName].concat([params]))\n    }\n  })\n}\nexport default {\n  methods: {\n    dispatch(componentName, eventName, params) {\n      var parent = this.$parent || this.$root\n      var name = parent.$options.componentName\n\n      while (parent && (!name || name !== componentName)) {\n        parent = parent.$parent\n\n        if (parent) {\n          name = parent.$options.componentName\n        }\n      }\n      if (parent) {\n        parent.$emit.apply(parent, [eventName].concat(params))\n      }\n    },\n    broadcast(componentName, eventName, params) {\n      broadcast.call(this, componentName, eventName, params)\n    }\n  }\n}\n","<template>\n  <transition name=\"el-zoom-in-top\" @after-leave=\"doDestroy\">\n    <div\n      v-show=\"showPopper\"\n      class=\"el-autocomplete-suggestion el-popper\"\n      :class=\"{ 'is-loading': !parent.hideLoading && parent.loading }\"\n      :style=\"{ width: dropdownWidth }\"\n      role=\"region\"\n    >\n      <el-scrollbar\n        tag=\"ul\"\n        wrap-class=\"el-autocomplete-suggestion__wrap\"\n        view-class=\"el-autocomplete-suggestion__list\"\n      >\n        <li v-if=\"!parent.hideLoading && parent.loading\">\n          <i class=\"el-icon-loading\"></i>\n        </li>\n        <slot v-else> </slot>\n      </el-scrollbar>\n    </div>\n  </transition>\n</template>\n<script>\nimport Popper from '../../../src/utils/vue-popper'\nimport Emitter from '../../../src/mixins/emitter'\nimport ElScrollbar from '../../scrollbar'\n\nexport default {\n  components: { ElScrollbar },\n  mixins: [Popper, Emitter],\n\n  componentName: 'ElAutocompleteSuggestions',\n\n  data() {\n    return {\n      parent: this.$parent,\n      dropdownWidth: ''\n    }\n  },\n\n  props: {\n    options: {\n      default() {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    },\n    id: String\n  },\n\n  methods: {\n    select(item) {\n      this.dispatch('ElAutocomplete', 'item-click', item)\n    }\n  },\n\n  updated() {\n    this.$nextTick(() => {\n      this.popperJS && this.updatePopper()\n    })\n  },\n\n  mounted() {\n    this.$parent.popperElm = this.popperElm = this.$el\n    this.referenceElm =\n      this.$parent.$refs.input.$refs.input ||\n      this.$parent.$refs.input.$refs.textarea\n    this.referenceList = this.$el.querySelector(\n      '.el-autocomplete-suggestion__list'\n    )\n    this.referenceList.setAttribute('role', 'listbox')\n    this.referenceList.setAttribute('id', this.id)\n  },\n\n  created() {\n    // TODO $on 已经废弃了\n    // eslint-disable-next-line vue/no-deprecated-events-api\n    this.$on('visible', (val, inputWidth) => {\n      this.dropdownWidth = inputWidth + 'px'\n      this.showPopper = val\n    })\n  }\n}\n</script>\n","<template>\n  <transition name=\"el-zoom-in-top\" @after-leave=\"doDestroy\">\n    <div\n      v-show=\"showPopper\"\n      class=\"el-autocomplete-suggestion el-popper\"\n      :class=\"{ 'is-loading': !parent.hideLoading && parent.loading }\"\n      :style=\"{ width: dropdownWidth }\"\n      role=\"region\"\n    >\n      <el-scrollbar\n        tag=\"ul\"\n        wrap-class=\"el-autocomplete-suggestion__wrap\"\n        view-class=\"el-autocomplete-suggestion__list\"\n      >\n        <li v-if=\"!parent.hideLoading && parent.loading\">\n          <i class=\"el-icon-loading\"></i>\n        </li>\n        <slot v-else> </slot>\n      </el-scrollbar>\n    </div>\n  </transition>\n</template>\n<script>\nimport Popper from '../../../src/utils/vue-popper'\nimport Emitter from '../../../src/mixins/emitter'\nimport ElScrollbar from '../../scrollbar'\n\nexport default {\n  components: { ElScrollbar },\n  mixins: [Popper, Emitter],\n\n  componentName: 'ElAutocompleteSuggestions',\n\n  data() {\n    return {\n      parent: this.$parent,\n      dropdownWidth: ''\n    }\n  },\n\n  props: {\n    options: {\n      default() {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    },\n    id: String\n  },\n\n  methods: {\n    select(item) {\n      this.dispatch('ElAutocomplete', 'item-click', item)\n    }\n  },\n\n  updated() {\n    this.$nextTick(() => {\n      this.popperJS && this.updatePopper()\n    })\n  },\n\n  mounted() {\n    this.$parent.popperElm = this.popperElm = this.$el\n    this.referenceElm =\n      this.$parent.$refs.input.$refs.input ||\n      this.$parent.$refs.input.$refs.textarea\n    this.referenceList = this.$el.querySelector(\n      '.el-autocomplete-suggestion__list'\n    )\n    this.referenceList.setAttribute('role', 'listbox')\n    this.referenceList.setAttribute('id', this.id)\n  },\n\n  created() {\n    // TODO $on 已经废弃了\n    // eslint-disable-next-line vue/no-deprecated-events-api\n    this.$on('visible', (val, inputWidth) => {\n      this.dropdownWidth = inputWidth + 'px'\n      this.showPopper = val\n    })\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-autocomplete\"\n    v-clickoutside=\"close\"\n    aria-haspopup=\"listbox\"\n    role=\"combobox\"\n    :aria-expanded=\"suggestionVisible\"\n    :aria-owns=\"id\"\n  >\n    <el-input\n      ref=\"input\"\n      v-bind=\"[$props, $attrs]\"\n      @input=\"handleInput\"\n      @change=\"handleChange\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @clear=\"handleClear\"\n      @keydown.up.prevent=\"highlight(highlightedIndex - 1)\"\n      @keydown.down.prevent=\"highlight(highlightedIndex + 1)\"\n      @keydown.enter=\"handleKeyEnter\"\n      @keydown.tab=\"close\"\n    >\n      <template v-slot:prepend v-if=\"$slots.prepend\">\n        <slot name=\"prepend\"></slot>\n      </template>\n      <template v-slot:append v-if=\"$slots.append\">\n        <slot name=\"append\"></slot>\n      </template>\n      <template v-slot:prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\"></slot>\n      </template>\n      <template v-slot:suffix v-if=\"$slots.suffix\">\n        <slot name=\"suffix\"></slot>\n      </template>\n    </el-input>\n    <el-autocomplete-suggestions\n      visible-arrow\n      :class=\"[popperClass ? popperClass : '']\"\n      :popper-options=\"popperOptions\"\n      :append-to-body=\"popperAppendToBody\"\n      ref=\"suggestions\"\n      :placement=\"placement\"\n      :id=\"id\"\n    >\n      <li\n        v-for=\"(item, index) in suggestions\"\n        :key=\"index\"\n        :class=\"{ highlighted: highlightedIndex === index }\"\n        @click=\"select(item)\"\n        :id=\"`${id}-item-${index}`\"\n        role=\"option\"\n        :aria-selected=\"highlightedIndex === index\"\n      >\n        <slot :item=\"item\">\n          {{ item[valueKey] }}\n        </slot>\n      </li>\n    </el-autocomplete-suggestions>\n  </div>\n</template>\n<script>\nimport { debounce } from 'throttle-debounce'\nimport { ElInput } from '../../../src/components/Input'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport ElAutocompleteSuggestions from './autocomplete-suggestions.vue'\nimport Emitter from '../../../src/mixins/emitter'\nimport Migrating from '../../../src/mixins/migrating'\nimport { generateId } from '../../../src/utils/util'\nimport Focus from '../../../src/mixins/focus'\n\nexport default {\n  name: 'ElAutocomplete',\n\n  mixins: [Emitter, Focus('input'), Migrating],\n\n  inheritAttrs: false,\n\n  componentName: 'ElAutocomplete',\n\n  components: {\n    ElInput,\n    ElAutocompleteSuggestions\n  },\n\n  directives: { Clickoutside },\n\n  props: {\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    popperClass: String,\n    popperOptions: Object,\n    placeholder: String,\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    disabled: Boolean,\n    name: String,\n    size: String,\n    value: String,\n    maxlength: Number,\n    minlength: Number,\n    autofocus: Boolean,\n    fetchSuggestions: Function,\n    triggerOnFocus: {\n      type: Boolean,\n      default: true\n    },\n    customItem: String,\n    selectWhenUnmatched: {\n      type: Boolean,\n      default: false\n    },\n    prefixIcon: String,\n    suffixIcon: String,\n    label: String,\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    hideLoading: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    highlightFirstItem: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      activated: false,\n      suggestions: [],\n      loading: false,\n      highlightedIndex: -1,\n      suggestionDisabled: false\n    }\n  },\n  computed: {\n    suggestionVisible() {\n      const suggestions = this.suggestions\n      const isValidData = Array.isArray(suggestions) && suggestions.length > 0\n      return (isValidData || this.loading) && this.activated\n    },\n    id() {\n      return `el-autocomplete-${generateId()}`\n    }\n  },\n  watch: {\n    suggestionVisible(val) {\n      const $input = this.getInput()\n      if ($input) {\n        this.broadcast('visible', [val, $input.offsetWidth])\n      }\n    }\n  },\n  methods: {\n    getMigratingConfig() {\n      return {\n        props: {\n          'custom-item': 'custom-item is removed, use scoped slot instead.',\n          props: 'props is removed, use value-key instead.'\n        }\n      }\n    },\n    getData(queryString) {\n      if (this.suggestionDisabled) {\n        return\n      }\n      this.loading = true\n      this.fetchSuggestions(queryString, (suggestions) => {\n        this.loading = false\n        if (this.suggestionDisabled) {\n          return\n        }\n        if (Array.isArray(suggestions)) {\n          this.suggestions = suggestions\n          this.highlightedIndex = this.highlightFirstItem ? 0 : -1\n        } else {\n          console.error(\n            '[Element Error][Autocomplete]autocomplete suggestions must be an array'\n          )\n        }\n      })\n    },\n    handleInput(value) {\n      this.$emit('input', value)\n      this.suggestionDisabled = false\n      if (!this.triggerOnFocus && !value) {\n        this.suggestionDisabled = true\n        this.suggestions = []\n        return\n      }\n      this.debouncedGetData(value)\n    },\n    handleChange(value) {\n      this.$emit('change', value)\n    },\n    handleFocus(event) {\n      this.activated = true\n      this.$emit('focus', event)\n      if (this.triggerOnFocus) {\n        this.debouncedGetData(this.value)\n      }\n    },\n    handleBlur(event) {\n      this.$emit('blur', event)\n    },\n    handleClear() {\n      this.activated = false\n      this.$emit('clear')\n    },\n    close() {\n      this.activated = false\n    },\n    handleKeyEnter(e) {\n      if (\n        this.suggestionVisible &&\n        this.highlightedIndex >= 0 &&\n        this.highlightedIndex < this.suggestions.length\n      ) {\n        e.preventDefault()\n        this.select(this.suggestions[this.highlightedIndex])\n      } else if (this.selectWhenUnmatched) {\n        this.$emit('select', { value: this.value })\n        this.$nextTick(() => {\n          this.suggestions = []\n          this.highlightedIndex = -1\n        })\n      }\n    },\n    select(item) {\n      this.$emit('input', item[this.valueKey])\n      this.$emit('select', item)\n      this.$nextTick(() => {\n        this.suggestions = []\n        this.highlightedIndex = -1\n      })\n    },\n    highlight(index) {\n      if (!this.suggestionVisible || this.loading) {\n        return\n      }\n      if (index < 0) {\n        this.highlightedIndex = -1\n        return\n      }\n      if (index >= this.suggestions.length) {\n        index = this.suggestions.length - 1\n      }\n      const suggestion = this.$refs.suggestions.$el.querySelector(\n        '.el-autocomplete-suggestion__wrap'\n      )\n      const suggestionList = suggestion.querySelectorAll(\n        '.el-autocomplete-suggestion__list li'\n      )\n\n      const highlightItem = suggestionList[index]\n      const scrollTop = suggestion.scrollTop\n      const offsetTop = highlightItem.offsetTop\n\n      if (\n        offsetTop + highlightItem.scrollHeight >\n        scrollTop + suggestion.clientHeight\n      ) {\n        suggestion.scrollTop += highlightItem.scrollHeight\n      }\n      if (offsetTop < scrollTop) {\n        suggestion.scrollTop -= highlightItem.scrollHeight\n      }\n      this.highlightedIndex = index\n      const $input = this.getInput()\n      $input.setAttribute(\n        'aria-activedescendant',\n        `${this.id}-item-${this.highlightedIndex}`\n      )\n    },\n    getInput() {\n      return this.$refs.input.getInput()\n    }\n  },\n  mounted() {\n    this.debouncedGetData = debounce(this.debounce, this.getData)\n    // TODO $on 已经废弃\n    // eslint-disable-next-line vue/no-deprecated-events-api\n    this.$on('item-click', (item) => {\n      this.select(item)\n    })\n    const $input = this.getInput()\n    $input.setAttribute('role', 'textbox')\n    $input.setAttribute('aria-autocomplete', 'list')\n    $input.setAttribute('aria-controls', 'id')\n    $input.setAttribute(\n      'aria-activedescendant',\n      `${this.id}-item-${this.highlightedIndex}`\n    )\n  },\n  beforeUnmount() {\n    this.$refs.suggestions.$destroy()\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"el-autocomplete\"\n    v-clickoutside=\"close\"\n    aria-haspopup=\"listbox\"\n    role=\"combobox\"\n    :aria-expanded=\"suggestionVisible\"\n    :aria-owns=\"id\"\n  >\n    <el-input\n      ref=\"input\"\n      v-bind=\"[$props, $attrs]\"\n      @input=\"handleInput\"\n      @change=\"handleChange\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @clear=\"handleClear\"\n      @keydown.up.prevent=\"highlight(highlightedIndex - 1)\"\n      @keydown.down.prevent=\"highlight(highlightedIndex + 1)\"\n      @keydown.enter=\"handleKeyEnter\"\n      @keydown.tab=\"close\"\n    >\n      <template v-slot:prepend v-if=\"$slots.prepend\">\n        <slot name=\"prepend\"></slot>\n      </template>\n      <template v-slot:append v-if=\"$slots.append\">\n        <slot name=\"append\"></slot>\n      </template>\n      <template v-slot:prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\"></slot>\n      </template>\n      <template v-slot:suffix v-if=\"$slots.suffix\">\n        <slot name=\"suffix\"></slot>\n      </template>\n    </el-input>\n    <el-autocomplete-suggestions\n      visible-arrow\n      :class=\"[popperClass ? popperClass : '']\"\n      :popper-options=\"popperOptions\"\n      :append-to-body=\"popperAppendToBody\"\n      ref=\"suggestions\"\n      :placement=\"placement\"\n      :id=\"id\"\n    >\n      <li\n        v-for=\"(item, index) in suggestions\"\n        :key=\"index\"\n        :class=\"{ highlighted: highlightedIndex === index }\"\n        @click=\"select(item)\"\n        :id=\"`${id}-item-${index}`\"\n        role=\"option\"\n        :aria-selected=\"highlightedIndex === index\"\n      >\n        <slot :item=\"item\">\n          {{ item[valueKey] }}\n        </slot>\n      </li>\n    </el-autocomplete-suggestions>\n  </div>\n</template>\n<script>\nimport { debounce } from 'throttle-debounce'\nimport { ElInput } from '../../../src/components/Input'\nimport Clickoutside from '../../../src/directives/clickoutside'\nimport ElAutocompleteSuggestions from './autocomplete-suggestions.vue'\nimport Emitter from '../../../src/mixins/emitter'\nimport Migrating from '../../../src/mixins/migrating'\nimport { generateId } from '../../../src/utils/util'\nimport Focus from '../../../src/mixins/focus'\n\nexport default {\n  name: 'ElAutocomplete',\n\n  mixins: [Emitter, Focus('input'), Migrating],\n\n  inheritAttrs: false,\n\n  componentName: 'ElAutocomplete',\n\n  components: {\n    ElInput,\n    ElAutocompleteSuggestions\n  },\n\n  directives: { Clickoutside },\n\n  props: {\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    popperClass: String,\n    popperOptions: Object,\n    placeholder: String,\n    clearable: {\n      type: Boolean,\n      default: false\n    },\n    disabled: Boolean,\n    name: String,\n    size: String,\n    value: String,\n    maxlength: Number,\n    minlength: Number,\n    autofocus: Boolean,\n    fetchSuggestions: Function,\n    triggerOnFocus: {\n      type: Boolean,\n      default: true\n    },\n    customItem: String,\n    selectWhenUnmatched: {\n      type: Boolean,\n      default: false\n    },\n    prefixIcon: String,\n    suffixIcon: String,\n    label: String,\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    placement: {\n      type: String,\n      default: 'bottom-start'\n    },\n    hideLoading: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    highlightFirstItem: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      activated: false,\n      suggestions: [],\n      loading: false,\n      highlightedIndex: -1,\n      suggestionDisabled: false\n    }\n  },\n  computed: {\n    suggestionVisible() {\n      const suggestions = this.suggestions\n      const isValidData = Array.isArray(suggestions) && suggestions.length > 0\n      return (isValidData || this.loading) && this.activated\n    },\n    id() {\n      return `el-autocomplete-${generateId()}`\n    }\n  },\n  watch: {\n    suggestionVisible(val) {\n      const $input = this.getInput()\n      if ($input) {\n        this.broadcast('visible', [val, $input.offsetWidth])\n      }\n    }\n  },\n  methods: {\n    getMigratingConfig() {\n      return {\n        props: {\n          'custom-item': 'custom-item is removed, use scoped slot instead.',\n          props: 'props is removed, use value-key instead.'\n        }\n      }\n    },\n    getData(queryString) {\n      if (this.suggestionDisabled) {\n        return\n      }\n      this.loading = true\n      this.fetchSuggestions(queryString, (suggestions) => {\n        this.loading = false\n        if (this.suggestionDisabled) {\n          return\n        }\n        if (Array.isArray(suggestions)) {\n          this.suggestions = suggestions\n          this.highlightedIndex = this.highlightFirstItem ? 0 : -1\n        } else {\n          console.error(\n            '[Element Error][Autocomplete]autocomplete suggestions must be an array'\n          )\n        }\n      })\n    },\n    handleInput(value) {\n      this.$emit('input', value)\n      this.suggestionDisabled = false\n      if (!this.triggerOnFocus && !value) {\n        this.suggestionDisabled = true\n        this.suggestions = []\n        return\n      }\n      this.debouncedGetData(value)\n    },\n    handleChange(value) {\n      this.$emit('change', value)\n    },\n    handleFocus(event) {\n      this.activated = true\n      this.$emit('focus', event)\n      if (this.triggerOnFocus) {\n        this.debouncedGetData(this.value)\n      }\n    },\n    handleBlur(event) {\n      this.$emit('blur', event)\n    },\n    handleClear() {\n      this.activated = false\n      this.$emit('clear')\n    },\n    close() {\n      this.activated = false\n    },\n    handleKeyEnter(e) {\n      if (\n        this.suggestionVisible &&\n        this.highlightedIndex >= 0 &&\n        this.highlightedIndex < this.suggestions.length\n      ) {\n        e.preventDefault()\n        this.select(this.suggestions[this.highlightedIndex])\n      } else if (this.selectWhenUnmatched) {\n        this.$emit('select', { value: this.value })\n        this.$nextTick(() => {\n          this.suggestions = []\n          this.highlightedIndex = -1\n        })\n      }\n    },\n    select(item) {\n      this.$emit('input', item[this.valueKey])\n      this.$emit('select', item)\n      this.$nextTick(() => {\n        this.suggestions = []\n        this.highlightedIndex = -1\n      })\n    },\n    highlight(index) {\n      if (!this.suggestionVisible || this.loading) {\n        return\n      }\n      if (index < 0) {\n        this.highlightedIndex = -1\n        return\n      }\n      if (index >= this.suggestions.length) {\n        index = this.suggestions.length - 1\n      }\n      const suggestion = this.$refs.suggestions.$el.querySelector(\n        '.el-autocomplete-suggestion__wrap'\n      )\n      const suggestionList = suggestion.querySelectorAll(\n        '.el-autocomplete-suggestion__list li'\n      )\n\n      const highlightItem = suggestionList[index]\n      const scrollTop = suggestion.scrollTop\n      const offsetTop = highlightItem.offsetTop\n\n      if (\n        offsetTop + highlightItem.scrollHeight >\n        scrollTop + suggestion.clientHeight\n      ) {\n        suggestion.scrollTop += highlightItem.scrollHeight\n      }\n      if (offsetTop < scrollTop) {\n        suggestion.scrollTop -= highlightItem.scrollHeight\n      }\n      this.highlightedIndex = index\n      const $input = this.getInput()\n      $input.setAttribute(\n        'aria-activedescendant',\n        `${this.id}-item-${this.highlightedIndex}`\n      )\n    },\n    getInput() {\n      return this.$refs.input.getInput()\n    }\n  },\n  mounted() {\n    this.debouncedGetData = debounce(this.debounce, this.getData)\n    // TODO $on 已经废弃\n    // eslint-disable-next-line vue/no-deprecated-events-api\n    this.$on('item-click', (item) => {\n      this.select(item)\n    })\n    const $input = this.getInput()\n    $input.setAttribute('role', 'textbox')\n    $input.setAttribute('aria-autocomplete', 'list')\n    $input.setAttribute('aria-controls', 'id')\n    $input.setAttribute(\n      'aria-activedescendant',\n      `${this.id}-item-${this.highlightedIndex}`\n    )\n  },\n  beforeUnmount() {\n    this.$refs.suggestions.$destroy()\n  }\n}\n</script>\n","import ElAutocomplete from './src/autocomplete'\n\n/* istanbul ignore next */\nElAutocomplete.install = function (app) {\n  app.component(ElAutocomplete.name, ElAutocomplete)\n}\n\nexport default ElAutocomplete\n","// 用于构建时的入口\nimport ElCollapseTransition from './transitions/collapse-transition'\n// Basic\nimport ElRow from '../packages/row'\nimport ElCol from '../packages/col'\nimport { ElContainer } from './components/Container'\nimport ElHeader from '../packages/header'\nimport ElFooter from '../packages/footer'\nimport ElAside from '../packages/aside'\nimport ElMain from '../packages/main'\nimport ElIcon from '../packages/icon'\nimport { ElButton } from './components/Button'\nimport ElButtonGroup from '../packages/button-group'\nimport { ElLink } from './components/Link'\n// Form\nimport { ElRadio } from './components/Radio'\nimport { ElRadioButton } from './components/RadioButton'\nimport ElRadioGroup from '../packages/radio-group'\nimport ElCheckbox from '../packages/checkbox'\nimport ElCheckboxButton from '../packages/checkbox-button'\nimport ElCheckboxGroup from '../packages/checkbox-group'\nimport { ElInput } from './components/Input'\nimport ElInputNumber from '../packages/input-number'\nimport ElSelect from '../packages/select'\nimport ElOption from '../packages/option'\nimport ElOptionGroup from '../packages/option-group'\nimport ElCascader from '../packages/cascader'\nimport ElCascaderPanel from '../packages/cascader-panel'\nimport { ElSwitch } from './components/Switch'\nimport ElSlider from '../packages/slider'\n// import ElTimePicker from '../packages/time-picker'\n// import ElTimeSelect from '../packages/time-select'\n// import ElDatePicker from '../packages/date-picker'\nimport ElUpload from '../packages/upload'\nimport ElRate from '../packages/rate'\nimport ElColorPicker from '../packages/color-picker'\nimport ElTransfer from '../packages/transfer'\nimport ElForm from '../packages/form'\nimport ElFormItem from '../packages/form-item'\n// Data\nimport ElTable from '../packages/table'\nimport ElTableColumn from '../packages/table-column'\nimport { ElTag } from './components/Tag'\nimport { ElProgress } from './components/Progress'\nimport ElTree from '../packages/tree'\nimport ElPagination from '../packages/pagination'\nimport { ElBadge } from './components/Badge'\nimport { ElAvatar } from './components/Avatar'\n// Notice\nimport ElAlert from '../packages/alert'\n\nimport ElLoading, { useLoading } from '../packages/loading'\n\nimport { Message } from './components/Message'\n\nimport ElMessageBox, { useMsgbox } from '../packages/message-box'\n\nimport { Notification } from './components/Notification'\n// Navigation\nimport ElMenu from '../packages/menu'\nimport ElMenuItem from '../packages/menu-item'\nimport ElSubmenu from '../packages/submenu'\nimport ElMenuItemGroup from '../packages/menu-item-group'\nimport ElTabs from '../packages/tabs'\nimport ElTabPane from '../packages/tab-pane'\nimport ElBreadcrumb from '../packages/breadcrumb'\nimport ElBreadcrumbItem from '../packages/breadcrumb-item'\nimport ElPageHeader from '../packages/page-header'\nimport ElDropdown from '../packages/dropdown'\nimport ElDropdownItem from '../packages/dropdown-item'\nimport ElDropdownMenu from '../packages/dropdown-menu'\nimport ElSteps from '../packages/steps'\nimport ElStep from '../packages/step'\n// Others\nimport ElDialog from '../packages/dialog'\nimport ElTooltip from '../packages/tooltip'\nimport ElPopover from '../packages/popover'\nimport ElPopconfirm from '../packages/popconfirm'\nimport ElCard from '../packages/card'\nimport ElCarousel from '../packages/carousel'\nimport ElCarouselItem from '../packages/carousel-item'\nimport ElCollapse from '../packages/collapse'\nimport ElCollapseItem from '../packages/collapse-item'\nimport ElTimeline from '../packages/timeline'\nimport ElTimelineItem from '../packages/timeline-item'\nimport { ElDivider } from './components/Divider'\nimport ElCalendar from '../packages/calendar'\nimport ElImage from '../packages/image'\nimport ElBacktop from '../packages/backtop'\nimport ElInfiniteScroll from '../packages/infinite-scroll'\nimport ElDrawer from '../packages/drawer'\nimport ElScrollbar from '../packages/scrollbar'\nimport ElAutocomplete from '../packages/autocomplete'\n\nimport { version } from '../package.json'\nimport { setupGlobalOptions } from './use/globalConfig.js'\n\nconst components = [\n  ElRow,\n  ElCol,\n  ElHeader,\n  ElFooter,\n  ElAside,\n  ElMain,\n  ElAlert,\n  ElContainer,\n  ElButton,\n  ElButtonGroup,\n  ElSwitch,\n  ElProgress,\n  ElLink,\n  ElIcon,\n  ElBreadcrumb,\n  ElBreadcrumbItem,\n  ElBacktop,\n  ElTree,\n  ElMenu,\n  ElMenuItem,\n  ElSubmenu,\n  ElMenuItemGroup,\n  ElPagination,\n  ElTag,\n  ElBadge,\n  ElAvatar,\n  ElCarousel,\n  ElCarouselItem,\n  ElTabs,\n  ElTabPane,\n  ElPageHeader,\n  ElDropdown,\n  ElDropdownItem,\n  ElDropdownMenu,\n  ElSteps,\n  ElStep,\n  ElLoading,\n  ElForm,\n  ElFormItem,\n  ElTable,\n  ElTableColumn,\n  ElRadio,\n  ElRadioButton,\n  ElRadioGroup,\n  ElCheckbox,\n  ElCheckboxButton,\n  ElCheckboxGroup,\n  ElInput,\n  ElInputNumber,\n  ElSelect,\n  ElCascader,\n  ElCascaderPanel,\n  ElSlider,\n  // ElTimePicker,\n  // ElTimeSelect,\n  // ElDatePicker,\n  ElUpload,\n  ElRate,\n  ElColorPicker,\n  ElTransfer,\n  ElOption,\n  ElOptionGroup,\n  ElDialog,\n  ElTooltip,\n  ElPopover,\n  ElPopconfirm,\n  ElCard,\n  ElCollapse,\n  ElCollapseItem,\n  ElTimeline,\n  ElTimelineItem,\n  ElDivider,\n  ElCalendar,\n  ElImage,\n  ElInfiniteScroll,\n  ElDrawer,\n  ElScrollbar,\n  ElAutocomplete,\n  ElCollapseTransition\n]\n\nconst install = (app, opts = {}) => {\n  app.use(setupGlobalOptions(opts))\n\n  components.forEach((component) => {\n    app.use(component)\n  })\n\n  applyOptions(app)\n}\n\nfunction applyOptions(app) {\n  app.config.globalProperties.$loading = ElLoading.service\n  app.config.globalProperties.$msgbox = ElMessageBox.service\n  app.config.globalProperties.$alert = ElMessageBox.service.alert\n  app.config.globalProperties.$confirm = ElMessageBox.service.confirm\n  app.config.globalProperties.$prompt = ElMessageBox.service.prompt\n  app.config.globalProperties.$notify = Notification\n  app.config.globalProperties.$message = Message\n}\n\nconst element3 = {\n  version,\n  install\n}\n\nexport {\n  version,\n  ElRow,\n  ElCol,\n  ElContainer,\n  ElHeader,\n  ElFooter,\n  ElAside,\n  ElMain,\n  ElAlert,\n  ElButton,\n  ElButtonGroup,\n  ElSwitch,\n  ElProgress,\n  ElLink,\n  ElIcon,\n  ElBreadcrumb,\n  ElBreadcrumbItem,\n  ElBacktop,\n  ElTree,\n  ElMenu,\n  ElMenuItem,\n  ElSubmenu,\n  ElMenuItemGroup,\n  ElPagination,\n  ElTag,\n  ElBadge,\n  ElAvatar,\n  ElCarousel,\n  ElCarouselItem,\n  ElInfiniteScroll,\n  ElDrawer,\n  ElTabs,\n  ElTabPane,\n  ElPageHeader,\n  ElDropdown,\n  ElDropdownItem,\n  ElDropdownMenu,\n  ElSteps,\n  ElStep,\n  ElLoading,\n  ElForm,\n  ElFormItem,\n  ElTable,\n  ElTableColumn,\n  ElRadio,\n  ElRadioButton,\n  ElRadioGroup,\n  ElCheckbox,\n  ElCheckboxButton,\n  ElCheckboxGroup,\n  ElInput,\n  ElInputNumber,\n  ElSelect,\n  ElCascader,\n  ElCascaderPanel,\n  ElSlider,\n  // ElTimePicker,\n  // ElTimeSelect,\n  // ElDatePicker,\n  ElUpload,\n  ElRate,\n  ElColorPicker,\n  ElTransfer,\n  ElOption,\n  ElOptionGroup,\n  ElDialog,\n  ElTooltip,\n  ElPopover,\n  ElPopconfirm,\n  ElCard,\n  ElCollapse,\n  ElCollapseItem,\n  ElCollapseTransition,\n  ElTimeline,\n  ElTimelineItem,\n  ElDivider,\n  ElCalendar,\n  ElImage,\n  ElScrollbar,\n  ElAutocomplete,\n  Message,\n  useLoading,\n  useMsgbox,\n  Notification,\n  install,\n  setupGlobalOptions\n}\n\nexport default element3\n"],"names":["SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","ieVersion","Number","document","documentMode","trim","string","replace","camelCase","name","_","separator","letter","offset","toUpperCase","on","addEventListener","element","event","handler","attachEvent","off","removeEventListener","detachEvent","once","el","fn","listener","apply","arguments","hasClass","cls","indexOf","Error","classList","contains","className","addClass","curClass","classes","split","i","j","length","clsName","add","removeClass","remove","getStyle","styleName","filters","item","opacity","e","style","currentStyle","computed","defaultView","getComputedStyle","isScroll","vertical","determinedDirection","undefined","overflow","match","getScrollContainer","parent","window","documentElement","includes","parentNode","isInContainer","container","elRect","getBoundingClientRect","containerRect","top","right","innerWidth","bottom","innerHeight","left","TransitionFn","beforeEnter","dataset","oldPaddingTop","paddingTop","oldPaddingBottom","paddingBottom","height","enter","oldOverflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave","ElCollapseTransition","props","context","transitions","data","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","h","Transition","slots","install","app","component","componentName","setup","ret","gutter","marginLeft","marginRight","provide","getCurrentInstance","tag","type","String","default","justify","align","render","class","$slots","ElRow","span","pull","push","xs","Object","sm","md","lg","xl","toRefs","unref","paddingLeft","paddingRight","forEach","prop","size","propsData","keys","ElCol","direction","isVertical","some","vNode","_createBlock","$setup","_renderSlot","ElContainer","$props","ElHeader","ElFooter","width","ElAside","_hoisted_1","ElMain","ElIcon","useGlobalOptions","instance","console","warn","appContext","config","globalProperties","$ELEMENT","setupGlobalOptions","opts","zIndex","defineComponent","disabled","buttonSize","useButtonSize","buttonDisabled","useButtonDisabled","useClasses","value","plain","round","circle","loading","elForm","inject","globalConfig","elFormItem","elFormItemSize","_ctx","ElButton","ElButtonGroup","Boolean","underline","href","icon","emits","emit","handleClick","_mergeProps","onClick","ElLink","modelValue","Symbol","Array","label","border","focus","ref","useInject","isGroup","radioGroup","useCheckGroup","radioValue","get","proxy","set","changeHandler","isDisabled","radioSize","tabIndex","useStyle","labelClass","useLabelClass","radioGroupSize","elFormDisable","_createVNode","role","tabindex","onFocus","onBlur","onKeydown","ElRadio","useModel","handleChange","useChange","isChecked","watch","val","backgroundColor","fill","borderColor","boxShadow","color","textColor","onChange","ElRadioButton","all","Map","handlers","splice","evt","slice","map","DISPATCH","BROADCAST","wrapper","emitter","mitt","useEmitter","currentComponentInstance","handleWrapper","emitComponentInstance","isChildComponent","broadcast","args","dispatch","handleOn","componentChild","componentParent","parentUId","uid","keyCode","freeze","LEFT","UP","RIGHT","DOWN","v","handleKeydown","useKeyDown","elTag","onMounted","radios","$el","querySelectorAll","firstLabel","call","radio","checked","target","nodeName","index","roleRadios","stopPropagation","preventDefault","click","vnode","RadioGroup","EMPTY_OBJ","process","env","NODE_ENV","EMPTY_ARR","onRE","isOn","key","test","isArray","usePropUtils","isAfferentProp","propKey","elCheckboxGroup","state","reactive","watchEffect","model","labelIndex","trueLabel","falseLabel","nextTick","useAria","indeterminate","setAttribute","controls","useCheckSelected","checkbox","_isChecked","useSize","checkboxSize","checkboxGroupSize","useLimit","isLimit","modelValueLength","min","max","useDisabled","checkboxGroupDisabled","useBorder","isBorder","useActiveStyle","id","onInput","$event","_hoisted_2","ElCheckbox","activeStyle","ElCheckboxButton","ctx","ElCheckboxGroup","showWordLimit","clearable","showPassword","prefixIcon","suffixIcon","validateEvent","validator","autosize","resize","hiddenTextarea","HIDDEN_STYLE","CONTEXT_STYLE","calculateNodeStyling","targetElement","boxSizing","getPropertyValue","paddingSize","parseFloat","borderSize","contextStyle","join","calcTextareaHeight","minRows","maxRows","createElement","body","appendChild","placeholder","result","singleRowHeight","minHeight","Math","maxHeight","removeChild","useClass","inputSize","inputExceed","attrs","prepend","append","prefix","suffix","useInput","cxt","textarea","input","elFormChange","nativeInputValue","textLength","maxlength","getInput","clearValue","setNativeInputValue","getSuffixVisible","useInputEvent","handleInput","handleFocus","handleBlur","handleClear","useInputMethod","blur","select","useTextarea","textareaCalcStyle","textareaStyle","assign","resizeTextarea","inheritAttrs","isVisiablePassword","togglePassword","toRef","_hoisted_3","_hoisted_4","onMousedown","_hoisted_5","_hoisted_6","_createCommentVNode","_hoisted_7","_hoisted_8","ElInput","useFocus","isRef","$refs","INTERVAL_TIME","beforeMount","binding","startTime","intervalId","callHandler","clearIntervalHandler","clearInterval","isMainKey","button","handleMouseup","Date","now","handleMousedown","setInterval","directives","repeatClick","RepeatClick","components","step","stepStrictly","Infinity","controlsPosition","precision","parseInt","currentValue","userInput","getPrecision","valueString","toString","dotPosition","setCurrentValue","newVal","oldVal","toPrecision","num","numPrecision","pow","_decrease","precisionFactor","_increase","minDisabled","maxDisabled","stepPrecision","controlsAtRight","_elFormItemSize","inputNumberSize","inputNumberDisabled","displayValue","toFixed","increase","decrease","handleInputChange","isNaN","refs","innerInput","onUpdated","immediate","onDragstart","ElInputNumber","methods","colorpicker","confirm","clear","datepicker","today","cancel","selectDate","selectTime","startDate","endDate","endTime","prevYear","nextYear","prevMonth","nextMonth","year","month1","month2","month3","month4","month5","month6","month7","month8","month9","month10","month11","month12","weeks","sun","mon","tue","wed","thu","fri","sat","months","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","noMatch","noData","cascader","pagination","goto","pagesize","total","pageClassifier","messagebox","title","error","upload","deleteTip","delete","preview","continue","table","emptyText","confirmFilter","resetFilter","clearFilter","sumText","tree","transfer","titles","filterPlaceholder","noCheckedFormat","hasCheckedFormat","image","pageHeader","popconfirm","confirmButtonText","cancelButtonText","isString","obj","prototype","isNumber","isObject","isHtmlElement","node","nodeType","Node","ELEMENT_NODE","isFunction","functionToCheck","getType","isUndefined","isDefined","hasOwnProperty","noop","hasOwn","extend","to","_from","toObject","arr","res","getValueByPath","object","paths","current","path","getPropByPath","strict","tempObj","keyArr","len","o","k","generateId","floor","random","valueEquals","a","b","escapeRegexpString","arrayFindIndex","pred","arrayFind","idx","coerceTruthyValueToArray","isIE","isEdge","navigator","userAgent","isFirefox","autoprefixer","rules","prefixes","rule","kebabCase","str","hyphenateRE","toLowerCase","capitalize","charAt","looseEqual","isObjectA","isObjectB","JSON","stringify","arrayEquals","arrayA","arrayB","isEqual","value1","value2","isEmpty","message","rafThrottle","locked","requestAnimationFrame","RE_NARGS","template","format","Format","lang","defaultLang","i18nHandler","t","options","array","property","source","hasModal","hasInitZIndex","getModal","modalDom","PopupManager","passive","doOnModalClick","instances","modalFade","getInstance","register","deregister","nextZIndex","modalStack","topItem","closeOnClickModal","close","openModal","dom","modalClass","classArr","setTimeout","display","closeModal","pop","defineProperty","configurable","getTopPopup","topPopup","closeOnPressEscape","handleClose","handleAction","scrollBarWidth","outer","visibility","position","widthNoScroll","offsetWidth","inner","widthWithScroll","root","DEFAULTS","placement","gpuAcceleration","boundariesElement","boundariesPadding","preventOverflowOrder","flipBehavior","arrowElement","arrowOffset","modifiers","modifiersIgnored","forceAbsolute","Popper","reference","popper","_reference","jquery","isNotDefined","isConfig","_popper","parse","_options","modifier","bind","_getPosition","setStyle","update","_setupEventListeners","destroy","removeAttribute","getSupportedPropertyName","_removeEventListeners","removeOnDestroy","styles","_originalPlacement","offsets","_getOffsets","boundaries","_getBoundaries","runModifiers","updateCallback","onCreate","callback","onUpdate","defaultConfig","tagName","classNames","attributes","content","contentType","arrowTagName","arrowClassNames","arrowAttributes","d","addClassNames","addAttributes","innerHTML","textContent","arrow","Element","attribute","getOffsetParent","isParentFixed","isFixed","popperOffsets","referenceOffsets","getOffsetRectRelativeToCustomParent","popperRect","getOuterSizes","updateBound","getScrollParent","scrollTarget","padding","html","offsetHeight","clientHeight","scrollWidth","clientWidth","offsetParent","scrollParent","offsetParentRect","getOffsetRect","getScrollTopValue","scrollTop","getScrollLeftValue","scrollLeft","ends","modifiersToRun","getArrayKeyIndex","isModifierRequired","requesting","requested","filter","applyStyle","prefixedProperty","shift","basePlacement","shiftVariation","getPopperClientRect","shiftOffsets","y","start","end","x","axis","preventOverflow","order","check","keepTogether","f","flip","flipped","placementOpposite","getOppositePlacement","variation","flipOrder","_flip","querySelector","arrowStyle","side","altSide","opSide","arrowSize","center","sideValue","_display","_visibility","calcWidthToForceRepaint","marginTop","marginBottom","hash","matched","keyToFind","getStyleComputedProperty","css","is_numeric","n","isFinite","unit","elementRect","offsetLeft","offsetTop","rect","rectTop","fixed","parentRect","toCheck","enumerable","writable","TypeError","nextSource","keysArray","nextIndex","nextKey","desc","getOwnPropertyDescriptor","stop","popperProps","transformOrigin","visibleArrow","appendToBody","popperOptions","usePopper","referenceElm","popperElm","showPopper","currentPlacement","popperJS","createPopper","$isServer","popperRef","referenceRef","appendArrow","resetTransformOrigin","updatePopper","popperJSRef","doDestroy","forceDestroy","destroyPopper","placementMap","getAttribute","origin","appended","onBeforeUnmount","elSelect","elms","usePopperElm","usePopperUpdate","visible","popperClass","minWidth","useMinWidth","updateFn","destroyFn","inputWidth","multiple","required","created","groupDisabled","hitState","hover","log","currentLabel","itemSelected","limitReached","multipleLimit","valueKey","handleGroupDisabled","hoverItem","debug","hoverIndex","selectOptionClick","option","byClick","queryChange","query","RegExp","filteredOptionsCount","remote","onBeforeMount","cachedOptions","optionsCount","selected","selectedOptions","selectedIndex","onOptionDestroy","onMouseenter","useShow","show","closable","disableTransitions","hit","effect","tagSize","tagEl","$emit","ElTag","MapShim","getIndex","entry","class_1","__entries__","entries","has","_i","_a","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","_b","propertyName","isReflowProperty","instance_","defineConfigurable","getWindowOf","ownerGlobal","ownerDocument","emptyRect","createRectInit","toFloat","getBordersSize","positions","reduce","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getBBox","getHTMLElementContentRect","horizPad","vertPad","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","createReadOnlyRect","Constr","DOMRectReadOnly","create","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","unobserve","clearActive","_this","observation","WeakMap","ResizeObserver","method","isServer","resizeHandler","listeners","__resizeListeners__","useResizeEvent","addResizeListener","removeResizeListener","__ro__","BAR_MAP","scroll","scrollSize","client","horizontal","renderThumbStyle","move","bar","translate","transform","msTransform","webkitTransform","useDrag","thumb","cursorDown","wrap","startDrag","stopImmediatePropagation","mouseMoveDocumentHandler","mouseUpDocumentHandler","onselectstart","prevPage","thumbClickPosition","thumbPositionPercentage","clickThumbHandler","ctrlKey","currentTarget","clickTrackHandler","thumbHalf","onUnmounted","useScroll","native","noresize","sizeWidth","sizeHeight","moveX","moveY","handleScroll","heightPercentage","widthPercentage","Bar","wrapStyle","wrapClass","viewClass","viewStyle","scrollbarWidth","ComponentName","gutterWith","gutterStyle","ElScrollbar","cancelled","lastExec","clearTimeout","clearExistingTimeout","debounceMode","noTrailing","arguments_","elapsed","timeoutID","exec","nodeList","startClick","seed","documentHandler","createDocumentHandler","mouseup","mousedown","expression","methodName","bindingFn","updated","unmounted","scrollIntoView","offsetParents","pointer","prev","curr","viewRectTop","viewRectBottom","hoverOption","optionsAllDisabled","every","navigateOptions","$nextTick","scrollToOption","isDef","isKorean","text","reg","mixins","Locale","Focus","NavigationMixin","readonly","filterable","showClose","hasValue","criteria","selectDisabled","inputHovering","iconClass","debounce","loadingText","noMatchText","noDataText","showNewOption","hasExistingOption","allowCreate","selectSize","collapseTagSize","ElSelectMenu","ElOption","Clickoutside","autocomplete","autoComplete","automaticDropdown","remoteMethod","filterMethod","defaultFirstOption","reserveKeyword","collapseTags","popperAppendToBody","createdLabel","createdSelected","inputLength","initialInputHeight","cachedPlaceHolder","softFocus","selectedLabel","previousQuery","currentPlaceholder","menuVisibleOnFocus","isOnComposition","isSilentBlur","resetInputHeight","handleQueryChange","setSelected","resetHoverIndex","inputs","activeElement","checkDefaultFirstOption","handleComposition","lastCharacter","managePlaceholder","menu","scrollbar","handleMenuEnter","emitChange","getOption","isNull","cachedOption","newOption","handleClearClick","deleteSelected","toggleLastOptionHitState","deletePrevTag","resetInputState","inputChildNodes","childNodes","tags","sizeInMap","handleOptionSelect","optionIndex","getValueIndex","setSoftFocus","toggleMenu","selectOption","deleteTag","onInputChange","resetInputWidth","handleResize","hasCreated","getValueKey","debouncedOnInputChange","debouncedQueryChange","mounted","sizeMap","medium","small","mini","beforeUnmount","$options","$data","onMouseleave","onClose","onKeyup","onCompositionstart","onCompositionupdate","onCompositionend","onPaste","empty","Select","$children","ElOptionGroup","elm","deactivated","migrating","componentInstance","$attrs","renderHelper","nodeLabel","Fragment","nodeId","panel","checkedValue","inActivePath","inCheckedPath","usePanel","isLeaf","useNode","checkStrictly","handleMultiCheckChange","doCheck","calculateMultiCheckedValue","handleExpand","lazy","loaded","lazyLoad","handleCheckChange","expandTrigger","handleMouseenter","strictlyEvent","getValueByOption","newValue","isSameNode","isInPath","pathNodes","selectedPathNode","level","activePath","checkedNodePaths","checkedPath","useLocale","CascaderNode","nodes","hoverZone","activeNode","hoverTimer","menuId","clearHoverZone","isHoverMenu","handleMouseMove","startX","clientX","hoverThreshold","onMousemove","hasChildren","onExpand","constructor","initState","initChildren","labelKey","calculatePathNodes","pathLabels","childrenKey","children","childrenData","child","disabledKey","leaf","leafKey","unshift","getPath","getValue","emitPath","getText","allLevels","handlerName","onParentCheck","setCheckState","onChildCheck","validChildren","totalNum","checkedNum","c","p","syncCheckState","flatNodes","leafOnly","concat","Store","initNodes","nodeData","flattedNodes","getFlattedNodes","leafNodes","appendNode","appendNodes","nodeDataList","getNodes","cached","cachedNodes","getNodeByValue","aria","Utils","focusFirstDescendant","attemptFocus","focusLastDescendant","isFocusable","IgnoreUtilFocusChanges","rel","triggerEvent","eventName","createEvent","initEvent","dispatchEvent","fireEvent","tab","space","up","down","esc","KeyCode","AriaUtils","DefaultProps","getSibling","distance","siblings","getMenuIndex","pieces","focusNode","checkNode","CascaderMenu","renderLabel","computePresentText","menuRef","loadCount","realProps","renderLabelFn","useConfig","store","menus","onFulfilled","resolve","dataList","nodeValue","checkedNode","expandNodes","handleKeyDown","useExpendMethods","syncActivePath","changedScrollIntoView","menuElement","syncMenuState","clearCheckedNodes","syncCheckedValue","getCheckedNodes","calculateCheckedNodePaths","useCheckedMethods","onBeforeUpdate","deep","merge","silent","activePathValue","internalMenus","pathValues","activePathValues","next","preMenu","nextMenu","expandedNode","firstNode","syncMultiCheckState","checkedValues","CascaderPanel","MigratingProps","newProp","changeOnSelect","PopperMixin","InputSizeMap","ElCascaderPanel","showAllLevels","beforeFilter","debounceProp","suggestionPanel","filterHandler","filtering","pressDeleteCount","inputState","initialHeight","checkedState","dropDownVisible","toggleDropDownVisible","useDropdownVisible","presentState","computePresentContent","usePresent","suggestions","getSuggestions","handleSuggestionClick","useSuggestion","realSize","internalValue","clearBtnVisible","focusFirstNode","firstMenu","isComposing","handleDropdownLeave","handleDelete","lastIndex","lastTag","handleExpandChange","handleSuggestionKeyDown","previousElementSibling","nextElementSibling","updateStyle","inputInner","suggestionPanelEl","suggestionList","before","then","oldProp","oldValue","internalFilterMethod","keyword","internalSuggestions","targetNode","computePresentTags","checkedNodes","genTag","first","rest","restCount","onExpandChange","Cascader","active","SwitchLabel","activeValue","inactiveValue","activeText","inactiveText","activeIconClass","inactiveIconClass","activeColor","inactiveColor","useNormalizeModelValue","useClick","coreStyle","background","ElSwitch","vuePopperProps","useVuePopper","referenceEl","openDelay","manual","transition","enterable","hideAfter","beforeCreate","popperVM","createApp","mount","timeoutPending","timeout","focusing","expectedState","tooltipId","debounceClose","handleClosePopper","setExpectedState","handleShowPopper","hide","removeFocusing","addTooltipClass","getFirstElement","slotsDefault","slotsProps","_withDirectives","firstElement","firstElementProps","ElTooltip","tooltipClass","tooltip","displayTooltip","hideTooltip","useToolTip","hovering","handleMouseEnter","handleMouseLeave","useMouseHover","showTooltip","currentPosition","enableFormat","formatValue","wrapperStyle","useComputed","dragging","isClick","currentX","startY","currentY","startPosition","newPosition","onButtonDown","onDragStart","onDragging","onDragEnd","onLeftKeyDown","onRightKeyDown","setPosition","useDragAndKeyDown","resetSize","clientY","touches","diff","sliderSize","lengthPerStep","steps","sliderDisabled","formatTooltip","mark","showInput","showInputControls","showStops","range","marks","SliderButton","SliderMarker","firstValue","secondValue","useCommon","useLifeCycle","minValue","maxValue","valueChanged","setValues","stops","markList","barSize","barStart","runwayStyle","barStyle","getStopStyle","onSliderClick","useEvent","slider","valuetext","_max","_min","sliderOffsetBottom","sliderOffsetLeft","percent","targetValue","button1","stopCount","stepWidth","marksKeys","sort","point","precisions","decimal","Slider","DEFAULT_COLOR","STATUS_SETTING","success","lineIconClass","arcIconClass","warning","exception","STATUSES","TYPES","LINECAPS","statusValid","percentageValid","typeValid","linecapValid","FULL_PERCENT","DEFAULT_SVG_PX","DEFAULT_STROKE_PX","SVG_MAX_SIZE","SVG_VIEW_BOX","generateViewBox","DEFAULT_FIXED","DASHBOARD_RATE","TRANSITION","percentage","status","showText","strokeWidth","textInside","strokeLinecap","getColorsIndex","colors","findIndex","sortByPercentage","pre","toPercentageColors","autoFixPercentage","generateSvgPathD","half","radius","calcSvgRadius","diameter","isDashboard","fromTo","toFrom","genFnToRelativeSvgSize","toFixedStr","calcRelativeSvgSize","calcPerimeter","PI","genTrailPathStyle","perimeter","rate","getRate","getOffset","strokeDasharray","strokeDashoffset","genArcPathStyle","s","getSvgStrokeColor","getColorBy","cs","useBarStyle","barOuterStyle","useBarOuterStyle","useContent","useIconClass","rootClass","useRootClass","circleStyle","useCircleStyle","viewBox","svgStrokeWidth","useSvgStrokeWidth","svgPathD","useSvgPathD","trailPathStyle","useTrailPathStyle","arcPathStyle","useArcPathStyle","svgStrokeColor","useSvgStrokeColor","textStyle","useTextStyle","valType","valStatus","valShowText","valTextInside","statusClass","pv","cv","sw","fv","st","stat","w","ssw","tv","fontSize","stroke","ElProgress","files","handlePreview","listType","parsePercentage","file","src","url","alt","getError","action","xhr","msg","response","responseText","err","getBody","XMLHttpRequest","onprogress","progress","onProgress","formData","FormData","filename","onerror","onError","onload","onSuccess","open","withCredentials","headers","setRequestHeader","send","uploader","dragover","onDragover","onDrop","accept","dataTransfer","extension","baseType","acceptedType","onDragleave","UploadDragger","onStart","beforeUpload","drag","onPreview","onRemove","fileList","autoUpload","httpRequest","ajax","limit","onExceed","mouseover","reqs","isImage","ev","uploadFiles","postFiles","rawFile","post","processedFile","fileType","File","abort","req","onFile","$vnode","events","getMigratingConfig","componentOptions","definedProps","definedEvents","propName","Migrating","UploadList","Upload","dragger","showFileList","beforeRemove","tempIndex","dragOver","draging","uploadInner","uploadDisabled","raw","URL","createObjectURL","revokeObjectURL","getFile","handleRemove","doRemove","handleProgress","handleSuccess","handleError","handleStart","clearFiles","submit","trigger","lowThreshold","highThreshold","voidColor","disabledVoidColor","iconClasses","voidIconClass","disabledVoidIconClass","allowHalf","showScore","texts","scoreTemplate","rateDisabled","pointerAtLeftHalf","resetCurrentValue","selectValue","handleKey","useCurrentValue","classMap","colorMap","useMaps","decimalIconClass","getIconStyle","useColor","voidColorProp","decimalStyle","showDecimalIcon","useDecimal","ceil","getValueFromMap","matchedKeys","excluded","matchedValue","useMap","mapData","activeClass","voidClass","threshold","valueDecimal","showWhenDisabled","showWhenAllowHalf","offsetX","Rate","hsv2hsl","hue","isOnePointZero","isPercentage","bound01","processPercent","INT_HEX_MAP","toHex","r","g","hexOne","high","low","HEX_INT_MAP","A","B","C","D","E","F","parseHexChannel","hex","hsl2hsv","light","smin","lmin","sv","rgb2hsv","hsv2rgb","q","mod","Color","_hue","_saturation","_value","_alpha","enableAlpha","doOnChange","toRgb","fromString","fromHSV","parts","substring","compare","hsl","isDragging","moveFn","upFn","ondragstart","cursorTop","cursorLeft","colorValue","draggable","handleDrag","saturation","thumbLeft","thumbTop","hueValue","getThumbLeft","getThumbTop","dragConfig","alpha","getBackground","rgbaColors","parseColors","currentColor","handleSelect","SvPanel","HueSlider","AlphaSlider","Predefine","showAlpha","predefine","customInput","referenceState","popperState","showPanelColor","sl","confirmValue","handleConfirm","onAfterLeaveFrom","colorFormat","showPicker","displayedColor","displayedRgb","colorSize","colorDisabled","currentValueColor","handleTrigger","resetColor","PickerDropdown","onPick","onClear","ColorPicker","renderContent","labelProp","keyProp","defaultScopedSlots","OptionContent","defaultChecked","allChecked","checkChangeByUser","filteredData","checkableData","checkedSummary","isIndeterminate","hasNoMatch","disabledProp","hasFooter","useTransferPanelData","handleAllCheckedChange","checkedLength","dataLength","noChecked","hasChecked","updateAllChecked","checkableDataKeys","filteredDataKeys","movedKeys","TransferPanel","buttonTexts","leftDefaultChecked","rightDefaultChecked","targetOrder","leftChecked","rightChecked","leftPanel","rightPanel","hasButtonTexts","clearQuery","which","leftTransferPanelTitle","rightTransferPanelTitle","panelFilterPlaceholder","sourceData","targetData","useTransferData","onSourceCheckedChange","onTargetCheckedChange","addToLeft","addToRight","useTransferCheckedChange","dataObj","cur","itemsToBeMoved","itemKey","onCheckedChange","Transfer","labelPosition","labelWidth","labelSuffix","inline","inlineMessage","statusIcon","showMessage","validateOnRuleChange","hideRequiredAsterisk","autoLabelWidth","registerLabelWidth","deregisterLabelWidth","useLabelWidth","fields","resetFields","useFileds","validateField","validate","clearValidate","useValidate","potentialLabelWidthArr","getLabelWidthIndex","field","resetField","clearableFiles","promise","Promise","reject","valid","count","invalidFields","objectAssign","cb","validateFields","removeValidateEvents","addValidateEvents","ElForm","formatRegExp","errors","isNativeStringType","results","arrLength","func","original","objArr","AsyncValidationError","pending","convertFieldsError","flattenArr","flattenObjArr","asyncSerialArray","firstFields","objArrKeys","objArrLength","asyncParallelArray","oe","fullField","isAutoWidth","updateAll","labelStyle","labelRef","computedWidth","_elForm","_elFormItem","getLabelWidth","firstElementChild","updateLabelWidth","updateComputedLabelWidth","validateStatus","for","LabelWrap","isNested","useDispatchFiled","labelFor","computedLabelWidth","useLabel","sizeClass","useFontSize","getRules","getFilteredRule","useRules","contentStyle","useContentStyle","isRequired","useIsRequired","validateState","validateMessage","validateDisabled","useValidateEvent","useFieldValue","initialValue","fieldValue","onFieldBlur","onFieldChange","formRules","selfRules","requiredRule","descriptor","AsyncValidator","ElFormItem","getCell","cell","orderBy","sortKey","reverse","sortMethod","sortBy","getKey","by","$value","getColumnById","columnId","column","columns","getColumnByKey","columnKey","getColumnByCell","matches","getRowIdentity","row","rowKey","getKeysMap","arrayMap","mergeOptions","defaults","parseWidth","parseMinWidth","parseHeight","compose","funcs","arg","toggleRowStatus","statusArr","changed","included","addRow","removeRow","walkTreeNode","lazyKey","isNil","_walker","useExpand","watcherData","defaultExpandAll","expandRows","updateExpandRows","expandRowsMap","rowId","rowInfo","toggleRowExpansion","expanded","scheduleLayout","setExpandRowKeys","rowKeys","assertRowKey","keysMap","info","isRowExpanded","expandMap","states","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","useTree","expandRowKeys","treeData","indent","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","normalize","normalizedLazyNode","parentId","updateTreeData","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","lazyKeys","lazyNodeChildren","updateTableScrollY","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","useWatcher","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","fixedLeafColumnsLength","rightFixedLeafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","hoverRow","updateColumns","notFixedColumns","needUpdateColumns","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","toggleRowSelection","_toggleAllSelection","selectionChanged","updateSelectionByRowKey","updateAllSelected","isAllSelected_","selectedCount","isRowSelectable","updateFilters","values","filters_","col","updateSort","execFilter","execSort","execQuery","ignore","columnKeys","tableHeader","fixedTableHeader","rightFixedTableHeader","panels","filterPanels","columns_","find","filteredValue","commit","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","toggleRowExpansionAdapter","hasExpandColumn","replaceColumn","useStore","mutations","setData","dataInstanceChanged","insertColumn","newColumns","$ready","removeColumn","init","changeSortCondition","ingore","filterChange","newFilters","toggleAllSelection","rowSelectedChanged","setHoverRow","setCurrentRow","layout","updateScrollY","watcher","freeGlobal","freeSelf","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","isBinary","FUNC_ERROR_TEXT","nativeMax","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","flush","debounced","isInvoking","createStore","initialState","_populated","_ie","_firefox","_opera","_webkit","_chrome","_ie_real_version","_osx","_windows","_linux","_android","_win64","_iphone","_ipad","_native","_mobile","_populate","uas","agent","os","NaN","trident","ver","UserAgent_DEPRECATED","ie","ieCompatibilityMode","ie64","firefox","opera","webkit","safari","chrome","windows","osx","linux","iphone","mobile","nativeApp","android","ipad","module","canUseDOM","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","canUseViewport","screen","isInWorker","useHasFeature","implementation","hasFeature","isEventSupported","eventNameSuffix","capture","isSupported","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","getEventType","require","mousewheelEventName","mousewheel","normalized","TableLayout","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","tableHeight","headerHeight","appendHeight","footerHeight","viewportHeight","bodyHeight","fixedBodyHeight","gutterWidth","bodyWrapper","prevScrollY","setHeight","updateElsHeight","setMaxHeight","getFlattenColumns","flattenColumns","isColumnGroup","headerWrapper","appendWrapper","footerWrapper","headerTrElm","noneHeader","headerDisplayNone","notifyObservers","headerChild","parentElement","updateColumnsWidth","bodyMinWidth","flexColumns","realWidth","scrollYWidth","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","resizeState","onColumnsChange","onScrollableChange","dropdowns","dropdown","handleOutsideClick","filterValue","handleReset","filterMultiple","$watch","filterOpened","Dropdown","useLayoutObserver","tableLayout","cols","columnsMap","ths","th","handleFilterClick","handleHeaderClick","handleSortClick","handleHeaderContextMenu","draggingColumn","dragState","handleMouseDown","tableEl","tableLeft","columnEl","columnRect","minLeft","startMouseLeft","startLeft","startColumnLeft","resizeProxy","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","cursor","resizable","bodyStyle","pageX","handleMouseOut","toggleOrder","sortOrders","givenOrder","storeData","isCellHidden","colSpan","after","getHeaderRowStyle","rowIndex","headerRowStyle","getHeaderRowClass","headerRowClassName","getHeaderCellStyle","columnIndex","headerCellStyle","getHeaderCellClass","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils","columnRows","hGutter","hColgroup","hasGutter","defaultSort","cellpadding","cellspacing","subColumns","cellIndex","colspan","onContextmenu","onMouseMove","onMouseout","renderHeader","index_","_self","$parent","FilterPanel","filterPlacement","upDataColumn","useEvents","tooltipVisible","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleContextMenu","handleCellMouseEnter","hoverState","cellChild","createRange","setStart","setEnd","rangeWidth","innerText","handleCellMouseLeave","oldHoverState","useStyles","isColumnHidden","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","rowClassName","getCellStyle","cellStyle","getCellClass","cellClassName","getSpan","rowspan","spanMethod","getColspanRealWidth","widthArr","acc","useRender","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","columnData","noLazyChildren","renderCell","wrappedRowRender","renderExpanded","tr","tmp","innerTreeRowData","childKey","highlight","raf","oldRow","newRow","tooltipEffect","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","getRowClasses","summaryMethod","sums","notNumber","shouldUpdateHeight","isHidden","resizeProxyVisible","setDragVisible","scrollPosition","handleHeaderFooterMousewheel","bindEvents","syncPostion","fixedBodyWrapper","rightFixedBodyWrapper","maxScrollLeftPosition","resizeListener","unbindEvents","shouldUpdateLayout","oldWidth","oldHeight","tableSize","bodyWidth_","emptyBlockStyle","handleFixedMousewheel","currentScrollTop","fixedHeight","showSummary","tableIdSeed","Mousewheel","TableHeader","TableBody","TableFooter","treeProps","tableId","onSetDragVisible","_hoisted_9","_hoisted_10","Table","cellStarts","expand","cellForced","nativeOnClick","defaultRenderCell","formatter","treeCellPrefix","ele","expandClasses","owner","props_","registerComplexWatchers","aliases","realMinWidth","allAliases","columnConfig","registerNormalWatchers","realAlign","realHeaderAlign","isSubColumn","columnOrTableParent","vParent","setColumnWidth","setColumnForcedProps","checkSubColumn","setColumnRenders","scope","header","originRenderCell","showOverflowTooltip","getPropsData","propsKey","getColumnElIndex","columnIdSeed","showTooltipWhenOverflow","basicProps","sortProps","selectProps","filterProps","chains","hiddenColumns","ElTableColumn","typeFlag","TreeNode","isAsync","isVisable","isExpanded","isDraggable","asyncLoadFn","insertChild","isRendered","asyncState","interceptHandler","updateChildParent","updateChildChecked","updateCheckedState","updateExpandedState","upwardEach","isRoot","findChildIndex","loadAsync","resolveFn","setChildChecked","checkedNodeLen","getCheckedNode","childrenNodeLen","setCheckedState","_node","isType","setChecked","_index","insert","strictly","depthEach","isSkipSelf","upToDownCallBack","downToUpCallBack","dfs","eunmState","findOne","findMany","search","extraNodes","setSubTreeVisable","isShow","setVsiable","separation","isAllowMove","relative","collapse","otherParams","nodeMap","mapChildKey","_cloneNode","cloneNode","newNode","nodeEach","transitionObjectKey","keyMap","transitionKeyList","extractMethods","methodList","createAction","appendRawNode","rawNodeToTreeNode","removeChildRawNode","insertRawNode","Tree","list","defaultNodeKey","defaultNodeValue","isUpdateRaw","injectAction","initRoot","setCheckedByIdList","setExpandedByIdList","rawNode","handledNode","rawChild","getParentRawNode","showAll","checkedAll","expandAll","idList","elTree","ElNodeContent","onClickNode","expandOnClickNode","accordion","checkOnClickNode","onRightEvent","onChangeCheckbox","handleDragStart","handleDragOver","onDragend","handleDragEnd","handleDrop","showCheckbox","renderAfterExpand","ElTreeNode","checkDescendants","currentNodeKey","allowDrag","allowDrop","highlightCurrent","async","showRootNode","useTab","useCheckbox","useFocusNode","initCheckbox","checkboxItems","initTabIndex","treeItems","checkedItem","currentItem","treeItemArray","currentIndex","hasInput","dropIndicator","last","drop","margin","currentBound","mourseY","allowDrog","getElementById","ElTree","currentPage","pageCount","pagerCount","quickClass","showMore","onMouseEnter","pagers","onPagerClick","usePager","vKey","pagerValue","halfPagerCount","pageValue","showPrevMore","showNextMore","startPage","newPage","pagerCountOffset","pager","prevText","nextText","showValue","Total","ElSelect","pageSizes","pageSize","watchHandler","internalPopperClass","useLayout","rightWrapper","getValidCurrentPage","havePageCount","resetValue","useInternalCurrentPage","emitted","innerCurrentPage","userInternalPageSize","innerPageSize","useInternalPageCount","internalPageCount","hideOnSinglePage","currentPageEmitted","pageSizeEmitted","internalCurrentPage","internalPageSize","handleSizeChange","templateComponent","jumper","sizes","slot","Comp","ElPagination","isDot","hidden","badgeNumber","useBadgeNumber","_toDisplayString","ElBadge","shape","srcSet","lineHeight","ElAvatar","TYPE_CLASSES_MAP","description","closeText","showIcon","typeClass","isBigIcon","isBoldTitle","ElAlert","spinner","fullscreen","customClass","handleAfterLeave","setText","cx","cy","MOUNT_COMPONENT_REF","COMPONENT_CONTAINER_SYMBOL","createComponent","Component","unmountComponent","ComponnetInstance","addStyle","maskStyle","originalPosition","originalOverflow","lock","toggleLoading","parentEl","mask","loadingDirective","textExr","spinnerExr","backgroundExr","customClassExr","vm","Loading","domVisible","directive","fullscreenLoading","loadingVue","useLoading","service","use","defalut","duration","dangerouslyUseHTMLString","verticalOffset","verticalOffsetVal","isShowType","positionStyle","timer","delayClose","_close","handleMouseleave","appear","instanceList","Message","createMessage","closeAll","removeInstance","createMessageComponentByOpts","setZIndex","addInstance","isVNode","messageComponent","defaultOptions","calculateVerticalOffset","userOnClose","closeMessage","getNextElementInterval","updatePosition","closeInstance","currentInstanceIndex","getIndexByInstance","INTERVAL_HEIGHT","idSeed","popupProps","closeDelay","modal","modalAppendToBody","lockScroll","usePopup","opened","bodyPaddingRight","computedBodyPaddingRight","withoutHiddenClass","rendered","_popupId","_closeTimer","_openTimer","_opening","_closing","doOpen","getScrollBarWidth","bodyHasOverflow","bodyOverflowY","onOpen","doAfterOpen","doClose","restoreBodyStyle","doAfterClose","tabEvent","Dialog","dialog","focusAfterClosed","focusFirst","dialogNode","lastFocus","trapFocus","addListeners","removeListeners","closeDialog","typeMap","beforeClose","distinguishCancelAndClose","showCancelButton","showConfirmButton","cancelButtonClass","confirmButtonClass","closeOnHashChange","inputPlaceholder","inputType","inputValue","inputPattern","inputValidator","inputErrorMessage","roundButton","_type","cancelButtonLoading","messageBox","editorErrorMessage","isVnode","_inputPattern","getInputElement","_inputValidator","validateResult","getSafeClose","currentId","confirmButtonLoading","handleWrapperClick","handleKeyup","code","handleInputEnter","cancelButtonClasses","confirmButtonClasses","getFirstFocus","btn","inputRefs","MessageToVNode","changedMessage","messageBoxConstructor","msgboxVue","confirmButtonPosition","confirmButtonHighlight","cancelButtonHighlight","currentMsg","msgQueue","defaultCallback","setupState","initInstance","VNode","showNextMsg","oldCb","MessageBox","setDefaults","alert","prompt","useMsgbox","notificationProps","horizontalClass","endsWith","verticalProperty","startsWith","_click","Notification","createNotification","mergeProps","createNotificationByOpts","addToBody","notificationComponent","closeNotification","userOnClick","removedHeight","SubMenu","domNode","subMenuItems","subIndex","gotoSubIndex","prevDef","MenuItem","submenu","menuChild","Menu","menuChildren","useMenu","Instance","rootMenu","indexPath","parentMenu","paddingStyle","mode","useItems","items","itemsInstance","submenus","submenusInstance","addItem","removeItem","addSubmenu","removeSubmenu","collapseTransition","MenuCollapseTransition","defaultActive","defaultOpeneds","uniqueOpened","router","menuTrigger","activeTextColor","activeIndex","openedMenus","updateActiveIndex","initOpenedMenu","getColorChannels","red","green","blue","mixColor","openMenu","closeMenu","handleSubmenuClick","isOpened","handleItemClick","oldActiveIndex","hasIndex","routeToItem","activeItem","route","$router","hoverBackground","isMenuPopup","Menubar","ElMenu","itemBackgroundColor","itemStyle","borderBottomColor","onMouseLeave","ElMenuItem","showTimeout","hideTimeout","mouseInChild","handleCollapseToggle","initPopper","relatedTarget","MouseEvent","deepDispatch","handleTitleMouseenter","titleBackground","handleTitleMouseleave","isFirstLevel","updatePlacement","menuTransitionName","titleStyle","popupMenu","inlineMenu","submenuTitleIcon","ElSubmenu","levelPadding","ElMenuItemGroup","addable","editable","tabPosition","stretch","tabList","tabElList","scrollable","tabs","tabScroll","tabNav","scrollToActive","handleClickLeft","handleClickRight","useTabScroll","useTabNav","activeBarStyle","useTabBarStyle","sizeName","textSizeName","posName","dirFlag","activeName","switchTab","textWidth","textHeight","isLeave","X","Y","offsetName","scrollName","toLocaleLowerCase","hander","viewArea","sizeSum","ElTabs","elTabsInfo","pane","ElTabPane","separatorClass","ElBreadcrumb","link","ElBreadcrumbItem","ElPageHeader","splitButton","hideOnClick","dropdownSize","triggerElm","removeTabindex","resetTabindex","menuItems","handleTriggerKeyDown","_keyCode","menuItemsArray","handleItemKeyDown","_target","_currentIndex","_nextIndex","triggerElmFocus","dropdownElm","listId","initAria","handleMenuItemClick","command","initDomOperation","selfDefine","handleMainButtonClick","defaultNode","dropdownNode","ElDropdown","divided","ElDropdownItem","ElDropdownMenu","stateSymbol","propsSymbol","alignCenter","simple","finishStatus","processStatus","stepOffset","ElSteps","parentState","parentProps","isSimple","isCenter","lineStyle","internalStatus","currentStatus","prevStatus","prevStep","isLast","stepsCount","newSpace","flexBasis","maxWidth","updateStatus","prevChild","calcProgress","transitionDelay","borderWidth","ElStep","destroyOnClose","closed","instanc","footer","ElDialog","doToggle","doShow","handleDocumentClick","handleAfterEnter","cleanup","useInteractive","instanceRef","__vue__","_timer","getReference","_ref","ElPopover","confirmButtonType","cancelButtonType","iconColor","hideIcon","ElPopconfirm","shadow","ElCard","initialIndex","autoplay","interval","indicatorPosition","indicator","loop","initData","containerWidth","arrowDisplay","handleButtonEnter","handleButtonLeave","throttledArrowClick","setActiveItem","resetItemPosition","useArrowButton","hasLabel","indicatorsClasses","throttledIndicatorHover","handleIndicatorClick","useIndicator","carouselClasses","startTimer","useInitSlide","updateItems","ElCarouselItem","computedDirection","computedType","computedItems","computedItemLength","computedLoop","itemInStage","inStage","oldIndex","translateItem","filteredItems","handleIndicatorHover","playSlides","pauseTimer","ElCarousel","CARD_SCALE","parentUpdateItems","scale","ready","animating","parentType","parentDirection","useTranslateItem","useCardItemClick","translateType","parentItemLength","parentLoop","processIndex","calcCardTranslate","parentWidth","calcTranslate","parentItems","activeNames","setActiveNames","ElCollapse","contentWrapStyle","contentHeight","handleEnterClick","ElCollapseItem","timeline","ElTimeline","timestamp","hideTimestamp","dot","ElTimelineItem","contentPosition","ElDivider","main","fecha","token","twoDigits","threeDigits","fourDigits","word","literal","regexEscape","shorten","sLen","newArr","substr","monthUpdate","arrName","i18n","month","pad","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","formatFlags","dateObj","getDay","DD","Do","getDate","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","yy","getFullYear","yyyy","getHours","hh","H","HH","m","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","parseFlags","day","da","cent","hour","minute","second","millisecond","isPm","minutes","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","i18nSettings","getTime","literals","$0","$1","dateStr","dateInfo","parseInfo","newFormat","date","UTC","exports","this","getI18nSettings","week","getFirstDayOfMonth","temp","setDate","getPrevMonthLastDays","amount","lastDay","getMonthDays","days","validateRangeInOneMonth","selectedDay","hideHeader","firstDayOfWeek","WEEK_DAYS","elCalendar","toNestedArr","rangeArr","getFormateDate","curMonthDatePrefix","prevMonthDatePrefix","nextMonthDatePrefix","formatedToday","pickDay","cellRenderProxy","isInRange","currentMonthRange","remaining","nextMonthRange","firstDay","_firstDayOfWeek","prevMonthDays","currentMonthDays","nextMonthDays","weekDays","thead","validTypes","oneDay","DateTable","formatedDate","i18nDate","pickedMonth","realSelectedDay","validatedRange","toDate","rangeValidator","startDay","realFirstDayOfWeek","nextMontFirstDay","isStart","expected","ElCalendar","Mode","CONTAIN","ORIGINAL","urlList","onSwitch","img","imageWrapper","deg","offsetY","enableTransition","infinite","isSingle","isFirst","currentImg","imgStyle","deviceSupportInstall","reset","complete","handleActions","zoomRate","rotateDeg","toggleMode","modeNames","modeValues","keyDownHandler","mouseWheelHandler","delta","deviceSupportUninstall","handleImgLoad","handleImgError","pageY","_dragHandler","onLoad","isSupportObjectFit","objectFit","ObjectFit","NONE","COVER","FILL","SCALE_DOWN","prevOverflow","ImageViewer","scrollContainer","previewSrcList","showViewer","imageWidth","imageHeight","imageStyle","getImageStyle","imageIndex","previewIndex","srcIndex","loadImage","addLazyLoadListener","removeLazyLoadListener","Image","handleLoad","handleLazyLoad","_scrollContainer","_lazyLoadHandler","containerHeight","isSmaller","clickHandler","closeViewer","ElImage","cubic","easeInOutCubic","visibilityHeight","throttledScrollHandler","styleBottom","styleRight","onScroll","scrollToTop","beginTime","beginValue","rAF","frameFunc","Backtop","getPositionSize","getOffsetHeight","getClientHeight","getScrollOptions","defaultValue","attributeName","hasAttribute","getElementTop","containerInfo","shouldTrigger","scrollBottom","heightBelowTop","borderBottom","ElInfiniteScroll","wrapperClosable","withHeader","prevActiveElement","drawer","isHorizontal","closeDrawer","ElDrawer","params","$root","Emitter","dropdownWidth","referenceList","$on","hideLoading","ElAutocompleteSuggestions","minlength","autofocus","fetchSuggestions","triggerOnFocus","customItem","selectWhenUnmatched","highlightFirstItem","activated","highlightedIndex","suggestionDisabled","suggestionVisible","isValidData","$input","getData","queryString","debouncedGetData","handleKeyEnter","suggestion","highlightItem","$destroy","ElAutocomplete","ElBacktop","ElLoading","ElTable","ElRadioGroup","ElCascader","ElSlider","ElUpload","ElRate","ElColorPicker","ElTransfer","applyOptions","$loading","$msgbox","ElMessageBox","$alert","$confirm","$prompt","$notify","$message","element3","version"],"mappings":"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EAAlB;AACA,IAAIC,WAAW,GAAG,GAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,cAAT;AAAwB;AAAWj2E,KAAnC;AAA0C;AAAW;AACnD,MAAIk2E,EAAE,GAAG,CAAT;AAAA,MAAYC,EAAE,GAAG,CAAjB;AAAA;AACIC,EAAAA,EAAE,GAAG,CADT;AAAA,MACYC,EAAE,GAAG,CADjB,CADmD;AAInD;;AACA,MAAI,YAAiBr2E,KAArB,EAA4B;AAAEm2E,IAAAA,EAAE,GAAGn2E,KAAK,CAACs2E,MAAX;AAAoB;;AAClD,MAAI,gBAAiBt2E,KAArB,EAA4B;AAAEm2E,IAAAA,EAAE,GAAG,CAACn2E,KAAK,CAACu2E,UAAP,GAAoB,GAAzB;AAA+B;;AAC7D,MAAI,iBAAiBv2E,KAArB,EAA4B;AAAEm2E,IAAAA,EAAE,GAAG,CAACn2E,KAAK,CAACw2E,WAAP,GAAqB,GAA1B;AAAgC;;AAC9D,MAAI,iBAAiBx2E,KAArB,EAA4B;AAAEk2E,IAAAA,EAAE,GAAG,CAACl2E,KAAK,CAACy2E,WAAP,GAAqB,GAA1B;AAAgC,GARX;;;AAWnD,MAAK,UAAUz2E,KAAV,IAAmBA,KAAK,CAACgyB,IAAN,KAAehyB,KAAK,CAAC02E,eAA7C,EAA+D;AAC7DR,IAAAA,E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"}