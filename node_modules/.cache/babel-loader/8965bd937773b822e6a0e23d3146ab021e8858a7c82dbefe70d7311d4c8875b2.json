{"ast":null,"code":"import { Message } from 'element3';\nimport { reqTeacherPersonal, reqPictureUpload, reqTeacherPersonalUpdate } from '@/api';\nexport default {\n  data() {\n    return {\n      personalVirtual: {},\n      personal: {},\n      isBlur: 0\n    };\n  },\n  async mounted() {\n    try {\n      const res = await reqTeacherPersonal();\n      this.personal = res.data.data;\n      if (!this.personal.teacherImage) {\n        this.personal.teacherImage = 'https://img2.baidu.com/it/u=3022488819,1069187648&fm=253&app=138&size=w931&n=0&f=JPG&fmt=auto?sec=1716224400&t=6241caa48928abb8b17b659189b937bc';\n      }\n      this.personalVirtual = JSON.parse(JSON.stringify(this.personal)); // 深拷贝对象\n    } catch (error) {\n      console.log('reqTeacherPersonal', error);\n    }\n  },\n  methods: {\n    handleSex(value) {\n      // console.log(value);\n      this.personalVirtual.sex = value;\n      this.personal = JSON.parse(JSON.stringify(this.personalVirtual)); // 深拷贝对象\n      this.personalUpdate(this.personal);\n    },\n    // 定义失去焦点事件处理函数\n    handleBlur(blurName) {\n      console.log('数据对比', this.personalVirtual[blurName], this.personal[blurName]);\n      if (this.personalVirtual[blurName] == '') {\n        Message.error('信息不能为空哦~', this.personal);\n        this.personalVirtual = JSON.parse(JSON.stringify(this.personal)); // 深拷贝对象\n      } else if (this.personalVirtual[blurName] == this.personal[blurName]) {\n        console.log('您没有修改信息哦~', this.personalVirtual[blurName], this.personal[blurName]);\n        Message('您没有修改信息哦~');\n        return;\n      } else {\n        this.personal = JSON.parse(JSON.stringify(this.personalVirtual)); // 深拷贝对象\n        // 修改信息\n        this.personalUpdate(this.personal);\n      }\n    },\n    changeImage() {\n      this.$refs.fileInput.click();\n    },\n    async handleFileUpload(event) {\n      const file1 = event.target.files[0];\n      // 创建 FormData 对象\n      let file = new FormData();\n      file.append(\"file\", file1);\n      try {\n        const res = await reqPictureUpload(file);\n        this.personal.teacherImage = res.data.data;\n        // console.log(this.personal);\n        this.personalUpdate(this.personal);\n      } catch (error) {\n        console.error('reqPictureUpload', error);\n      }\n    },\n    // 修改个人信息\n    async personalUpdate(personal) {\n      try {\n        const res = await reqTeacherPersonalUpdate(personal);\n        // console.log(res.data);\n        if (res.data.code == 200) {\n          Message({\n            message: '修改成功~',\n            type: 'success'\n          });\n        }\n      } catch (error) {\n        console.error('reqTeacherPersonalUpdate', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["Message","reqTeacherPersonal","reqPictureUpload","reqTeacherPersonalUpdate","data","personalVirtual","personal","isBlur","mounted","res","teacherImage","JSON","parse","stringify","error","console","log","methods","handleSex","value","sex","personalUpdate","handleBlur","blurName","changeImage","$refs","fileInput","click","handleFileUpload","event","file1","target","files","file","FormData","append","code","message","type"],"sources":["D:\\代码\\vscodeProjects\\AiEducation\\vue_aieducation\\src\\pages\\Teacher\\my\\index.vue"],"sourcesContent":["<template>\r\n  <div id=\"nav07\">\r\n    <div class=\"Massage minHeight\">\r\n          <div class=\"nav02_kj\">\r\n            <h3>😁基/本/信/息</h3>\r\n            <div class=\"nav02_grzl_headimg\">\r\n\r\n              <div  class=\"block\">\r\n                 <label  class=\"icon icon-xiangji1 iconfont\"></label>\r\n                <el-image @click=\"changeImage\"  :src=\"this.personal.teacherImage\">\r\n                  <template #placeholder>\r\n                    <div class=\"image-slot\">加载中<span class=\"dot\">...</span></div>\r\n                  </template>\r\n                </el-image>\r\n                <input type=\"file\"  ref=\"fileInput\" @change=\"handleFileUpload\" style=\"display: none;\">\r\n              </div>\r\n            </div>\r\n            <div class=\"nav02_grzl_txt\">\r\n\t\t\t\t\t\t\t<p><span>姓名：</span>\r\n              <el-input \r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.name\"\r\n              @blur=\"handleBlur('name')\"/>\r\n              </p>\r\n\t\t\t\t\t\t\t<p><span>性别：</span>\r\n                    <input class=\"radio\" type=\"radio\" v-model=\"this.personalVirtual.sex\" value=\"0\" @change=\"handleSex(0)\">\r\n                    <label class=\"input-tips\">女</label>\r\n                    <input class=\"radio\" type=\"radio\" v-model=\"this.personalVirtual.sex\" value=\"1\" @change=\"handleSex(1)\">\r\n                    <label class=\"input-tips\">男</label>\r\n              </p>\r\n\t\t\t\t\t\t\t<p><span>职位：</span>\r\n              <el-input \r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.position\"\r\n              @blur=\"handleBlur('position')\"/>\r\n              </p>\r\n\t\t\t\t\t\t\t<p><span>手机号：</span>\r\n              <el-input \r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.phone\"\r\n              @blur=\"handleBlur('phone')\"/>\r\n              </p>\r\n\t\t\t\t\t\t\t<p><span>个人简介</span>\r\n              <textarea \r\n              class=\"addressInput\"\r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.introduction\"\r\n              @blur=\"handleBlur('introduction')\"/>\r\n              </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n    </div>\r\n    <!-- 背景margin -->\r\n    <div class=\"bgmargin\">\r\n    </div>\r\n        \r\n    <div class=\"Massage minHeight\">\r\n      <div class=\"nav02_kj\">\r\n            <h3>😁推/荐/计/划</h3>\r\n            <div class=\"education_txt\">\r\n\t\t\t\t\t\t\t<p><span>手机号：</span>\r\n              <el-input \r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.phone\"\r\n              @blur=\"handleBlur('phone')\"/>\r\n              </p>\r\n\t\t\t\t\t\t\t<p><span>个人简介</span>\r\n              <el-input \r\n              class=\"addressInput\"\r\n              type=\"text\" \r\n              v-model=\"this.personalVirtual.introduction\"\r\n              @blur=\"handleBlur('introduction')\"/>\r\n              </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n    </div>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element3'\r\nimport {reqTeacherPersonal,reqPictureUpload,reqTeacherPersonalUpdate} from '@/api'\r\n  export default {\r\n    data () {\r\n      return {\r\n        personalVirtual:{},\r\n        personal:{},\r\n        isBlur:0\r\n      }\r\n    },\r\n    async mounted(){\r\n      try {\r\n        const res = await reqTeacherPersonal()\r\n        this.personal = res.data.data\r\n        if(!this.personal.teacherImage){\r\n          this.personal.teacherImage = 'https://img2.baidu.com/it/u=3022488819,1069187648&fm=253&app=138&size=w931&n=0&f=JPG&fmt=auto?sec=1716224400&t=6241caa48928abb8b17b659189b937bc'\r\n        }\r\n        this.personalVirtual = JSON.parse(JSON.stringify(this.personal)); // 深拷贝对象\r\n      } catch (error) {\r\n        console.log('reqTeacherPersonal',error);\r\n      }\r\n\r\n    },\r\n    methods:{\r\n      handleSex(value){\r\n        // console.log(value);\r\n        this.personalVirtual.sex = value\r\n        this.personal = JSON.parse(JSON.stringify(this.personalVirtual)); // 深拷贝对象\r\n        this.personalUpdate(this.personal)\r\n      },\r\n    // 定义失去焦点事件处理函数\r\n    handleBlur(blurName) {\r\n      \r\n      console.log('数据对比',this.personalVirtual[blurName],this.personal[blurName]);\r\n      if(this.personalVirtual[blurName]==''){\r\n        Message.error('信息不能为空哦~',this.personal)\r\n        this.personalVirtual = JSON.parse(JSON.stringify(this.personal)); // 深拷贝对象\r\n      }else if(this.personalVirtual[blurName] == this.personal[blurName]){\r\n        console.log('您没有修改信息哦~',this.personalVirtual[blurName],this.personal[blurName]);\r\n        Message('您没有修改信息哦~')\r\n        return\r\n      }else {\r\n        this.personal = JSON.parse(JSON.stringify(this.personalVirtual)); // 深拷贝对象\r\n        // 修改信息\r\n        this.personalUpdate(this.personal)\r\n      }\r\n    },\r\n      changeImage(){\r\n        this.$refs.fileInput.click();\r\n      },\r\n\r\n      async handleFileUpload(event) {\r\n        const file1 = event.target.files[0];\r\n        // 创建 FormData 对象\r\n        let file = new FormData();\r\n        file.append(\"file\", file1);\r\n                    try {\r\n                      const res = await reqPictureUpload(file)\r\n                      this.personal.teacherImage = res.data.data\r\n                      // console.log(this.personal);\r\n                      this.personalUpdate(this.personal)\r\n                    } catch (error) {\r\n                      console.error('reqPictureUpload',error);\r\n                    }\r\n                    \r\n      },\r\n      // 修改个人信息\r\n      async personalUpdate(personal){\r\n        try {\r\n                      const res = await reqTeacherPersonalUpdate(personal)\r\n                      // console.log(res.data);\r\n                      if(res.data.code == 200){\r\n                        Message({\r\n                            message: '修改成功~',\r\n                            type: 'success'\r\n                          })\r\n                      }\r\n                    } catch (error) {\r\n                      console.error('reqTeacherPersonalUpdate',error);\r\n                    }\r\n      }\r\n    \r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped> \r\n.input-tips {\r\n  font-size: 15px;\r\n}\r\n/* 定制单选按钮样式 */\r\n.radio {\r\n  display: inline-block;\r\n  width: 20px; /* 单选按钮的宽度 */\r\n  height: 20px; /* 单选按钮的高度 */\r\n  border-radius: 50%; /* 圆形单选按钮 */\r\n  border: 2px solid #ccc; /* 单选按钮边框 */\r\n  background-color: #fff; /* 单选按钮背景色 */\r\n  cursor: pointer;\r\n  margin: 5px 10px 0 50px;\r\n}\r\n\r\n/* 选中状态下的单选按钮样式 */\r\n.radio {\r\n  background-color: #007bff; /* 选中状态下的背景色 */\r\n  border-color: #007bff; /* 选中状态下的边框颜色 */\r\n}\r\n.el-input__inner {\r\n    border-radius: 20px;\r\n    border: 2px solid #dcdfe6;\r\n    width: 350px;\r\n}\r\n.el-input {\r\n    position: relative;\r\n    font-size: 14px;\r\n    display: inline-block;\r\n    width: 400px;\r\n}\r\n.Massage {\r\n  padding: 0 0 30px 30px;\r\n}\r\n.nav02_kj{\r\n\twidth: 100%;\r\n\ttext-align: left;\r\n\toverflow: hidden;\r\n\r\n}\r\n.nav02_kj h3{\r\n  height: 53px;\r\n  line-height: 47px;\r\n  border-bottom: 3px solid #f0f0f2;\r\n  width: 100%;\r\n\tfont-size: 20px;\r\n\tfont-weight: 600;\r\n\tletter-spacing: 3px;\r\n\tcolor: rgba(40,40,40,0.8);\r\n\tmargin: 10px 0px;\r\n}\r\n.nav02_grzl_headimg{\r\n  padding: 10px 30px 0 0;\r\n\theight: 100%;\r\n\tfloat: left;\r\n}\r\n.nav02_grzl_headimg .block{\r\n  cursor: pointer;\r\n\twidth: 200px;\r\n\tborder-radius: 30px;\r\n\tbox-shadow: 0px 0px 10px rgba(40,40,40,0.1);\r\n  /* border:  3px solid var(--primary-color); */\r\n  \r\n  transition: filter 0.2s;\r\n}\r\n.nav02_grzl_headimg .block:hover{\r\n  filter: grayscale(100%);\r\n}\r\n\r\n.nav02_grzl_txt{\r\n\tborder-left: 2px dashed rgba(40,40,40,0.2);\r\n\t/* height: 100%; */\r\n  width: 80%;\r\n\tfloat: left;\r\n\tpadding-left: 30px;\r\n}\r\n.nav02_grzl_txt span {\r\n   display: inline-block; /* 设置为内联块元素，使得宽度生效 */\r\n   text-align: right;\r\n   width: 85px; /* 设置宽度 */\r\n   padding: 0 10px;\r\n   font-weight: bold;\r\n}\r\n.education_txt span {\r\n   display: inline-block; /* 设置为内联块元素，使得宽度生效 */\r\n   text-align: right;\r\n   width: 85px; /* 设置宽度 */\r\n   padding: 0 10px;\r\n   font-weight: bold;\r\n}\r\n.education_txt {\r\n  height: 100%;\r\n\tpadding-left: 30px;\r\n}\r\np{\r\n  width: 100%;\r\n  padding-bottom: 10px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 400;\r\n\tletter-spacing: 1px;\r\n\tline-height: 50px;\r\n\tcolor: rgba(40,40,40,0.9);\r\n}\r\n.minHeight {\r\n\tmin-height: 200px;\r\n  background-color: var(--shell-color);\r\n}\r\n\r\n.bgmargin {\r\n\theight: 20px;\r\n\twidth: 106%;\r\n  margin-left: -30px;\r\n}\r\n.fl {\r\n    float: left;\r\n}\r\n.color000 {\r\n\tcolor: #000;\r\n}\r\n/* 分界 */\r\n.clearfix:after {\r\n    content: \" \";\r\n    display: block;\r\n    height: 0px;\r\n    clear: both;\r\n}\r\n\r\n/*-----Nav07-本站源码-内容区域-右侧------*/\r\n#nav07{\r\n  background-color: var(--body--color);\r\n\twidth: 89.5%;\r\n  padding: 30px 30px;\r\n\theight: 100%;\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tscrollbar-width: none;\r\n\t-ms-overflow-style: none;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tz-index: 2;\r\n}\r\n/* 设置滚动条的样式 */\r\n#nav07::-webkit-scrollbar {\r\n   width:8px;\r\n}\r\n/* 滚动槽 */\r\n#nav07::-webkit-scrollbar-track {\r\n   -webkit-box-shadow:rgba(254,254,254,1);\r\n   border-radius:10px;\r\n}\r\n/* 滚动条滑块 */\r\n#nav07::-webkit-scrollbar-thumb {\r\n   border-radius:3px;\r\n   background-color: rgba(40,40,40,0.6);\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}