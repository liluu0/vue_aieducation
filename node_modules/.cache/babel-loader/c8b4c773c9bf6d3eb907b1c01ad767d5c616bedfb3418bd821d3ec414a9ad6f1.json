{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { getUUID } from '@/utils/uuid_token';\n//引入仓库\n// import store from \"@/store\";\n\nimport { Message } from 'element3';\n// 引入 Vue Router\nimport router from '@/router';\nconst requests = axios.create({\n  baseURL: \"http://localhost:8088/aiEducation\"\n  //  timeout:5000, \n});\n\n//请求拦截器\nrequests.interceptors.request.use(config => {\n  if (getUUID()) {\n    config.headers.token = getUUID();\n  }\n  return config;\n});\n\n// 响应拦截器\nrequests.interceptors.response.use(res => {\n  // 判断状态码是否是 401 未授权错误\n  if (res.data && res.data.code === 401) {\n    setTimeout(() => {\n      Message.error('用户登录失效或未登录，请重新登录');\n    }, 200);\n    // 跳转到登录页面 \n    router.push('/login');\n  } else {\n    return res;\n  }\n}, error => {\n  // 请求失败，处理错误\n  console.error('请求失败:', error);\n  // 返回拒绝的 Promise，带有错误消息\n  return Promise.reject(error);\n});\nexport default requests;","map":{"version":3,"names":["axios","getUUID","Message","router","requests","create","baseURL","interceptors","request","use","config","headers","token","response","res","data","code","setTimeout","error","push","console","Promise","reject"],"sources":["D:/代码/vscodeProjects/AiEducation/vue_aieducation/src/api/ajax.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {getUUID} from '@/utils/uuid_token'\r\n//引入仓库\r\n// import store from \"@/store\";\r\n\r\nimport { Message } from 'element3'\r\n// 引入 Vue Router\r\nimport router from '@/router';\r\nconst requests = axios.create({\r\n    baseURL:\"http://localhost:8088/aiEducation\",\r\n   //  timeout:5000, \r\n})\r\n\r\n//请求拦截器\r\nrequests.interceptors.request.use((config)=>{\r\n   if(getUUID()){\r\n      config.headers.token = getUUID()\r\n   }\r\n    return config;\r\n })\r\n\r\n \r\n // 响应拦截器\r\nrequests.interceptors.response.use(\r\n   (res) => {\r\n      // 判断状态码是否是 401 未授权错误\r\n      if (res.data && res.data.code === 401) {\r\n        setTimeout(()=>{\r\n          Message.error('用户登录失效或未登录，请重新登录')\r\n        }, 200)\r\n        // 跳转到登录页面 \r\n        router.push('/login')\r\n      }else {\r\n      return res;\r\n    }\r\n    },\r\n   (error) => {\r\n     // 请求失败，处理错误\r\n     console.error('请求失败:', error);\r\n     // 返回拒绝的 Promise，带有错误消息\r\n     return Promise.reject(error);\r\n   }\r\n );\r\n\r\n\r\nexport default requests;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,oBAAoB;AAC1C;AACA;;AAEA,SAASC,OAAO,QAAQ,UAAU;AAClC;AACA,OAAOC,MAAM,MAAM,UAAU;AAC7B,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC1BC,OAAO,EAAC;EACT;AACH,CAAC,CAAC;;AAEF;AACAF,QAAQ,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAG;EACzC,IAAGT,OAAO,CAAC,CAAC,EAAC;IACVS,MAAM,CAACC,OAAO,CAACC,KAAK,GAAGX,OAAO,CAAC,CAAC;EACnC;EACC,OAAOS,MAAM;AAChB,CAAC,CAAC;;AAGF;AACDN,QAAQ,CAACG,YAAY,CAACM,QAAQ,CAACJ,GAAG,CAC9BK,GAAG,IAAK;EACN;EACA,IAAIA,GAAG,CAACC,IAAI,IAAID,GAAG,CAACC,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;IACrCC,UAAU,CAAC,MAAI;MACbf,OAAO,CAACgB,KAAK,CAAC,kBAAkB,CAAC;IACnC,CAAC,EAAE,GAAG,CAAC;IACP;IACAf,MAAM,CAACgB,IAAI,CAAC,QAAQ,CAAC;EACvB,CAAC,MAAK;IACN,OAAOL,GAAG;EACZ;AACA,CAAC,EACDI,KAAK,IAAK;EACT;EACAE,OAAO,CAACF,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EAC7B;EACA,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CACF,CAAC;AAGF,eAAed,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}