{"ast":null,"code":"import { Message } from 'element3';\nimport { reqCourseMaterial, reqRemoveMaterial } from '@/api';\nexport default {\n  data() {\n    return {\n      materialData: []\n    };\n  },\n  props: ['isTeacher'],\n  mounted() {\n    // console.log(this.isTeacher);\n    this.loadData();\n  },\n  methods: {\n    async loadData() {\n      try {\n        const res = await reqCourseMaterial(this.$route.params.courseId);\n        this.materialData = res.data.data;\n        console.log(res.data.data, this.materialData);\n      } catch (error) {\n        console.log('reqCourseMaterial', error);\n      }\n    },\n    openMaterial() {\n      console.log('打开资料');\n    },\n    download(content, name) {\n      // 创建一个<a>标签\n      const link = document.createElement(\"a\");\n      link.href = content;\n      link.download = name; // 下载文件的名称\n      // 将<a>标签添加到DOM中\n      document.body.appendChild(link);\n      // 触发点击事件\n      link.click();\n      // 移除<a>标签\n      document.body.removeChild(link);\n    },\n    del(materialId) {\n      try {\n        const res = reqRemoveMaterial({\n          materialId: materialId,\n          courseId: this.$route.params.courseId\n        });\n        console.log(res.data);\n        Message({\n          message: '资料删除成功',\n          type: 'success'\n        });\n        this.loadData();\n      } catch (error) {\n        console.log('reqRemoveMaterial', error);\n      }\n    },\n    addMaterial() {\n      console.log('添加资料');\n    }\n  }\n};","map":{"version":3,"names":["Message","reqCourseMaterial","reqRemoveMaterial","data","materialData","props","mounted","loadData","methods","res","$route","params","courseId","console","log","error","openMaterial","download","content","name","link","document","createElement","href","body","appendChild","click","removeChild","del","materialId","message","type","addMaterial"],"sources":["D:\\代码\\vscodeProjects\\AiEducation\\vue_aieducation\\src\\components\\Material\\index.vue"],"sourcesContent":["<template>\r\n\t<div id=\"nav07\">\r\n          <div class=\"bgc\">\r\n            <div class=\"tasks nav02_kj\">\r\n                <h3>课程资料</h3> \r\n                <div class=\"btn_group\" tabindex=\"-1\" aria-hidden=\"true\">\r\n                    <div class=\"search-box\">\r\n                                <el-input placeholder=\"请输入内容\"\r\n                                prefix-icon=\"el-icon-search\"\r\n                                clearable> </el-input>\r\n                    </div> \r\n                \r\n                <el-button v-if=\"this.isTeacher=='true'\" @click=\"addMaterial\" type=\"primary\" plain round> + 添加资料</el-button>\r\n                </div>\r\n\r\n                <div class=\"dataCon\">\r\n                <div class=\"dataHead\">\r\n                    <ul class=\"dataHead_th\" tabindex=\"0\" role=\"option\">\r\n                        <li class=\"dataHead_file_stu\"></li>\r\n                        <li class=\"dataHead_name\">文件名</li>\r\n                        <li class=\"dataHead_size_stu\">大小</li>\r\n                        <li class=\"dataHead_creater_stu\">创建者</li>\r\n                            <li class=\"dataHead_time_stu\">创建日期\r\n                            </li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                <div class=\"dataBody\">\r\n                    <div v-if=\"this.materialData && this.materialData.length === 0\">\r\n                        暂无资料\r\n                    </div>\r\n                    <div v-else>\r\n                        <ul v-for=\"item in this.materialData\" :key=\"item.materialId\" class=\"dataBody_td\">\r\n                            <li class=\"dataBody_file\"  @click=\"openMaterial\">\r\n                                <img src=\"@/assets/img/fileImg.png\">\r\n                            </li>\r\n                            <li class=\"dataBody_name_stu\">\r\n                                <dl class=\"dataBody_text\"  @click=\"openMaterial\">\r\n                                            <dt>\r\n                                                <div class=\"dataBody_ellipsis\">\r\n                                                    <a class=\"rename_title\" href=\"javascript:\">{{item.name}}</a>\r\n                                                </div>\r\n                                            </dt>\r\n                                </dl>\r\n                                <ul class=\"operate\">\r\n                                        <li class=\"operate_down\">\r\n                                            <a class=\"colorBlue fontClass\" target=\"_blank\" @click=\"download(item.content,item.name)\">下载</a>\r\n                                        </li>\r\n                                        <li class=\"operate_copy_cloud_disk\" v-if=\"this.isTeacher=='true'\">\r\n                                            <a class=\"colorRed fontClass\" href=\"javascript:\" @click=\"del(item.materialId)\">\r\n                                                删除\r\n                                            </a>\r\n                                        </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li class=\"dataBody_size_stu\"> {{item.type}} </li>\r\n                            <li class=\"dataBody_creater_stu\"><span class=\"text-ellipsis2\">{{item.creator}}</span></li>\r\n                            <li class=\"dataBody_time_stu\">{{item.createDate}}</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n                \r\n            </div>\r\n          </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element3'\r\nimport {reqCourseMaterial,reqRemoveMaterial} from '@/api'\r\nexport default {\r\n    data () {\r\n        return {\r\n            materialData:[]\r\n        }\r\n    },\r\n    props:['isTeacher'],\r\n    mounted(){\r\n        // console.log(this.isTeacher);\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        async loadData(){\r\n            try {\r\n            const res = await reqCourseMaterial(this.$route.params.courseId)\r\n            this.materialData = res.data.data\r\n            console.log(res.data.data,this.materialData);\r\n        } catch (error) {\r\n            console.log('reqCourseMaterial',error);\r\n        }\r\n        },\r\n\r\n        openMaterial(){\r\n            console.log('打开资料');\r\n        },\r\n\r\n        download(content,name){\r\n            // 创建一个<a>标签\r\n            const link = document.createElement(\"a\");\r\n            link.href = content;\r\n            link.download = name; // 下载文件的名称\r\n            // 将<a>标签添加到DOM中\r\n            document.body.appendChild(link);\r\n            // 触发点击事件\r\n            link.click();\r\n            // 移除<a>标签\r\n            document.body.removeChild(link);\r\n        },\r\n\r\n        del(materialId){\r\n            try {\r\n                const res = reqRemoveMaterial({\r\n                    materialId:materialId,\r\n                    courseId:this.$route.params.courseId\r\n                })\r\n                console.log(res.data);\r\n                Message({\r\n                    message:'资料删除成功',\r\n                    type:'success'\r\n                })\r\n                this.loadData()\r\n            } catch (error) {\r\n                console.log('reqRemoveMaterial',error);\r\n            }\r\n            \r\n        },\r\n\r\n        addMaterial(){\r\n            console.log('添加资料');\r\n        }\r\n    },\r\n  \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 资料 */\r\n.dataCon {\r\n    margin-top: 15px;\r\n}\r\n.dataHead {\r\n    background: #F5F6F7;\r\n    border-radius: 2px;\r\n}\r\n.dataHead_th {\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    color: #8a8b99;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    position: relative;\r\n    border-radius: 50px;\r\n}\r\n.dataHead_file_stu {\r\n    width: 65%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.dataHead_name {\r\n    position: absolute;\r\n    left: 52px;\r\n}\r\n.dataHead_size_stu {\r\n    width: 10%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.dataHead_creater_stu {\r\n    width: 10%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.dataHead_time_stu {\r\n    width: 15%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\nul, ol, li {\r\n    list-style-type: none;\r\n}\r\na {\r\n    text-decoration: none;\r\n}\r\n.dataBody_td {\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    height: 66px;\r\n    line-height: 66px;\r\n    color: #646873;\r\n    position: relative;\r\n    \r\n    transition: background-color 0.1s; \r\n}\r\n.dataBody_td:hover {\r\n    background-color: #ececec;\r\n}\r\n.dataBody {\r\n    margin-top: 10px;\r\n}\r\n.dataBody_file {\r\n    height: 30px;\r\n    position: absolute;\r\n    left: 52px;\r\n    top: 50%;\r\n    margin-top: -15px;\r\n    z-index: 3;\r\n}\r\n.dataBody_file img {\r\n    width: 28px;\r\n    height: 28px;\r\n    display: block;\r\n    border-radius: 3px;\r\n}\r\n.dataBody_name_stu {\r\n    width: 65%;\r\n    height: 100%;\r\n    float: left;\r\n    position: relative;\r\n}\r\n.dataBody_text {\r\n    padding: 11px 280px 11px 94px;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n.dataBody_text dt {\r\n    font-size: 15px;\r\n}\r\n.dataBody_ellipsis {\r\n    max-width: 100%;\r\n    padding-right: 46px;\r\n    position: relative;\r\n    float: left;\r\n    color: #131b26;\r\n}\r\n.dataBody_text dt a {\r\n    max-width: 100%;\r\n    color: #181E33;\r\n    float: left;\r\n    display: block;\r\n    line-height: 20px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n}\r\n.operate {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    display: table;\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 50%;\r\n    margin-top: -15px;\r\n}\r\n.operate_down {\r\n    margin-right: 24px;\r\n    float: left;\r\n}\r\n.fontClass {\r\n    font-size: 14px;\r\n}\r\n.colorBlue {\r\n    color: #3A8BFF;\r\n}\r\n.colorRed {\r\n    color: red;\r\n}\r\n.operate_copy_cloud_disk {\r\n    margin-right: 24px;\r\n    float: left;\r\n}\r\n.dataBody_size_stu {\r\n    width: 10%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.dataBody_creater_stu {\r\n    width: 10%;\r\n    height: 100%;\r\n    float: left;\r\n    position: relative;\r\n    padding: 13px 0;\r\n    line-height: 20px;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.text-ellipsis2 {\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 2;\r\n    overflow: hidden;\r\n}\r\n.dataBody_time_stu {\r\n    width: 15%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n\r\n/* 导航栏 */\r\n.nav02_kj{\r\n\twidth: 100%;\r\n\ttext-align: left;\r\n\toverflow: hidden;\r\n}\r\n.nav02_kj h3{\r\n    border-bottom: 3px solid #f0f0f2;\r\n    width: 100%;\r\n\tfont-size: 20px;\r\n\tfont-weight: 600;\r\n\tletter-spacing: 3px;\r\n\tcolor: rgba(40,40,40,0.8);\r\n\tpadding: 0 0px 20px 30px;\r\n}\r\n\r\n.btn_group {\r\n    padding: 15px 0 0 25px;\r\n\r\n}\r\n.btn_group::after {\r\ncontent: \"\";\r\ndisplay: block;\r\nclear:both;\r\n}\r\n.search-box {\r\n            cursor: pointer;\r\n            transition: all 0.3s ease;\r\n            float: left;\r\n            padding: 0;\r\n}\r\n.el-button--small, .el-button--small.is-round {\r\n    padding: 0;\r\n    width: 104px;\r\n    height: 36px;\r\n    float: right;\r\n    margin-left: 30px;\r\n}\r\n#nav07 .bgc {\r\n  background-color: #fff;\r\n}\r\n.bgc .tasks {\r\n    min-height: 925px;\r\n    padding: 30px;\r\n}\r\n/*-----Nav07-本站源码-内容区域-右侧------*/\r\n#nav07{\r\n  \r\n  padding: 30px 30px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: #efefef;\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tscrollbar-width: none;\r\n\t-ms-overflow-style: none;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tz-index: 2;\r\n}\r\n/* 设置滚动条的样式 */\r\n#nav07::-webkit-scrollbar {\r\n   width:8px;\r\n}\r\n/* 滚动槽 */\r\n#nav07::-webkit-scrollbar-track {\r\n   -webkit-box-shadow:rgba(254,254,254,1);\r\n   border-radius:10px;\r\n}\r\n/* 滚动条滑块 */\r\n#nav07::-webkit-scrollbar-thumb {\r\n   border-radius:3px;\r\n   background-color: rgba(40,40,40,0.6);\r\n}\r\n</style>"],"mappings":"AAsEA,SAASA,OAAM,QAAS,UAAS;AACjC,SAAQC,iBAAiB,EAACC,iBAAiB,QAAO,OAAM;AACxD,eAAe;EACXC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,YAAY,EAAC;IACjB;EACJ,CAAC;EACDC,KAAK,EAAC,CAAC,WAAW,CAAC;EACnBC,OAAOA,CAAA,EAAE;IACL;IACA,IAAI,CAACC,QAAQ,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,QAAQA,CAAA,EAAE;MACZ,IAAI;QACJ,MAAME,GAAE,GAAI,MAAMR,iBAAiB,CAAC,IAAI,CAACS,MAAM,CAACC,MAAM,CAACC,QAAQ;QAC/D,IAAI,CAACR,YAAW,GAAIK,GAAG,CAACN,IAAI,CAACA,IAAG;QAChCU,OAAO,CAACC,GAAG,CAACL,GAAG,CAACN,IAAI,CAACA,IAAI,EAAC,IAAI,CAACC,YAAY,CAAC;MAChD,EAAE,OAAOW,KAAK,EAAE;QACZF,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAACC,KAAK,CAAC;MAC1C;IACA,CAAC;IAEDC,YAAYA,CAAA,EAAE;MACVH,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACvB,CAAC;IAEDG,QAAQA,CAACC,OAAO,EAACC,IAAI,EAAC;MAClB;MACA,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAG,GAAIL,OAAO;MACnBE,IAAI,CAACH,QAAO,GAAIE,IAAI,EAAE;MACtB;MACAE,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,IAAI,CAAC;MAC/B;MACAA,IAAI,CAACM,KAAK,CAAC,CAAC;MACZ;MACAL,QAAQ,CAACG,IAAI,CAACG,WAAW,CAACP,IAAI,CAAC;IACnC,CAAC;IAEDQ,GAAGA,CAACC,UAAU,EAAC;MACX,IAAI;QACA,MAAMpB,GAAE,GAAIP,iBAAiB,CAAC;UAC1B2B,UAAU,EAACA,UAAU;UACrBjB,QAAQ,EAAC,IAAI,CAACF,MAAM,CAACC,MAAM,CAACC;QAChC,CAAC;QACDC,OAAO,CAACC,GAAG,CAACL,GAAG,CAACN,IAAI,CAAC;QACrBH,OAAO,CAAC;UACJ8B,OAAO,EAAC,QAAQ;UAChBC,IAAI,EAAC;QACT,CAAC;QACD,IAAI,CAACxB,QAAQ,CAAC;MAClB,EAAE,OAAOQ,KAAK,EAAE;QACZF,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAACC,KAAK,CAAC;MAC1C;IAEJ,CAAC;IAEDiB,WAAWA,CAAA,EAAE;MACTnB,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACvB;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}