{"ast":null,"code":"import { reqGetRecord } from '@/api';\nimport * as echarts from 'echarts';\nexport default {\n  props: ['courseId'],\n  data() {\n    return {\n      discuss: {},\n      records: [],\n      student: {},\n      task: {}\n    };\n  },\n  async mounted() {\n    console.log(this.courseId);\n    await this.loadRecord();\n    this.task.all = 11;\n    this.task.finish = 8;\n    // 初始化echarts实例\n    var myChart = echarts.init(document.getElementById('main'));\n    const noFinish = Number(this.task.all) - Number(this.task.finish);\n    // 配置图表选项\n    var option = {\n      series: [{\n        type: 'pie',\n        label: {\n          show: true // 确保标签显示\n          // 可以根据需要设置标签的其他样式属性\n        },\n        data: [{\n          value: this.task.finish,\n          name: '已完成'\n        }, {\n          value: noFinish,\n          name: '未完成'\n        }]\n      }]\n    };\n\n    // 使用配置项绘制图表\n    myChart.setOption(option);\n    this.loadStudentNum();\n  },\n  methods: {\n    loadStudentNum() {\n      var myChart = echarts.init(document.getElementById('mainNum'));\n\n      // 指定图表的配置项和数据\n      var option = {\n        title: {\n          text: '连续七天学习课程次数折线图'\n        },\n        tooltip: {},\n        legend: {\n          data: ['次数']\n        },\n        xAxis: {\n          data: ['7-10', '7-11', '7-12', '7-13', '7-14', '7-15']\n        },\n        yAxis: {},\n        series: [{\n          name: '次数',\n          type: 'bar',\n          data: [5, 20, 26, 10, 10, 20]\n        }]\n      };\n\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    },\n    async loadRecord() {\n      try {\n        const res = await reqGetRecord({\n          courseid: this.courseId\n        });\n        console.log(res.data.data);\n        const item = res.data.data;\n        this.discuss = item.discuss;\n        this.records = item.records;\n        this.student = item.student;\n        this.task = item.task;\n        if (!this.student.studentImage) {\n          this.student.studentImage = 'https://img2.baidu.com/it/u=2295416155,2339116441&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500';\n        }\n      } catch (error) {\n        console.log('reqGetRecord', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["reqGetRecord","echarts","props","data","discuss","records","student","task","mounted","console","log","courseId","loadRecord","all","finish","myChart","init","document","getElementById","noFinish","Number","option","series","type","label","show","value","name","setOption","loadStudentNum","methods","title","text","tooltip","legend","xAxis","yAxis","res","courseid","item","studentImage","error"],"sources":["D:\\代码\\vscodeProjects\\AiEducation\\vue_aieducation\\src\\components\\StudyRecord\\index.vue"],"sourcesContent":["<template>\r\n    <div class=\"box clearfix\">\r\n       <div class=\"statisticIndexCon statisticIndexConStu\" style=\"padding-bottom: 55px;\">\r\n           <div class=\"innerCon\">\r\n\r\n               <div class=\"model model_\">\r\n                   <img class=\"fl\" :src=\"this.student.studentImage\">\r\n                   <div class=\"userInfo fl\" style=\"height: 100%;display: table;width: calc(100% - 200px);\">\r\n                       <div class=\"downDiv\">\r\n                           <h2>{{this.student.name}}</h2>\r\n                           <h2>{{this.student.age}}岁</h2>\r\n                           <h2>{{this.student.studentPhone}}</h2>\r\n                           <h2>{{this.student.schoolName}}</h2>\r\n                           <div class=\"clear\"></div>\r\n                           <div class=\"downDiv\">\r\n                           </div>\r\n                       </div>\r\n                   </div>\r\n                   <div class=\"clearfix\"></div>\r\n               </div>\r\n\r\n               <div class=\"model width1\">\r\n                   <div class=\"title\">\r\n                       <h2 class=\"fl\">作业完成度</h2><div class=\"list fl\">\r\n                        <ul class=\"homeworkFinish\">\r\n                            <li>\r\n                                <h2><span class=\"strong\">{{this.task.finish}}</span>/<span id=\"jobPublish\">{{this.task.all}}</span>\r\n                                    <span>个</span></h2>\r\n                                <p>完成进度</p>\r\n                            </li>\r\n                            <li>\r\n                                <h2><span id=\"jobPublish\">{{this.task.all=='0'?0: (this.task.finish / this.task.all * 100).toFixed(2)}}</span>\r\n                                    <span>%</span></h2>\r\n                                <p>平均率</p>\r\n                            </li>\r\n                            <li>\r\n                                <h2>\r\n                                     <div id=\"main\"></div>\r\n                                </h2>\r\n                                <!-- <p>完成率</p> -->\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                       <div class=\"clearfix\"></div>\r\n                   </div>\r\n                   <div class=\"clearfix\"></div>\r\n               </div>\r\n\r\n               <div class=\"model width1\" style=\"float:right;\">\r\n                   <div class=\"title\">\r\n                       <h2 class=\"fl\">讨论</h2>\r\n                       \r\n                       <div class=\"clearfix\"></div>\r\n                   </div>\r\n                   <div class=\"list fl discussList\">\r\n                       <ul class=\"marginLong\">\r\n                           <li>\r\n                               <h2><span class=\"strong\">{{this.discuss.all}}</span><span>帖</span>\r\n                               </h2>\r\n                               <p>总数</p>\r\n                           </li>\r\n                           <li>\r\n                               <h2><span class=\"strong\">{{this.discuss.me}}</span><span>帖</span>\r\n                               </h2>\r\n                               <p class=\"fl\">发帖</p>\r\n                               <div class=\"tips fl\">\r\n                                   <span class=\"tipsIc\"></span>\r\n                               </div>\r\n                           </li>\r\n                           <li>\r\n                               <h2><span class=\"strong\">0</span><span>个</span></h2>\r\n                               <p>获赞数</p>\r\n                           </li>\r\n                       </ul>\r\n                   </div>\r\n                   <div class=\"clearfix\"></div>\r\n               </div>\r\n\r\n               <div class=\"model classStudyNum\">\r\n                   <div class=\"title\">\r\n                           <h2 class=\"fl\" tabindex=\"0\" role=\"option\">课程学习次数</h2>\r\n                       <div class=\"clearfix\"></div>\r\n                   </div>\r\n                            <div id=\"mainNum\"></div>\r\n                   <div class=\"clearfix\"></div>\r\n               </div>\r\n               <div class=\"clearfix\"></div>\r\n           </div>\r\n       </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport {reqGetRecord} from '@/api'\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n    props:['courseId'],\r\n    data () {\r\n        return {\r\n            discuss:{},\r\n            records:[],\r\n            student:{},\r\n            task:{}\r\n        }\r\n    },\r\n     async mounted() {\r\n        console.log(this.courseId);\r\n            await this.loadRecord()\r\n            this.task.all = 11\r\n            this.task.finish =8\r\n            // 初始化echarts实例\r\n            var myChart = echarts.init(document.getElementById('main'));\r\n            const noFinish = Number(this.task.all)-Number(this.task.finish)\r\n            // 配置图表选项\r\n            var option = {\r\n            series: [\r\n                {\r\n                type: 'pie',\r\n                label: {\r\n                show: true, // 确保标签显示\r\n                // 可以根据需要设置标签的其他样式属性\r\n                },\r\n                data: [\r\n                    {\r\n                    value: this.task.finish,\r\n                    name: '已完成'\r\n                    },\r\n                    {\r\n                    value: noFinish,\r\n                    name: '未完成'\r\n                    }\r\n                ]\r\n                }\r\n            ]\r\n            };\r\n            \r\n            // 使用配置项绘制图表\r\n            myChart.setOption(option);\r\n            this.loadStudentNum()\r\n     },\r\n     methods: {\r\n        loadStudentNum(){\r\n            var myChart = echarts.init(document.getElementById('mainNum'));\r\n\r\n      // 指定图表的配置项和数据\r\n      var option = {\r\n        title: {\r\n          text: '连续七天学习课程次数折线图'\r\n        },\r\n        tooltip: {},\r\n        legend: {\r\n          data: ['次数']\r\n        },\r\n        xAxis: {\r\n          data: ['7-10', '7-11', '7-12', '7-13', '7-14', '7-15']\r\n        },\r\n        yAxis: {},\r\n        series: [\r\n          {\r\n            name: '次数',\r\n            type: 'bar',\r\n            data: [5, 20, 26, 10, 10, 20]\r\n          }\r\n        ]\r\n      };\r\n\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n        },\r\n        async loadRecord(){\r\n            try {\r\n                const res = await reqGetRecord({courseid:this.courseId})\r\n                console.log(res.data.data);\r\n                const item = res.data.data\r\n                this.discuss = item.discuss\r\n                this.records = item.records\r\n                this.student = item.student\r\n                this.task = item.task\r\n                if(!this.student.studentImage) {\r\n                    this.student.studentImage = 'https://img2.baidu.com/it/u=2295416155,2339116441&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500'\r\n                }\r\n            } catch (error) {\r\n                console.log('reqGetRecord',error);\r\n            }\r\n\r\n        }\r\n     }\r\n}\r\n</script>\r\n<style scoped>\r\n.discussList {\r\n    margin-left: 70px;\r\n}\r\n#main {\r\n     width: 250px;\r\n     height:110px;\r\n     margin-top:-30px;\r\n     float: right;\r\n     margin-right: -20px;\r\n}\r\n#mainNum {\r\n    margin: 0 auto;\r\n     width: 90%;\r\n     height:450px;\r\n     margin-top:20px;\r\n     /* background-color: red; */\r\n     /* margin-right: -20px; */\r\n}\r\n.homeworkFinish {\r\n    margin: 20px 0 0 -20px;\r\n}\r\nli {\r\n    margin-right: 90px;\r\n}\r\n.box {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 45px 60px;\r\n    position: relative;\r\n}\r\n.clearfix:after {\r\n    content: \" \";\r\n    display: block;\r\n    height: 0px;\r\n    clear: both;\r\n}\r\n.clearfix {\r\n    zoom: 1;\r\n}\r\n.statisticIndexCon {\r\n    border-radius: 6px;\r\n    background: #f2f4f7;\r\n    position: relative;\r\n}\r\n.statisticIndexCon .innerCon {\r\n    width: 100%;\r\n}\r\n.statisticIndexCon .innerCon .model.width1 {\r\n    width: 49%;\r\n}\r\n.statisticIndexCon .innerCon .model {\r\n    float: left;\r\n    margin-bottom: 20px;\r\n    height: 180px;\r\n    font-size: 14px;\r\n    color: #646873;\r\n    background: #FFFFFF;\r\n    border-radius: 8px;\r\n    padding: 20px 20px 24px;\r\n}\r\n.downDiv {\r\n    margin-top: 15px;\r\n}\r\n.statisticIndexCon .innerCon .model_ {\r\n    width: 100%;\r\n    height: 64px;\r\n    padding: 30px 40px;\r\n    float: left;\r\n    margin-bottom: 20px;\r\n    margin-right: 20px;\r\n    height: 116px;\r\n    font-size: 14px;\r\n    color: #646873;\r\n    background: #FFFFFF;\r\n    border-radius: 8px;\r\n}\r\n.statisticIndexCon .innerCon .model_ img {\r\n    width: 65px;\r\n    height: 65px;\r\n    border-radius: 35px;\r\n    margin-top: -5px;\r\n}\r\n.model_ .userInfo {\r\n    margin-top: 8px;\r\n    margin-left: 20px;\r\n}\r\n.statisticIndexCon .innerCon .model .title h2 {\r\n   font-weight: bold;\r\n    font-size: 15px;\r\n    color: #313133;\r\n    line-height: 20px;\r\n}\r\n.model .list {\r\n    margin-top: 33px;\r\n}\r\nul, ol, li {\r\n    list-style-type: none;\r\n}\r\n.statisticIndexCon .innerCon .model .list ul li {\r\n    float: left;\r\n    /* margin-right: 20px; */\r\n}\r\n .list ul li h2 {\r\n    font-size: 18px;\r\n    font-family: D-DIN;\r\n    font-weight: 400;\r\n    color: #313133;\r\n    line-height: 31px;\r\n}\r\n   .statisticIndexCon .innerCon .model_ .userInfo .downDiv h2 {\r\n       font-size: 20px;\r\n    font-weight: bold;\r\n    color: #313133;\r\n    line-height: 18px;\r\n    float: left;\r\n    margin: 0 20px;\r\n   }\r\nh2 span.strong {\r\n    font-size: 28px;\r\n    font-family: D-DIN;\r\n    color: #313133;\r\n    font-weight: 500;\r\n    margin-left: 0;\r\n}\r\nh2 span {\r\n    font-size: 16px;\r\n    color: #181E33;\r\n    margin-left: 4px;\r\n}\r\n.list ul li p {\r\n    margin-top: 12px;\r\n    font-size: 14px;\r\n    color: #646873;\r\n    line-height: 20px;\r\n}\r\n\r\n.marginLong li {\r\n    margin-right: 90px;\r\n}\r\n.fr {\r\n    float: right;\r\n}\r\n.fl {\r\n    float: left;\r\n}\r\n.classStudyNum {\r\n    width: 100%;\r\n    min-height: 500px;\r\n}\r\n</style>"],"mappings":"AA6FA,SAAQA,YAAY,QAAO,OAAM;AACjC,OAAO,KAAKC,OAAM,MAAO,SAAS;AAElC,eAAe;EACXC,KAAK,EAAC,CAAC,UAAU,CAAC;EAClBC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,OAAO,EAAC,CAAC,CAAC;MACVC,OAAO,EAAC,EAAE;MACVC,OAAO,EAAC,CAAC,CAAC;MACVC,IAAI,EAAC,CAAC;IACV;EACJ,CAAC;EACA,MAAMC,OAAOA,CAAA,EAAG;IACbC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,QAAQ,CAAC;IACtB,MAAM,IAAI,CAACC,UAAU,CAAC;IACtB,IAAI,CAACL,IAAI,CAACM,GAAE,GAAI,EAAC;IACjB,IAAI,CAACN,IAAI,CAACO,MAAK,GAAG;IAClB;IACA,IAAIC,OAAM,GAAId,OAAO,CAACe,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAMC,QAAO,GAAIC,MAAM,CAAC,IAAI,CAACb,IAAI,CAACM,GAAG,CAAC,GAACO,MAAM,CAAC,IAAI,CAACb,IAAI,CAACO,MAAM;IAC9D;IACA,IAAIO,MAAK,GAAI;MACbC,MAAM,EAAE,CACJ;QACAC,IAAI,EAAE,KAAK;QACXC,KAAK,EAAE;UACPC,IAAI,EAAE,IAAI,CAAE;UACZ;QACA,CAAC;QACDtB,IAAI,EAAE,CACF;UACAuB,KAAK,EAAE,IAAI,CAACnB,IAAI,CAACO,MAAM;UACvBa,IAAI,EAAE;QACN,CAAC,EACD;UACAD,KAAK,EAAEP,QAAQ;UACfQ,IAAI,EAAE;QACN;MAEJ;IAEJ,CAAC;;IAED;IACAZ,OAAO,CAACa,SAAS,CAACP,MAAM,CAAC;IACzB,IAAI,CAACQ,cAAc,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACND,cAAcA,CAAA,EAAE;MACZ,IAAId,OAAM,GAAId,OAAO,CAACe,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAAC;;MAEpE;MACA,IAAIG,MAAK,GAAI;QACXU,KAAK,EAAE;UACLC,IAAI,EAAE;QACR,CAAC;QACDC,OAAO,EAAE,CAAC,CAAC;QACXC,MAAM,EAAE;UACN/B,IAAI,EAAE,CAAC,IAAI;QACb,CAAC;QACDgC,KAAK,EAAE;UACLhC,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;QACvD,CAAC;QACDiC,KAAK,EAAE,CAAC,CAAC;QACTd,MAAM,EAAE,CACN;UACEK,IAAI,EAAE,IAAI;UACVJ,IAAI,EAAE,KAAK;UACXpB,IAAI,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;QAC9B;MAEJ,CAAC;;MAED;MACAY,OAAO,CAACa,SAAS,CAACP,MAAM,CAAC;IACvB,CAAC;IACD,MAAMT,UAAUA,CAAA,EAAE;MACd,IAAI;QACA,MAAMyB,GAAE,GAAI,MAAMrC,YAAY,CAAC;UAACsC,QAAQ,EAAC,IAAI,CAAC3B;QAAQ,CAAC;QACvDF,OAAO,CAACC,GAAG,CAAC2B,GAAG,CAAClC,IAAI,CAACA,IAAI,CAAC;QAC1B,MAAMoC,IAAG,GAAIF,GAAG,CAAClC,IAAI,CAACA,IAAG;QACzB,IAAI,CAACC,OAAM,GAAImC,IAAI,CAACnC,OAAM;QAC1B,IAAI,CAACC,OAAM,GAAIkC,IAAI,CAAClC,OAAM;QAC1B,IAAI,CAACC,OAAM,GAAIiC,IAAI,CAACjC,OAAM;QAC1B,IAAI,CAACC,IAAG,GAAIgC,IAAI,CAAChC,IAAG;QACpB,IAAG,CAAC,IAAI,CAACD,OAAO,CAACkC,YAAY,EAAE;UAC3B,IAAI,CAAClC,OAAO,CAACkC,YAAW,GAAI,8FAA6F;QAC7H;MACJ,EAAE,OAAOC,KAAK,EAAE;QACZhC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAC+B,KAAK,CAAC;MACrC;IAEJ;EACH;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}